/*! For license information please see main.6d3b1420.js.LICENSE.txt */
!function(){var t={4360:function(t,e,n){t.exports=n(9727)},7507:function(t,e,n){t.exports=n(9727)},1035:function(t,e,n){t.exports=n(9727)},2233:function(t,e,n){t.exports=n(9727)},7228:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},2858:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},3646:function(t,e,n){var r=n(7228);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},1506:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},4575:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9100:function(t,e,n){var r=n(9489),i=n(7067);function o(e,n,a){return i()?(t.exports=o=Reflect.construct,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},3913:function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},9842:function(t,e,n){var r=n(9754),i=n(7067),o=n(8585);t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},9713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},9754:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},2205:function(t,e,n){var r=n(9489);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},430:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},7067:function(t){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},6860:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},3884:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},521:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},8206:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},1109:function(t,e,n){var r=n(9713);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},8585:function(t,e,n){var r=n(8).default,i=n(1506);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},9489:function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3038:function(t,e,n){var r=n(2858),i=n(3884),o=n(379),a=n(521);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},319:function(t,e,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},8:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},379:function(t,e,n){var r=n(7228);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},5957:function(t,e,n){var r=n(9754),i=n(9489),o=n(430),a=n(9100);function s(e){var n="function"===typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},2857:function(t,e,n){var r=n(8).default,i=n(9489),o=n(2205);function a(){t.exports=a=function(t,e){return new s(t,void 0,e)},t.exports.__esModule=!0,t.exports.default=t.exports;var e=RegExp.prototype,n=new WeakMap;function s(t,e,r){var o=new RegExp(t,e);return n.set(o,r||n.get(t)),i(o,s.prototype)}function u(t,e){var r=n.get(e);return Object.keys(r).reduce((function(e,n){return e[n]=t[r[n]],e}),Object.create(null))}return o(s,RegExp),s.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=u(n,this)),n},s.prototype[Symbol.replace]=function(t,i){if("string"==typeof i){var o=n.get(this);return e[Symbol.replace].call(this,t,i.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+o[e]})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,t,(function(){var t=arguments;return"object"!=r(t[t.length-1])&&(t=[].slice.call(t)).push(u(t,a)),i.apply(this,t)}))}return e[Symbol.replace].call(this,t,i)},a.apply(this,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},7757:function(t,e,n){t.exports=n(9727)},3818:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(7287),i=n(6901);function o(t,e,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"===typeof n?a([s(n,t)],e):"string"===typeof n?Reflect.decorate([t],e,n):a([t],e)}},3179:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(7287),i=n(6901),o=n(774),a=n(3818),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"===typeof s?a.tagParameter(e,n,s,u):a.tagProperty(e,n,u)}}},8740:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(7287),i=n(6901);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},8401:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(6901),i=n(774),o=n(3818);e.multiInject=function(t){return function(e,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},9229:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(6901),i=n(774),o=n(3818);e.named=function(t){return function(e,n,a){var s=new i.Metadata(r.NAMED_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},6418:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(6901),i=n(774),o=n(3818);e.optional=function(){return function(t,e,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},4334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(7287),i=n(6901),o=n(774);e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},6424:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(774),i=n(3818);e.tagged=function(t,e){return function(n,o,a){var s=new r.Metadata(t,e);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},8172:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(6901),i=n(774),o=n(3818);e.targetName=function(t){return function(e,n,a){var s=new i.Metadata(r.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},2758:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(6901),i=n(774),o=n(3818);e.unmanaged=function(){return function(t,e,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},5352:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(6298),i=n(531),o=function(){function t(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},9280:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},7287:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},6298:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6901:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},3759:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(5352),s=n(7287),u=n(6298),l=n(6901),c=n(1970),f=n(4976),p=n(6645),h=n(784),d=n(531),g=n(4559),v=n(939),y=n(5012),m=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!==typeof e)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=u.BindingScopeEnum.Transient;else if(e.defaultScope!==u.BindingScopeEnum.Singleton&&e.defaultScope!==u.BindingScopeEnum.Transient&&e.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!==typeof e.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!==typeof e.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new t,s=o([e,n],r).map((function(t){return f.getBindingDictionary(t)})),u=f.getBindingDictionary(a);function l(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return s.forEach((function(t){l(t,u)})),a},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new h.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=f.createMockRequest(this,t,e,n);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var i=t.rebind.bind(t)(r);return e(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,r,i,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=f.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),p.resolve(n)}},t}();e.Container=m},2931:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(531),i=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=o},939:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},5012:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(7287),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var i=n.filter((function(e){return!t(e)}));i.length>0?e._map.set(r,i):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=i},4608:function(t,e,n){"use strict";e.GW=e.zY=e.f3=e.b2=e.W2=void 0,n(6901);var r=n(3759);Object.defineProperty(e,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(6298);var o=n(2931);var a=n(8740);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(6424);var u=n(9229);var l=n(3179);Object.defineProperty(e,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(6418);var f=n(2758);var p=n(8401);var h=n(8172);var d=n(4334);Object.defineProperty(e,"zY",{enumerable:!0,get:function(){return d.postConstruct}});var g=n(1970);var v=n(531);var y=n(3818);Object.defineProperty(e,"GW",{enumerable:!0,get:function(){return y.decorate}});var m=n(9061);var _=n(4559);var b=n(8186)},8595:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(531),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},774:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(6901),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},1970:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(6901),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},6926:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var n=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=n},4976:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(9280),i=n(7287),o=n(6298),a=n(6901),s=n(5022),u=n(4559),l=n(8595),c=n(774),f=n(6926),p=n(1499),h=n(8397),d=n(6897);function g(t){return t._bindingDictionary}function v(t,e,n,o,a){var s=m(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),l=e?s:s.filter((function(t){var e=new h.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)})),function(t,e,n,o){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=u.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=u.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function y(t,e,n,r,a,s){var u,l;if(null===a){u=v(t,e,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(t,e,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(e){var n=null;if(s.isArray())n=l.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=l}if(e.type===o.BindingTypeEnum.Instance&&null!==e.implementationType){var a=p.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(t,e.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(e.implementationType));throw new Error(c)}}a.forEach((function(e){y(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function m(t,e){var n=[],r=g(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=m(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,r,i,o,f,p){void 0===p&&(p=!1);var h=new l.Context(e),g=function(t,e,n,r,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new d.Target(e,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return y(t,p,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},e.createMockRequest=function(t,e,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new c.Metadata(n,r)),a=new l.Context(t);return new h.Request(e,a,null,[],i)}},2822:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},1499:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var i=n(3179),o=n(7287),a=n(6298),s=n(6901),u=n(4559);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(6897);function c(t,e,n,i){var a=t.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,d=c.length>n.length,g=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,t,e,n,r);null!==s&&o.push(s)}return o}(i,e,s,l,h||d?c.length:n.length),v=p(t,n);return r(r([],g),v)}function f(t,e,n,r,s){var u=s[t.toString()]||[],c=h(u),f=!0!==c.unmanaged,p=r[t],d=c.inject||c.multiInject;if((p=d||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){if(!e&&(p===Object||p===Function||void 0===p)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return v.metadata=u,v}return null}function p(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),d=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,d,g);v.metadata=c,i.push(v)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var m=p(t,y);i=r(r([],i),m)}return i}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(e,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:t(e,r)}return 0}},8397:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(531),i=function(){function t(t,e,n,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();e.Request=i},6897:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(6901),i=n(531),o=n(774),a=n(2822),s=function(){function t(t,e,n,s){this.id=i.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,i=e.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},4299:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var i=n(7287),o=n(6298),a=n(6901);e.resolveInstance=function(t,e,n){var s,u,l=null;if(e.length>0){var c=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var o=i[n];t[r]=o})),t}(l=new((s=t).bind.apply(s,r([void 0],u))),e,n)}else l=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,r.message))}}}(t,l),l}},6645:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(7287),i=n(6298),o=n(5022),a=n(4559),s=n(4299),u=function(t,e,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):i}},l=function t(e){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return t(e)(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],d=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(d&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,l,t(e))}return"function"===typeof h.onActivation&&(p=h.onActivation(n.parentContext,p)),d&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};e.resolve=function(t){return l(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},7052:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(6298),i=n(7142),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},2310:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(7052),i=n(5281),o=n(4421),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},5281:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(4421),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},784:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(7287),i=n(6298),o=n(2310),a=n(7142),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!==typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=s},7142:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(5281),i=n(4421),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},4421:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(5281),i=n(9061),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return i.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},9061:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(6901),i=n(774);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var o=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new i.Metadata(t,e),n}};e.taggedConstraint=o;var a=o(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"===typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},8186:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},5022:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(7287);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},531:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},4559:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(7287);function i(t){return"function"===typeof t?t.name:"symbol"===typeof t?t.toString():t}function o(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||o(t.parentRequest,e))}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",i=n(t,e);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(o(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=a},8893:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(33),i=n(6970);function o(t,e,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"===typeof n?a([s(n,t)],e):"string"===typeof n?Reflect.decorate([t],e,n):a([t],e)}},6978:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(33),i=n(6970),o=n(181),a=n(8893),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"===typeof s?a.tagParameter(e,n,s,u):a.tagProperty(e,n,u)}}},7791:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(33),i=n(6970);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},7949:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(6970),i=n(181),o=n(8893);e.multiInject=function(t){return function(e,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},8557:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(6970),i=n(181),o=n(8893);e.named=function(t){return function(e,n,a){var s=new i.Metadata(r.NAMED_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},7852:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(6970),i=n(181),o=n(8893);e.optional=function(){return function(t,e,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},5856:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(33),i=n(6970),o=n(181);e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},2311:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(181),i=n(8893);e.tagged=function(t,e){return function(n,o,a){var s=new r.Metadata(t,e);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},5596:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(6970),i=n(181),o=n(8893);e.targetName=function(t){return function(e,n,a){var s=new i.Metadata(r.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},4711:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(6970),i=n(181),o=n(8893);e.unmanaged=function(){return function(t,e,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},8335:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(4287),i=n(9230),o=function(){function t(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},3540:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},33:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},4287:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6970:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},1338:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(8335),s=n(33),u=n(4287),l=n(6970),c=n(2820),f=n(7687),p=n(8937),h=n(6475),d=n(9230),g=n(9410),v=n(6036),y=n(4012),m=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!==typeof e)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=u.BindingScopeEnum.Transient;else if(e.defaultScope!==u.BindingScopeEnum.Singleton&&e.defaultScope!==u.BindingScopeEnum.Transient&&e.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!==typeof e.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!==typeof e.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new t,s=o([e,n],r).map((function(t){return f.getBindingDictionary(t)})),u=f.getBindingDictionary(a);function l(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return s.forEach((function(t){l(t,u)})),a},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new h.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=f.createMockRequest(this,t,e,n);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var i=t.rebind.bind(t)(r);return e(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,r,i,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=f.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),p.resolve(n)}},t}();e.Container=m},6756:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(9230),i=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=o},6036:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},4012:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(33),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var i=n.filter((function(e){return!t(e)}));i.length>0?e._map.set(r,i):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=i},7341:function(t,e,n){"use strict";e.f3=e.b2=void 0,n(6970);var r=n(1338);var i=n(4287);var o=n(6756);var a=n(7791);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(2311);var u=n(8557);var l=n(6978);Object.defineProperty(e,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(7852);var f=n(4711);var p=n(7949);var h=n(5596);var d=n(5856);var g=n(2820);var v=n(9230);var y=n(8893);var m=n(4115);var _=n(9410);var b=n(3322)},5469:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(9230),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},181:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(6970),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},2820:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(6970),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},8388:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var n=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=n},7687:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(3540),i=n(33),o=n(4287),a=n(6970),s=n(1005),u=n(9410),l=n(5469),c=n(181),f=n(8388),p=n(7260),h=n(6857),d=n(4220);function g(t){return t._bindingDictionary}function v(t,e,n,o,a){var s=m(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),l=e?s:s.filter((function(t){var e=new h.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)})),function(t,e,n,o){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=u.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=u.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function y(t,e,n,r,a,s){var u,l;if(null===a){u=v(t,e,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(t,e,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(e){var n=null;if(s.isArray())n=l.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=l}if(e.type===o.BindingTypeEnum.Instance&&null!==e.implementationType){var a=p.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(t,e.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(e.implementationType));throw new Error(c)}}a.forEach((function(e){y(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function m(t,e){var n=[],r=g(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=m(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,r,i,o,f,p){void 0===p&&(p=!1);var h=new l.Context(e),g=function(t,e,n,r,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new d.Target(e,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return y(t,p,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},e.createMockRequest=function(t,e,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new c.Metadata(n,r)),a=new l.Context(t);return new h.Request(e,a,null,[],i)}},9688:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},7260:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var i=n(6978),o=n(33),a=n(4287),s=n(6970),u=n(9410);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(4220);function c(t,e,n,i){var a=t.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,d=c.length>n.length,g=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,t,e,n,r);null!==s&&o.push(s)}return o}(i,e,s,l,h||d?c.length:n.length),v=p(t,n);return r(r([],g),v)}function f(t,e,n,r,s){var u=s[t.toString()]||[],c=h(u),f=!0!==c.unmanaged,p=r[t],d=c.inject||c.multiInject;if((p=d||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){if(!e&&(p===Object||p===Function||void 0===p)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return v.metadata=u,v}return null}function p(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),d=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,d,g);v.metadata=c,i.push(v)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var m=p(t,y);i=r(r([],i),m)}return i}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(e,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:t(e,r)}return 0}},6857:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(9230),i=function(){function t(t,e,n,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();e.Request=i},4220:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(6970),i=n(9230),o=n(181),a=n(9688),s=function(){function t(t,e,n,s){this.id=i.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,i=e.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},1303:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var i=n(33),o=n(4287),a=n(6970);e.resolveInstance=function(t,e,n){var s,u,l=null;if(e.length>0){var c=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var o=i[n];t[r]=o})),t}(l=new((s=t).bind.apply(s,r([void 0],u))),e,n)}else l=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,r.message))}}}(t,l),l}},8937:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(33),i=n(4287),o=n(1005),a=n(9410),s=n(1303),u=function(t,e,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):i}},l=function t(e){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return t(e)(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],d=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(d&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,l,t(e))}return"function"===typeof h.onActivation&&(p=h.onActivation(n.parentContext,p)),d&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};e.resolve=function(t){return l(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},324:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(4287),i=n(8869),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},1014:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(324),i=n(9968),o=n(5374),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},9968:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(5374),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},6475:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(33),i=n(4287),o=n(1014),a=n(8869),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!==typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=s},8869:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(9968),i=n(5374),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},5374:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(9968),i=n(4115),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return i.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},4115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(6970),i=n(181);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var o=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new i.Metadata(t,e),n}};e.taggedConstraint=o;var a=o(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"===typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},3322:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},1005:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(33);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},9230:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},9410:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(33);function i(t){return"function"===typeof t?t.name:"symbol"===typeof t?t.toString():t}function o(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||o(t.parentRequest,e))}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",i=n(t,e);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(o(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=a},3955:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(8844),i=n(5922);function o(t,e,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"===typeof n?a([s(n,t)],e):"string"===typeof n?Reflect.decorate([t],e,n):a([t],e)}},714:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(8844),i=n(5922),o=n(7438),a=n(3955),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"===typeof s?a.tagParameter(e,n,s,u):a.tagProperty(e,n,u)}}},9843:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(8844),i=n(5922);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},2121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(5922),i=n(7438),o=n(3955);e.multiInject=function(t){return function(e,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},8618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(5922),i=n(7438),o=n(3955);e.named=function(t){return function(e,n,a){var s=new i.Metadata(r.NAMED_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},1479:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(5922),i=n(7438),o=n(3955);e.optional=function(){return function(t,e,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},1361:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(8844),i=n(5922),o=n(7438);e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},7485:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(7438),i=n(3955);e.tagged=function(t,e){return function(n,o,a){var s=new r.Metadata(t,e);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},3059:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(5922),i=n(7438),o=n(3955);e.targetName=function(t){return function(e,n,a){var s=new i.Metadata(r.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},8985:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(5922),i=n(7438),o=n(3955);e.unmanaged=function(){return function(t,e,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},9634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(1819),i=n(3099),o=function(){function t(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},7411:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},8844:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},1819:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},5922:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},6390:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(9634),s=n(8844),u=n(1819),l=n(5922),c=n(8763),f=n(8990),p=n(4667),h=n(5230),d=n(3099),g=n(7178),v=n(8278),y=n(736),m=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!==typeof e)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=u.BindingScopeEnum.Transient;else if(e.defaultScope!==u.BindingScopeEnum.Singleton&&e.defaultScope!==u.BindingScopeEnum.Transient&&e.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!==typeof e.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!==typeof e.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new t,s=o([e,n],r).map((function(t){return f.getBindingDictionary(t)})),u=f.getBindingDictionary(a);function l(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return s.forEach((function(t){l(t,u)})),a},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new h.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=f.createMockRequest(this,t,e,n);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var i=t.rebind.bind(t)(r);return e(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,r,i,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=f.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),p.resolve(n)}},t}();e.Container=m},1027:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(3099),i=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=o},8278:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},736:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(8844),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var i=n.filter((function(e){return!t(e)}));i.length>0?e._map.set(r,i):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=i},159:function(t,e,n){"use strict";e.f3=e.b2=void 0,n(5922);var r=n(6390);var i=n(1819);var o=n(1027);var a=n(9843);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(7485);var u=n(8618);var l=n(714);Object.defineProperty(e,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(1479);var f=n(8985);var p=n(2121);var h=n(3059);var d=n(1361);var g=n(8763);var v=n(3099);var y=n(3955);var m=n(5280);var _=n(7178);var b=n(3589)},4889:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(3099),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},7438:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(5922),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},8763:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(5922),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},1542:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var n=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=n},8990:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(7411),i=n(8844),o=n(1819),a=n(5922),s=n(5381),u=n(7178),l=n(4889),c=n(7438),f=n(1542),p=n(4928),h=n(1150),d=n(2442);function g(t){return t._bindingDictionary}function v(t,e,n,o,a){var s=m(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),l=e?s:s.filter((function(t){var e=new h.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)})),function(t,e,n,o){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=u.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=u.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function y(t,e,n,r,a,s){var u,l;if(null===a){u=v(t,e,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(t,e,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(e){var n=null;if(s.isArray())n=l.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=l}if(e.type===o.BindingTypeEnum.Instance&&null!==e.implementationType){var a=p.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(t,e.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(e.implementationType));throw new Error(c)}}a.forEach((function(e){y(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function m(t,e){var n=[],r=g(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=m(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,r,i,o,f,p){void 0===p&&(p=!1);var h=new l.Context(e),g=function(t,e,n,r,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new d.Target(e,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return y(t,p,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},e.createMockRequest=function(t,e,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new c.Metadata(n,r)),a=new l.Context(t);return new h.Request(e,a,null,[],i)}},445:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},4928:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var i=n(714),o=n(8844),a=n(1819),s=n(5922),u=n(7178);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(2442);function c(t,e,n,i){var a=t.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,d=c.length>n.length,g=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,t,e,n,r);null!==s&&o.push(s)}return o}(i,e,s,l,h||d?c.length:n.length),v=p(t,n);return r(r([],g),v)}function f(t,e,n,r,s){var u=s[t.toString()]||[],c=h(u),f=!0!==c.unmanaged,p=r[t],d=c.inject||c.multiInject;if((p=d||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){if(!e&&(p===Object||p===Function||void 0===p)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return v.metadata=u,v}return null}function p(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),d=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,d,g);v.metadata=c,i.push(v)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var m=p(t,y);i=r(r([],i),m)}return i}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(e,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:t(e,r)}return 0}},1150:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(3099),i=function(){function t(t,e,n,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();e.Request=i},2442:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(5922),i=n(3099),o=n(7438),a=n(445),s=function(){function t(t,e,n,s){this.id=i.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,i=e.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},8641:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var i=n(8844),o=n(1819),a=n(5922);e.resolveInstance=function(t,e,n){var s,u,l=null;if(e.length>0){var c=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var o=i[n];t[r]=o})),t}(l=new((s=t).bind.apply(s,r([void 0],u))),e,n)}else l=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,r.message))}}}(t,l),l}},4667:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(8844),i=n(1819),o=n(5381),a=n(7178),s=n(8641),u=function(t,e,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):i}},l=function t(e){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return t(e)(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],d=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(d&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,l,t(e))}return"function"===typeof h.onActivation&&(p=h.onActivation(n.parentContext,p)),d&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};e.resolve=function(t){return l(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},302:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(1819),i=n(6558),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},7057:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(302),i=n(9895),o=n(6043),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},9895:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(6043),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},5230:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(8844),i=n(1819),o=n(7057),a=n(6558),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!==typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=s},6558:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(9895),i=n(6043),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},6043:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(9895),i=n(5280),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return i.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},5280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(5922),i=n(7438);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var o=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new i.Metadata(t,e),n}};e.taggedConstraint=o;var a=o(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"===typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},3589:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},5381:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(8844);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},3099:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},7178:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(8844);function i(t){return"function"===typeof t?t.name:"symbol"===typeof t?t.toString():t}function o(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||o(t.parentRequest,e))}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",i=n(t,e);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(o(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=a},4998:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(3431),i=n(6200);function o(t,e,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"===typeof n?a([s(n,t)],e):"string"===typeof n?Reflect.decorate([t],e,n):a([t],e)}},5409:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(3431),i=n(6200),o=n(2),a=n(4998),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"===typeof s?a.tagParameter(e,n,s,u):a.tagProperty(e,n,u)}}},9218:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(3431),i=n(6200);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},7664:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(6200),i=n(2),o=n(4998);e.multiInject=function(t){return function(e,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},4761:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(6200),i=n(2),o=n(4998);e.named=function(t){return function(e,n,a){var s=new i.Metadata(r.NAMED_TAG,t);"number"===typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},7670:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(6200),i=n(2),o=n(4998);e.optional=function(){return function(t,e,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},7152:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(3431),i=n(6200),o=n(2);e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},5034:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(2),i=n(4998);e.tagged=function(t,e){return function(n,o,a){var s=new r.Metadata(t,e);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},8679:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(6200),i=n(2),o=n(4998);e.targetName=function(t){return function(e,n,a){var s=new i.Metadata(r.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},8135:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(6200),i=n(2),o=n(4998);e.unmanaged=function(){return function(t,e,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},3660:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(933),i=n(4752),o=function(){function t(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},2269:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},3431:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},933:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6200:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},2457:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(3660),s=n(3431),u=n(933),l=n(6200),c=n(537),f=n(7944),p=n(8936),h=n(9415),d=n(4752),g=n(5260),v=n(3215),y=n(8130),m=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!==typeof e)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=u.BindingScopeEnum.Transient;else if(e.defaultScope!==u.BindingScopeEnum.Singleton&&e.defaultScope!==u.BindingScopeEnum.Transient&&e.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!==typeof e.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!==typeof e.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new t,s=o([e,n],r).map((function(t){return f.getBindingDictionary(t)})),u=f.getBindingDictionary(a);function l(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return s.forEach((function(t){l(t,u)})),a},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new h.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=f.createMockRequest(this,t,e,n);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var i=t.rebind.bind(t)(r);return e(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,r,i,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=f.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),p.resolve(n)}},t}();e.Container=m},4396:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(4752),i=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=o},3215:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},8130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(3431),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var i=n.filter((function(e){return!t(e)}));i.length>0?e._map.set(r,i):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=i},4364:function(t,e,n){"use strict";e.b2=void 0,n(6200);var r=n(2457);var i=n(933);var o=n(4396);var a=n(9218);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(5034);var u=n(4761);var l=n(5409);var c=n(7670);var f=n(8135);var p=n(7664);var h=n(8679);var d=n(7152);var g=n(537);var v=n(4752);var y=n(4998);var m=n(4593);var _=n(5260);var b=n(5510)},1079:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(4752),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(6200),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},537:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(6200),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},8017:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var n=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=n},7944:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(2269),i=n(3431),o=n(933),a=n(6200),s=n(6092),u=n(5260),l=n(1079),c=n(2),f=n(8017),p=n(2863),h=n(9571),d=n(8533);function g(t){return t._bindingDictionary}function v(t,e,n,o,a){var s=m(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),l=e?s:s.filter((function(t){var e=new h.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)})),function(t,e,n,o){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=u.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=u.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function y(t,e,n,r,a,s){var u,l;if(null===a){u=v(t,e,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(t,e,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(e){var n=null;if(s.isArray())n=l.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=l}if(e.type===o.BindingTypeEnum.Instance&&null!==e.implementationType){var a=p.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(t,e.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(e.implementationType));throw new Error(c)}}a.forEach((function(e){y(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function m(t,e){var n=[],r=g(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=m(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,r,i,o,f,p){void 0===p&&(p=!1);var h=new l.Context(e),g=function(t,e,n,r,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new d.Target(e,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return y(t,p,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},e.createMockRequest=function(t,e,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new c.Metadata(n,r)),a=new l.Context(t);return new h.Request(e,a,null,[],i)}},7004:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},2863:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var i=n(5409),o=n(3431),a=n(933),s=n(6200),u=n(5260);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(8533);function c(t,e,n,i){var a=t.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,d=c.length>n.length,g=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,t,e,n,r);null!==s&&o.push(s)}return o}(i,e,s,l,h||d?c.length:n.length),v=p(t,n);return r(r([],g),v)}function f(t,e,n,r,s){var u=s[t.toString()]||[],c=h(u),f=!0!==c.unmanaged,p=r[t],d=c.inject||c.multiInject;if((p=d||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){if(!e&&(p===Object||p===Function||void 0===p)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return v.metadata=u,v}return null}function p(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),d=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,d,g);v.metadata=c,i.push(v)}var y=Object.getPrototypeOf(e.prototype).constructor;if(y!==Object){var m=p(t,y);i=r(r([],i),m)}return i}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(e,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:t(e,r)}return 0}},9571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(4752),i=function(){function t(t,e,n,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();e.Request=i},8533:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(6200),i=n(4752),o=n(2),a=n(7004),s=function(){function t(t,e,n,s){this.id=i.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,i=e.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},1872:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var i=n(3431),o=n(933),a=n(6200);e.resolveInstance=function(t,e,n){var s,u,l=null;if(e.length>0){var c=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var o=i[n];t[r]=o})),t}(l=new((s=t).bind.apply(s,r([void 0],u))),e,n)}else l=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,r.message))}}}(t,l),l}},8936:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(3431),i=n(933),o=n(6092),a=n(5260),s=n(1872),u=function(t,e,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):i}},l=function t(e){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return t(e)(n)}));var p=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],d=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(d&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)p=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,l,t(e))}return"function"===typeof h.onActivation&&(p=h.onActivation(n.parentContext,p)),d&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};e.resolve=function(t){return l(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},7924:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(933),i=n(5599),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},1980:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(7924),i=n(1332),o=n(3371),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},1332:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(3371),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},9415:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(3431),i=n(933),o=n(1980),a=n(5599),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!==typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=s},5599:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(1332),i=n(3371),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},3371:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(1332),i=n(4593),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return i.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},4593:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(6200),i=n(2);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var o=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new i.Metadata(t,e),n}};e.taggedConstraint=o;var a=o(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"===typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},5510:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},6092:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(3431);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},4752:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},5260:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(3431);function i(t){return"function"===typeof t?t.name:"symbol"===typeof t?t.toString():t}function o(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||o(t.parentRequest,e))}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",i=n(t,e);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(o(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=a},1869:function(t,e,n){var r=n(7551);function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,i,o,s,u,l=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(i=c-2,o=c-1,s=0):u===c-1?(i=c-1,o=0,s=1):(i=u,o=u+1,s=u+2),e=t[i],n=t[o],l+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));l=l*r.RADIUS*r.RADIUS/2}return l}function a(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=i(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},t.exports.ring=o},8689:function(t,e,n){var r=n(1869);function i(t,e){return function(n){return t(n,e)}}function o(t,e){e=!!e,t[0]=a(t[0],e);for(var n=1;n<t.length;n++)t[n]=a(t[n],!e);return t}function a(t,e){return function(t){return r.ring(t)>=0}(t)===e?t:t.reverse()}t.exports=function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(i(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(i(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){"Polygon"===t.type?t.coordinates=o(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(o,e)));return t}(e,n);default:return e}}},6126:function(t,e,n){var r;window,r=function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=661)}([function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Cache",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"assign",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(e,"augment",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(e,"contains",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(e,"deepMix",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(e,"endsWith",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"every",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"extend",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"find",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"firstValue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"fixedBase",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"flattenDeep",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"forIn",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,"get",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(e,"getEllipsisText",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"getType",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(e,"getWrapBehavior",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"group",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"groupToMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"has",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,"hasKey",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"hasValue",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(e,"head",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(e,"includes",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"indexOf",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(e,"isArguments",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(e,"isArrayLike",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(e,"isEqualWith",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(e,"isEven",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"isFinite",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(e,"isInteger",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"isMatch",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(e,"isNegative",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(e,"isObjectLike",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(e,"isOdd",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"isPlainObject",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(e,"isPositive",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"isPrototype",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(e,"isRegExp",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(e,"isType",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(e,"isUndefined",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(e,"keys",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(e,"last",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"lowerCase",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(e,"lowerFirst",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(e,"mapValues",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(e,"max",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"maxBy",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"measureTextWidth",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"memoize",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(e,"min",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"minBy",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(e,"number2color",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"omit",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(e,"parseRadius",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"pick",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(e,"pull",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"pullAt",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"remove",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(e,"set",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"some",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"sortBy",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"startsWith",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"substitute",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(e,"toDegree",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"toInteger",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"uniq",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"uniqueId",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(e,"upperCase",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(e,"values",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(e,"valuesOfKey",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"wrapBehavior",{enumerable:!0,get:function(){return I.default}});var i=r(n(238)),o=r(n(669)),a=r(n(670)),s=r(n(671)),u=r(n(672)),l=r(n(673)),c=r(n(674)),f=r(n(675)),p=r(n(676)),h=r(n(380)),d=r(n(381)),g=r(n(677)),v=r(n(678)),y=r(n(679)),m=r(n(382)),_=r(n(680)),b=r(n(681)),x=r(n(682)),w=r(n(683)),S=r(n(684)),E=r(n(375)),A=r(n(685)),O=r(n(686)),T=r(n(687)),C=r(n(384)),P=r(n(383)),M=r(n(688)),I=r(n(689)),k=r(n(690)),R=r(n(691)),L=r(n(692)),D=r(n(693)),N=r(n(694)),F=r(n(695)),j=r(n(696)),B=r(n(697)),z=r(n(698)),U=r(n(699)),V=r(n(700)),G=r(n(378)),W=r(n(701)),H=r(n(379)),Y=r(n(702)),X=r(n(703)),q=r(n(704)),Z=r(n(705)),K=r(n(706)),Q=r(n(707)),J=r(n(385)),$=r(n(708)),tt=r(n(709)),et=r(n(377)),nt=r(n(376)),rt=r(n(240)),it=r(n(710)),ot=r(n(711)),at=r(n(712)),st=r(n(713)),ut=r(n(714)),lt=r(n(386)),ct=r(n(715)),ft=r(n(37)),pt=r(n(56)),ht=r(n(716)),dt=r(n(717)),gt=r(n(718)),vt=r(n(57)),yt=r(n(719)),mt=r(n(95)),_t=r(n(720)),bt=r(n(87)),xt=r(n(170)),wt=r(n(239)),St=r(n(139)),Et=r(n(387)),At=r(n(721)),Ot=r(n(86)),Tt=r(n(68)),Ct=r(n(722)),Pt=r(n(723)),Mt=r(n(724)),It=r(n(725)),kt=r(n(726)),Rt=r(n(727)),Lt=r(n(728)),Dt=r(n(388)),Nt=r(n(729)),Ft=r(n(109)),jt=r(n(730)),Bt=r(n(731)),zt=r(n(732)),Ut=r(n(389)),Vt=r(n(733)),Gt=r(n(734)),Wt=r(n(735)),Ht=r(n(241)),Yt=r(n(736)),Xt=r(n(737)),qt=r(n(738)),Zt=r(n(739)),Kt=r(n(740)),Qt=r(n(741)),Jt=r(n(110)),$t=r(n(742)),te=r(n(743)),ee=r(n(744)),ne=r(n(745)),re=r(n(390)),ie=r(n(746)),oe=r(n(747))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.__assign=void 0,e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:c(t[r](e)),done:"return"===r}:i?i(e):e}:i}},e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof c?Promise.resolve(n.value.v).then(u,l):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function f(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=u(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}},e.__await=c,e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},e.__classPrivateFieldGet=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},e.__classPrivateFieldSet=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},e.__createBinding=void 0,e.__decorate=function(t,e,n,r){var o,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},e.__exportStar=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||s(e,t,n)},e.__extends=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e.__generator=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return f(e,t),e},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__metadata=function(t,e){if("object"===("undefined"===typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__read=l,e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__spreadArray=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},e.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},e.__values=u;var i=r(n(6)),o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},a=function(){return e.__assign=a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};e.__assign=a;var s=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(t){return this instanceof c?(this.v=t,this):new c(t)}e.__createBinding=s;var f=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(367),i=n(370),o=n(373),a=n(374),s=n(668),u=i.apply(a()),l=function(t,e){return u(Object,arguments)};r(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},function(t,e,n){"use strict";function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={flow:!0,pick:!0,template:!0,log:!0,invariant:!0,LEVEL:!0,getContainerSize:!0,findViewById:!0,getViews:!0,getSiblingViews:!0,transformLabel:!0,getSplinePath:!0,deepAssign:!0,kebabCase:!0,renderStatistic:!0,renderGaugeStatistic:!0,measureTextWidth:!0,isBetween:!0,isRealNumber:!0};Object.defineProperty(e,"LEVEL",{enumerable:!0,get:function(){return s.LEVEL}}),Object.defineProperty(e,"deepAssign",{enumerable:!0,get:function(){return h.deepAssign}}),Object.defineProperty(e,"findViewById",{enumerable:!0,get:function(){return c.findViewById}}),Object.defineProperty(e,"flow",{enumerable:!0,get:function(){return i.flow}}),Object.defineProperty(e,"getContainerSize",{enumerable:!0,get:function(){return u.getContainerSize}}),Object.defineProperty(e,"getSiblingViews",{enumerable:!0,get:function(){return c.getSiblingViews}}),Object.defineProperty(e,"getSplinePath",{enumerable:!0,get:function(){return p.getSplinePath}}),Object.defineProperty(e,"getViews",{enumerable:!0,get:function(){return c.getViews}}),Object.defineProperty(e,"invariant",{enumerable:!0,get:function(){return s.invariant}}),Object.defineProperty(e,"isBetween",{enumerable:!0,get:function(){return y.isBetween}}),Object.defineProperty(e,"isRealNumber",{enumerable:!0,get:function(){return y.isRealNumber}}),Object.defineProperty(e,"kebabCase",{enumerable:!0,get:function(){return d.kebabCase}}),Object.defineProperty(e,"log",{enumerable:!0,get:function(){return s.log}}),Object.defineProperty(e,"measureTextWidth",{enumerable:!0,get:function(){return v.measureTextWidth}}),Object.defineProperty(e,"pick",{enumerable:!0,get:function(){return o.pick}}),Object.defineProperty(e,"renderGaugeStatistic",{enumerable:!0,get:function(){return g.renderGaugeStatistic}}),Object.defineProperty(e,"renderStatistic",{enumerable:!0,get:function(){return g.renderStatistic}}),Object.defineProperty(e,"template",{enumerable:!0,get:function(){return a.template}}),Object.defineProperty(e,"transformLabel",{enumerable:!0,get:function(){return f.transformLabel}});var i=n(1187),o=n(553),a=n(1188),s=n(554),u=n(1189),l=n(1190);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var c=n(555),f=n(1191),p=n(1192),h=n(556),d=n(1193),g=n(557),v=n(1194),y=n(305),m=n(198);Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===m[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))}));var _=n(123);Object.keys(_).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===_[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}}))}))},function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",(function(){return f}));var r=n(236),i=n(634),o=n(24),a=n(66);n.d(e,"registerScale",(function(){return a.registerScale})),n.d(e,"getScale",(function(){return a.getScale})),n.d(e,"registerTickMethod",(function(){return a.registerTickMethod}));var s=n(188);n.d(e,"setGlobal",(function(){return s.setGlobal})),n.d(e,"GLOBAL",(function(){return s.GLOBAL})),n(1345),n(978);var u=n(473);for(var l in n.d(e,"createThemeByStyleSheet",(function(){return u.c})),n.d(e,"antvLight",(function(){return u.b})),n.d(e,"antvDark",(function(){return u.a})),o)["default","registerScale","getScale","registerTickMethod","setGlobal","GLOBAL","VERSION","setDefaultErrorFallback","createThemeByStyleSheet","antvLight","antvDark"].indexOf(l)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(l);var c=n(67);n.d(e,"setDefaultErrorFallback",(function(){return c.c})),Object(o.registerEngine)("canvas",r),Object(o.registerEngine)("svg",i);var f="4.1.15",p=r.Canvas.prototype.getPointByClient;r.Canvas.prototype.getPointByClient=function(t,e){var n=p.call(this,t,e),r=this.get("el").getBoundingClientRect(),i=this.get("width"),o=this.get("height"),a=r.width,s=r.height;return{x:n.x/(a/i),y:n.y/(s/o)}}},function(t,e,n){"use strict";t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(134),i=n.n(r),o=n(4),a=n.n(o),s=n(45),u=n.n(s),l=n(9),c=n.n(l),f=n(25),p=n.n(f),h=n(11),d=n.n(h),g=n(12),v=n.n(g),y=n(5),m=n.n(y),_=n(3),b=n.n(_),x=n(93),w=n.n(x),S=n(27),E=n.n(S),A=n(133),O=n(67),T=n(76),C=n(47),P=n(166),M=n(83),I=n(78),k=n(75),R=n(94),L=n(232),D=n(0);function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{width:Object(D.isNumber)(e.width)?e.width:t.clientWidth,height:Object(D.isNumber)(e.height)?e.height:t.clientHeight}}var F=n(15),j=function t(e,n){if(Object(D.isObject)(e)&&Object(D.isObject)(n)){var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var o=!0,a=0;a<r.length&&(o=t(e[r[a]],n[r[a]]));a++);return o}if(Object(D.isArray)(e)&&Object(D.isArray)(n)){if(e.length!==n.length)return!1;for(var s=!0,u=0;u<e.length&&(s=t(e[u],n[u]));u++);return s}return e===n},B=n(16),z=n.n(B),U=n(132),V=n(642),G=n(643);function W(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var H=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object(U.registerLocale)("en-US",V.EN_US_LOCALE),Object(U.registerLocale)("zh-CN",G.ZH_CN_LOCALE);var Y=b.a.createElement("div",{style:{position:"absolute",top:"48%",left:"50%",color:"#aaa",textAlign:"center"}},"\u6682\u65e0\u6570\u636e"),X={padding:"8px 24px 10px 10px",fontFamily:"PingFang SC",fontSize:12,color:"grey",textAlign:"left",lineHeight:"16px"},q={padding:"10px 0 0 10px",fontFamily:"PingFang SC",fontSize:18,color:"black",textAlign:"left",lineHeight:"20px"},Z=function(t){d()(n,t);var e=W(n);function n(){var t;return c()(this,n),(t=e.apply(this,arguments))._context={chart:null},t}return p()(n,[{key:"componentDidMount",value:function(){this.props.children&&this.g2Instance.chart&&this.g2Instance.chart.render(),Object(F.b)(this.g2Instance,{},this.props),this.g2Instance.data=this.props.data,this.preConfig=Object(k.a)(Object(I.a)(this.props,[].concat(u()(R.a),["container","PlotClass","onGetG2Instance","data"])))}},{key:"componentDidUpdate",value:function(t){this.props.children&&this.g2Instance.chart&&this.g2Instance.chart.render(),Object(F.b)(this.g2Instance,t,this.props)}},{key:"componentWillUnmount",value:function(){var t=this;this.g2Instance&&setTimeout((function(){t.g2Instance.destroy(),t.g2Instance=null,t._context.chart=null}),0)}},{key:"getG2Instance",value:function(){return this.g2Instance}},{key:"getChartView",value:function(){return this.g2Instance.chart}},{key:"checkInstanceReady",value:function(){var t=Object(I.a)(this.props,[].concat(u()(R.a),["container","PlotClass","onGetG2Instance","data"]));this.g2Instance?this.shouldReCreate()?(this.g2Instance.destroy(),this.initInstance(),this.g2Instance.render()):this.diffConfig()?this.g2Instance.update(a()(a()({},t),{data:this.props.data})):this.diffData()&&this.g2Instance.changeData(this.props.data):(this.initInstance(),this.g2Instance.render()),this.preConfig=Object(k.a)(t),this.g2Instance.data=this.props.data}},{key:"initInstance",value:function(){var t=this.props,e=t.container,n=t.PlotClass,r=t.onGetG2Instance,i=(t.children,H(t,["container","PlotClass","onGetG2Instance","children"]));this.g2Instance=new n(e,i),this._context.chart=this.g2Instance,E()(r)&&r(this.g2Instance)}},{key:"diffConfig",value:function(){var t=this.preConfig||{},e=Object(I.a)(this.props,[].concat(u()(R.a),["container","PlotClass","onGetG2Instance","data"]));return!j(t,e)}},{key:"diffData",value:function(){var t=this.g2Instance.data,e=this.props.data;if(!Object(D.isArray)(t)||!Object(D.isArray)(e))return!t===e;if(t.length!==e.length)return!0;var n=!0;return t.forEach((function(t,r){Object(M.a)(t,e[r])||(n=!1)})),!n}},{key:"shouldReCreate",value:function(){return!!this.props.forceUpdate}},{key:"render",value:function(){this.checkInstanceReady();var t=this.getChartView();return b.a.createElement(T.a.Provider,{value:this._context},b.a.createElement(C.a.Provider,{value:t},b.a.createElement("div",{key:w()("plot-chart")},this.props.children)))}}]),n}(b.a.Component),K=Object(A.a)(Z);e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=b.a.forwardRef((function(e,r){var o=e.title,s=e.description,u=e.autoFit,l=void 0===u||u,c=e.forceFit,f=e.errorContent,p=void 0===f?O.a:f,h=e.containerStyle,d=e.containerProps,g=e.placeholder,v=e.ErrorBoundaryProps,y=e.isMaterial,m=H(e,["title","description","autoFit","forceFit","errorContent","containerStyle","containerProps","placeholder","ErrorBoundaryProps","isMaterial"]),x=n(m),w=Object(_.useRef)(),S=Object(_.useRef)(),E=Object(_.useRef)(),A=Object(_.useState)(0),T=i()(A,2),C=T[0],M=T[1],I=Object(_.useRef)(),k=Object(_.useCallback)((function(){if(w.current){var t=N(w.current,e),n=S.current?N(S.current):{width:0,height:0},r=E.current?N(E.current):{width:0,height:0},i=t.height-n.height-r.height;0===i&&(i=350),i<20&&(i=20),Math.abs(C-i)>1&&M(i)}}),[w.current,S.current,C,E.current]),R=Object(_.useCallback)(Object(D.debounce)(k,500),[k]),j=b.a.isValidElement(p)?function(){return p}:p;if(g&&!x.data){var B=!0===g?Y:g;return b.a.createElement(O.b,a()({FallbackComponent:j},v),b.a.createElement("div",{style:{width:e.width||"100%",height:e.height||400,textAlign:"center",position:"relative"}},B))}var U=Object(P.a)(o,!1),V=Object(P.a)(s,!1),G=a()(a()({},q),U.style),W=a()(a()(a()({},X),V.style),{top:G.height}),Z=void 0!==c?c:l;return Object(D.isNil)(c)||z()(!1,"\u8bf7\u4f7f\u7528autoFit\u66ff\u4ee3forceFit"),Object(_.useEffect)((function(){return Z?w.current?(k(),I.current=new L.ResizeObserver(R),I.current.observe(w.current)):M(0):w.current&&(k(),I.current&&I.current.unobserve(w.current)),function(){I.current&&w.current&&I.current.unobserve(w.current)}}),[w.current,Z]),b.a.createElement(O.b,a()({FallbackComponent:j},v),b.a.createElement("div",a()({ref:function(t){w.current=t,y&&(Object(D.isFunction)(r)?r(t):r&&(r.current=t))},className:"bizcharts-plot"},d,{style:{position:"relative",height:e.height||"100%",width:e.width||"100%"}}),U.visible&&b.a.createElement("div",a()({ref:S},Object(F.d)(x),{className:"bizcharts-plot-title",style:G}),U.text),V.visible&&b.a.createElement("div",a()({ref:E},Object(F.a)(x),{className:"bizcharts-plot-description",style:W}),V.text),!!C&&b.a.createElement(K,a()({appendPadding:[10,5,10,10],autoFit:Z,ref:y?void 0:r},x,{PlotClass:t,containerStyle:a()(a()({},h),{height:C})}))))}));return r.displayName=e||t.name,r}},function(t,e,n){"use strict";var r=n(748);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(6).default,i=n(749);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ELEMENT_RANGE_HIGHLIGHT_EVENTS=e.BRUSH_FILTER_EVENTS=e.VIEW_LIFE_CIRCLE=void 0;var r=n(1),i=n(24),o=n(207),a=n(108);(0,i.registerTheme)("dark",(0,a.createThemeByStyleSheet)(o.antvDark));var s=(0,r.__importStar)(n(206)),u=(0,r.__importStar)(n(327)),l=n(24);(0,l.registerEngine)("canvas",s),(0,l.registerEngine)("svg",u);var c=n(24),f=(0,r.__importDefault)(n(328)),p=(0,r.__importDefault)(n(329)),h=(0,r.__importDefault)(n(330)),d=(0,r.__importDefault)(n(331)),g=(0,r.__importDefault)(n(332)),v=(0,r.__importDefault)(n(159)),y=(0,r.__importDefault)(n(333)),m=(0,r.__importDefault)(n(334)),_=(0,r.__importDefault)(n(335)),b=(0,r.__importDefault)(n(1017));(0,c.registerGeometry)("Polygon",m.default),(0,c.registerGeometry)("Interval",d.default),(0,c.registerGeometry)("Schema",_.default),(0,c.registerGeometry)("Path",v.default),(0,c.registerGeometry)("Point",y.default),(0,c.registerGeometry)("Line",g.default),(0,c.registerGeometry)("Area",f.default),(0,c.registerGeometry)("Edge",p.default),(0,c.registerGeometry)("Heatmap",h.default),(0,c.registerGeometry)("Violin",b.default),n(1019),n(1020),n(1021),n(1022),n(1023),n(1024),n(479),n(480),n(481),n(482),n(483),n(284),n(484),n(485),n(486),n(487),n(488),n(489),n(1025),n(1026);var x=n(24),w=(0,r.__importDefault)(n(100)),S=(0,r.__importDefault)(n(164)),E=(0,r.__importDefault)(n(165)),A=(0,r.__importDefault)(n(215));(0,x.registerGeometryLabel)("base",w.default),(0,x.registerGeometryLabel)("interval",S.default),(0,x.registerGeometryLabel)("pie",E.default),(0,x.registerGeometryLabel)("polar",A.default);var O=n(24),T=n(336),C=n(1027),P=n(1028),M=n(337),I=n(338),k=n(226),R=n(1029),L=n(1031),D=n(1033),N=n(1034),F=n(1035),j=n(1036),B=n(1037);(0,O.registerGeometryLabelLayout)("overlap",k.overlap),(0,O.registerGeometryLabelLayout)("distribute",T.distribute),(0,O.registerGeometryLabelLayout)("fixed-overlap",k.fixedOverlap),(0,O.registerGeometryLabelLayout)("hide-overlap",R.hideOverlap),(0,O.registerGeometryLabelLayout)("limit-in-shape",I.limitInShape),(0,O.registerGeometryLabelLayout)("limit-in-canvas",M.limitInCanvas),(0,O.registerGeometryLabelLayout)("limit-in-plot",B.limitInPlot),(0,O.registerGeometryLabelLayout)("pie-outer",C.pieOuterLabelLayout),(0,O.registerGeometryLabelLayout)("adjust-color",L.adjustColor),(0,O.registerGeometryLabelLayout)("interval-adjust-position",D.intervalAdjustPosition),(0,O.registerGeometryLabelLayout)("interval-hide-overlap",N.intervalHideOverlap),(0,O.registerGeometryLabelLayout)("point-adjust-position",F.pointAdjustPosition),(0,O.registerGeometryLabelLayout)("pie-spider",P.pieSpiderLabelLayout),(0,O.registerGeometryLabelLayout)("path-adjust-position",j.pathAdjustPosition);var z=n(223),U=n(168),V=n(163),G=n(323),W=n(224),H=n(324),Y=n(325),X=n(225),q=n(24);(0,q.registerAnimation)("fade-in",z.fadeIn),(0,q.registerAnimation)("fade-out",z.fadeOut),(0,q.registerAnimation)("grow-in-x",U.growInX),(0,q.registerAnimation)("grow-in-xy",U.growInXY),(0,q.registerAnimation)("grow-in-y",U.growInY),(0,q.registerAnimation)("scale-in-x",W.scaleInX),(0,q.registerAnimation)("scale-in-y",W.scaleInY),(0,q.registerAnimation)("wave-in",Y.waveIn),(0,q.registerAnimation)("zoom-in",X.zoomIn),(0,q.registerAnimation)("zoom-out",X.zoomOut),(0,q.registerAnimation)("position-update",G.positionUpdate),(0,q.registerAnimation)("sector-path-update",H.sectorPathUpdate),(0,q.registerAnimation)("path-in",V.pathIn);var Z=n(24),K=(0,r.__importDefault)(n(339)),Q=(0,r.__importDefault)(n(340)),J=(0,r.__importDefault)(n(341)),$=(0,r.__importDefault)(n(342)),tt=(0,r.__importDefault)(n(343)),et=(0,r.__importDefault)(n(344));(0,Z.registerFacet)("rect",tt.default),(0,Z.registerFacet)("mirror",$.default),(0,Z.registerFacet)("list",Q.default),(0,Z.registerFacet)("matrix",J.default),(0,Z.registerFacet)("circle",K.default),(0,Z.registerFacet)("tree",et.default);var nt=n(24),rt=(0,r.__importDefault)(n(322)),it=(0,r.__importDefault)(n(345)),ot=(0,r.__importDefault)(n(346)),at=(0,r.__importDefault)(n(347)),st=(0,r.__importDefault)(n(205)),ut=(0,r.__importDefault)(n(1041));(0,nt.registerComponentController)("axis",it.default),(0,nt.registerComponentController)("legend",ot.default),(0,nt.registerComponentController)("tooltip",st.default),(0,nt.registerComponentController)("annotation",rt.default),(0,nt.registerComponentController)("slider",at.default),(0,nt.registerComponentController)("scrollbar",ut.default);var lt=n(24),ct=(0,r.__importDefault)(n(348)),ft=(0,r.__importDefault)(n(349)),pt=(0,r.__importDefault)(n(128)),ht=(0,r.__importDefault)(n(350)),dt=(0,r.__importDefault)(n(351)),gt=(0,r.__importDefault)(n(352)),vt=(0,r.__importDefault)(n(353)),yt=(0,r.__importDefault)(n(354)),mt=(0,r.__importDefault)(n(160)),_t=(0,r.__importDefault)(n(355)),bt=(0,r.__importDefault)(n(356)),xt=(0,r.__importStar)(n(227));Object.defineProperty(e,"ELEMENT_RANGE_HIGHLIGHT_EVENTS",{enumerable:!0,get:function(){return xt.ELEMENT_RANGE_HIGHLIGHT_EVENTS}});var wt=(0,r.__importDefault)(n(357)),St=(0,r.__importDefault)(n(358)),Et=(0,r.__importDefault)(n(359)),At=(0,r.__importDefault)(n(360)),Ot=(0,r.__importDefault)(n(361)),Tt=(0,r.__importDefault)(n(228)),Ct=(0,r.__importDefault)(n(362)),Pt=(0,r.__importDefault)(n(363)),Mt=(0,r.__importDefault)(n(1043)),It=(0,r.__importDefault)(n(1044)),kt=(0,r.__importDefault)(n(1045)),Rt=(0,r.__importDefault)(n(492)),Lt=(0,r.__importDefault)(n(491)),Dt=(0,r.__importDefault)(n(1046)),Nt=(0,r.__importDefault)(n(364)),Ft=(0,r.__importDefault)(n(365)),jt=(0,r.__importStar)(n(493));Object.defineProperty(e,"BRUSH_FILTER_EVENTS",{enumerable:!0,get:function(){return jt.BRUSH_FILTER_EVENTS}});var Bt=(0,r.__importDefault)(n(1047)),zt=(0,r.__importDefault)(n(1048)),Ut=(0,r.__importDefault)(n(1049)),Vt=(0,r.__importDefault)(n(1050)),Gt=(0,r.__importDefault)(n(1051)),Wt=(0,r.__importDefault)(n(1052)),Ht=(0,r.__importDefault)(n(1053)),Yt=(0,r.__importDefault)(n(1054)),Xt=(0,r.__importDefault)(n(1055));(0,lt.registerAction)("tooltip",pt.default),(0,lt.registerAction)("sibling-tooltip",ft.default),(0,lt.registerAction)("ellipsis-text",ht.default),(0,lt.registerAction)("element-active",dt.default),(0,lt.registerAction)("element-single-active",yt.default),(0,lt.registerAction)("element-range-active",vt.default),(0,lt.registerAction)("element-highlight",mt.default),(0,lt.registerAction)("element-highlight-by-x",bt.default),(0,lt.registerAction)("element-highlight-by-color",_t.default),(0,lt.registerAction)("element-single-highlight",wt.default),(0,lt.registerAction)("element-range-highlight",xt.default),(0,lt.registerAction)("element-sibling-highlight",xt.default,{effectSiblings:!0,effectByRecord:!0}),(0,lt.registerAction)("element-selected",Et.default),(0,lt.registerAction)("element-single-selected",At.default),(0,lt.registerAction)("element-range-selected",St.default),(0,lt.registerAction)("element-link-by-color",gt.default),(0,lt.registerAction)("active-region",ct.default),(0,lt.registerAction)("list-active",Ot.default),(0,lt.registerAction)("list-selected",Ct.default),(0,lt.registerAction)("list-highlight",Tt.default),(0,lt.registerAction)("list-unchecked",Pt.default),(0,lt.registerAction)("list-checked",Mt.default),(0,lt.registerAction)("legend-item-highlight",Tt.default,{componentNames:["legend"]}),(0,lt.registerAction)("axis-label-highlight",Tt.default,{componentNames:["axis"]}),(0,lt.registerAction)("rect-mask",Lt.default),(0,lt.registerAction)("x-rect-mask",kt.default,{dim:"x"}),(0,lt.registerAction)("y-rect-mask",kt.default,{dim:"y"}),(0,lt.registerAction)("circle-mask",It.default),(0,lt.registerAction)("path-mask",Rt.default),(0,lt.registerAction)("smooth-path-mask",Dt.default),(0,lt.registerAction)("cursor",Nt.default),(0,lt.registerAction)("data-filter",Ft.default),(0,lt.registerAction)("brush",jt.default),(0,lt.registerAction)("brush-x",jt.default,{dims:["x"]}),(0,lt.registerAction)("brush-y",jt.default,{dims:["y"]}),(0,lt.registerAction)("sibling-filter",Bt.default),(0,lt.registerAction)("sibling-x-filter",Bt.default),(0,lt.registerAction)("sibling-y-filter",Bt.default),(0,lt.registerAction)("element-filter",zt.default),(0,lt.registerAction)("element-sibling-filter",Ut.default),(0,lt.registerAction)("element-sibling-filter-record",Ut.default,{byRecord:!0}),(0,lt.registerAction)("view-drag",Gt.default),(0,lt.registerAction)("view-move",Wt.default),(0,lt.registerAction)("scale-translate",Ht.default),(0,lt.registerAction)("scale-zoom",Yt.default),(0,lt.registerAction)("reset-button",Vt.default,{name:"reset-button",text:"reset"}),(0,lt.registerAction)("mousewheel-scroll",Xt.default);var qt=n(24);function Zt(t){return t.isInPlot()}function Kt(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}(0,qt.registerInteraction)("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),(0,qt.registerInteraction)("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),(0,qt.registerInteraction)("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),(0,qt.registerInteraction)("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),(0,qt.registerInteraction)("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),(0,qt.registerInteraction)("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),(0,qt.registerInteraction)("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),(0,qt.registerInteraction)("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),(0,qt.registerInteraction)("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),(0,qt.registerInteraction)("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),(0,qt.registerInteraction)("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),(0,qt.registerInteraction)("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),(0,qt.registerInteraction)("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Zt,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Zt,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Zt,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),(0,qt.registerInteraction)("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),(0,qt.registerInteraction)("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Zt,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Zt,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Zt,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),(0,qt.registerInteraction)("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Zt,action:"path-mask:start"},{trigger:"mousedown",isEnable:Zt,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),(0,qt.registerInteraction)("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),(0,qt.registerInteraction)("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),(0,qt.registerInteraction)("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),(0,qt.registerInteraction)("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),(0,qt.registerInteraction)("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),(0,qt.registerInteraction)("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),(0,qt.registerInteraction)("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return Kt(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!Kt(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),(0,qt.registerInteraction)("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),(0,qt.registerInteraction)("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var Qt=n(20);Object.defineProperty(e,"VIEW_LIFE_CIRCLE",{enumerable:!0,get:function(){return Qt.VIEW_LIFE_CIRCLE}}),(0,r.__exportStar)(n(24),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(1083);Object.defineProperty(e,"flow",{enumerable:!0,get:function(){return i.flow}});var o=n(514);Object.defineProperty(e,"pick",{enumerable:!0,get:function(){return o.pick}});var a=n(1084);Object.defineProperty(e,"template",{enumerable:!0,get:function(){return a.template}});var s=n(515);Object.defineProperty(e,"log",{enumerable:!0,get:function(){return s.log}}),Object.defineProperty(e,"invariant",{enumerable:!0,get:function(){return s.invariant}}),Object.defineProperty(e,"LEVEL",{enumerable:!0,get:function(){return s.LEVEL}});var u=n(1085);Object.defineProperty(e,"getContainerSize",{enumerable:!0,get:function(){return u.getContainerSize}}),r.__exportStar(n(1086),e);var l=n(516);Object.defineProperty(e,"findViewById",{enumerable:!0,get:function(){return l.findViewById}}),Object.defineProperty(e,"getViews",{enumerable:!0,get:function(){return l.getViews}}),Object.defineProperty(e,"getSiblingViews",{enumerable:!0,get:function(){return l.getSiblingViews}});var c=n(1087);Object.defineProperty(e,"transformLabel",{enumerable:!0,get:function(){return c.transformLabel}});var f=n(1088);Object.defineProperty(e,"getSplinePath",{enumerable:!0,get:function(){return f.getSplinePath}});var p=n(517);Object.defineProperty(e,"deepAssign",{enumerable:!0,get:function(){return p.deepAssign}});var h=n(1089);Object.defineProperty(e,"kebabCase",{enumerable:!0,get:function(){return h.kebabCase}});var d=n(518);Object.defineProperty(e,"renderStatistic",{enumerable:!0,get:function(){return d.renderStatistic}}),Object.defineProperty(e,"renderGaugeStatistic",{enumerable:!0,get:function(){return d.renderGaugeStatistic}});var g=n(1090);Object.defineProperty(e,"measureTextWidth",{enumerable:!0,get:function(){return g.measureTextWidth}});var v=n(294);Object.defineProperty(e,"isBetween",{enumerable:!0,get:function(){return v.isBetween}}),Object.defineProperty(e,"isRealNumber",{enumerable:!0,get:function(){return v.isRealNumber}}),r.__exportStar(n(295),e),r.__exportStar(n(296),e)},function(t,e,n){"use strict";n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"a",(function(){return v}));var r=n(4),i=n.n(r),o=n(16),a=n.n(o),s=n(0),u=n(231),l=n(138),c=function(t,e){t.forEach((function(t){var n=t.sourceKey,r=t.targetKey,i=t.notice,o=Object(s.get)(e,n);o&&(a()(!1,i),Object(s.set)(e,r,o))}))},f=function(t,e){var n=Object(s.get)(t,e);if(!1!==n&&null!==n){if(void 0!==n)if(!0!==n)if(Object(s.isObject)(n)){p(n,"line"),p(n,"grid"),p(n,"label"),p(n,"tickLine"),p(n,"title");var r=Object(s.get)(n,"label");if(r&&Object(s.isObject)(r)){var o=r.suffix;o&&Object(s.set)(r,"formatter",(function(t){return"".concat(t).concat(o)}));var u=r.offsetX,l=r.offsetY,c=r.offset;!Object(s.isNil)(c)||Object(s.isNil)(u)&&Object(s.isNil)(l)||("xAxis"===e&&Object(s.set)(r,"offset",Object(s.isNil)(u)?l:u),"yAxis"===e&&Object(s.set)(r,"offset",Object(s.isNil)(l)?u:l))}t[e]=i()(i()({},n),{label:r})}else a()(!0,"".concat(e," \u914d\u7f6e\u53c2\u6570\u4e0d\u6b63\u786e"));else t[e]={}}else t[e]=null},p=function(t,e){var n=Object(s.get)(t,"".concat(e,".visible"));return!1!==n&&null!==n||Object(s.set)(t,e,!1),n},h=function(t){var e=i()({},t);if(p(e,"tooltip"),p(e,"legend")){p(e,"legend.title");var n=Object(s.get)(e,"legend.position");n&&Object(s.set)(e,"legend.position",{"top-center":"top","right-center":"right","left-center":"left","bottom-center":"bottom"}[n]||n)}var r=Object(s.get)(e,"legend.formatter");if(r){var o=Object(s.get)(e,"legend.itemName",{});Object(s.set)(e,"legend.itemName",i()(i()({},o),{formatter:r}))}var a=Object(s.get)(e,"legend.text");a&&Object(s.set)(e,"legend.itemName",a),p(e,"label"),f(e,"xAxis"),f(e,"yAxis");var l=Object(s.get)(e,"guideLine",[]),c=Object(s.get)(e,"data",[]),h=Object(s.get)(e,"yField","y");l.forEach((function(t){if(c.length>0){var n="median";switch(t.type){case"max":n=Object(s.maxBy)(c,(function(t){return t[h]}))[h];break;case"mean":n=Object(u.a)(c.map((function(t){return t[h]})))/c.length;break;default:n=Object(s.minBy)(c,(function(t){return t[h]}))[h]}var r=i()(i()({start:["min",n],end:["max",n],style:t.lineStyle,text:{content:n}},t),{type:"line"});Object(s.get)(e,"annotations")||Object(s.set)(e,"annotations",[]),e.annotations.push(r),Object(s.set)(e,"point",!1)}}));var d=Object(s.get)(e,"interactions",[]).find((function(t){return"slider"===t.type}));return d&&Object(s.isNil)(e.slider)&&(e.slider=d.cfg),e},d=function(t,e,n){var r=Object(l.a)(Object(s.get)(e,"events",[])),i=Object(l.a)(Object(s.get)(n,"events",[]));r.forEach((function(n){t.off(n[1],e.events[n[0]])})),i.forEach((function(e){t.on(e[1],n.events[e[0]])}))},g=function(t){var e=Object(s.get)(t,"events",{}),n={};return["onTitleClick","onTitleDblClick","onTitleMouseleave","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter"].forEach((function(t){e[t]&&(n[t.replace("Title","")]=e[t])})),n},v=function(t){var e=Object(s.get)(t,"events",{}),n={};return["onDescriptionClick","onDescriptionDblClick","onDescriptionMouseleave","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter"].forEach((function(t){e[t]&&(n[t.replace("Description","")]=e[t])})),n}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(50);e.default=function(t,e,n){for(var i=0,o=r.default(e)?e.split("."):e;t&&i<o.length;)t=t[o[i++]];return void 0===t||i<o.length?n:t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Plot=e.PLOT_CONTAINER_OPTIONS=void 0;var i=n(1),o=n(13),a=n(0),s=r(n(107)),u=n(520),l=n(7),c="data-chart-source-type",f=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"];e.PLOT_CONTAINER_OPTIONS=f;var p=function(t){function e(e,n){var r=t.call(this)||this;return r.container="string"===typeof e?document.getElementById(e):e,r.options=(0,l.deepAssign)({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,r=t.defaultInteractions;this.chart=new o.Chart((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),(0,l.pick)(this.options,f)),{defaultInteractions:r})),this.container.setAttribute(c,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=(0,l.getContainerSize)(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null===e||void 0===e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=(0,l.deepAssign)({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=(0,l.getAllElementsRecursively)(this.chart);(0,a.each)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=(0,l.getAllElementsRecursively)(this.chart),e=[];return(0,a.each)(t,(function(t){var n=t.getData(),r=t.getStates();(0,a.each)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t){var e=(0,i.__spreadArrays)(t),n=this.chart.getController("annotation"),r=n.getComponents().map((function(t){return t.extra}));n.clear(!0);for(var o=function(t){var i=r[t],o=e.findIndex((function(t){return t.id&&t.id===i.id}));-1!==o&&(i=(0,l.deepAssign)({},i,e[o]),e.splice(o,1)),n.annotation(i)},a=0;a<r.length;a++)o(a);e.forEach((function(t){return n.annotation(t)})),this.chart.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(c)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=(0,u.bind)(this.container,(function(){var e=(0,l.getContainerSize)(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(s.default);e.Plot=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(61),i=n(50),o=n(1082);e.default=function(t,e,n){var a=t,s=i.default(e)?e.split("."):e;return s.forEach((function(t,e){e<s.length-1?(r.default(a[t])||(a[t]=o.default(s[e+1])?[]:{}),a=a[t]):a[t]=n})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_MAX_VIEW_PERCENTAGE=e.MIN_CHART_HEIGHT=e.MIN_CHART_WIDTH=e.FIELD_ORIGIN=e.GROUP_ATTRS=e.ELEMENT_STATE=e.PLOT_EVENTS=e.GEOMETRY_LIFE_CIRCLE=e.VIEW_LIFE_CIRCLE=e.GROUP_Z_INDEX=e.COMPONENT_TYPE=e.DIRECTION=e.LAYER=void 0,function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(e.LAYER||(e.LAYER={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(e.DIRECTION||(e.DIRECTION={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"}(e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})),e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"}(e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})),function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate"}(e.GEOMETRY_LIFE_CIRCLE||(e.GEOMETRY_LIFE_CIRCLE={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(e.PLOT_EVENTS||(e.PLOT_EVENTS={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(e.ELEMENT_STATE||(e.ELEMENT_STATE={})),e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animation=function(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,i.each)(e.geometries,(function(t){t.animate(n)})),t},e.annotation=function(t){return function(e){var n=e.chart,o=e.options,a=n.getController("annotation");return(0,i.each)((0,r.__spreadArrays)(o.annotations||[],t||[]),(function(t){a.annotation(t)})),e}},e.interaction=function(t){var e=t.chart,n=t.options.interactions;return(0,i.each)(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t},e.legend=function(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.seriesField;return!1===r?e.legend(!1):(i||o)&&e.legend(i||o,r),t},e.limitInPlot=function(t){var e=t.chart,n=t.options,r=n.yAxis,o=n.limitInPlot,s=o;return(0,i.isObject)(r)&&(0,i.isNil)(o)&&(s=!!Object.values((0,a.pick)(r,["min","max","minLimit","maxLimit"])).some((function(t){return!(0,i.isNil)(t)}))),e.limitInPlot=s,t},Object.defineProperty(e,"pattern",{enumerable:!0,get:function(){return s.pattern}}),e.scale=function(t,e){return function(n){var r=n.chart,s=n.options,u={};return(0,i.each)(t,(function(t,e){u[e]=(0,a.pick)(t,o.AXIS_META_CONFIG_KEYS)})),u=(0,a.deepAssign)({},e,s.meta,u),r.scale(u),n}},e.scrollbar=function(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t},e.slider=function(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t},e.state=function(t){var e=t.chart,n=t.options.state;return n&&(0,i.each)(e.geometries,(function(t){t.state(n)})),t},e.theme=function(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t},e.tooltip=function(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t};var r=n(1),i=n(0),o=n(99),a=n(7),s=n(124)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119);e.default=function(t){return Array.isArray?Array.isArray(t):r.default(t,"Array")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plot=e.PLOT_CONTAINER_OPTIONS=void 0;var r=n(1),i=n(13),o=n(0),a=r.__importDefault(n(107)),s=n(520),u=n(14),l="data-chart-source-type";e.PLOT_CONTAINER_OPTIONS=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"];var c=function(t){function n(e,n){var r=t.call(this)||this;return r.container="string"===typeof e?document.getElementById(e):e,r.options=u.deepAssign({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return r.__extends(n,t),n.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},n.prototype.createG2=function(){var t=this.options,n=t.width,o=t.height,a=t.defaultInteractions;this.chart=new i.Chart(r.__assign(r.__assign(r.__assign(r.__assign({container:this.container,autoFit:!1},this.getChartSize(n,o)),{localRefresh:!1}),u.pick(this.options,e.PLOT_CONTAINER_OPTIONS)),{defaultInteractions:a})),this.container.setAttribute(l,"G2Plot")},n.prototype.getChartSize=function(t,e){var n=u.getContainerSize(this.container);return{width:t||n.width||400,height:e||n.height||400}},n.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null===e||void 0===e?void 0:e.type)&&t.emit(e.type,e)}))},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},n.prototype.update=function(t){this.updateOption(t),this.render()},n.prototype.updateOption=function(t){this.options=u.deepAssign({},this.options,t)},n.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=u.getAllElementsRecursively(this.chart);o.each(r,(function(r){e(r.getData())&&r.setState(t,n)}))},n.prototype.getStates=function(){var t=u.getAllElementsRecursively(this.chart),e=[];return o.each(t,(function(t){var n=t.getData(),r=t.getStates();o.each(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},n.prototype.changeData=function(t){this.update({data:t})},n.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},n.prototype.addAnnotations=function(t){var e=r.__spreadArrays(t),n=this.chart.getController("annotation"),i=n.getComponents().map((function(t){return t.extra}));n.clear(!0);for(var o=function(t){var r=i[t],o=e.findIndex((function(t){return t.id&&t.id===r.id}));-1!==o&&(r=u.deepAssign({},r,e[o]),e.splice(o,1)),n.annotation(r)},a=0;a<i.length;a++)o(a);e.forEach((function(t){return n.annotation(t)})),this.chart.render(!0)},n.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},n.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(l)},n.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},n.prototype.triggerResize=function(){this.chart.forceFit()},n.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=s.bind(this.container,(function(){var e=u.getContainerSize(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},n.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},n}(a.default);e.Plot=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Scale=e.Coordinate=e.DIRECTION=e.LAYER=e.getAnimation=e.registerAnimation=e.getEngine=e.registerEngine=e.registerTheme=e.getTheme=e.registerFacet=e.getFacet=e.getActionClass=e.registerAction=e.registerInteraction=e.getInteraction=e.getGeometryLabelLayout=e.getGeometryLabel=e.registerGeometryLabelLayout=e.registerGeometryLabel=e.getShapeFactory=e.registerShapeFactory=e.registerShape=e.registerGeometry=e.registerComponentController=e.InteractionAction=e.Facet=e.Action=e.Interaction=e.GeometryLabel=e.Element=e.Geometry=e.TooltipController=e.ComponentController=e.Event=e.View=e.Chart=e.VERSION=void 0;var r=n(1);e.VERSION="4.1.32";var i=n(98);Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return i.Chart}}),Object.defineProperty(e,"View",{enumerable:!0,get:function(){return i.View}}),Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}});var o=n(105);Object.defineProperty(e,"ComponentController",{enumerable:!0,get:function(){return o.Controller}});var a=n(205);Object.defineProperty(e,"TooltipController",{enumerable:!0,get:function(){return(0,r.__importDefault)(a).default}});var s=n(91);Object.defineProperty(e,"Geometry",{enumerable:!0,get:function(){return(0,r.__importDefault)(s).default}});var u=n(272);Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return(0,r.__importDefault)(u).default}});var l=n(100);Object.defineProperty(e,"GeometryLabel",{enumerable:!0,get:function(){return(0,r.__importDefault)(l).default}});var c=n(269);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return c.Interaction}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}});var f=n(267);Object.defineProperty(e,"Facet",{enumerable:!0,get:function(){return f.Facet}});var p=n(44);Object.defineProperty(e,"InteractionAction",{enumerable:!0,get:function(){return(0,r.__importDefault)(p).default}});var h=n(98);Object.defineProperty(e,"registerComponentController",{enumerable:!0,get:function(){return h.registerComponentController}});var d=n(98);Object.defineProperty(e,"registerGeometry",{enumerable:!0,get:function(){return d.registerGeometry}});var g=n(26);Object.defineProperty(e,"registerShape",{enumerable:!0,get:function(){return g.registerShape}}),Object.defineProperty(e,"registerShapeFactory",{enumerable:!0,get:function(){return g.registerShapeFactory}}),Object.defineProperty(e,"getShapeFactory",{enumerable:!0,get:function(){return g.getShapeFactory}});var v=n(274);Object.defineProperty(e,"registerGeometryLabel",{enumerable:!0,get:function(){return v.registerGeometryLabel}}),Object.defineProperty(e,"registerGeometryLabelLayout",{enumerable:!0,get:function(){return v.registerGeometryLabelLayout}}),Object.defineProperty(e,"getGeometryLabel",{enumerable:!0,get:function(){return v.getGeometryLabel}}),Object.defineProperty(e,"getGeometryLabelLayout",{enumerable:!0,get:function(){return v.getGeometryLabelLayout}});var y=n(269);Object.defineProperty(e,"getInteraction",{enumerable:!0,get:function(){return y.getInteraction}}),Object.defineProperty(e,"registerInteraction",{enumerable:!0,get:function(){return y.registerInteraction}}),Object.defineProperty(e,"registerAction",{enumerable:!0,get:function(){return y.registerAction}}),Object.defineProperty(e,"getActionClass",{enumerable:!0,get:function(){return y.getActionClass}});var m=n(267);Object.defineProperty(e,"getFacet",{enumerable:!0,get:function(){return m.getFacet}}),Object.defineProperty(e,"registerFacet",{enumerable:!0,get:function(){return m.registerFacet}});var _=n(92);Object.defineProperty(e,"getTheme",{enumerable:!0,get:function(){return _.getTheme}}),Object.defineProperty(e,"registerTheme",{enumerable:!0,get:function(){return _.registerTheme}});var b=n(457);Object.defineProperty(e,"registerEngine",{enumerable:!0,get:function(){return b.registerEngine}}),Object.defineProperty(e,"getEngine",{enumerable:!0,get:function(){return b.getEngine}});var x=n(450);Object.defineProperty(e,"registerAnimation",{enumerable:!0,get:function(){return x.registerAnimation}}),Object.defineProperty(e,"getAnimation",{enumerable:!0,get:function(){return x.getAnimation}});var w=n(20);Object.defineProperty(e,"LAYER",{enumerable:!0,get:function(){return w.LAYER}}),Object.defineProperty(e,"DIRECTION",{enumerable:!0,get:function(){return w.DIRECTION}}),(0,r.__importStar)(n(275));var S=n(69);Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return S.Coordinate}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return S.Scale}});var E=n(465),A=n(466),O=n(46),T=n(116),C=n(187),P=n(31);e.Util={getLegendItems:A.getLegendItems,translate:T.translate,rotate:T.rotate,zoom:T.zoom,transform:T.transform,getAngle:O.getAngle,getSectorPath:O.getSectorPath,polarToCartesian:O.polarToCartesian,getDelegationObject:P.getDelegationObject,getTooltipItems:C.getTooltipItems,getMappingValue:E.getMappingValue}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShapeFactory=e.registerShape=e.registerShapeFactory=void 0;var r=n(1),i=n(80),o=n(0),a=n(114),s={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return(0,o.get)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var i=this.theme,a=(0,o.get)(i,[t,"default"],{}),s=n.getMarker(e);return(0,o.deepMix)({},a,s)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},u={coordinate:null,parsePath:function(t){var e=this.coordinate,n=(0,i.parsePathString)(t);return n=e.isPolar?(0,a.convertPolarPath)(e,n):(0,a.convertNormalPath)(e,n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},l={};e.registerShapeFactory=function(t,e){var n=(0,o.upperFirst)(t),i=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},s),e),{geometryType:t});return l[n]=i,i},e.registerShape=function(t,e,n){var i=(0,o.upperFirst)(t),a=l[i],s=(0,r.__assign)((0,r.__assign)({},u),n);return a[e]=s,s},e.getShapeFactory=function(t){var e=(0,o.upperFirst)(t);return l[e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119);e.default=function(t){return r.default(t,"Function")}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=a.a.createContext(null);function u(t){var e=a.a.forwardRef((function(e,n){return a.a.createElement(s.Consumer,null,(function(r){return a.a.createElement(t,i()({ref:n,group:r},e))}))}));return e.displayName=t.name,e}s.displayName="GroupContext",e.a=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return r.area}}),Object.defineProperty(e,"edge",{enumerable:!0,get:function(){return u.edge}}),Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return a.interval}}),Object.defineProperty(e,"line",{enumerable:!0,get:function(){return i.line}}),Object.defineProperty(e,"point",{enumerable:!0,get:function(){return o.point}}),Object.defineProperty(e,"polygon",{enumerable:!0,get:function(){return s.polygon}}),Object.defineProperty(e,"schema",{enumerable:!0,get:function(){return l.schema}}),Object.defineProperty(e,"violin",{enumerable:!0,get:function(){return c.violin}});var r=n(1213),i=n(1214),o=n(561),a=n(1215),s=n(562),u=n(1216),l=n(1217),c=n(1218)},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0});var o={version:!0,PathUtil:!0,Event:!0,Base:!0,AbstractCanvas:!0,AbstractGroup:!0,AbstractShape:!0,getBBoxMethod:!0,getTextHeight:!0,assembleFont:!0,isAllowCapture:!0,multiplyVec2:!0,invert:!0,getOffScreenContext:!0};Object.defineProperty(e,"AbstractCanvas",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return l.default}}),e.PathUtil=void 0,Object.defineProperty(e,"assembleFont",{enumerable:!0,get:function(){return g.assembleFont}}),Object.defineProperty(e,"getBBoxMethod",{enumerable:!0,get:function(){return d.getBBoxMethod}}),Object.defineProperty(e,"getOffScreenContext",{enumerable:!0,get:function(){return m.getOffScreenContext}}),Object.defineProperty(e,"getTextHeight",{enumerable:!0,get:function(){return g.getTextHeight}}),Object.defineProperty(e,"invert",{enumerable:!0,get:function(){return y.invert}}),Object.defineProperty(e,"isAllowCapture",{enumerable:!0,get:function(){return v.isAllowCapture}}),Object.defineProperty(e,"multiplyVec2",{enumerable:!0,get:function(){return y.multiplyVec2}}),e.version=void 0;var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=_(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(428));e.PathUtil=a;var s=n(827);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=n(828);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=r(n(429)),c=r(n(430)),f=r(n(829)),p=r(n(833)),h=r(n(834)),d=n(835),g=n(433),v=n(103),y=n(251),m=n(434);function _(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(_=function(t){return t?n:e})(t)}e.version="0.5.6"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScaleByField=e.isInRecords=e.getSiblingPoint=e.getSilbings=e.isInBox=e.getSpline=e.distance=e.getComponents=e.getElementsByPath=e.getIntersectElements=e.intersectRect=e.getElementValue=e.getElementsByState=e.getElementsByField=e.getElements=e.getSiblingMaskElements=e.getMaskedElements=e.isMask=e.isSlider=e.isList=e.isElementChange=e.getDelegationObject=e.getCurrentElement=void 0;var r=n(0),i=n(114),o=n(81),a=n(80);function s(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function u(t){var e=t.geometries,n=[];return(0,r.each)(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&(0,r.each)(t.views,(function(t){n=n.concat(u(t))})),n}function l(t,e){var n=t.getModel().data;return(0,r.isArray)(n)?n[0][e]:n[e]}function c(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function f(t,e){var n=u(t),i=[];return(0,r.each)(n,(function(t){var n=t.shape.getCanvasBBox();c(e,n)&&i.push(t)})),i}function p(t){var e=[];return(0,r.each)(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e}function h(t,e){var n=u(t),r=p(e);return n.filter((function(t){var e,n=t.shape;if("path"===n.get("type"))e=p(n.attr("path"));else{var i=n.getCanvasBBox();e=(0,o.toPoints)(i)}return(0,a.isPolygonsIntersect)(r,e)}))}function d(t,e,n){var r=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(r)}e.getCurrentElement=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e},e.getDelegationObject=function(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e},e.isElementChange=function(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))},e.isList=function(t){return t&&t.component&&t.component.isList()},e.isSlider=function(t){return t&&t.component&&t.component.isSlider()},e.isMask=function(t){var e=t.event.target;return e&&"mask"===e.get("name")},e.getMaskedElements=function(t,e){if("path"===t.event.target.get("type")){var n=function(t,e){var n=t.event.target,r=n.getCanvasBBox();return r.width>=e||r.height>=e?n.attr("path"):null}(t,e);if(!n)return;return h(t.view,n)}var r=s(t,e);return r?f(t.view,r):null},e.getSiblingMaskElements=function(t,e,n){var r=s(t,n);if(!r)return null;var i=t.view,o=d(i,e,{x:r.x,y:r.y}),a=d(i,e,{x:r.maxX,y:r.maxY});return f(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})},e.getElements=u,e.getElementsByField=function(t,e,n){return u(t).filter((function(t){return l(t,e)===n}))},e.getElementsByState=function(t,e){var n=t.geometries,i=[];return(0,r.each)(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));i=i.concat(n)})),i},e.getElementValue=l,e.intersectRect=c,e.getIntersectElements=f,e.getElementsByPath=h,e.getComponents=function(t){return t.getComponents().map((function(t){return t.component}))},e.distance=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},e.getSpline=function(t,e){if(t.length<=2)return(0,i.getLinePath)(t,!1);var n=t[0],o=[];(0,r.each)(t,(function(t){o.push(t.x),o.push(t.y)}));var a=(0,i.catmullRom2bezier)(o,e,null);return a.unshift(["M",n.x,n.y]),a},e.isInBox=function(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y},e.getSilbings=function(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n},e.getSiblingPoint=d,e.isInRecords=function(t,e,n,i){var o=!1;return(0,r.each)(t,(function(t){if(t[n]===e[n]&&t[i]===e[i])return o=!0,!1})),o},e.getScaleByField=function t(e,n){var i=e.getScaleByField(n);return!i&&e.views&&(0,r.each)(e.views,(function(e){if(i=t(e,n))return!1})),i}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.ext=void 0,Object.defineProperty(e,"mat3",{enumerable:!0,get:function(){return i.mat3}}),Object.defineProperty(e,"vec2",{enumerable:!0,get:function(){return i.vec2}}),Object.defineProperty(e,"vec3",{enumerable:!0,get:function(){return i.vec3}});var i=n(172),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(765));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}e.ext=o},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Arc",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Cubic",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return o.default}}),e.Util=void 0;var o=r(n(803)),a=r(n(804)),s=r(n(805)),u=r(n(175)),l=r(n(807)),c=r(n(417)),f=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(88));function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}e.Util=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBackgroundRectStyle=e.getStyle=void 0;var r=n(1),i=n(0);e.getStyle=function(t,e,n,o){void 0===o&&(o="");var a=t.style,s=void 0===a?{}:a,u=t.defaultStyle,l=t.color,c=t.size,f=(0,r.__assign)((0,r.__assign)({},u),s);return l&&(e&&(s.stroke||(f.stroke=l)),n&&(s.fill||(f.fill=l))),o&&(0,i.isNil)(s[o])&&!(0,i.isNil)(c)&&(f[o]=c),f},e.getBackgroundRectStyle=function(t){return(0,i.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},(0,i.get)(t,["background","style"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.limitInPlot=e.annotation=e.scale=e.scrollbar=e.slider=e.state=e.theme=e.animation=e.interaction=e.tooltip=e.legend=void 0;var r=n(1),i=n(0),o=n(524),a=n(14);e.legend=function(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.seriesField;return!1===r?e.legend(!1):(i||o)&&e.legend(i||o,r),t},e.tooltip=function(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t},e.interaction=function(t){var e=t.chart,n=t.options.interactions;return i.each(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t},e.animation=function(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),i.each(e.geometries,(function(t){t.animate(n)})),t},e.theme=function(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t},e.state=function(t){var e=t.chart,n=t.options.state;return n&&i.each(e.geometries,(function(t){t.state(n)})),t},e.slider=function(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t},e.scrollbar=function(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t},e.scale=function(t,e){return function(n){var r=n.chart,s=n.options,u={};return i.each(t,(function(t,e){u[e]=a.pick(t,o.AXIS_META_CONFIG_KEYS)})),u=a.deepAssign({},e,s.meta,u),r.scale(u),n}},e.annotation=function(t){return function(e){var n=e.chart,o=e.options,a=n.getController("annotation");return i.each(r.__spreadArrays(o.annotations||[],t||[]),(function(t){a.annotation(t)})),e}},e.limitInPlot=function(t){var e=t.chart,n=t.options,r=n.yAxis,o=n.limitInPlot,s=o;return i.isObject(r)&&i.isNil(o)&&(s=!!Object.values(a.pick(r,["min","max","minLimit","maxLimit"])).some((function(t){return!i.isNil(t)}))),e.limitInPlot=s,t};var s=n(154);Object.defineProperty(e,"pattern",{enumerable:!0,get:function(){return s.pattern}})},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(9),a=n.n(o),s=n(25),u=n.n(s),l=n(11),c=n.n(l),f=n(12),p=n.n(f),h=n(5),d=n.n(h),g=n(3),v=n.n(g),y=n(633),m=n.n(y),_=n(203),b=n(222),x=n.n(b),w=n(0),S=n(161);m.a.prototype.render=function(){if(this.get("isReactElement")){var t=this.getContainer(),e=this.get("content"),n=this.get("refreshDeps"),r=v.a.isValidElement(e)?e:e(t);void 0!==this.preRefreshDeps&&Object(w.isEqual)(this.preRefreshDeps,n)||(x.a.render(r,t),this.preRefreshDeps=n)}else{var i=this.getContainer(),o=this.get("html");Object(_.clearDom)(i);var a=Object(w.isFunction)(o)?o(i):o;Object(w.isElement)(a)?i.appendChild(a):Object(w.isString)(a)&&i.appendChild(Object(S.createDom)(a))}this.resetPosition()};var E=n(322),A=n.n(E),O=n(47),T=n(8);function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}Object(T.registerComponentController)("annotation",A.a);var P=function(t){c()(n,t);var e=C(n);function n(){var t;return a()(this,n),(t=e.apply(this,arguments)).annotationType="line",t}return u()(n,[{key:"componentDidMount",value:function(){var t=this.getChartIns();this.id=w.uniqueId("annotation"),this.annotation=t.annotation(),"ReactElement"===this.annotationType?this.annotation.annotation(i()({type:"html",isReactElement:!0},this.props)):this.annotation.annotation(i()({type:this.annotationType},this.props)),this.annotation.option[this.annotation.option.length-1].__id=this.id}},{key:"componentDidUpdate",value:function(){var t=this,e=null;this.annotation.option.forEach((function(n,r){n.__id===t.id&&(e=r)})),"ReactElement"===this.annotationType?this.annotation.option[e]=i()(i()({type:"html",isReactElement:!0},this.props),{__id:this.id}):this.annotation.option[e]=i()(i()({type:this.annotationType},this.props),{__id:this.id})}},{key:"componentWillUnmount",value:function(){var t=this,e=null;this.annotation&&(this.annotation.option.forEach((function(n,r){n.__id===t.id&&(e=r)})),null!==e&&this.annotation.option.splice(e,1),this.annotation=null)}},{key:"getChartIns",value:function(){return this.context}},{key:"render",value:function(){return v.a.createElement(v.a.Fragment,null)}}]),n}(v.a.Component);P.contextType=O.a,e.a=P},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68));e.default=function(t){return Array.isArray?Array.isArray(t):(0,i.default)(t,"Array")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null===t||void 0===t}},function(t,e,n){"use strict";var r=n(11),i=n.n(r),o=n(12),a=n.n(o),s=n(5),u=n.n(s),l=n(45),c=n.n(l),f=n(9),p=n.n(f),h=n(25),d=n.n(h),g=n(3),v=n.n(g),y=n(50),m=n.n(y),_=n(27),b=n.n(_),x=n(100),w=n.n(x),S=(n(506),n(47)),E=n(8),A=n(55),O=n.n(A),T=n(22),C=n.n(T),P=n(83),M=function(t,e,n,r){var i,o;null!==t?O()(n,(function(n){i=t[n],o=e[n],Object(P.a)(o,i)||(C()(o)||(o=[o]),r(o,n))})):O()(n,(function(t){var n=e[t];void 0!==n&&(C()(n)||(n=[n]),r(n,t))}))},I=n(16),k=n.n(I),R=(n(293),n(351)),L=n.n(R),D=n(352),N=n.n(D),F=n(353),j=n.n(F),B=n(354),z=n.n(B),U=n(160),V=n.n(U),G=n(356),W=n.n(G),H=n(355),Y=n.n(H),X=n(357),q=n.n(X),Z=n(227),K=n.n(Z),Q=n(359),J=n.n(Q),$=n(360),tt=n.n($),et=n(358),nt=n.n(et),rt=n(364),it=n.n(rt);Object(E.registerAction)("cursor",it.a),Object(E.registerAction)("element-active",L.a),Object(E.registerAction)("element-single-active",z.a),Object(E.registerAction)("element-range-active",j.a),Object(E.registerAction)("element-highlight",V.a),Object(E.registerAction)("element-highlight-by-x",W.a),Object(E.registerAction)("element-highlight-by-color",Y.a),Object(E.registerAction)("element-single-highlight",q.a),Object(E.registerAction)("element-range-highlight",K.a),Object(E.registerAction)("element-sibling-highlight",K.a,{effectSiblings:!0,effectByRecord:!0}),Object(E.registerAction)("element-selected",J.a),Object(E.registerAction)("element-single-selected",tt.a),Object(E.registerAction)("element-range-selected",nt.a),Object(E.registerAction)("element-link-by-color",N.a),Object(E.registerInteraction)("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Object(E.registerInteraction)("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Object(E.registerInteraction)("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Object(E.registerInteraction)("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Object(E.registerInteraction)("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});var ot=n(75);function at(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u()(t);if(e){var i=u()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a()(this,n)}}Object(E.registerGeometryLabel)("base",w.a);var st=["line","area"],ut=function(){function t(){p()(this,t),this.config={}}return d()(t,[{key:"setView",value:function(t){this.view=t,this.rootChart=t.rootChart||t}},{key:"createGeomInstance",value:function(t,e){this.geom=this.view[t](e);var n=e.sortable;this.geom.__beforeMapping=this.geom.beforeMapping,this.geom.beforeMapping=function(e){var r=this.getXScale();return!1!==n&&e&&e[0]&&st.includes(t)&&["time","timeCat"].includes(r.type)&&this.sort(e),this.__beforeMapping(e)},this.GemoBaseClassName=t}},{key:"update",value:function(t,e){var n=this;this.geom||(this.setView(e.context),this.createGeomInstance(e.GemoBaseClassName,t),this.interactionTypes=e.interactionTypes),M(this.config,t,["position","shape","color","label","style","tooltip","size","animate","state","customInfo"],(function(t,e){var r;k()(!("label"===e&&!0===t[0]),"label \u503c\u7c7b\u578b\u9519\u8bef\uff0c\u5e94\u4e3afalse | LabelOption | FieldString"),(r=n.geom)[e].apply(r,c()(t))})),M(this.config,t,["adjust"],(function(t,e){m()(t[0])?n.geom[e](t[0]):n.geom[e](t)})),this.geom.state(t.state||{}),this.rootChart.on("processElemens",(function(){b()(t.setElements)&&t.setElements(n.geom.elements)})),M(this.config,t,this.interactionTypes,(function(t,e){t[0]?n.rootChart.interaction(e):n.rootChart.removeInteraction(e)})),this.config=Object(ot.a)(t)}},{key:"destroy",value:function(){this.geom&&(this.geom.destroy(),this.geom=null),this.config={}}}]),t}(),lt=function(t){i()(n,t);var e=at(n);function n(t){var r;return p()(this,n),(r=e.call(this,t)).interactionTypes=[],r.geomHelper=new ut,r}return d()(n,[{key:"componentWillUnmount",value:function(){this.geomHelper.destroy()}},{key:"render",value:function(){var t=this;return this.geomHelper.update(this.props,this),v.a.createElement(v.a.Fragment,null,v.a.Children.map(this.props.children,(function(e){return v.a.isValidElement(e)?v.a.cloneElement(e,{parentInstance:t.geomHelper.geom}):v.a.createElement(v.a.Fragment,null)})))}}]),n}(v.a.Component);lt.contextType=S.a,e.a=lt},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),i=n.n(r),o=n(47);function a(){return i.a.useContext(o.a)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(446),s=n(90),u=n(42),l=r(n(257)),c="update_status",f=["visible","tip","delegateObject"],p=["container","group","shapesMap","isRegister","isUpdating","destroyed"],h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return(0,o.each)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=(0,s.applyMatrix2BBox)(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),(0,a.propagationDelegate)(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",(0,u.getBBoxWithClip)(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,r=e.component,o=(0,i.__rest)(e,["id","component"]),a=new r((0,i.__assign)((0,i.__assign)({},o),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return a.init(),a.render(),this.get("isRegister")&&this.registerElement(a.get("group")),a},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=(0,s.getMatrixByTranslate)(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");(0,o.isNil)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},e.prototype.updateElements=function(t,e){var n,r=this,i=this.get("animate"),a=this.get("animateOption"),s=t.getChildren().slice(0);(0,o.each)(s,(function(t){var s=t.get("id"),l=r.getElementById(s),h=t.get("name");if(l)if(t.get("isComponent")){var d=t.get("component"),g=l.get("component"),v=(0,o.pick)(d.cfg,(0,o.difference)((0,o.keys)(d.cfg),p));g.update(v),l.set(c,"update")}else{var y=r.getReplaceAttrs(l,t);i&&a.update?r.updateAnimation(h,l,y,a.update):l.attr(y),t.isGroup()&&r.updateElements(t,l),(0,o.each)(f,(function(e){l.set(e,t.get(e))})),(0,u.updateClip)(l,t),n=l,l.set(c,"update")}else{e.add(t);var m=e.getChildren();if(m.splice(m.length-1,1),n){var _=m.indexOf(n);m.splice(_+1,0,t)}else m.unshift(t);if(r.registerElement(t),t.set(c,"add"),t.get("isComponent")?(d=t.get("component")).set("container",e):t.isGroup()&&r.registerNewGroup(t),n=t,i){var b=r.get("isInit")?a.appear:a.enter;b&&r.addAnimation(h,t,b)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,o.each)(e,(function(t){t.set(c,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,o.mix)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return(0,o.each)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,o.each)(n,(function(t){e.registerElement(t),t.set(c,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,o.each)(e,(function(t,e){!t.get(c)||t.destroyed?n.push([e,t]):t.set(c,null)}));var r=this.get("animate"),i=this.get("animateOption");(0,o.each)(n,(function(n){var a=n[0],s=n[1];if(!s.destroyed){var u=s.get("name");if(r&&i.leave){var l=(0,o.mix)({callback:function(){t.removeElement(s)}},i.leave);t.removeAnimation(u,s,l)}else t.removeElement(s)}delete e[a]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(l.default),d=h;e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearDom=function(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])},e.createBBox=i,e.distance=a,e.formatPadding=function(t){var e=0,n=0,i=0,o=0;return(0,r.isNumber)(t)?e=n=i=o=t:(0,r.isArray)(t)&&(e=t[0],i=(0,r.isNil)(t[1])?t[0]:t[1],o=(0,r.isNil)(t[2])?t[0]:t[2],n=(0,r.isNil)(t[3])?i:t[3]),[e,i,o,n]},e.getBBoxWithClip=function t(e){var n,o=e.getClip(),a=o&&o.getBBox();if(e.isGroup()){var u=1/0,l=-1/0,c=1/0,f=-1/0,p=e.getChildren();p.length>0?(0,r.each)(p,(function(e){if(e.get("visible")){if(e.isGroup()&&0===e.get("children").length)return!0;var n=t(e),r=e.applyToMatrix([n.minX,n.minY,1]),i=e.applyToMatrix([n.minX,n.maxY,1]),o=e.applyToMatrix([n.maxX,n.minY,1]),a=e.applyToMatrix([n.maxX,n.maxY,1]),s=Math.min(r[0],i[0],o[0],a[0]),p=Math.max(r[0],i[0],o[0],a[0]),h=Math.min(r[1],i[1],o[1],a[1]),d=Math.max(r[1],i[1],o[1],a[1]);s<u&&(u=s),p>l&&(l=p),h<c&&(c=h),d>f&&(f=d)}})):(u=0,l=0,c=0,f=0),n=i(u,c,l-u,f-c)}else n=e.getBBox();return a?s(n,a):n},e.getCirclePoint=function(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},e.getTextPoint=function(t,e,n,r){var i=a(t,e),s=r/i,u=0;return"start"===n?u=0-s:"end"===n&&(u=1+s),{x:o(t.x,e.x,u),y:o(t.y,e.y,u)}},e.getValueByPercent=o,e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.intersectBBox=s,e.mergeBBox=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),a=Math.max(t.maxY,e.maxY);return i(n,r,o-n,a-r)},e.near=void 0,e.pointsToBBox=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},e.regionToBBox=function(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},e.toPx=function(t){return t+"px"},e.updateClip=function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var r={type:n.get("type"),attrs:n.attr()};t.setClip(r)}else t.setClip(null)}},e.wait=void 0;var r=n(0);function i(t,e,n,r){var i=t+n,o=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(o)?0:o}}function o(t,e,n){return(1-n)*t+e*n}function a(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function s(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY);return i(n,r,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-r)}e.wait=function(t){return new Promise((function(e){setTimeout(e,t)}))},e.near=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1101);Object.defineProperty(e,"area",{enumerable:!0,get:function(){return r.area}});var i=n(1102);Object.defineProperty(e,"line",{enumerable:!0,get:function(){return i.line}});var o=n(1103);Object.defineProperty(e,"point",{enumerable:!0,get:function(){return o.point}});var a=n(1104);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return a.interval}});var s=n(525);Object.defineProperty(e,"polygon",{enumerable:!0,get:function(){return s.polygon}});var u=n(1105);Object.defineProperty(e,"edge",{enumerable:!0,get:function(){return u.edge}});var l=n(1106);Object.defineProperty(e,"schema",{enumerable:!0,get:function(){return l.schema}});var c=n(1107);Object.defineProperty(e,"violin",{enumerable:!0,get:function(){return c.violin}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){(0,r.assign)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}();e.default=i},function(t,e,n){"use strict";var r=n(1063),i=n(1064),o=n(496),a=n(1065);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReplaceAttrs=e.getPolygonCentroid=e.getAngle=e.getArcPath=e.getSectorPath=e.polarToCartesian=void 0;var r=n(0);function i(t){return 1===Array.from(new Set(t)).length}function o(t){return((0,r.min)(t)+(0,r.max)(t))/2}function a(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}e.polarToCartesian=a,e.getSectorPath=function(t,e,n,r,i,o){void 0===o&&(o=0);var s=a(t,e,n,r),u=a(t,e,n,i),l=a(t,e,o,r),c=a(t,e,o,i);if(i-r===2*Math.PI){var f=a(t,e,n,r+Math.PI),p=a(t,e,o,r+Math.PI),h=[["M",s.x,s.y],["A",n,n,0,1,1,f.x,f.y],["A",n,n,0,1,1,u.x,u.y],["M",l.x,l.y]];return o&&(h.push(["A",o,o,0,1,0,p.x,p.y]),h.push(["A",o,o,0,1,0,c.x,c.y])),h.push(["M",s.x,s.y]),h.push(["Z"]),h}var d=i-r<=Math.PI?0:1,g=[["M",s.x,s.y],["A",n,n,0,d,1,u.x,u.y],["L",c.x,c.y]];return o&&g.push(["A",o,o,0,d,0,l.x,l.y]),g.push(["L",s.x,s.y]),g.push(["Z"]),g},e.getArcPath=function(t,e,n,i,o){var s=a(t,e,n,i),u=a(t,e,n,o);if((0,r.isNumberEqual)(o-i,2*Math.PI)){var l=a(t,e,n,i+Math.PI);return[["M",s.x,s.y],["A",n,n,0,1,1,l.x,l.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,0,l.x,l.y],["A",n,n,0,1,0,s.x,s.y],["Z"]]}var c=o-i<=Math.PI?0:1;return[["M",s.x,s.y],["A",n,n,0,c,1,u.x,u.y]]},e.getAngle=function(t,e){var n,i,o=function(t){if((0,r.isEmpty)(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,o=t[0].y;return(0,r.each)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,o=o<t.y?t.y:o})),{minX:e,maxX:n,minY:i,maxY:o,centerX:(e+n)/2,centerY:(i+o)/2}}(t.points),a=e.startAngle,s=e.endAngle-a;return e.isTransposed?(n=o.maxY*s,i=o.minY*s):(n=o.maxX*s,i=o.minX*s),{startAngle:i+=a,endAngle:n+=a}},e.getPolygonCentroid=function(t,e){if((0,r.isNumber)(t)&&(0,r.isNumber)(e))return[t,e];if(e=e,i(t=t)||i(e))return[o(t),o(e)];for(var n,a,s=-1,u=0,l=0,c=t.length-1,f=0;++s<t.length;)n=c,c=s,f+=a=t[n]*e[c]-t[c]*e[n],u+=(t[n]+t[c])*a,l+=(e[n]+e[c])*a;return[u/(f*=3),l/f]},e.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return(0,r.each)(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=a.a.createContext(null);s.displayName="ChartViewContext";var u=s.Consumer;function l(t){return function(e){return a.a.createElement(u,null,(function(n){return a.a.createElement(t,i()({chartView:n},e))}))}}e.a=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoordinateBBox=e.getCoordinateClipCfg=e.getAngleByPoint=e.isPointInCoordinate=e.getDistanceToCenter=e.isFullCircle=e.getXDimensionLength=void 0;var r=n(46),i=n(70),o=n(81);e.getXDimensionLength=function(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},e.isFullCircle=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e===2*Math.PI}return!1},e.getDistanceToCenter=function(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))},e.isPointInCoordinate=function(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,o=t.end;n=(0,i.isBetween)(e.x,r.x,o.x)&&(0,i.isBetween)(e.y,r.y,o.y)}else{var a=t.invert(e);n=(0,i.isBetween)(a.x,0,1)&&(0,i.isBetween)(a.y,0,1)}return n},e.getAngleByPoint=function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},e.getCoordinateClipCfg=function(t,e){void 0===e&&(e=0);var n,i=t.start,o=t.end,a=t.getWidth(),s=t.getHeight();if(t.isPolar){var u=t.startAngle,l=t.endAngle,c=t.getCenter(),f=t.getRadius();return{type:"path",startState:{path:(0,r.getSectorPath)(c.x,c.y,f+e,u,u)},endState:function(t){var n=(l-u)*t+u;return{path:(0,r.getSectorPath)(c.x,c.y,f+e,u,n)}},attrs:{path:(0,r.getSectorPath)(c.x,c.y,f+e,u,l)}}}return n=t.isTransposed?{height:s+2*e}:{width:a+2*e},{type:"rect",startState:{x:i.x-e,y:o.y-e,width:t.isTransposed?a+2*e:0,height:t.isTransposed?0:s+2*e},endState:n,attrs:{x:i.x-e,y:o.y-e,width:a+2*e,height:s+2*e}}},e.getCoordinateBBox=function(t,e){void 0===e&&(e=0);var n=t.start,r=t.end,i=t.getWidth(),a=t.getHeight(),s=Math.min(n.x,r.x),u=Math.min(n.y,r.y);return o.BBox.fromRange(s-e,u-e,s+i+e,u+a+e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.geometry=function(t){var e=t.chart,n=t.options,u=n.type,l=n.args,c=n.mapping,f=n.xField,p=n.yField,h=n.colorField,d=n.shapeField,g=n.sizeField,v=n.tooltipFields,y=n.label,m=n.state,_=n.customInfo;if(!c)return t;var b=c.color,x=c.shape,w=c.size,S=c.style,E=c.tooltip,A=e[u](l).position(f+"*"+p);if((0,i.isString)(b))h?A.color(h,b):A.color(b);else if((0,i.isFunction)(b)){var O=a(n,"color"),T=O.mappingFields,C=O.tileMappingField;A.color(C,s(T,b))}else h&&A.color(h,b);if((0,i.isString)(x))d?A.shape(d,[x]):A.shape(x);else if((0,i.isFunction)(x)){var P=a(n,"shape");T=P.mappingFields,C=P.tileMappingField,A.shape(C,s(T,x))}else d&&A.shape(d,x);if((0,i.isNumber)(w))g?A.size(g,w):A.size(w);else if((0,i.isFunction)(w)){var M=a(n,"size");T=M.mappingFields,C=M.tileMappingField,A.size(C,s(T,w))}else g&&A.size(g,w);if((0,i.isFunction)(S)){var I=a(n,"style");T=I.mappingFields,C=I.tileMappingField,A.style(C,s(T,S))}else(0,i.isObject)(S)&&A.style(S);if(!1===v?A.tooltip(!1):(0,i.isEmpty)(v)||A.tooltip(v.join("*"),s(v,E)),!1===y)A.label(!1);else if(y){var k=y.callback,R=y.fields,L=(0,r.__rest)(y,["callback","fields"]);A.label({fields:R||[p],callback:k,cfg:(0,o.transformLabel)(L)})}return m&&A.state(m),_&&A.customInfo(_),[f,p].filter((function(t){return t!==h})).forEach((function(t){e.legend(t,!1)})),(0,r.__assign)((0,r.__assign)({},t),{ext:{geometry:A}})},e.getMappingField=a,e.getMappingFunction=s;var r=n(1),i=n(0),o=n(7);function a(t,e){var n=t.type,o=t.xField,a=t.yField,s=t.colorField,u=t.shapeField,l=t.sizeField,c=t.styleField,f=t.rawFields,p=void 0===f?[]:f,h=[];if("color"===e)h=(0,r.__spreadArrays)([s||o],p);else if("shape"===e)h=(0,r.__spreadArrays)([u||o],p);else if("size"===e)h=(0,r.__spreadArrays)([l||o],p);else{h=(0,r.__spreadArrays)([o,a,s,u,l,c],p);var d=["x","y","color","shape","size","style"].indexOf(e),g=h[d];h.splice(d,1),h.unshift(g)}var v=(0,i.uniq)(h.filter((function(t){return!!t}))),y="line"===n&&[o,a].includes(v.join("*"))?"":v.join("*");return{mappingFields:v,tileMappingField:y}}function s(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119);e.default=function(t){return r.default(t,"String")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearAnimationFrame=e.requestAnimationFrame=e.isNumberEqual=e.mod=e.toRadian=e.each=e.isArray=e.isFunction=e.isString=e.isNil=e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},e.inBox=function(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var r=n(0);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return r.toRadian}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return r.mod}}),Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return r.isNumberEqual}}),Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return r.requestAnimationFrame}}),Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return r.clearAnimationFrame}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=e.SVG_ATTR_MAP=e.SHAPE_TO_TAGS=void 0,e.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},e.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},e.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return r.clearAnimationFrame}}),e.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.inBox=function(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return r.isNumberEqual}}),e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return r.mod}}),Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return r.requestAnimationFrame}}),Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return r.toRadian}});var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVG_ATTR_MAP=e.SHAPE_TO_TAGS=e.EVENTS=void 0,e.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},e.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},e.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),i=n(61);e.default=function(t,e){if(t)if(r.default(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(i.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68));e.default=function(t){return(0,i.default)(t,"Function")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.geometry=e.getMappingFunction=e.getMappingField=void 0;var r=n(1),i=n(0),o=n(14);function a(t,e){var n=t.type,o=t.xField,a=t.yField,s=t.colorField,u=t.shapeField,l=t.sizeField,c=t.styleField,f=t.rawFields,p=void 0===f?[]:f,h=[];if("color"===e)h=r.__spreadArrays([s||o],p);else if("shape"===e)h=r.__spreadArrays([u||o],p);else if("size"===e)h=r.__spreadArrays([l||o],p);else{h=r.__spreadArrays([o,a,s,u,l,c],p);var d=["x","y","color","shape","size","style"].indexOf(e),g=h[d];h.splice(d,1),h.unshift(g)}var v=i.uniq(h.filter((function(t){return!!t}))),y="line"===n&&[o,a].includes(v.join("*"))?"":v.join("*");return{mappingFields:v,tileMappingField:y}}function s(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}e.getMappingField=a,e.getMappingFunction=s,e.geometry=function(t){var e=t.chart,n=t.options,u=n.type,l=n.args,c=n.mapping,f=n.xField,p=n.yField,h=n.colorField,d=n.shapeField,g=n.sizeField,v=n.tooltipFields,y=n.label,m=n.state,_=n.customInfo;if(!c)return t;var b=c.color,x=c.shape,w=c.size,S=c.style,E=c.tooltip,A=e[u](l).position(f+"*"+p);if(i.isString(b))h?A.color(h,b):A.color(b);else if(i.isFunction(b)){var O=a(n,"color"),T=O.mappingFields,C=O.tileMappingField;A.color(C,s(T,b))}else h&&A.color(h,b);if(i.isString(x))d?A.shape(d,[x]):A.shape(x);else if(i.isFunction(x)){var P=a(n,"shape");T=P.mappingFields,C=P.tileMappingField,A.shape(C,s(T,x))}else d&&A.shape(d,x);if(i.isNumber(w))g?A.size(g,w):A.size(w);else if(i.isFunction(w)){var M=a(n,"size");T=M.mappingFields,C=M.tileMappingField,A.size(C,s(T,w))}else g&&A.size(g,w);if(i.isFunction(S)){var I=a(n,"style");T=I.mappingFields,C=I.tileMappingField,A.style(C,s(T,S))}else i.isObject(S)&&A.style(S);if(!1===v?A.tooltip(!1):i.isEmpty(v)||A.tooltip(v.join("*"),s(v,E)),!1===y)A.label(!1);else if(y){var k=y.callback,R=y.fields,L=r.__rest(y,["callback","fields"]);A.label({fields:R||[p],callback:k,cfg:o.transformLabel(L)})}return m&&A.state(m),_&&A.customInfo(_),[f,p].filter((function(t){return t!==h})).forEach((function(t){e.legend(t,!1)})),r.__assign(r.__assign({},t),{ext:{geometry:A}})}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"color",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"cubehelix",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"gray",{enumerable:!0,get:function(){return a.gray}}),Object.defineProperty(e,"hcl",{enumerable:!0,get:function(){return a.hcl}}),Object.defineProperty(e,"hsl",{enumerable:!0,get:function(){return o.hsl}}),Object.defineProperty(e,"lab",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"lch",{enumerable:!0,get:function(){return a.lch}}),Object.defineProperty(e,"rgb",{enumerable:!0,get:function(){return o.rgb}});var o=l(n(246)),a=l(n(779)),s=r(n(780));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function l(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,r.default)(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(146),a=n(72),s=n(264),u=n(52),l=n(185),c=n(265),f=n(30),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return l},e.prototype.getGroupBase=function(){return c.default},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=f.getBBoxMethod(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),u=s/2,l=r-u,c=i-u;return{x:l,y:c,minX:l,minY:c,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||a.createDom(this),o.setClip(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,f=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&f.setAttribute(u.SVG_ATTR_MAP.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&f.setAttribute(u.SVG_ATTR_MAP.strokeOpacity,l),c&&f.setAttribute(u.SVG_ATTR_MAP.lineWidth,c))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(u.SVG_ATTR_MAP[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(u.SVG_ATTR_MAP[e],"url(#"+i+")")}else r.setAttribute(u.SVG_ATTR_MAP[e],n);else r.setAttribute(u.SVG_ATTR_MAP[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,a=r.shadowOffsetY,s=r.shadowBlur,u=r.shadowColor;(i||a||s||u)&&o.setShadow(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&o.setTransform(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(i.AbstractShape);e.default=p},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(30),s=n(150),u=n(74),l=n(277),c=n(54),f=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(191)),p=r(n(278));function h(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,o.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,o.__assign)((0,o.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return p.default},e.prototype.onCanvasChange=function(t){(0,l.refreshElement)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,a.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,s=e.height,u=this.getHitLineWidth(),l=u/2,c=r-l,f=i-l;return{x:c,y:f,minX:c,minY:f,maxX:r+o+l,maxY:i+s+l,width:o+u,height:s+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||(0,u.createDom)(this),(0,s.setClip)(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,l=n.lineWidth,f=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&f.setAttribute(c.SVG_ATTR_MAP.fillOpacity,s)),this.canStroke&&l>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),u&&f.setAttribute(c.SVG_ATTR_MAP.strokeOpacity,u),l&&f.setAttribute(c.SVG_ATTR_MAP.lineWidth,l))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(c.SVG_ATTR_MAP[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(c.SVG_ATTR_MAP[e],"url(#"+i+")")}else r.setAttribute(c.SVG_ATTR_MAP[e],n);else r.setAttribute(c.SVG_ATTR_MAP[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,u=r.shadowColor;(i||o||a||u)&&(0,s.setShadow)(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&(0,s.setTransform)(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(a.AbstractShape),g=d;e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTooltipMapping=void 0;var r=n(0);e.getTooltipMapping=function(t,e){if(!1===t)return{fields:!1};var n=r.get(t,"fields"),i=r.get(t,"formatter");return i&&!n&&(n=e),{fields:n,formatter:i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTooltipMapping=function(t,e){if(!1===t)return{fields:!1};var n=(0,r.get)(t,"fields"),i=(0,r.get)(t,"formatter");return i&&!n&&(n=e),{fields:n,formatter:i}};var r=n(0)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Category",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Identity",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Linear",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Pow",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Quantile",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Quantize",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"TimeCat",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"getScale",{enumerable:!0,get:function(){return h.getScale}}),Object.defineProperty(e,"getTickMethod",{enumerable:!0,get:function(){return g.getTickMethod}}),Object.defineProperty(e,"registerScale",{enumerable:!0,get:function(){return h.registerScale}}),Object.defineProperty(e,"registerTickMethod",{enumerable:!0,get:function(){return g.registerTickMethod}});var i=r(n(142)),o=r(n(439)),a=r(n(856)),s=r(n(440)),u=r(n(859)),l=r(n(860)),c=r(n(861)),f=r(n(441)),p=r(n(862)),h=n(863),d=r(n(864)),g=n(865);(0,h.registerScale)("cat",o.default),(0,h.registerScale)("category",o.default),(0,h.registerScale)("identity",d.default),(0,h.registerScale)("linear",s.default),(0,h.registerScale)("log",u.default),(0,h.registerScale)("pow",l.default),(0,h.registerScale)("time",c.default),(0,h.registerScale)("timeCat",a.default),(0,h.registerScale)("quantize",f.default),(0,h.registerScale)("quantile",p.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u}));var r=n(3),i=n.n(r),o=n(635),a=function(t){var e=t.error;return i.a.createElement("div",{className:"bizcharts-error",role:"alert"},i.a.createElement("p",null,"BizCharts something went wrong:"),i.a.createElement("pre",null,e.message))};function s(t){return a(t)}var u=function(t){a=t};e.b=o.ErrorBoundary},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={}.toString,i=function(t,e){return r.call(t)==="[object "+e+"]"};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scrollbar=e.Slider=e.HtmlTooltip=e.ContinuousLegend=e.CategoryLegend=e.CircleGrid=e.LineGrid=e.CircleAxis=e.LineAxis=e.Annotation=e.Crosshair=e.Component=e.GroupComponent=e.HtmlComponent=e.Scale=e.registerScale=e.getScale=e.Coordinate=e.registerCoordinate=e.getCoordinate=e.Color=e.Attribute=e.getAttribute=e.Adjust=e.getAdjust=e.registerAdjust=e.AbstractShape=e.AbstractGroup=e.Event=void 0;var r=n(30);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return r.Event}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return r.AbstractGroup}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return r.AbstractShape}});var i=n(435);Object.defineProperty(e,"registerAdjust",{enumerable:!0,get:function(){return i.registerAdjust}}),Object.defineProperty(e,"getAdjust",{enumerable:!0,get:function(){return i.getAdjust}}),Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return i.Adjust}});var o=n(254);Object.defineProperty(e,"getAttribute",{enumerable:!0,get:function(){return o.getAttribute}}),Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.Attribute}});var a=n(254);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return a.Color}});var s=n(876);Object.defineProperty(e,"getCoordinate",{enumerable:!0,get:function(){return s.getCoordinate}}),Object.defineProperty(e,"registerCoordinate",{enumerable:!0,get:function(){return s.registerCoordinate}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return s.Coordinate}});var u=n(66);Object.defineProperty(e,"getScale",{enumerable:!0,get:function(){return u.getScale}}),Object.defineProperty(e,"registerScale",{enumerable:!0,get:function(){return u.registerScale}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return u.Scale}});var l=n(180);Object.defineProperty(e,"Annotation",{enumerable:!0,get:function(){return l.Annotation}}),Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return l.Component}}),Object.defineProperty(e,"Crosshair",{enumerable:!0,get:function(){return l.Crosshair}}),Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return l.GroupComponent}}),Object.defineProperty(e,"HtmlComponent",{enumerable:!0,get:function(){return l.HtmlComponent}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return l.Slider}}),Object.defineProperty(e,"Scrollbar",{enumerable:!0,get:function(){return l.Scrollbar}});var c=l.Axis.Line,f=l.Axis.Circle;e.LineAxis=c,e.CircleAxis=f;var p=l.Grid.Line,h=l.Grid.Circle;e.LineGrid=p,e.CircleGrid=h;var d=l.Legend.Category,g=l.Legend.Continuous;e.CategoryLegend=d,e.ContinuousLegend=g;var v=l.Tooltip.Html;e.HtmlTooltip=v},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.uniq=e.omit=e.padEnd=e.isBetween=void 0;var i=n(0);e.isBetween=function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i},e.padEnd=function(t,e,n){if((0,i.isString)(t))return t.padEnd(e,n);if((0,i.isArray)(t)){var r=t.length;if(r<e)for(var o=e-r,a=0;a<o;a++)t.push(n)}return t},e.omit=function(t,e){return"object"===(0,r.default)(t)&&e.forEach((function(e){delete t[e]})),t},e.uniq=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=new Map);for(var r=0,i=t;r<i.length;r++){var o=i[r];n.has(o)||(e.push(o),n.set(o,!0))}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(51),a=n(145),s=n(30),u=n(144),l=n(263),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return u},e.prototype.getGroupBase=function(){return l.default},e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=s.getBBoxMethod(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,u=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:u}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!o.intersectRect(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=o.intersectRect(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isFill()&&(o.isNil(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(o.isNil(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(i.AbstractShape);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.moveTo=e.sortDom=e.createDom=e.createSVGElement=void 0;var r=n(0),i=n(52);function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}e.createSVGElement=o,e.createDom=function(t){var e=i.SHAPE_TO_TAGS[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=o(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(r)}return r},e.sortDom=function(t,e){var n=t.get("el"),i=r.toArray(n.children).sort(e),o=document.createDocumentFragment();i.forEach((function(t){o.appendChild(t)})),n.appendChild(o)},e.moveTo=function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(30),s=n(53),u=n(149),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(148)),c=r(n(276));function f(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,o.__assign)((0,o.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return l},e.prototype.getGroupBase=function(){return c.default},e.prototype.onCanvasChange=function(t){(0,u.refreshElement)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,a.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,o=n.y-r,s=n.x+n.width+r,u=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:s,maxY:u}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),(0,u.applyAttrsToContext)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!(0,s.intersectRect)(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),(0,u.applyAttrsToContext)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=(0,s.intersectRect)(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&((0,s.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,s.isNil)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(a.AbstractShape),h=p;e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDom=function(t){var e=i.SHAPE_TO_TAGS[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=o(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(r)}return r},e.createSVGElement=o,e.moveTo=function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)},e.sortDom=function(t,e){var n=t.get("el"),i=(0,r.toArray)(n.children).sort(e),o=document.createDocumentFragment();i.forEach((function(t){o.appendChild(t)})),n.appendChild(o)};var r=n(0),i=n(54);function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},function(t,e,n){"use strict";var r=n(6),i=n.n(r),o=n(22),a=n.n(o),s=n(77),u=n.n(s);e.a=function(t){var e=[];return function t(n){if(e.push(n),e.includes(n))return n;if("object"!==i()(n)||null===n)return n;var r;if(a()(n)){r=[];for(var o=0,s=n.length;o<s;o++)"object"===i()(n[o])&&null!=n[o]?r[o]=t(n[o]):r[o]=n[o]}else r={},u()(n,(function(e,n){"object"===i()(e)&&null!=e?r[n]=t(e):r[n]=e}));return r}(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=a.a.createContext(null);function u(t){var e=a.a.forwardRef((function(e,n){return a.a.createElement(s.Consumer,null,(function(r){return a.a.createElement(t,i()({ref:n},r,e))}))}));return e.displayName=t.name,e}s.displayName="RootChartContext",e.a=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55);e.default=r.default},function(t,e,n){"use strict";var r=n(55),i=n.n(r),o=n(50),a=n.n(o);e.a=function(t,e){var n={};return i()(t,(function(t,r){var i=!1;e.forEach((function(t){(a()(t)&&t===r||t instanceof RegExp&&r.match(t))&&(i=!0)})),i||(n[r]=t)})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RANDOM=e.EPSILON=e.ARRAY_TYPE=void 0,e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))},e.setMatrixArrayType=function(t){e.ARRAY_TYPE=i=t},e.toRadian=function(t){return t*a};var r=1e-6;e.EPSILON=r;var i="undefined"!==typeof Float32Array?Float32Array:Array;e.ARRAY_TYPE=i;var o=Math.random;e.RANDOM=o;var a=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"catmullRom2Bezier",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"fillPath",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"fillPathByDiff",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"formatPath",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"getArcParams",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getLineIntersect",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"isPolygonsIntersect",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parsePathArray",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"parsePathString",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"path2Absolute",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"path2Curve",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"path2Segments",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"pathIntersection",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"reactPath",{enumerable:!0,get:function(){return d.default}});var i=r(n(420)),o=r(n(811)),a=r(n(814)),s=r(n(815)),u=r(n(816)),l=r(n(817)),c=r(n(822)),f=r(n(424)),p=r(n(422)),h=r(n(423)),d=r(n(421)),g=r(n(425)),v=r(n(823)),y=r(n(426)),m=r(n(824)),_=r(n(427))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toPoints=e.getRegionBBox=e.BBox=void 0;var r=n(0),i=n(20),o=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.height=r,this.width=n}return t.fromRange=function(e,n,r,i){return new t(e,n,r-e,i-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,r.each)(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,r.each)(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var r=e.width,o=e.height;switch(n){case i.DIRECTION.TOP:case i.DIRECTION.TOP_LEFT:case i.DIRECTION.TOP_RIGHT:return t.fromRange(this.minX,this.minY+o,this.maxX,this.maxY);case i.DIRECTION.RIGHT:case i.DIRECTION.RIGHT_TOP:case i.DIRECTION.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case i.DIRECTION.BOTTOM:case i.DIRECTION.BOTTOM_LEFT:case i.DIRECTION.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-o);case i.DIRECTION.LEFT:case i.DIRECTION.LEFT_TOP:case i.DIRECTION.LEFT_BOTTOM:return t.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=e[0],r=e[1],i=e[2],o=e[3];return new t(this.x+o,this.y+n,this.width-o-r,this.height-n-i)},t.prototype.expand=function(e){var n=e[0],r=e[1],i=e[2],o=e[3];return new t(this.x-o,this.y-n,this.width+o+r,this.height+n+i)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();e.BBox=o,e.getRegionBBox=function(t,e){var n=e.start,r=e.end;return new o(t.x+t.width*n.x,t.y+t.height*n.y,t.width*Math.abs(r.x-n.x),t.height*Math.abs(r.y-n.y))},e.toPoints=function(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),i=n.n(r),o=n(76);function a(){return i.a.useContext(o.a).chart}},function(t,e,n){"use strict";var r=n(6),i=n.n(r),o=n(55),a=n.n(o),s=n(22),u=n.n(s),l=n(61),c=n.n(l);function f(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function p(t){return u()(t)?t.length:c()(t)?Object.keys(t).length:0}e.a=function(t,e){if(f(t,e))return!0;if("object"!==i()(t)||null===t||"object"!==i()(e)||null===e)return!1;if(u()(t)!==u()(e))return!1;if(p(t)!==p(e))return!1;var n=!0;return a()(t,(function(t,r){return!!f(t,e[r])||(n=!1)})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var r=n(1),i=n(23),o=n(121),a=n(1147),s=n(1151),u=n(539),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,i=n.xField,s=n.yField,l=n.isPercent,c=r.__assign(r.__assign({},n),{xField:s,yField:i});a.meta({chart:e,options:c}),e.changeData(o.getDataWhetherPecentage(u.transformBarData(t),i,s,i,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Bar=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;var r=n(1),i=n(23),o=n(121),a=n(196),s=n(1154),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent,s=this.chart,u=this.options;a.meta({chart:s,options:u}),this.chart.changeData(o.getDataWhetherPecentage(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Column=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68));e.default=function(t){return(0,i.default)(t,"String")}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"Number")};e.default=o},function(t,e,n){"use strict";function r(t){return Math.min.apply(null,t)}function i(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},e.getBBoxByArray=function(t,e){var n=r(t),o=r(e),a=i(t),s=i(e);return{x:n,y:o,width:a-n,height:s-o}},e.getBBoxRange=function(t,e,n,o){return{minX:r([t,n]),maxX:i([t,n]),minY:r([e,o]),maxY:i([e,o])}},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.__assign=void 0,e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:l(t[r](e)),done:"return"===r}:i?i(e):e}:i}},e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function f(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=s(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}},e.__await=l,e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},e.__classPrivateFieldGet=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},e.__classPrivateFieldSet=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},e.__createBinding=function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},e.__decorate=function(t,e,n,r){var o,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},e.__exportStar=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},e.__extends=function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e.__generator=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__metadata=function(t,e){if("object"===("undefined"===typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__read=u,e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t},e.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},e.__values=s;var i=r(n(6)),o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)},a=function(){return e.__assign=a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t){return this instanceof l?(this.v=t,this):new l(t)}e.__assign=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyMatrix2BBox=function(t,e){var n=s(t,[e.minX,e.minY]),r=s(t,[e.maxX,e.minY]),i=s(t,[e.minX,e.maxY]),o=s(t,[e.maxX,e.maxY]),a=Math.min(n[0],r[0],i[0],o[0]),u=Math.max(n[0],r[0],i[0],o[0]),l=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]);return{x:a,y:l,minX:a,minY:l,maxX:u,maxY:c,width:u-a,height:c-l}},e.applyRotate=function(t,e,n,r){if(e){var i=o({x:n,y:r},e,t.getMatrix());t.setMatrix(i)}},e.applyTranslate=function(t,e,n){var r=a({x:e,y:n});t.attr("matrix",r)},e.getAngleByMatrix=function(t){var e=[0,0,0];return r.vec3.transformMat3(e,[1,0,0],t),Math.atan2(e[1],e[0])},e.getMatrixByAngle=o,e.getMatrixByTranslate=a;var r=n(32),i=[1,0,0,0,1,0,0,0,1];function o(t,e,n){return void 0===n&&(n=i),e?r.ext.transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function a(t,e){return t.x||t.y?r.ext.transform(e||i,[["t",t.x,t.y]]):null}function s(t,e){var n=[0,0];return r.vec2.transformMat3(n,e,t),n}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(435),a=n(254),s=n(0),u=n(97),l=(0,i.__importDefault)(n(266)),c=n(20),f=n(70),p=(0,i.__importDefault)(n(272)),h=n(274),d=n(26),g=n(973),v=n(463),y=n(974),m=n(464),_=n(48),b=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var r=e.container,i=e.labelsContainer,o=e.coordinate,a=e.data,s=e.sortable,u=void 0!==s&&s,l=e.visible,c=void 0===l||l,f=e.theme,p=e.scales,h=void 0===p?{}:p,d=e.scaleDefs,g=void 0===d?{}:d,v=e.intervalPadding,y=e.dodgePadding,m=e.maxColumnWidth,_=e.minColumnWidth,b=e.columnWidthRatio,x=e.roseWidthRatio,w=e.multiplePieWidthRatio,S=e.zIndexReversed;return n.container=r,n.labelsContainer=i,n.coordinate=o,n.data=a,n.sortable=u,n.visible=c,n.userTheme=f,n.scales=h,n.scaleDefs=g,n.intervalPadding=v,n.dodgePadding=y,n.maxColumnWidth=m,n.minColumnWidth=_,n.columnWidthRatio=b,n.roseWidthRatio=x,n.multiplePieWidthRatio=w,n.zIndexReversed=S,n}return(0,i.__extends)(e,t),e.prototype.position=function(t){var e=t;(0,s.isPlainObject)(t)||(e={fields:(0,y.parseFields)(t)});var n=(0,s.get)(e,"fields");return 1===n.length&&(n.unshift("1"),(0,s.set)(e,"fields",n)),(0,s.set)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return((0,s.isString)(t)||(0,s.isPlainObject)(t))&&(e=[t]),(0,s.each)(e,(function(t,n){(0,s.isObject)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if((0,s.isString)(t)){var n=(0,y.parseFields)(t);this.styleOption={fields:n,callback:e}}else{var r=t,i=(n=r.fields,r.callback),o=r.cfg;this.styleOption=n||i||o?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if((0,s.isString)(t)){var n=(0,y.parseFields)(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if((0,s.isString)(t)){var r={},i=(0,y.parseFields)(t);r.fields=i,(0,s.isFunction)(e)?r.callback=e:(0,s.isPlainObject)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,r=t.isCoordinateChanged,i=this.attributeOption,o=this.lastAttributeOption;(0,s.isEqual)(i,o)?!e||!n&&(0,s.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=r},e.prototype.paint=function(t){void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,s.deepMix)({},(0,u.getDefaultAnimateCfg)(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var e=this.beforeMappingData,n=this.beforeMapping(e);this.dataArray=new Array(n.length);for(var r=0;r<n.length;r++){var o=n[r];this.dataArray[r]=this.mapping(o)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var a=this.container,l=this.type,c=this.coordinate,f=(0,s.get)(this.animateOption,"appear"),p=this.getYScale(),h=c.convert({x:0,y:p.scale(this.getYMinValue())});(0,u.doGroupAppearAnimate)(a,f,l,c,h)}this.labelOption&&this.renderLabels((0,s.flatten)(this.dataArray),t),this.lastAttributeOption=(0,i.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,s.each)(this.attributes,(function(e){c.GROUP_ATTRS.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,s.isEmpty)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,i=0,o=r.length;i<o;i++){var a=r[i],s=a.field;a.isIdentity?n.push(a.values):n.push(e[s])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){var e=(t=(0,s.isArray)(t)?t[0]:t)[c.FIELD_ORIGIN];if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var i,o,a=this.type,u=this.getXScale(),l=this.getYScale(),f=u.field||"x",p=e[l.field||"y"];i="identity"===u.type?u.values[0]:e[f],o="interval"===a||"schema"===a?""+i:"line"===a||"area"===a||"path"===a?a:i+"-"+p;var h=this.groupScales;(0,s.isEmpty)(h)&&(h=(0,s.get)(this.getAttribute("color"),"scales",[])),r=0;for(var d=h.length;r<d;r++)o=o+"-"+e[h[r].field];var g=this.getAdjust("dodge");if(g){var v=g.dodgeBy;v&&(o=o+"-"+e[v])}return this.getAdjust("jitter")&&(o=o+"-"+t.x+"-"+t.y),o},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,r=n.attributeOption,i=n.labelOption,o=n.tooltipOption;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u.fields?(0,f.uniq)(u.fields,t,e):u.values&&(0,f.uniq)(u.values,t,e)}return i&&i.fields&&(0,f.uniq)(i.fields,t,e),(0,s.isObject)(o)&&o.fields&&(0,f.uniq)(o.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,i=n.length;r<i;r++)n[r].changeVisible(e);e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null===n||void 0===n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=c.GROUP_ATTRS.length;n<r;n++){var i=c.GROUP_ATTRS[n],o=this.attributeOption[i];o&&o.fields&&(0,f.uniq)(o.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},e.prototype.getXField=function(){return(0,s.get)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,s.get)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++)t[r].sort((function(t,r){return e.translate(t[c.FIELD_ORIGIN][n])-e.translate(r[c.FIELD_ORIGIN][n])}));this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if((0,d.getShapeFactory)(t))return this.shapeFactory||(this.shapeFactory=(0,s.clone)((0,d.getShapeFactory)(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var r=this.container,i=this.getDrawCfg(t),o=this.getShapeFactory(),a=new p.default({shapeFactory:o,container:r,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return a.animate=this.animateOption,a.geometry=this,a.draw(i,n),a},e.prototype.getDrawCfg=function(t){var e=t[c.FIELD_ORIGIN],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var i=this.theme.geometries[this.shapeType];n.defaultStyle=(0,s.get)(i,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(i));var o=this.styleOption;return o&&(n.style=this.getStyleCfg(o,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=[],i=new Map,o=0,a=0;a<t.length;a++)for(var s=t[a],u=0;u<s.length;u++){var l=s[u],c=this.getElementId(l),f=n.has(c)?c+"-"+a+"-"+u:c;r.push(f),n.set(f,l),i.set(f,o),o++}this.elements=new Array(o);for(var p=(0,m.diff)(this.lastElementsMap,r),h=p.added,d=p.updated,g=p.removed,y=0,_=h;y<_.length;y++){c=_[y],l=n.get(c),a=i.get(c);var b=this.createElement(l,a,e);this.elements[a]=b,this.elementsMap[c]=b,b.shape&&b.shape.setZIndex(this.zIndexReversed?this.elements.length-a:a)}for(var x=0,w=d;x<w.length;x++){c=w[x],b=this.lastElementsMap[c],l=n.get(c);var S=this.getDrawCfg(l),E=b.getModel();a=i.get(c),(this.isCoordinateChanged||(0,v.isModelChange)(S,E))&&(b.animate=this.animateOption,b.update(S)),this.elements[a]=b,this.elementsMap[c]=b,b.shape&&b.shape.setZIndex(this.zIndexReversed?this.elements.length-a:a)}for(var A=0,O=g;A<O.length;A++)c=O[A],(b=this.lastElementsMap[c]).animate=this.animateOption,b.destroy()},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,i=n.type,o=n.isTransposed,a=(0,s.get)(e,["cfg","type"]);return a||(a="polar"===i?o?"pie":"polar":"theta"===i?"pie":"interval"===r||"polygon"===r?"interval":"base"),a},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if((0,s.isNil)(e)||(0,s.isObject)(e))(0,s.isObject)(e)&&(0,s.isEqual)(Object.keys(e),["values"])?(0,s.set)(this.attributeOption,t,{fields:e.values}):(0,s.set)(this.attributeOption,t,e);else{var r={};(0,s.isNumber)(e)?r.values=[e]:r.fields=(0,y.parseFields)(e),n&&((0,s.isFunction)(n)?r.callback=n:r.values=n),(0,s.set)(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,o=e.attributeOption,s=e.theme,u=e.shapeType;this.groupScales=[];var l={},f=function(e){if(o.hasOwnProperty(e)){var r=o[e];if(!r)return{value:void 0};var f=(0,i.__assign)({},r),p=f.callback,h=f.values,d=f.fields,g=(void 0===d?[]:d).map((function(n){var r=t.scales[n];return r.isCategory&&!l[n]&&c.GROUP_ATTRS.includes(e)&&(t.groupScales.push(r),l[n]=!0),r}));f.scales=g,"position"!==e&&1===g.length&&"identity"===g[0].type?f.values=g[0].values:p||h||("size"===e?f.values=s.sizes:"shape"===e?f.values=s.shapes[u]||[]:"color"===e&&(g.length?f.values=g[0].values.length<=10?s.colors10:s.colors20:f.values=s.colors10));var v=(0,a.getAttribute)(e);n[e]=new v(f)}};for(var p in o){var h=f(p);if("object"===(0,r.default)(h))return h.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),n=this.groupData(t),r=[],i=0,o=n.length;i<o;i++){for(var a=n[i],s=[],u=0,l=a.length;u<l;u++){var f=a[u],p={};for(var h in f)p[h]=f[h];p[c.FIELD_ORIGIN]=f;for(var d=0,g=e;d<g.length;d++){var v=g[d],y=v.field;p[y]=v.translate(p[y])}s.push(p)}r.push(s)}var m=this.adjustData(r);return this.beforeMappingData=m,m},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,r=n.intervalPadding,a=n.dodgePadding,u=n.theme,l=this.maxColumnWidth||u.maxColumnWidth,c=this.minColumnWidth||u.minColumnWidth,f=this.columnWidthRatio||u.columnWidthRatio,p=t;if(e){var h=this.getXScale(),d=this.getYScale(),g=h.field,v=d?d.field:null,y=(0,_.getXDimensionLength)(this.coordinate),m=h.values.length,b=this.getAttribute("size"),x=void 0;b&&(x=b.values[0]);for(var w=0,S=e.length;w<S;w++){var E=e[w],A=(0,i.__assign)({xField:g,yField:v,intervalPadding:r,dodgePadding:a,xDimensionLength:y,groupNum:m,defaultSize:x,maxColumnWidth:l,minColumnWidth:c,columnWidthRatio:f},E),O=E.type;if("dodge"===O){var T=[];if(h.isCategory||"identity"===h.type)T.push("x");else{if(d)throw new Error("dodge is not support linear attribute, please use category attribute!");T.push("y")}A.adjustNames=T,A.dodgeRatio=f}else if("stack"===O){var C=this.coordinate;if(!d){A.height=C.getHeight();var P=this.getDefaultValue("size")||3;A.size=P}!C.isTransposed&&(0,s.isNil)(A.reverseOrder)&&(A.reverseOrder=!0)}var M=new((0,o.getAdjust)(O))(A);p=M.process(p),this.adjusts[O]=M}}return p},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,r={},i=[],o=0;o<e.length;o++){var a=e[o].field;i.push(a),(0,s.get)(n,[a,"values"])&&(r[a]=n[a].values)}return(0,g.group)(t,i,r)},e.prototype.updateStackRange=function(t,e){for(var n=(0,s.flatten)(e),r=t.field,i=t.min,o=t.max,a=0;a<n.length;a++){var u=n[a],l=Math.min.apply(null,u[r]),c=Math.max.apply(null,u[r]);l<i&&(i=l),c>o&&(o=c)}var f=this.scaleDefs,p={};i<t.min&&!(0,s.get)(f,[r,"min"])&&(p.min=i),o>t.max&&!(0,s.get)(f,[r,"max"])&&(p.max=o),t.change(p)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var i=e[n];this.generateShapePoints(i);var o=e[n+1];o&&(this.generateShapePoints(o),i[0].nextPoints=o[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this.getAttributeValues(n,i):null,s=e.getShapePoints(a,o);i.points=s}},e.prototype.normalizeValues=function(t,e){var n=[];if((0,s.isArray)(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],r=0;r<t.length;r++){var i=t[r],o={_origin:i[c.FIELD_ORIGIN],points:i.points,nextPoints:i.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var u=e[a],l=u.names,f=this.getAttributeValues(u,i);if(l.length>1)for(var p=0;p<f.length;p+=1){var h=f[p];o[l[p]]=(0,s.isArray)(h)&&1===h.length?h[0]:h}else o[l[0]]=1===f.length?f[0]:f}this.convertPoint(o),n.push(o)}return n},e.prototype.convertPoint=function(t){var e,n,r,i=t.x,o=t.y,a=this.coordinate;if((0,s.isArray)(i)&&(0,s.isArray)(o)){e=[],n=[];for(var u=0,l=0,c=i.length,f=o.length;u<c&&l<f;u+=1,l+=1)r=a.convert({x:i[u],y:o[l]}),e.push(r.x),n.push(r.y)}else if((0,s.isArray)(o)){n=[];for(var p=0;p<o.length;p++){var h=o[p];r=a.convert({x:i,y:h}),e&&e!==r.x?((0,s.isArray)(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if((0,s.isArray)(i))for(e=[],p=0;p<i.length;p++){var d=i[p];r=a.convert({x:d,y:o}),n&&n!==r.y?((0,s.isArray)(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}else{var g=a.convert({x:i,y:o});e=g.x,n=g.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,i=t.callback,o=t.cfg;if(o)return o;var a=r.map((function(t){return e[t]}));return i.apply(void 0,a)},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,r=t.data,i=t.theme,o=t.scaleDefs;n&&(this.coordinate=n),r&&(this.data=r),o&&(this.scaleDefs=o,this.idFields=[],(0,s.each)(o,(function(t,n){t&&t.key&&e.idFields.push(n)}))),i&&(this.theme=this.userTheme?(0,s.deepMix)({},i,this.userTheme):i)},e.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n=this.geometryLabel;if(!n){var r=this.getLabelType();n=new((0,h.getGeometryLabel)(r))(this),this.geometryLabel=n}n.render(t,e);var i=n.labelsRenderer.shapesMap;(0,s.each)(this.elementsMap,(function(t,e){var n=function(t,e){var n=[];return(0,s.each)(e,(function(e,r){r.split(" ")[0]===t&&n.push(e)})),n}(e,i);if(n.length){t.labelShape=n;for(var r=0;r<n.length;r++)for(var o=n[r].getChildren(),a=0;a<o.length;a++){var u=o[a];u.cfg.name=["element","label"],u.cfg.element=t}}}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,s.get)(this.animateOption,"appear")||(0,s.get)(this.animateOption,"appear")&&void 0===(0,s.get)(this.animateOption,["appear","animation"]))},e}(l.default);e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerTheme=e.getTheme=void 0;var r=n(0),i=n(460),o={default:(0,i.createTheme)({})};e.getTheme=function(t){return(0,r.get)(o,(0,r.lowerCase)(t),o.default)},e.registerTheme=function(t,e){o[(0,r.lowerCase)(t)]=(0,i.createTheme)(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.default=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=["children","hooks","ref"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return null===t||void 0===t};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addEventListener",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"createDom",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"getHeight",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"getOuterHeight",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getOuterWidth",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"getRatio",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"getStyle",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getWidth",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"modifyCSS",{enumerable:!0,get:function(){return p.default}});var i=r(n(750)),o=r(n(751)),a=r(n(391)),s=r(n(752)),u=r(n(753)),l=r(n(754)),c=r(n(140)),f=r(n(392)),p=r(n(755))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doGroupAppearAnimate=e.doAnimate=e.getDefaultAnimateCfg=e.DEFAULT_ANIMATE_CFG=void 0;var r=n(1),i=n(0),o=n(20),a=n(450);e.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var s={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},u={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};e.getDefaultAnimateCfg=function(t,n,r){var o=s[t];return o&&((0,i.isFunction)(o)&&(o=o(n)),o=(0,i.deepMix)({},e.DEFAULT_ANIMATE_CFG,o),r)?o[r]:o},e.doAnimate=function(t,e,n){var r=(0,i.get)(t.get("origin"),"data",o.FIELD_ORIGIN),s=e.animation,u=function(t,e){return{delay:(0,i.isFunction)(t.delay)?t.delay(e):t.delay,easing:(0,i.isFunction)(t.easing)?t.easing(e):t.easing,duration:(0,i.isFunction)(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,r);if(s){var l=(0,a.getAnimation)(s);l&&l(t,u,n)}else t.animate(n.toAttrs,u)},e.doGroupAppearAnimate=function(t,n,o,s,l){if(u[o]){var c=u[o](s),f=(0,a.getAnimation)((0,i.get)(c,"animation",""));if(f){var p=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},e.DEFAULT_ANIMATE_CFG.appear),c),n);t.stopAnimate(),f(t,p,{coordinate:s,minYPoint:l,toAttrs:null})}}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.registerComponentController=e.Event=e.registerGeometry=e.View=e.Chart=void 0;var i=n(963);Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return r(i).default}});var o=n(458);Object.defineProperty(e,"View",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(e,"registerGeometry",{enumerable:!0,get:function(){return o.registerGeometry}});var a=n(271);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return r(a).default}});var s=n(461);Object.defineProperty(e,"registerComponentController",{enumerable:!0,get:function(){return s.registerComponentController}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AXIS_META_CONFIG_KEYS=void 0,e.AXIS_META_CONFIG_KEYS=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(97),s=n(46),u=(0,r.__importDefault)(n(975));function l(t){var e=0;return(0,i.each)(t,(function(t){e+=t})),e/t.length}var c=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],o=this.getLabelCfgs(t);return(0,i.each)(t,(function(t,a){var s=o[a];if(!s||(0,i.isNil)(t.x)||(0,i.isNil)(t.y))n.push(null);else{var u=(0,i.isArray)(s.content)?s.content:[s.content];s.content=u;var l=u.length;(0,i.each)(u,(function(o,a){if((0,i.isNil)(o)||""===o)n.push(null);else{var u=(0,r.__assign)((0,r.__assign)({},s),e.getLabelPoint(s,t,a));u.textAlign||(u.textAlign=e.getLabelAlign(u,a,l)),u.offset<=0&&(u.labelLine=null),n.push(u)}}))}})),n},t.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),r=this.getLabelsRenderer(),i=this.getGeometryShapes();r.render(n,i,e)},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,o=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?(0,i.get)(o,"innerLabels",{}):(0,i.get)(o,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,o=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?(0,i.deepMix)({},n,o.innerLabels,t):(0,i.deepMix)({},n,o.labels,t)},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var r=t.offset,i=this.getCoordinate().isTransposed,o=i?"x":"y",a=i?1:-1,s={x:0,y:0};return s[o]=e>0||1===n?r*a:r*a*-1,s},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),o=t.content.length;function a(e,n,r){void 0===r&&(r=!1);var o=e;return(0,i.isArray)(o)&&(o=1===t.content.length?r?l(o):o.length<=2?o[e.length-1]:l(o):o[n]),o}var u={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},c=(0,i.isArray)(e.shape)?e.shape[0]:e.shape,f="funnel"===c||"pyramid"===c;if("polygon"===this.geometry.type){var p=(0,s.getPolygonCentroid)(e.x,e.y);u.x=p[0],u.y=p[1]}else"interval"!==this.geometry.type||f?(u.x=a(e.x,n),u.y=a(e.y,n)):(u.x=a(e.x,n,!0),u.y=a(e.y,n));if(f){var h=(0,i.get)(e,"nextPoints"),d=(0,i.get)(e,"points");if(h){var g=r.convert(d[1]),v=r.convert(h[1]);u.x=(g.x+v.x)/2,u.y=(g.y+v.y)/2}else"pyramid"===c&&(g=r.convert(d[1]),v=r.convert(d[2]),u.x=(g.x+v.x)/2,u.y=(g.y+v.y)/2)}t.position&&this.setLabelPosition(u,e,n,t.position);var y=this.getLabelOffsetPoint(t,n,o);return u.start={x:u.x,y:u.y},u.x+=y.x,u.y+=y.y,u.color=e.color,u},t.prototype.getLabelAlign=function(t,e,n){var r="center";if(this.getCoordinate().isTransposed){var i=t.offset;r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),i=e.getYScale(),a=t[o.FIELD_ORIGIN],s=e.getElementId(t);return"line"===n||"area"===n?s+=" "+a[r.field]:"path"===n&&(s+=" "+a[r.field]+"-"+a[i.field]),s},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,o=t.animateOption,s=this.geometry.coordinate,l=this.labelsRenderer;return l||(l=new u.default({container:e,layout:(0,i.get)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=l),l.region=r,l.animate=!!o&&(0,a.getDefaultAnimateCfg)("label",s),l},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,a=n.labelOption,s=n.scales,u=n.coordinate,l=a,c=l.fields,f=l.callback,p=l.cfg,h=c.map((function(t){return s[t]})),d=[];return(0,i.each)(t,(function(t,n){var a,s=t[o.FIELD_ORIGIN],l=e.getLabelText(s,h);if(f){var g=c.map((function(t){return s[t]}));if(a=f.apply(void 0,g),(0,i.isNil)(a))return void d.push(null)}var v=(0,r.__assign)((0,r.__assign)({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:s,mappingData:t,coordinate:u},p),a);(0,i.isFunction)(v.position)&&(v.position=v.position(s,t,n));var y=e.getLabelOffset(v.offset||0),m=e.getDefaultLabelCfg(y,v.position);(v=(0,i.deepMix)({},m,v)).offset=e.getLabelOffset(v.offset||0);var _=v.content;(0,i.isFunction)(_)?v.content=_(s,t,n):(0,i.isUndefined)(_)&&(v.content=l[0]),d.push(v)})),d},t.prototype.getLabelText=function(t,e){var n=[];return(0,i.each)(e,(function(e){var r=t[e.field];r=(0,i.isArray)(r)?r.map((function(t){return e.getText(t)})):e.getText(r),(0,i.isNil)(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return(0,i.isNumber)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return(0,i.each)(t.elementsMap,(function(t,n){e[n]=t.shape})),(0,i.each)(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConstraint=e.getShapeAttrs=void 0;var r=n(0),i=n(117),o=n(34),a=n(114);function s(t,e,n,i,o){var s=[];if(t.length){for(var u=[],l=[],c=0,f=t.length;c<f;c++){var p=t[c];u.push(p[1]),l.push(p[0])}l=l.reverse(),(0,r.each)([u,l],(function(t,r){var c=[],f=i.parsePoints(t),p=f[0];1===u.length&&1===l.length?c=0===r?[["M",p.x-.5,p.y],["L",p.x+.5,p.y]]:[["L",p.x+.5,p.y],["L",p.x-.5,p.y]]:(e&&f.push({x:p.x,y:p.y}),c=n?(0,a.getSplinePath)(f,!1,o):(0,a.getLinePath)(f,!1),r>0&&(c[0][0]="L")),s=s.concat(c)})),s.push(["Z"])}return s}e.getShapeAttrs=function(t,e,n,r,a){for(var u=(0,o.getStyle)(t,e,!e,"lineWidth"),l=t.connectNulls,c=t.isInCircle,f=t.points,p=t.showSinglePoint,h=(0,i.getPathPoints)(f,l,p),d=[],g=0,v=h.length;g<v;g++){var y=h[g];d=d.concat(s(y,c,n,r,a))}return u.path=d,u},e.getConstraint=function(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture},Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),e.isBrowser=void 0,Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return r.isObject}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return r.mix}}),e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return r.upperFirst}});var r=n(0),i="undefined"!==typeof window&&"undefined"!==typeof window.document;e.isBrowser=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture},Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),e.isBrowser=void 0,Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return r.isObject}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return r.mix}}),e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return r.upperFirst}});var r=n(0),i="undefined"!==typeof window&&"undefined"!==typeof window.document;e.isBrowser=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=function(t,e){return(0,r.isString)(e)?e:t.invert(t.scale(e))},o=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,r)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=e*t-n,i=this.values[n];return i+((n===e?i:this.values[n+1])-i)*r},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var r=t.scales[n];return"identity"===r.type?r.values[0]:t._getAttributeValue(r,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,i=void 0===n?"base":n,o=t.names,a=void 0===o?[]:o,s=t.scales,u=void 0===s?[]:s,l=t.values,c=void 0===l?[]:l,f=t.callback;this.type=i,this.scales=u,this.values=c,this.names=a,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(f){var i=f.apply(void 0,t);if(!(0,r.isNil)(i))return[i]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:(0,r.isArray)(t)?t.map((function(t){return i(e,t)})):i(e,t)},t}(),a=o;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var r=n(0),i=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){(0,r.each)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();e.Controller=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Facet=void 0;var r=n(0),i=n(20),o=n(268),a=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=(0,r.deepMix)({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,i=void 0===r?this.cfg.padding:r,o=this.view.createView({region:e,padding:i});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},t.prototype.createContainer=function(){return this.view.getLayer(i.LAYER.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;(0,r.each)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(t,i){return(0,r.isNumber)(t)?t/(0===i?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],i={};return(0,r.each)(t,(function(t){var o=t[e];(0,r.isNil)(o)||i[o]||(n.push(o),i[o]=!0)})),n},t.prototype.getRegion=function(t,e,n,r){var i=this.parseSpacing(),o=i[0],a=i[1],s=(1+o)/(0===e?1:e)-o,u=(1+a)/(0===t?1:t)-a,l={x:(s+o)*n,y:(u+a)*r};return{start:l,end:{x:l.x+s,y:l.y+u}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),i=n.coordinate,a=t.geometries;if("rect"===(0,r.get)(i,"type","rect")&&a.length){(0,r.isNil)(n.axes)&&(n.axes={});var s=n.axes,u=a[0].getXYFields(),l=u[0],c=u[1],f=(0,o.getAxisOption)(s,l),p=(0,o.getAxisOption)(s,c);!1!==f&&(n.axes[l]=this.getXAxisOption(l,s,f,e)),!1!==p&&(n.axes[c]=this.getYAxisOption(c,s,p,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return(0,r.every)(t,(function(t){var n=t.field,i=t.value;return!(!(0,r.isNil)(i)&&n)||e[n]===i}))}},t}();e.Facet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),i=r;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createThemeByStyleSheet=void 0;var r=n(1),i=n(180),o=n(32),a=n(0),s=n(46);e.createThemeByStyleSheet=function(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},u=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),l=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var r=(0,s.getAngle)(t.getModel(),e),i=(r.startAngle+r.endAngle)/2,a=7.5*Math.cos(i),u=7.5*Math.sin(i);return{matrix:o.ext.transform(null,[["t",a,u]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:(0,r.__assign)((0,r.__assign)({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,r.__assign)((0,r.__assign)({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,r.__assign)((0,r.__assign)({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,r.__assign)((0,r.__assign)({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,r.__assign)((0,r.__assign)({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,r.__assign)((0,r.__assign)({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,r.__assign)((0,r.__assign)({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,r.__assign)((0,r.__assign)({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:u,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,a.deepMix)({},u.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,a.deepMix)({},u.grid,{line:{type:"circle"}})}},legend:{common:l,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:l.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e[""+i.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+i.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+i.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+i.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+i.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+i.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(170)),a=function(t,e){if(t)if((0,i.default)(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if((0,o.default)(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(95));e.default=function(t){return(0,i.default)(t)?"":t.toString()}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.gamma=function(t){return 1===(t=+t)?a:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):(0,i.default)(isNaN(e)?n:e)}},e.hue=function(t,e){var n=e-t;return n?o(t,n>180||n<-180?n-360*Math.round(n/360):n):(0,i.default)(isNaN(t)?e:t)};var i=r(n(410));function o(t,e){return function(n){return t+n*e}}function a(t,e){var n=e-t;return n?o(t,n):(0,i.default)(isNaN(t)?e:t)}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(0)),o=n(253);function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}var s=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r;this.adjustNames=i,this.xField=e,this.yField=n}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(r=0,i=1):s>1?(r=n[0===a?0:a-1],i=n[a===s-1?s-1:a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==s-1?i-=(i-e)/2:i+=(e-n[s-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);i.each(t,(function(t,e){i.each(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return i.each(t,(function(t){void 0===t[e]&&(t[e]=o.DEFAULT_Y)})),i.groupBy(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,r={},a=[];return e&&this.isAdjust("x")&&a.push(e),n&&this.isAdjust("y")&&a.push(n),a.forEach((function(e){r[e]=i.valuesOfKey(t,e).sort((function(t,e){return t-e}))})),!n&&this.isAdjust("y")&&(r.y=[o.DEFAULT_Y,1]),r},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMaxScale=e.getDefaultCategoryScaleRange=e.getName=e.syncScale=e.createScaleByField=void 0;var r=n(1),i=n(0),o=n(69),a=n(48),s=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;e.createScaleByField=function(t,e,n){var a=e||[];if((0,i.isNumber)(t)||(0,i.isNil)((0,i.firstValue)(a,t))&&(0,i.isEmpty)(n))return new((0,o.getScale)("identity"))({field:t.toString(),values:[t]});var u=(0,i.valuesOfKey)(a,t),l=(0,i.get)(n,"type",function(t){var e="linear";return s.test(t)?e="timeCat":(0,i.isString)(t)&&(e="cat"),e}(u[0]));return new((0,o.getScale)(l))((0,r.__assign)({field:t,values:u},n))},e.syncScale=function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);t.change(n)}},e.getName=function(t){return t.alias||t.field},e.getDefaultCategoryScaleRange=function(t,e,n){var r,o=t.values.length;if(1===o)r=[.5,1];else{var s=0;r=(0,a.isFullCircle)(e)?e.isTransposed?[(s=1/o*(0,i.get)(n,"widthRatio.multiplePie",1/1.3))/2,1-s/2]:[0,1-1/o]:[s=1/o/2,1-s]}return r},e.getMaxScale=function(t){var e=t.values.filter((function(t){return!(0,i.isNil)(t)&&!isNaN(t)}));return Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],e,!1),[(0,i.isNil)(t.max)?-1/0:t.max],!1))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPolarPath=e.convertNormalPath=e.getSplinePath=e.getLinePath=e.catmullRom2bezier=e.smoothBezier=void 0;var r=n(32),i=n(0),o=n(48);function a(t,e){for(var n=[t[0]],r=1,i=t.length;r<i;r+=2){var o=e.convert({x:t[r],y:t[r+1]});n.push(o.x,o.y)}return n}function s(t,e){var n=e.isTransposed,r=t[1],i=t[6],o=t[7],a=e.convert({x:i,y:o});return["A",r,r,0,0,n?0:1,a.x,a.y]}function u(t,n,r){for(var i=!!n,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var u,l,c,f=(0,e.smoothBezier)(o,.4,i,r),p=o.length,h=[];for(a=0;a<p-1;a++)u=f[2*a],l=f[2*a+1],c=o[a+1],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return i&&(u=f[p],l=f[p+1],c=o[0],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),h}function l(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}e.smoothBezier=function(t,e,n,i){var o,a,s,u,l,c,f,p=[],h=!!i;if(h){s=i[0],u=i[1];for(var d=0,g=t.length;d<g;d++){var v=t[d];s=r.vec2.min([0,0],s,v),u=r.vec2.max([0,0],u,v)}}d=0;for(var y=t.length;d<y;d++)if(v=t[d],0!==d||n)if(d!==y-1||n){o=t[n?d?d-1:y-1:d-1],a=t[n?(d+1)%y:d+1];var m=[0,0];m=r.vec2.sub(m,a,o),m=r.vec2.scale(m,m,e);var _=r.vec2.distance(v,o),b=r.vec2.distance(v,a),x=_+b;0!==x&&(_/=x,b/=x);var w=r.vec2.scale([0,0],m,-_),S=r.vec2.scale([0,0],m,b);c=r.vec2.add([0,0],v,w),l=r.vec2.add([0,0],v,S),l=r.vec2.min([0,0],l,r.vec2.max([0,0],a,v)),l=r.vec2.max([0,0],l,r.vec2.min([0,0],a,v)),w=r.vec2.sub([0,0],l,v),w=r.vec2.scale([0,0],w,-_/b),c=r.vec2.add([0,0],v,w),c=r.vec2.min([0,0],c,r.vec2.max([0,0],o,v)),c=r.vec2.max([0,0],c,r.vec2.min([0,0],o,v)),S=r.vec2.sub([0,0],v,c),S=r.vec2.scale([0,0],S,b/_),l=r.vec2.add([0,0],v,S),h&&(c=r.vec2.max([0,0],c,s),c=r.vec2.min([0,0],c,u),l=r.vec2.max([0,0],l,s),l=r.vec2.min([0,0],l,u)),p.push(f),p.push(c),f=l}else c=v,p.push(f),p.push(c);else f=v;return n&&p.push(p.shift()),p},e.catmullRom2bezier=u,e.getLinePath=l,e.getSplinePath=function(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return l(t,e);for(var a=0,s=t.length;a<s;a++){var c=t[a];o&&o.x===c.x&&o.y===c.y||(r.push(c.x),r.push(c.y),o=c)}var f=u(r,e,n||[[0,0],[1,1]]);return f.unshift(["M",i.x,i.y]),f},e.convertNormalPath=function(t,e){var n=[];return(0,i.each)(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(a(e,t));break;case"a":n.push(s(e,t));break;default:n.push(e)}})),n},e.convertPolarPath=function(t,e){var n,r,u=[];return(0,i.each)(e,(function(i,l){switch(i[0].toLowerCase()){case"m":case"c":case"q":u.push(a(i,t));break;case"l":n=e[l-1],r=i,(t.isTransposed?n[n.length-2]===r[1]:n[n.length-1]===r[2])?u=u.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,a=n.endAngle,s="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},u={x:e[1],y:e[2]},l=[],c=r?"y":"x",f=Math.abs(u[c]-s[c])*(a-i),p=u[c]>=s[c]?1:0,h=f>Math.PI?1:0,d=n.convert(u),g=(0,o.getDistanceToCenter)(n,d);if(g>=.5)if(f===2*Math.PI){var v={x:(u.x+s.x)/2,y:(u.y+s.y)/2},y=n.convert(v);l.push(["A",g,g,0,h,p,y.x,y.y]),l.push(["A",g,g,0,h,p,d.x,d.y])}else l.push(["A",g,g,0,h,p,d.x,d.y]);return l}(n,r,t)):u.push(a(i,t));break;case"a":u.push(s(i,t));break;default:u.push(i)}})),function(t){(0,i.each)(t,(function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}(u),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkShapeOverlap=e.getOverlapArea=e.getlLabelBackgroundInfo=e.findLabelTextShape=void 0;var r=n(0),i=n(116);function o(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}e.findLabelTextShape=function(t){return t.find((function(t){return"text"===t.get("type")}))},e.getlLabelBackgroundInfo=function(t,e,n){void 0===n&&(n=[0,0,0,0]);var o=t.getChildren()[0];if(o){var a=o.clone();(null===e||void 0===e?void 0:e.rotate)&&(0,i.rotate)(a,-e.rotate);var s=a.getCanvasBBox(),u=s.x,l=s.y,c=s.width,f=s.height;a.destroy();var p=n;return(0,r.isNil)(p)?p=[2,2,2,2]:(0,r.isNumber)(p)&&(p=new Array(4).fill(p)),{x:u-p[3],y:l-p[0],width:c+p[1]+p[3],height:f+p[0]+p[2],rotation:(null===e||void 0===e?void 0:e.rotate)||0}}},e.getOverlapArea=o,e.checkShapeOverlap=function(t,e){var n=t.getBBox();return(0,r.some)(e,(function(t){var e=t.getBBox();return o(n,e,2)>0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zoom=e.getIdentityMatrix=e.rotate=e.getRotateMatrix=e.translate=e.transform=void 0;var r=n(32).ext.transform;function i(t,e){var n=t.attr(),i=n.x,o=n.y;return r(t.getMatrix(),[["t",-i,-o],["r",e],["t",i,o]])}e.transform=r,e.translate=function(t,e,n){var i=r(t.getMatrix(),[["t",e,n]]);t.setMatrix(i)},e.getRotateMatrix=i,e.rotate=function(t,e){var n=i(t,e);t.setMatrix(n)},e.getIdentityMatrix=function(){return[1,0,0,0,1,0,0,0,1]},e.zoom=function(t,e){var n=t.getBBox(),i=(n.minX+n.maxX)/2,o=(n.minY+n.maxY)/2;t.applyToMatrix([i,o,1]);var a=r(t.getMatrix(),[["t",-i,-o],["s",e,e],["t",i,o]]);t.setMatrix(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSmoothViolinPath=e.getViolinPath=e.getPathPoints=void 0;var r=n(0),i=n(114);function o(t){return!t&&(null===t||void 0===t||isNaN(t))}function a(t){if((0,r.isArray)(t))return o(t[1].y);var e=t.y;return(0,r.isArray)(e)?o(e[0]):o(e)}e.getPathPoints=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var r=[],i=0,o=t.length;i<o;i++)a(l=t[i])||r.push(l);return[r]}var s=[],u=[];for(i=0,o=t.length;i<o;i++){var l;a(l=t[i])?u.length&&((1!==u.length||n)&&s.push(u),u=[]):u.push(l)}return u.length&&s.push(u),s},e.getViolinPath=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return o&&(e.push(["L",o.x,o.y]),e.push(["z"])),e},e.getSmoothViolinPath=function(t){for(var e=t.length/2,n=[],r=[],o=0;o<t.length;o++)o<e?n.push(t[o]):r.push(t[o]);var a=(0,i.getSplinePath)(n,!1),s=(0,i.getSplinePath)(r,!1);r.length&&a.push(["L",r[0].x,r[0].y]),s.shift();var u=a.concat(s);return n.length&&u.push(["L",n[0].x,n[0].y]),u.push(["z"]),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAnglePoint=e.getFactTitleConfig=void 0;var r=n(20);e.getFactTitleConfig=function(t){return[r.DIRECTION.TOP,r.DIRECTION.BOTTOM].includes(t)?{offsetX:0,offsetY:t===r.DIRECTION.TOP?-8:8,style:{textAlign:"center",textBaseline:t===r.DIRECTION.TOP?"bottom":"top"}}:[r.DIRECTION.LEFT,r.DIRECTION.RIGHT].includes(t)?{offsetX:t===r.DIRECTION.LEFT?-8:8,offsetY:0,style:{textAlign:t===r.DIRECTION.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}},e.getAnglePoint=function(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={}.toString;e.default=function(t,e){return r.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTinyData=void 0;var r=n(0);e.getTinyData=function(t){return r.map(t||[],(function(t,e){return{x:""+e,y:t}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDataWhetherPecentage=e.getDeepPercent=e.percent=void 0;var r=n(1),i=n(0),o=n(294);function a(t,e,n,a){var s=i.reduce(t,(function(t,r){var i=r[n],a=t.has(i)?t.get(i):0,s=r[e];return a=o.isRealNumber(s)?a+s:a,t.set(i,a),t}),new Map);return i.map(t,(function(t){var i,u=t[e],l=t[n],c=o.isRealNumber(u)?u/s.get(l):0;return r.__assign(r.__assign({},t),((i={})[a]=c,i))}))}e.percent=a,e.getDeepPercent=function(t,e,n,a){var s=i.reduce(t,(function(t,r){var a=i.reduce(n,(function(t,e){return""+t+r[e]}),""),s=t.has(a)?t.get(a):0,u=r[e];return s=o.isRealNumber(u)?s+u:s,t.set(a,s),t}),new Map);return i.map(t,(function(t){var u,l=t[e],c=i.reduce(n,(function(e,n){return""+e+t[n]}),""),f=o.isRealNumber(l)?l/s.get(c):0;return r.__assign(r.__assign({},t),((u={})[a]=f,u))}))},e.getDataWhetherPecentage=function(t,e,n,r,i){return i?a(t,e,n,r):t}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.PLOYGON_Y=e.PLOYGON_X=e.FUNNEL_TOTAL_PERCENT=e.FUNNEL_CONVERSATION=e.FUNNEL_MAPPING_VALUE=e.FUNNEL_PERCENT=void 0,e.FUNNEL_PERCENT="$$percentage$$",e.FUNNEL_MAPPING_VALUE="$$mappingValue$$",e.FUNNEL_CONVERSATION="$$conversion$$",e.FUNNEL_TOTAL_PERCENT="$$totalPercentage$$",e.PLOYGON_X="$$x$$",e.PLOYGON_Y="$$y$$",e.DEFAULT_OPTIONS={appendPadding:[0,80],minSize:0,maxSize:1,meta:(r={},r[e.FUNNEL_MAPPING_VALUE]={min:0,max:1,nice:!1},r),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAdjustAppendPadding=function(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=i(t),o=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+o[0],r[1]+o[1],r[2]+o[2],r[3]+o[3]]},e.normalPadding=i,e.resolveAllPadding=function(t){var e=t.map((function(t){return i(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n};var r=n(0);function i(t){if((0,r.isNumber)(t))return[t,t,t,t];if((0,r.isArray)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pattern=function(t){var e=this;return function(n){var u,l=n.options,c=n.chart,f=l.pattern;return f?(0,s.deepAssign)({},n,{options:(u={},u[t]=function(n){for(var u,p,h,d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var v=c.getTheme().defaultColor,y=v,m=null===(p=null===(u=c.geometries)||void 0===u?void 0:u[0])||void 0===p?void 0:p.getAttribute("color");if(m){var _=m.getFields()[0],b=(0,o.get)(n,_);y=i.Util.getMappingValue(m,b,(null===(h=m.values)||void 0===h?void 0:h[0])||v)}var x=f;"function"===typeof f&&(x=f.call(e,n,y)),x instanceof CanvasPattern===!1&&(x=(0,a.getCanvasPattern)((0,s.deepAssign)({},{cfg:{backgroundColor:y}},x)));var w=l[t];return(0,r.__assign)((0,r.__assign)({},"function"===typeof w?w.call.apply(w,(0,r.__spreadArrays)([e,n],d)):w||{}),{fill:x||y})},u)}):n}};var r=n(1),i=n(13),o=n(0),a=n(560),s=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDataWhetherPecentage=function(t,e,n,r,i){return i?a(t,e,n,r):t},e.getDeepPercent=function(t,e,n,a){var s=(0,i.reduce)(t,(function(t,r){var a=(0,i.reduce)(n,(function(t,e){return""+t+r[e]}),""),s=t.has(a)?t.get(a):0,u=r[e];return s=(0,o.isRealNumber)(u)?s+u:s,t.set(a,s),t}),new Map);return(0,i.map)(t,(function(t){var u,l=t[e],c=(0,i.reduce)(n,(function(e,n){return""+e+t[n]}),""),f=(0,o.isRealNumber)(l)?l/s.get(c):0;return(0,r.__assign)((0,r.__assign)({},t),((u={})[a]=f,u))}))},e.percent=a;var r=n(1),i=n(0),o=n(305);function a(t,e,n,a){var s=(0,i.reduce)(t,(function(t,r){var i=r[n],a=t.has(i)?t.get(i):0,s=r[e];return a=(0,o.isRealNumber)(s)?a+s:a,t.set(i,a),t}),new Map);return(0,i.map)(t,(function(t){var i,u=t[e],l=t[n],c=(0,o.isRealNumber)(u)?u/s.get(l):0;return(0,r.__assign)((0,r.__assign)({},t),((i={})[a]=c,i))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTinyData=function(t){return(0,r.map)(t||[],(function(t,e){return{x:""+e,y:t}}))};var r=n(0)},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.PLOYGON_Y=e.PLOYGON_X=e.FUNNEL_TOTAL_PERCENT=e.FUNNEL_PERCENT=e.FUNNEL_MAPPING_VALUE=e.FUNNEL_CONVERSATION=e.DEFAULT_OPTIONS=void 0,e.FUNNEL_PERCENT="$$percentage$$";var i="$$mappingValue$$";e.FUNNEL_MAPPING_VALUE=i,e.FUNNEL_CONVERSATION="$$conversion$$",e.FUNNEL_TOTAL_PERCENT="$$totalPercentage$$",e.PLOYGON_X="$$x$$",e.PLOYGON_Y="$$y$$";var o={appendPadding:[0,80],minSize:0,maxSize:1,meta:(r={},r.$$mappingValue$$={min:0,max:1,nice:!1},r),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};e.DEFAULT_OPTIONS=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,r.__extends)(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var r=this.timeStamp,o=+new Date;if(o-r>(0,i.get)(t.view.getOptions(),"tooltip.showDelay",16)){var a=this.location,s={x:e.x,y:e.y};a&&(0,i.isEqual)(a,s)||this.showTooltip(n,s),this.timeStamp=o,this.location=s}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,r=n.clientX,i=n.clientY;e.isCursorEntered({x:r,y:i})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}((0,r.__importDefault)(n(44)).default);e.default=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(328),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(281),Object(d.registerGeometry)("Area",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="area",t}return n}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(332),p=n.n(f),h=(n(284),n(39)),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}Object(d.registerGeometry)("Line",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="line",t}return n}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(333),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(484),n(485),n(486),Object(d.registerGeometry)("Point",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="point",t}return n}(h.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocale=e.registerLocale=void 0;var r=n(0),i=n(14),o=n(188),a={};e.registerLocale=function(t,e){a[t]=e},e.getLocale=function(t){return{get:function(e,n){return i.template(r.get(a[t],e)||r.get(a[o.GLOBAL.locale],e)||r.get(a["en-US"],e)||e,n)}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n.n(r),o=n(134),a=n.n(o),s=n(3),u=n.n(s),l=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ChartContainer",n=u.a.forwardRef((function(e,n){var r=Object(s.useRef)(),o=Object(s.useState)(!1),c=a()(o,2),f=c[0],p=c[1],h=e,d=h.className,g=void 0===d?"bizcharts":d,v=h.containerStyle,y=l(h,["className","containerStyle"]);return Object(s.useEffect)((function(){p(!0)}),[]),u.a.createElement("div",{ref:r,className:g,style:i()({position:"relative",height:e.height||"100%",width:e.width||"100%"},v)},f?u.a.createElement(t,i()({ref:n,container:r.current},y)):u.a.createElement(u.a.Fragment,null))}));return n.displayName=e||t.name,n}},function(t,e,n){"use strict";var r=n(1060),i=n(1061),o=n(496),a=n(1062);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Area=void 0;var r=n(1),i=n(23),o=n(121),a=n(1152),s=n(1153),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField,s=this.chart,u=this.options;a.meta({chart:s,options:u}),this.chart.changeData(o.getDataWhetherPecentage(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Area=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Heatmap=void 0;var r=n(1),i=n(23),o=n(1159),a=n(1160);n(1161),n(1162);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Heatmap=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rose=void 0;var r=n(1),i=n(23),o=n(1166),a=n(1167),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Rose=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(77),i=n.n(r),o=new RegExp("^on(.*)(?=(".concat(["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave","contextmenu","click","show","hide","change"].map((function(t){return t.replace(/^\S/,(function(t){return t.toUpperCase()}))})).join("|"),"))")),a=function(t){var e=[];return i()(t,(function(t,n){var r=n.match(/^on(.*)/);if(r){var i=n.match(o);if(i){var a=i[1].replace(/([A-Z])/g,"-$1").toLowerCase();a?e.push([n,"".concat(a.replace("-",""),":").concat(i[2].toLowerCase())]):e.push([n,i[2].toLowerCase()])}else e.push([n,r[1].toLowerCase()])}})),e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(239)),o=r(n(68)),a=function(t){if(!(0,i.default)(t)||!(0,o.default)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r;try{r=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(i){}finally{r=void 0===r?n:r}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=/rgba?\(([\s.,0-9]+)\)/,o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,u=function(t,e,n,r){return t[r]+(e[r]-t[r])*n};function l(t){return"#"+p(t[0])+p(t[1])+p(t[2])}var c,f=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},p=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},h=function(t){if("#"===t[0]&&7===t.length)return t;c||(c=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),c.style.color=t;var e=document.defaultView.getComputedStyle(c,"").getPropertyValue("color");return e=l(i.exec(e)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))},d={rgb2arr:f,gradient:function(t){var e=(0,r.isString)(t)?t.split("-"):t,n=(0,r.map)(e,(function(t){return f(-1===t.indexOf("#")?h(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),o=r*n-i,a=t[i],s=i===r?a:t[i+1];return l([u(a,s,o,0),u(a,s,o,1),u(a,s,o,2)])}(n,t)}},toRGB:(0,r.memoize)(h),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var i=+(u=o.exec(t))[1]+90;n=u[2],e="linear-gradient("+i+"deg, "}else if("r"===t[0]){var u;e="radial-gradient(",n=(u=a.exec(t))[4]}var l=n.match(s);return(0,r.each)(l,(function(t,n){var r=t.split(":");e+=r[1]+" "+100*r[0]+"%",n!==l.length-1&&(e+=", ")})),e+=")"}return t}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(438),o=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,r.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,r.map)(this.ticks,(function(e,n){return(0,r.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return(0,r.isNil)(i)||!(0,r.isFunction)(i.toString)?"":i.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,r.assign)(this,this.__cfg__),this.setDomain(),(0,r.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,r.isString)(t)){var n=(0,i.getTickMethod)(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,r.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,r.isNumber)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsisLabel=function(t,e,n,a){var s;void 0===a&&(a="tail");var u=null!==(s=e.attr("text"))&&void 0!==s?s:"";if("tail"===a){var l=(0,r.pick)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),c=(0,r.getEllipsisText)(u,n,l,"\u2026");return u!==c?(e.attr("text",c),e.set("tip",u),!0):(e.set("tip",null),!1)}var f=o(t,e),p=(0,i.strLen)(u),h=!1;if(n<f){var d=Math.floor(n/f*p)-2,g=void 0;(g=d>=0?(0,i.ellipsisString)(u,d,a):"\u2026")&&(e.attr("text",g),h=!0)}return h?e.set("tip",u):e.set("tip",null),h},e.getLabelLength=o,e.getMaxLabelWidth=function(t){if(t.length>400)return function(t){for(var e=t.map((function(t){var e=t.attr("text");return(0,r.isNil)(e)?"":""+e})),n=0,i=0,o=0;o<e.length;o+=1){for(var a=0,s=0;s<=e[o].length;s+=1){var u=e[o].charCodeAt(s);a+=u>=19968&&u<=40869?2:1}a>n&&(n=a,i=o)}return t[i].getBBox().width}(t);var e=0;return(0,r.each)(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e},e.testLabel=function(t,e){return t.getBBox().width<e};var r=n(0),i=n(884);function o(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.Rect=e.Polyline=e.Polygon=e.Path=e.Marker=e.Line=e.Image=e.Ellipse=e.Circle=e.Base=void 0;var r=n(71);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return r.default}});var i=n(928);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i.default}});var o=n(929);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return o.default}});var a=n(930);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return a.default}});var s=n(931);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return s.default}});var u=n(932);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return u.default}});var l=n(933);Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return l.default}});var c=n(935);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return c.default}});var f=n(936);Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return f.default}});var p=n(937);Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return p.default}});var h=n(940);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return h.default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeView=e.getMergedRegion=e.getRefreshRegion=e.refreshElement=e.drawPath=e.clearChanged=e.checkChildrenRefresh=e.checkRefresh=e.drawChildren=e.applyAttrsToContext=void 0;var r=n(0),i=n(451),o=n(452),a=n(51),s=n(183),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function l(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&c(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&l(r.cfg.children,e);else{var i=f(r,e);r.cfg.refresh=i,i&&r.isGroup()&&l(r.cfg.children,e)}}}function c(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&c(r.get("children"),e)}}function f(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&a.intersectRect(n,e)}function p(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=a.mergeRegion(n,i):r?e=n:o&&(e=i)}return e}e.applyAttrsToContext=function(t,e){var n=e.attr();for(var o in n){var a=n[o],s=u[o]?u[o]:o;"matrix"===s&&a?t.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===s&&t.setLineDash?r.isArray(a)&&t.setLineDash(a):("strokeStyle"===s||"fillStyle"===s?a=i.parseStyle(t,e,a):"globalAlpha"===s&&(a*=t.globalAlpha),t[s]=a)}},e.drawChildren=function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}},e.checkRefresh=function(t,e,n){var i=t.get("refreshElements");r.each(i,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),i[0]===t?c(e,n):l(e,n)},e.checkChildrenRefresh=l,e.clearChanged=function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&t(r.cfg.children)}},e.drawPath=function(t,e,n,r){var i=n.path,a=n.startArrow,u=n.endArrow;if(i){var l=[0,0],c=[0,0],f={dx:0,dy:0};e.beginPath();for(var p=0;p<i.length;p++){var h=i[p],d=h[0];if(0===p&&a&&a.d){var g=t.getStartTangent();f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else p===i.length-2&&"Z"===i[p+1][0]&&u&&u.d?"Z"===i[p+1][0]&&(g=t.getEndTangent(),f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d)):p===i.length-1&&u&&u.d&&"Z"!==i[0]&&(g=t.getEndTangent(),f=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d));var v=f.dx,y=f.dy;switch(d){case"M":e.moveTo(h[1]-v,h[2]-y),c=[h[1],h[2]];break;case"L":e.lineTo(h[1]-v,h[2]-y);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-v,h[4]-y);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-v,h[6]-y);break;case"A":var m=void 0;r?(m=r[p])||(m=o.default(l,h),r[p]=m):m=o.default(l,h);var _=m.cx,b=m.cy,x=m.rx,w=m.ry,S=m.startAngle,E=m.endAngle,A=m.xRotation,O=m.sweepFlag;if(e.ellipse)e.ellipse(_,b,x,w,A,S,E,1-O);else{var T=x>w?x:w,C=x>w?1:x/w,P=x>w?w/x:1;e.translate(_,b),e.rotate(A),e.scale(C,P),e.arc(0,0,T,S,E,1-O),e.scale(1/C,1/P),e.rotate(-A),e.translate(-_,-b)}break;case"Z":e.closePath()}if("Z"===d)l=c;else{var M=h.length;l=[h[M-2],h[M-1]]}}}},e.refreshElement=function(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))},e.getRefreshRegion=p,e.getMergedRegion=function(t){if(!t.length)return null;var e=[],n=[],i=[],o=[];return r.each(t,(function(t){var r=p(t);r&&(e.push(r.minX),n.push(r.minY),i.push(r.maxX),o.push(r.maxY))})),{minX:r.min(e),minY:r.min(n),maxX:r.max(i),maxY:r.max(o)}},e.mergeView=function(t,e){return t&&e&&a.intersectRect(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setClip=e.setTransform=e.setShadow=void 0;var r=n(72);e.setShadow=function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}},e.setClip=function(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){r.createDom(n),n.createPath(e);var o=e.addClip(n);i.setAttribute("clip-path","url(#"+o+")")}}else i.removeAttribute("clip-path")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols=void 0,e.MarkerSymbols={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return d.default}});var i=r(n(73)),o=r(n(980)),a=r(n(981)),s=r(n(982)),u=r(n(983)),l=r(n(984)),c=r(n(985)),f=r(n(987)),p=r(n(988)),h=r(n(989)),d=r(n(992))},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.applyAttrsToContext=function(t,e){var n=e.attr();for(var r in n){var i=n[r],s=f[r]?f[r]:r;"matrix"===s&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===s&&t.setLineDash?(0,o.isArray)(i)&&t.setLineDash(i):("strokeStyle"===s||"fillStyle"===s?i=(0,a.parseStyle)(t,e,i):"globalAlpha"===s&&(i*=t.globalAlpha),t[s]=i)}},e.checkChildrenRefresh=p,e.checkRefresh=function(t,e,n){var r=t.get("refreshElements");(0,o.each)(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?h(e,n):p(e,n)},e.clearChanged=function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&t(r.cfg.children)}},e.drawChildren=function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}},e.drawPath=function(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var u=[0,0],c=[0,0],f={dx:0,dy:0};e.beginPath();for(var p=0;p<i.length;p++){var h=i[p],d=h[0];if(0===p&&o&&o.d){var g=t.getStartTangent();f=l.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}else p===i.length-2&&"Z"===i[p+1][0]&&a&&a.d?"Z"===i[p+1][0]&&(g=t.getEndTangent(),f=l.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],a.d)):p===i.length-1&&a&&a.d&&"Z"!==i[0]&&(g=t.getEndTangent(),f=l.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],a.d));var v=f.dx,y=f.dy;switch(d){case"M":e.moveTo(h[1]-v,h[2]-y),c=[h[1],h[2]];break;case"L":e.lineTo(h[1]-v,h[2]-y);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-v,h[4]-y);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-v,h[6]-y);break;case"A":var m=void 0;r?(m=r[p])||(m=(0,s.default)(u,h),r[p]=m):m=(0,s.default)(u,h);var _=m.cx,b=m.cy,x=m.rx,w=m.ry,S=m.startAngle,E=m.endAngle,A=m.xRotation,O=m.sweepFlag;if(e.ellipse)e.ellipse(_,b,x,w,A,S,E,1-O);else{var T=x>w?x:w,C=x>w?1:x/w,P=x>w?w/x:1;e.translate(_,b),e.rotate(A),e.scale(C,P),e.arc(0,0,T,S,E,1-O),e.scale(1/C,1/P),e.rotate(-A),e.translate(-_,-b)}break;case"Z":e.closePath()}if("Z"===d)u=c;else{var M=h.length;u=[h[M-2],h[M-1]]}}}},e.getMergedRegion=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,o.each)(t,(function(t){var o=g(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,o.min)(e),minY:(0,o.min)(n),maxX:(0,o.max)(r),maxY:(0,o.max)(i)}},e.getRefreshRegion=g,e.mergeView=function(t,e){return t&&e&&(0,u.intersectRect)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null},e.refreshElement=function(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))};var o=n(0),a=n(467),s=r(n(468)),u=n(53),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(189));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}var f={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function p(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&h(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&p(r.cfg.children,e);else{var i=d(r,e);r.cfg.refresh=i,i&&r.isGroup()&&p(r.cfg.children,e)}}}function h(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&h(r.get("children"),e)}}function d(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&(0,u.intersectRect)(n,e)}function g(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=(0,u.mergeRegion)(n,i):r?e=n:o&&(e=i)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setClip=function(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){(0,r.createDom)(n),n.createPath(e);var o=e.addClip(n);i.setAttribute("clip-path","url(#"+o+")")}}else i.removeAttribute("clip-path")},e.setShadow=function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}};var r=n(74)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRectWithCornerRadius=e.getFunnelPath=e.getIntervalRectPath=e.getBackgroundRectPath=e.parseRadius=e.getRectPath=e.getRectPoints=void 0;var r=n(0),i=n(46);function o(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}function a(t,e){var n=0,i=0,o=0,a=0;return(0,r.isArray)(t)?1===t.length?n=i=o=a=t[0]:2===t.length?(n=o=t[0],i=a=t[1]):3===t.length?(n=t[0],i=a=t[1],o=t[2]):(n=t[0],i=t[1],o=t[2],a=t[3]):n=i=o=a=t,n+i>e&&(i=e-(n=n?e/(1+i/n):0)),o+a>e&&(a=e-(o=o?e/(1+a/o):0)),[n||0,i||0,o||0,a||0]}e.getRectPoints=function(t){var e,n,i,o,a=t.x,s=t.y,u=t.y0,l=t.size;(0,r.isArray)(s)?(e=s[0],n=s[1]):(e=u,n=s),(0,r.isArray)(a)?(i=a[0],o=a[1]):(i=a-l/2,o=a+l/2);var c=[{x:i,y:e},{x:i,y:n}];return c.push({x:o,y:n},{x:o,y:e}),c},e.getRectPath=o,e.parseRadius=a,e.getBackgroundRectPath=function(t,e,n){var o=[];if(n.isRect){var s=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},u=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},l=(0,r.get)(t,["background","style","radius"]);if(l){var c=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,f=n.isTransposed?n.getWidth():n.getHeight(),p=a(l,Math.min(c,f)),h=p[0],d=p[1],g=p[2],v=p[3];o.push(["M",s.x,u.y+h]),0!==h&&o.push(["A",h,h,0,0,1,s.x+h,u.y]),o.push(["L",u.x-d,u.y]),0!==d&&o.push(["A",d,d,0,0,1,u.x,u.y+d]),o.push(["L",u.x,s.y-g]),0!==g&&o.push(["A",g,g,0,0,1,u.x-g,s.y]),o.push(["L",s.x+v,s.y]),0!==v&&o.push(["A",v,v,0,0,1,s.x,s.y-v])}else o.push(["M",s.x,s.y]),o.push(["L",u.x,s.y]),o.push(["L",u.x,u.y]),o.push(["L",s.x,u.y]),o.push(["L",s.x,s.y]);o.push(["z"])}if(n.isPolar){var y=n.getCenter(),m=(0,i.getAngle)(t,n),_=m.startAngle,b=m.endAngle;if("theta"===n.type||n.isTransposed){var x=function(t){return Math.pow(t,2)};h=Math.sqrt(x(y.x-e[0].x)+x(y.y-e[0].y)),d=Math.sqrt(x(y.x-e[2].x)+x(y.y-e[2].y)),o=(0,i.getSectorPath)(y.x,y.y,h,n.startAngle,n.endAngle,d)}else o=(0,i.getSectorPath)(y.x,y.y,n.getRadius(),_,b)}return o},e.getIntervalRectPath=function(t,e,n){var r=n.getWidth(),i=n.getHeight(),a="rect"===n.type,s=[],u=(t[2].x-t[1].x)/2,l=n.isTransposed?u*i/r:u*r/i;return"round"===e?(a?(s.push(["M",t[0].x,t[0].y+l]),s.push(["L",t[1].x,t[1].y-l]),s.push(["A",u,u,0,0,1,t[2].x,t[2].y-l]),s.push(["L",t[3].x,t[3].y+l]),s.push(["A",u,u,0,0,1,t[0].x,t[0].y+l])):(s.push(["M",t[0].x,t[0].y]),s.push(["L",t[1].x,t[1].y]),s.push(["A",u,u,0,0,1,t[2].x,t[2].y]),s.push(["L",t[3].x,t[3].y]),s.push(["A",u,u,0,0,1,t[0].x,t[0].y])),s.push(["z"])):s=o(t),s},e.getFunnelPath=function(t,e,n){var i=[];return(0,r.isNil)(e)?n?i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i},e.getRectWithCornerRadius=function(t,e,n){var r,i,o,s,u=t[0],l=t[1],c=t[2],f=t[3],p=[0,0,0,0],h=p[0],d=p[1],g=p[2],v=p[3];u.y<l.y?(l=t[0],u=t[1],f=t[2],c=t[3],v=(r=a(n,Math.min(f.x-u.x,u.y-l.y)))[0],g=r[1],d=r[2],h=r[3]):(h=(i=a(n,Math.min(f.x-u.x,u.y-l.y)))[0],d=i[1],g=i[2],v=i[3]),e.isTransposed&&(u=t[0],f=t[1],c=t[2],l=t[3],t[0].x>t[1].x?(f=t[0],u=t[1],l=t[2],c=t[3],h=(o=a(n,Math.min(f.x-u.x,u.y-l.y)))[0],v=o[1],g=o[2],d=o[3]):(d=(s=a(n,Math.min(f.x-u.x,u.y-l.y)))[0],g=s[1],v=s[2],h=s[3]));var y=[];return y.push(["M",l.x,l.y+h]),0!==h&&y.push(["A",h,h,0,0,1,l.x+h,l.y]),y.push(["L",c.x-d,c.y]),0!==d&&y.push(["A",d,d,0,0,1,c.x,c.y+d]),y.push(["L",f.x,f.y-g]),0!==g&&y.push(["A",g,g,0,0,1,f.x-g,f.y]),y.push(["L",u.x+v,u.y]),0!==v&&y.push(["A",v,v,0,0,1,u.x,u.y-v]),y.push(["L",l.x,l.y+h]),y.push(["z"]),y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(44)),a=n(31),s=n(31),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return(0,r.__extends)(e,t),e.prototype.getTriggerListInfo=function(){var t=(0,s.getDelegationObject)(this.context),e=null;return(0,s.isList)(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=(0,a.getComponents)(e),r=[];return(0,i.each)(n,(function(e){e.isList()&&t.allowSetStateByElement(e)&&r.push(e)})),r},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,i.each)(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var r=this.context.view,i=(0,s.getScaleByField)(r,e);return i&&i.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;return!n.length||0===n.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByElement=function(t,e,n){var r=t.get("field"),i=this.context.view,o=(0,s.getScaleByField)(i,r),a=(0,s.getElementValue)(e,r),u=o.getText(a);this.setItemsState(t,u,n)},e.prototype.setStateEnable=function(t){var e=this,n=(0,s.getCurrentElement)(this.context);if(n){var r=this.getAllowComponents();(0,i.each)(r,(function(r){e.setStateByElement(r,n,t)}))}else{var o=(0,s.getDelegationObject)(this.context);if((0,s.isList)(o)){var a=o.item,u=o.component;this.allowSetStateByElement(u)&&this.allowSetStateByItem(a,u)&&this.setItemState(u,a,t)}}},e.prototype.setItemsState=function(t,e,n){var r=this,o=t.getItems();(0,i.each)(o,(function(i){i.name===e&&r.setItemState(t,i,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=this.hasState(e,n);this.setItemState(e,n,!r)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizeObservers=void 0,e.resizeObservers=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pattern=void 0;var r=n(1),i=n(13),o=n(0),a=n(1097),s=n(14);e.pattern=function(t){var e=this;return function(n){var u,l=n.options,c=n.chart,f=l.pattern;return f?s.deepAssign({},n,{options:(u={},u[t]=function(n){for(var u,p,h,d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var v=c.getTheme().defaultColor,y=v,m=null===(p=null===(u=c.geometries)||void 0===u?void 0:u[0])||void 0===p?void 0:p.getAttribute("color");if(m){var _=m.getFields()[0],b=o.get(n,_);y=i.Util.getMappingValue(m,b,(null===(h=m.values)||void 0===h?void 0:h[0])||v)}var x=f;"function"===typeof f&&(x=f.call(e,n,y)),x instanceof CanvasPattern===!1&&(x=a.getCanvasPattern(s.deepAssign({},{cfg:{backgroundColor:y}},x)));var w=l[t];return r.__assign(r.__assign({},"function"===typeof w?w.call.apply(w,r.__spreadArrays([e,n],d)):w||{}),{fill:x||y})},u)}):n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.DEFAULT_TOOLTIP_OPTIONS=e.Y_FIELD=e.X_FIELD=void 0;var r=n(1),i=n(0);e.X_FIELD="x",e.Y_FIELD="y",e.DEFAULT_TOOLTIP_OPTIONS={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+i.get(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},e.DEFAULT_OPTIONS={appendPadding:2,tooltip:r.__assign({},e.DEFAULT_TOOLTIP_OPTIONS),animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.X_FIELD=e.DEFAULT_TOOLTIP_OPTIONS=e.DEFAULT_OPTIONS=void 0;var r=n(1),i=n(0);e.X_FIELD="x",e.Y_FIELD="y";var o={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+(0,i.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}};e.DEFAULT_TOOLTIP_OPTIONS=o;var a={appendPadding:2,tooltip:(0,r.__assign)({},o),animation:{}};e.DEFAULT_OPTIONS=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NODE_INDEX_FIELD=e.NODE_ANCESTORS_FIELD=e.CHILD_NODE_COUNT=void 0,e.getAllNodes=function(t){var e,n,i=[];return t&&t.each?t.each((function(t){var o,a;t.parent!==e?(e=t.parent,n=0):n+=1;var s=(0,r.filter)(((null===(o=t.ancestors)||void 0===o?void 0:o.call(t))||[]).map((function(t){return i.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t.nodeAncestor=s,t.childNodeCount=(null===(a=t.children)||void 0===a?void 0:a.length)||0,t.nodeIndex=n,i.push(t)})):t&&t.eachNode&&t.eachNode((function(t){i.push(t)})),i},e.getField=function(t,e){var n=t.field,i=t.fields;if((0,r.isString)(n))return n;if((0,r.isArray)(n))return console.warn(s),n[0];if(console.warn(s+" will try to get fields instead."),(0,r.isString)(i))return i;if((0,r.isArray)(i)&&i.length)return i[0];if(e)return e;throw new TypeError(s)};var r=n(0),i="nodeIndex";e.NODE_INDEX_FIELD=i;var o="childNodeCount";e.CHILD_NODE_COUNT=o;var a="nodeAncestor";e.NODE_ANCESTORS_FIELD=a;var s="Invalid field: it must be a string!"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(20),o=(0,r.__importDefault)(n(91)),a=(0,r.__importDefault)(n(272));n(279);var s=n(463),u=n(464),l=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,i=void 0!==r&&r,o=e.showSinglePoint,a=void 0===o||o;return n.connectNulls=i,n.showSinglePoint=a,n}return(0,r.__extends)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=new Map,i=[],o=0,l=0;l<t.length;l++){var c=t[l],f=this.getElementId(c);i.push(f),n.set(f,c),r.set(f,o),o++}this.elements=new Array(o);for(var p=(0,u.diff)(this.lastElementsMap,i),h=p.added,d=p.updated,g=p.removed,v=0,y=h;v<y.length;v++){f=y[v],c=n.get(f);var m=this.getShapeFactory(),_=this.getShapeInfo(c);l=r.get(f),(w=new a.default({shapeFactory:m,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:l})).geometry=this,w.animate=this.animateOption,w.draw(_,e),this.elementsMap[f]=w,this.elements[l]=w}for(var b=0,x=d;b<x.length;b++){f=x[b],c=n.get(f);var w=this.lastElementsMap[f],S=(l=r.get(f),_=this.getShapeInfo(c),w.getModel());(this.isCoordinateChanged||(0,s.isModelChange)(S,_))&&(w.animate=this.animateOption,w.update(_)),this.elementsMap[f]=w,this.elements[l]=w}for(var E=0,A=g;E<A.length;E++)f=A[E],(w=this.lastElementsMap[f]).animate=this.animateOption,w.destroy()},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,o=t.length;r<o;r++){var a=t[r];e.push({x:a.x,y:a.y}),n.push(a[i.FIELD_ORIGIN])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,i=n.data;return e.mappingData=t,e.data=i,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STATUS_ACTIVE=e.STATUS_UNACTIVE=void 0;var r=n(1),i=n(0),o=n(31),a=n(290),s=(0,r.__importDefault)(n(286)),u=n(20);e.STATUS_UNACTIVE=u.ELEMENT_STATE.INACTIVE,e.STATUS_ACTIVE=u.ELEMENT_STATE.ACTIVE;var l=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.stateName=e.STATUS_ACTIVE,n}return(0,r.__extends)(n,t),n.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;this.setHighlightBy(t,(function(t){return i.isMathItem(t,e,n)}),r)},n.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(e.STATUS_UNACTIVE)&&t.setState(e.STATUS_UNACTIVE,!1),t.setState(e.STATUS_ACTIVE,!0)):t.hasState(e.STATUS_ACTIVE)||t.setState(e.STATUS_UNACTIVE,!0)},n.prototype.setHighlightBy=function(t,n,r){var a=this;if(r)(0,i.each)(t,(function(t){a.setElementHighlight(t,n)}));else{var s=(0,o.getElementsByState)(this.context.view,e.STATUS_ACTIVE),u=!0;(0,i.each)(s,(function(t){if(!n(t))return u=!1,!1})),u?this.clear():(0,i.each)(t,(function(t){n(t)&&(t.hasState(e.STATUS_ACTIVE)&&t.setState(e.STATUS_ACTIVE,!1),t.setState(e.STATUS_UNACTIVE,!0))}))}},n.prototype.setElementState=function(t,e){var n=this.context.view,r=(0,o.getElements)(n);this.setHighlightBy(r,(function(e){return t===e}),e)},n.prototype.highlight=function(){this.setState()},n.prototype.clear=function(){var t=this.context.view;(0,a.clearHighlight)(t)},n}(s.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyCSS=e.createDom=e.removeDom=e.getChartSize=void 0;var r=n(20);function i(t){return"number"===typeof t&&!isNaN(t)}e.getChartSize=function(t,e,n,o){var a=n,s=o;if(e){var u=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);a=u.width?u.width:a,s=u.height?u.height:s}return{width:Math.max(i(a)?a:r.MIN_CHART_WIDTH,r.MIN_CHART_WIDTH),height:Math.max(i(s)?s:r.MIN_CHART_HEIGHT,r.MIN_CHART_HEIGHT)}},e.removeDom=function(t){var e=t.parentNode;e&&e.removeChild(t)};var o=n(96);Object.defineProperty(e,"createDom",{enumerable:!0,get:function(){return o.createDom}}),Object.defineProperty(e,"modifyCSS",{enumerable:!0,get:function(){return o.modifyCSS}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.antvLight=e.createLightStyleSheet=void 0;var r="#000",i="#595959",o="#8C8C8C",a="#BFBFBF",s="#D9D9D9",u="#F0F0F0",l="#FFFFFF",c=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],f=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],p=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"];e.createLightStyleSheet=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"transparent":e,h=t.subColor,d=void 0===h?"rgba(0,0,0,0.05)":h,g=t.paletteQualitative10,v=void 0===g?c:g,y=t.paletteQualitative20,m=void 0===y?f:y,_=t.paletteSemanticRed,b=void 0===_?"#F4664A":_,x=t.paletteSemanticGreen,w=void 0===x?"#30BF78":x,S=t.paletteSemanticYellow,E=void 0===S?"#FAAD14":S,A=t.paletteSequence,O=void 0===A?p:A,T=t.fontFamily,C=void 0===T?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':T,P=t.brandColor,M=void 0===P?v[0]:P;return{backgroundColor:n,brandColor:M,subColor:d,paletteQualitative10:v,paletteQualitative20:m,paletteSemanticRed:b,paletteSemanticGreen:w,paletteSemanticYellow:E,paletteSequence:O,fontFamily:C,axisLineBorderColor:a,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:i,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:a,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:s,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:o,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:s,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:o,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:M,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:i,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:r,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:r,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:o,legendPageNavigatorTextFontSize:12,sliderRailFillColor:s,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:o,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:u,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:a,annotationArcBorderColor:s,annotationArcBorder:1,annotationLineBorderColor:a,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:i,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:r,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:a,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:i,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:i,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:l,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:i,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:l,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:a,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:M,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:l,pointBorderOpacity:1,pointActiveBorderColor:r,pointSelectedBorder:2,pointSelectedBorderColor:r,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:M,hollowPointBorderOpacity:.95,hollowPointFillColor:l,hollowPointActiveBorder:1,hollowPointActiveBorderColor:r,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:r,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:M,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:M,areaFillOpacity:.25,areaActiveFillColor:M,areaActiveFillOpacity:.5,areaSelectedFillColor:M,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:M,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:r,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:r,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:M,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:r,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:r,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:M,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:l,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:r,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:r,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},e.antvLight=(0,e.createLightStyleSheet)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pathIn=void 0,e.pathIn=function(t,e,n){var r=t.getTotalLength();t.attr("lineDash",[r]),t.animate((function(t){return{lineDashOffset:(1-t)*r}}),e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,i,o){var a,s=t.prototype.getLabelOffsetPoint.call(this,e,n,i),u=this.getCoordinate(),l=u.isTransposed?"x":"y",c=this.getLabelValueDir(e.mappingData);return s=(0,r.__assign)((0,r.__assign)({},s),((a={})[l]=s[l]*c,a)),u.isReflect("x")&&(s=(0,r.__assign)((0,r.__assign)({},s),{x:-1*s.x})),u.isReflect("y")&&(s=(0,r.__assign)((0,r.__assign)({},s),{y:-1*s.y})),s},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.theme;return(0,i.deepMix)({},n,r.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,r){var o,a,s,u,l=this.getCoordinate(),c=l.isTransposed,f=e.points,p=l.convert(f[0]),h=l.convert(f[2]),d=this.getLabelValueDir(e),g=(0,i.isArray)(e.shape)?e.shape[0]:e.shape;if("funnel"===g||"pyramid"===g){var v=(0,i.get)(e,"nextPoints"),y=(0,i.get)(e,"points");if(v){var m=l.convert(y[0]),_=l.convert(y[1]),b=l.convert(v[0]),x=l.convert(v[1]);c?(o=Math.min(b.y,m.y),s=Math.max(b.y,m.y),a=(_.x+x.x)/2,u=(m.x+b.x)/2):(o=Math.min((_.y+x.y)/2,(m.y+b.y)/2),s=Math.max((_.y+x.y)/2,(m.y+b.y)/2),a=x.x,u=m.x)}else o=Math.min(h.y,p.y),s=Math.max(h.y,p.y),a=h.x,u=p.x}else o=Math.min(h.y,p.y),s=Math.max(h.y,p.y),a=h.x,u=p.x;switch(r){case"right":t.x=a,t.y=(o+s)/2,t.textAlign=(0,i.get)(t,"textAlign",d>0?"left":"right");break;case"left":t.x=u,t.y=(o+s)/2,t.textAlign=(0,i.get)(t,"textAlign",d>0?"left":"right");break;case"bottom":c&&(t.x=(a+u)/2),t.y=s,t.textAlign=(0,i.get)(t,"textAlign","center"),t.textBaseline=(0,i.get)(t,"textBaseline",d>0?"bottom":"top");break;case"middle":c&&(t.x=(a+u)/2),t.y=(o+s)/2,t.textAlign=(0,i.get)(t,"textAlign","center"),t.textBaseline=(0,i.get)(t,"textBaseline","middle");break;case"top":c&&(t.x=(a+u)/2),t.y=o,t.textAlign=(0,i.get)(t,"textAlign","center"),t.textBaseline=(0,i.get)(t,"textBaseline",d>0?"bottom":"top")}},e}((0,r.__importDefault)(n(100)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(48),a=n(46),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return(0,r.__extends)(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var r=t.prototype.getDefaultLabelCfg.call(this,e,n);return(0,i.deepMix)({},r,(0,i.get)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:(0,i.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,i.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},s=(0,o.getAngleByPoint)(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=s;else{var u=(0,o.getAngleByPoint)(n,a);s>=u&&(u+=2*Math.PI),e=s+(u-s)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),i=n.getCenter(),o=n.getRadius()+e;return(0,r.__assign)((0,r.__assign)({},(0,a.polarToCartesian)(i.x,i.y,o,t)),{angle:t,r:o})},e}((0,r.__importDefault)(n(215)).default);e.default=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(50),u=n.n(s),l=n(638),c=n.n(l),f=n(61),p=n.n(f),h=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u()(t)||a.a.isValidElement(t)?{visible:!0,text:t}:c()(t)?{visible:t}:p()(t)?i()({visible:!0},t):{visible:e}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return w}));var r=n(11),i=n.n(r),o=n(12),a=n.n(o),s=n(5),u=n.n(s),l=n(9),c=n.n(l),f=n(25),p=n.n(f),h=n(204),d=n(128),g=n.n(d),v=n(0),y=n(8);function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u()(t);if(e){var i=u()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a()(this,n)}}var _={},b=function(){function t(e){c()(this,t),this.cfg={shared:!0},this.chartMap={},this.state={},this.id=Object(v.uniqueId)("bx-action"),this.type=e||"tooltip"}return p()(t,[{key:"connect",value:function(t,e,n){return this.chartMap[t]={chart:e,pointFinder:n},e.interaction("connect-".concat(this.type,"-").concat(this.id)),"tooltip"===this.type&&this.cfg.shared&&void 0===Object(v.get)(e,["options","tooltip","shared"])&&Object(v.set)(e,["options","tooltip","shared"],!0),this}},{key:"unConnect",value:function(t){this.chartMap[t].chart.removeInteraction("connect-".concat(this.type,"-").concat(this.id)),delete this.chartMap[t]}},{key:"destroy",value:function(){Object(h.unregisterAction)("connect-".concat(this.type,"-").concat(this.id))}}]),t}(),x=function(){var t=new b("tooltip");return Object(y.registerAction)("connect-tooltip-".concat(t.id),function(e){i()(r,e);var n=m(r);function r(){var e;return c()(this,r),(e=n.apply(this,arguments)).CM=t,e}return p()(r,[{key:"showTooltip",value:function(t,e){var n=t.getTooltipItems(e)||e;Object(v.forIn)(this.CM.chartMap,(function(t){var r=t.chart,i=t.pointFinder;if(!r.destroyed&&r.visible)if(i){var o=i(n,r);o&&r.showTooltip(o)}else r.showTooltip(e)}))}},{key:"hideTooltip",value:function(){Object(v.forIn)(this.CM.chartMap,(function(t){return t.chart.hideTooltip()}))}}]),r}(g.a)),Object(y.registerInteraction)("connect-tooltip-".concat(t.id),{start:[{trigger:"plot:mousemove",action:"connect-tooltip-".concat(t.id,":show")}],end:[{trigger:"plot:mouseleave",action:"connect-tooltip-".concat(t.id,":hide")}]}),t},w=function(t,e,n,r,i){var o=_[t];null===n&&o?o.unConnect(e):o?o.connect(e,n,i):(_[t]=x(),_[t].cfg.shared=!!r,_[t].connect(e,n,i))};e.a=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.growInXY=e.growInY=e.growInX=void 0;var r=n(979);e.growInX=function(t,e,n){var i=n.coordinate,o=n.minYPoint;(0,r.doScaleAnimate)(t,e,i,o,"x")},e.growInY=function(t,e,n){var i=n.coordinate,o=n.minYPoint;(0,r.doScaleAnimate)(t,e,i,o,"y")},e.growInXY=function(t,e,n){var i=n.coordinate,o=n.minYPoint;(0,r.doScaleAnimate)(t,e,i,o,"xy")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),i=n(1081);function o(t,e,n,a){for(var s in n=n||0,a=a||5,e)if(e.hasOwnProperty(s)){var u=e[s];null!==u&&i.default(u)?(i.default(t[s])||(t[s]={}),n<a?o(t[s],u,n+1,a):t[s]=e[s]):r.default(u)?(t[s]=[],t[s]=t[s].concat(u)):void 0!==u&&(t[s]=u)}}e.default=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)o(t,e[r]);return t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(6));e.default=function(t){var e=(0,i.default)(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.SearchBotDeviceInfo=e.ReactNativeInfo=e.NodeInfo=e.BrowserInfo=e.BotInfo=void 0,e.browserName=function(t){var e=f(t);return e?e[0]:null},e.detect=function(t){return t?p(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new s:"undefined"!==typeof navigator?p(navigator.userAgent):d()},e.detectOS=h,e.getNodeVersion=d,e.parseUserAgent=p;var n=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},r=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"};e.BrowserInfo=r;var i=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform};e.NodeInfo=i;var o=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"};e.SearchBotDeviceInfo=o;var a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null};e.BotInfo=a;var s=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null};e.ReactNativeInfo=s;var u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(t){return""!==t&&l.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=f(t);if(!e)return null;var i=e[0],s=e[1];if("searchbot"===i)return new a;var l=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);l?l.length<3&&(l=n(n([],l,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-l.length),!0)):l=[];var c=l.join("."),p=h(t),d=u.exec(t);return d&&d[1]?new o(i,c,p,d[1]):new r(i,c,p)}function h(t){for(var e=0,n=c.length;e<n;e++){var r=c[e],i=r[0];if(r[1].exec(t))return i}return null}function d(){return"undefined"!==typeof t&&t.version?new i(t.version.slice(1)):null}}).call(this,n(761))},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=g(n(79));e.glMatrix=i;var o=g(n(762));e.mat2=o;var a=g(n(763));e.mat2d=a;var s=g(n(398));e.mat3=s;var u=g(n(399));e.mat4=u;var l=g(n(400));e.quat=l;var c=g(n(764));e.quat2=c;var f=g(n(402));e.vec2=f;var p=g(n(173));e.vec3=p;var h=g(n(401));function d(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}function g(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}e.vec4=h},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.angle=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i),l=Math.sqrt(o*o+a*a+s*s),c=u*l,f=c&&d(t,e)/c;return Math.acos(Math.min(Math.max(f,-1),1))},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,f=3*u*a,p=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*f+i[0]*p,t[1]=e[1]*l+n[1]*c+r[1]*f+i[1]*p,t[2]=e[2]*l+n[2]*c+r[2]*f+i[2]*p,t},e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.clone=function(t){var e=new i.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.create=a,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.dist=void 0,e.distance=f,e.div=void 0,e.divide=c,e.dot=d,e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.forEach=void 0,e.fromValues=function(t,e,n){var r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.len=void 0,e.length=s,e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.mul=void 0,e.multiply=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.sqrLen=e.sqrDist=void 0,e.squaredDistance=p,e.squaredLength=h,e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.sub=void 0,e.subtract=u,e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,f=o*s-r*l,p=r*u-i*s,h=i*p-o*f,d=o*c-r*p,g=r*f-i*c,v=2*a;return c*=v,f*=v,p*=v,h*=2,d*=2,g*=2,t[0]=s+c+h,t[1]=u+f+d,t[2]=l+p+g,t},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(){var t=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function p(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var g=u;e.sub=g;var v=l;e.mul=v;var y=c;e.div=y;var m=f;e.dist=m;var _=p;e.sqrDist=_;var b=s;e.len=b;var x=h;e.sqrLen=x;var w=function(){var t=a();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();e.forEach=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(88),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(402));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}var s={box:function(t,e,n,r){return(0,i.getBBoxByArray)([t,n],[e,r])},length:function(t,e,n,r){return(0,i.distance)(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,o,a){var s=(n-t)*(o-t)+(r-e)*(a-e);return s<0?(0,i.distance)(t,e,o,a):s>(n-t)*(n-t)+(r-e)*(r-e)?(0,i.distance)(n,r,o,a):this.pointToLine(t,e,n,r,o,a)},pointToLine:function(t,e,n,r,i,a){var s=[n-t,r-e];if(o.exactEquals(s,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var u=[-s[1],s[0]];o.normalize(u,u);var l=[i-t,a-e];return Math.abs(o.dot(l,u))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};e.default=s},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.YEAR=e.SECOND=e.MONTH=e.MINUTE=e.HOUR=e.DAY=void 0,e.getTickInterval=function(t,e,n){var r=(e-t)/n,i=(0,s.default)((function(t){return t[1]}))(d,r)-1,a=d[i];return i<0?a=d[0]:i>=d.length&&(a=(0,o.last)(d)),a},e.timeFormat=function(t,e){return(a.format||a.default.format)(t,e)},e.toTimeStamp=function(t){return(0,o.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,o.isDate)(t)&&(t=t.getTime()),t};var o=n(0),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(857)),s=r(n(858));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=1e3;e.SECOND=l;var c=6e4;e.MINUTE=c;var f=36e5;e.HOUR=f;var p=24*f;e.DAY=p;var h=31*p;e.MONTH=h,e.YEAR=31536e6;var d=[["HH:mm:ss",l],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",c],["HH:mm",6e5],["HH:mm",18e5],["HH",f],["HH",6*f],["HH",12*f],["YYYY-MM-DD",p],["YYYY-MM-DD",4*p],["YYYY-WW",7*p],["YYYY-MM",h],["YYYY-MM",4*h],["YYYY-MM",6*h],["YYYY",380*p]]},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,i.__extends)(e,t),e.prototype.scale=function(t){if((0,o.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,o.head)(e),r=(0,o.last)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,o.isNil)(this.minLimit)||(this.min=n),(0,o.isNil)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,o.getRange)(this.values),e=t.min,n=t.max;(0,o.isNil)(this.min)&&(this.min=e),(0,o.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,o.filter)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(r(n(142)).default),s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calBase=function(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)},e.getLogPositiveMin=function(t,e,n){(0,r.isNil)(n)&&(n=Math.max.apply(null,t));var i=n;return(0,r.each)(t,(function(t){t>0&&t<i&&(i=t)})),i===n&&(i=n/e),i>1&&(i=1),i},e.log=function(t,e){return 1===t?1:Math.log(e)/Math.log(t)},e.precisionAdd=function(t,e){var n=i(t),r=i(e),o=Math.pow(10,Math.max(n,r));return(t*o+e*o)/o};var r=n(0);function i(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1),i=n(32),o=n(0),a=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,i=t.matrix,o=void 0===i?[1,0,0,0,1,0,0,0,1]:i,a=t.isTransposed,s=void 0!==a&&a;this.start=e,this.end=n,this.matrix=o,this.originalMatrix=(0,r.__spreadArray)([],o),this.isTransposed=s}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){(0,o.assign)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),i+t*(o-i)},t.prototype.invertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),(t-i)/(o-i)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,o=[t,e,n];return i.vec3.transformMat3(o,o,r),o},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,o=i.mat3.invert([0,0,0,0,0,0,0,0,0],r),a=[t,e,n];return o&&i.vec3.transformMat3(a,a,o),a},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return i.ext.leftTranslate(e,e,[-n.x,-n.y]),i.ext.leftRotate(e,e,t),i.ext.leftTranslate(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return i.ext.leftTranslate(n,n,[-r.x,-r.y]),i.ext.leftScale(n,n,[t,e]),i.ext.leftTranslate(n,n,[r.x,r.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return i.ext.leftTranslate(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||(0,r.__spreadArray)([],this.originalMatrix)},t}();e.default=a},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0});var o={Annotation:!0,Axis:!0,Crosshair:!0,Grid:!0,Legend:!0,Tooltip:!0,Component:!0,GroupComponent:!0,HtmlComponent:!0,Slider:!0,Scrollbar:!0,propagationDelegate:!0,TOOLTIP_CSS_CONST:!0};e.Axis=e.Annotation=void 0,Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return p.default}}),e.Grid=e.Crosshair=void 0,Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"HtmlComponent",{enumerable:!0,get:function(){return d.default}}),e.Legend=void 0,Object.defineProperty(e,"Scrollbar",{enumerable:!0,get:function(){return v.Scrollbar}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return g.Slider}}),e.Tooltip=e.TOOLTIP_CSS_CONST=void 0,Object.defineProperty(e,"propagationDelegate",{enumerable:!0,get:function(){return _.propagationDelegate}});var a=w(n(882));e.Annotation=a;var s=w(n(894));e.Axis=s;var u=w(n(900));e.Crosshair=u;var l=w(n(905));e.Grid=l;var c=w(n(908));e.Legend=c;var f=w(n(911));e.Tooltip=f;var p=r(n(257)),h=r(n(41)),d=r(n(182)),g=n(915),v=n(922),y=n(924);Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===y[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}}))}));var m=n(925);Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===m[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))}));var _=n(446),b=w(n(262));function x(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(x=function(t){return t?n:e})(t)}function w(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=x(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}e.TOOLTIP_CSS_CONST=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTag=function(t,e){var n=e.x,u=e.y,l=e.content,c=e.style,f=e.id,p=e.name,h=e.rotate,d=e.maxLength,g=e.autoEllipsis,v=e.isVertical,y=e.ellipsisPosition,m=e.background,_=t.addGroup({id:f+"-group",name:p+"-group",attrs:{x:n,y:u}}),b=_.addShape({type:"text",id:f,name:p,attrs:(0,r.__assign)({x:0,y:0,text:l},c)}),x=(0,s.formatPadding)((0,i.get)(m,"padding",0));if(d&&g){var w=d-(x[1]+x[3]);(0,o.ellipsisLabel)(!v,b,w,y)}if(m){var S=(0,i.get)(m,"style",{}),E=b.getCanvasBBox(),A=E.minX,O=E.minY,T=E.width,C=E.height;_.addShape("rect",{id:f+"-bg",name:f+"-bg",attrs:(0,r.__assign)({x:A-x[3],y:O-x[0],width:T+x[1]+x[3],height:C+x[0]+x[2]},S)}).toBack()}(0,a.applyTranslate)(_,n,u),(0,a.applyRotate)(_,h,n,u)};var r=n(1),i=n(0),o=n(143),a=n(90),s=n(42)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(96),a=n(0),s=n(42),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return(0,s.createBBox)(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");(0,s.clearDom)(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,a.isNil)(t)){t=this.createDom();var e=this.get("parent");(0,a.isString)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else(0,a.isString)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,a.deepMix)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&(0,s.hasClass)(e,n)){var r=t[n];(0,o.modifyCSS)(e,r)}}},e.prototype.applyChildrenStyles=function(t,e){(0,a.each)(e,(function(e,n){var r=t.getElementsByClassName(n);(0,a.each)(r,(function(t){(0,o.modifyCSS)(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");(0,o.modifyCSS)(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return(0,o.createDom)(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,a.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(r(n(257)).default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.addEndArrow=e.addStartArrow=e.getShortenOffset=void 0;var i=n(1),o=n(144),a=Math.sin,s=Math.cos,u=Math.atan2,l=Math.PI;function c(t,e,n,r,i,c,f){var p=e.stroke,h=e.lineWidth,d=u(r-c,n-i),g=new o.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*s(l/6)+","+10*a(l/6)+" L0,0 L"+10*s(l/6)+",-"+10*a(l/6),stroke:p,lineWidth:h}});g.translate(i,c),g.rotateAtPoint(i,c,d),t.set(f?"startArrowShape":"endArrowShape",g)}function f(t,e,n,r,l,c,f){var p=e.startArrow,h=e.endArrow,d=e.stroke,g=e.lineWidth,v=f?p:h,y=v.d,m=v.fill,_=v.stroke,b=v.lineWidth,x=i.__rest(v,["d","fill","stroke","lineWidth"]),w=u(r-c,n-l);y&&(l-=s(w)*y,c-=a(w)*y);var S=new o.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:i.__assign(i.__assign({},x),{stroke:_||d,lineWidth:b||g,fill:m})});S.translate(l,c),S.rotateAtPoint(l,c,w),t.set(f?"startArrowShape":"endArrowShape",S)}e.getShortenOffset=function(t,e,n,r,i){var o=u(r-e,n-t);return{dx:s(o)*i,dy:a(o)*i}},e.addStartArrow=function(t,e,n,i,o,a){"object"===(0,r.default)(e.startArrow)?f(t,e,n,i,o,a,!0):e.startArrow?c(t,e,n,i,o,a,!0):t.set("startArrowShape",null)},e.addEndArrow=function(t,e,n,i,o,a){"object"===(0,r.default)(e.endArrow)?f(t,e,n,i,o,a,!1):e.endArrow?c(t,e,n,i,o,a,!1):t.set("startArrowShape",null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(33);e.default=function(t,e,n,i,o,a,s){var u=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),f=Math.max(e,i),p=o/2;return a>=u-p&&a<=l+p&&s>=c-p&&s<=f+p&&r.Line.pointToLine(t,e,n,i,a,s)<=o/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(62);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return r.default}});var i=n(943);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i.default}});var o=n(944);Object.defineProperty(e,"Dom",{enumerable:!0,get:function(){return o.default}});var a=n(945);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return a.default}});var s=n(946);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return s.default}});var u=n(947);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return u.default}});var l=n(948);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return l.default}});var c=n(950);Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.default}});var f=n(951);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f.default}});var p=n(952);Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return p.default}});var h=n(953);Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return h.default}});var d=n(955);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return d.default}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getActionClass=e.registerAction=e.createAction=e.Action=void 0;var i=n(44);Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r(i).default}});var o=n(204);Object.defineProperty(e,"createAction",{enumerable:!0,get:function(){return o.createAction}}),Object.defineProperty(e,"registerAction",{enumerable:!0,get:function(){return o.registerAction}}),Object.defineProperty(e,"getActionClass",{enumerable:!0,get:function(){return o.getActionClass}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findItemsFromViewRecurisive=e.findItemsFromView=e.getTooltipItems=e.findDataByPoint=void 0;var r=n(1),i=n(0),o=n(20),a=n(113);function s(t,e,n){var r=n.translate(t),o=n.translate(e);return(0,i.isNumberEqual)(r,o)}function u(t,e,n){var r=n.coordinate,a=n.getYScale(),s=a.field,u=r.invert(e),l=a.invert(u.y);return(0,i.find)(t,(function(t){var e=t[o.FIELD_ORIGIN];return e[s][0]<=l&&e[s][1]>=l}))||t[t.length-1]}var l=(0,i.memoize)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),i=r,o=0;o<n;o++){var a=e[o],s=t.translate(a);s<r&&(r=s),s>i&&(i=s)}return(i-r)/(n-1)}));function c(t){for(var e,n=function(t){var e=(0,i.values)(t.attributes);return(0,i.filter)(e,(function(t){return(0,i.contains)(o.GROUP_ATTRS,t.type)}))}(t),r=0,a=n;r<a.length;r++){var s=a[r],u=s.getScale(s.type);if(u&&u.isLinear){e=u;break}}var l=t.getXScale(),c=t.getYScale();return e||c||l}function f(t,e,n){if(0===e.length)return null;var r=n.type,a=n.getXScale(),c=n.getYScale(),f=a.field,p=c.field,h=null;if("heatmap"===r||"point"===r){for(var d=n.coordinate.invert(t),g=a.invert(d.x),v=c.invert(d.y),y=1/0,m=0;m<e.length;m++){var _=e[m],b=_[o.FIELD_ORIGIN],x=Math.pow(b[f]-g,2)+Math.pow(b[p]-v,2);x<y&&(y=x,h=_)}return h}var w=e[0],S=e[e.length-1],E=function(t,e){var n=e.coordinate,r=e.getXScale(),i=r.range,o=i[i.length-1],a=i[0],s=n.invert(t).x;return n.isPolar&&s>(1+o)/2&&(s=a),r.translate(r.invert(s))}(t,n),A=w[o.FIELD_ORIGIN][f],O=w[o.FIELD_ORIGIN][p],T=S[o.FIELD_ORIGIN][f],C=c.isLinear&&(0,i.isArray)(O);if((0,i.isArray)(A)){for(m=0;m<e.length;m++)if(b=(L=e[m])[o.FIELD_ORIGIN],a.translate(b[f][0])<=E&&a.translate(b[f][1])>=E){if(!C){h=L;break}(0,i.isArray)(h)||(h=[]),h.push(L)}(0,i.isArray)(h)&&(h=u(h,t,n))}else{var P=void 0;if(a.isLinear||"timeCat"===a.type){if((E>a.translate(T)||E<a.translate(A))&&(E>a.max||E<a.min))return null;for(var M=0,I=e.length-1,k=void 0;M<=I;){var R=e[k=Math.floor((M+I)/2)][o.FIELD_ORIGIN][f];if(s(R,E,a))return e[k];a.translate(R)<=a.translate(E)?(M=k+1,S=e[k],P=e[k+1]):(0===I&&(S=e[0]),I=k-1)}}else{for(m=0;m<e.length;m++){var L;if(s((b=(L=e[m])[o.FIELD_ORIGIN])[f],E,a)){if(!C){h=L;break}(0,i.isArray)(h)||(h=[]),h.push(L)}else a.translate(b[f])<=E&&(S=L,P=e[m+1])}(0,i.isArray)(h)&&(h=u(h,t,n))}S&&P&&Math.abs(a.translate(S[o.FIELD_ORIGIN][f])-E)>Math.abs(a.translate(P[o.FIELD_ORIGIN][f])-E)&&(S=P)}var D=l(n.getXScale());return!h&&Math.abs(a.translate(S[o.FIELD_ORIGIN][f])-E)<=D/2&&(h=S),h}function p(t,e,n,s){void 0===n&&(n=""),void 0===s&&(s=!1);var u,l,f=t[o.FIELD_ORIGIN],p=function(t,e,n){var r=e.getAttribute("position").getFields(),o=e.scales,a=(0,i.isFunction)(n)||!n?r[0]:n,s=o[a],u=s?s.getText(t[a]):t[a]||a;return(0,i.isFunction)(n)?n(u,t):u}(f,e,n),h=e.tooltipOption,d=e.theme.defaultColor,g=[];function v(e,n){if(s||!(0,i.isNil)(n)&&""!==n){var r={title:p,data:f,mappingData:t,name:e,value:n,color:t.color||d,marker:!0};g.push(r)}}if((0,i.isObject)(h)){var y=h.fields,m=h.callback;if(m){var _=y.map((function(e){return t[o.FIELD_ORIGIN][e]})),b=m.apply(void 0,_),x=(0,r.__assign)({data:t[o.FIELD_ORIGIN],mappingData:t,title:p,color:t.color||d,marker:!0},b);g.push(x)}else for(var w=e.scales,S=0,E=y;S<E.length;S++){var A=E[S];if(!(0,i.isNil)(f[A])){var O=w[A];v(u=(0,a.getName)(O),l=O.getText(f[A]))}}}else{var T=c(e);l=function(t,e){var n=t[e.field];return(0,i.isArray)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(f,T),u=function(t,e){var n,r=e.getGroupScales();if(r.length&&(n=r[0]),n){var i=n.field;return n.getText(t[i])}var o=c(e);return(0,a.getName)(o)}(f,e),v(u,l)}return g}function h(t,e,n,r){var o=r.showNil,a=[],s=t.dataArray;if(!(0,i.isEmpty)(s)){t.sort(s);for(var u=0,l=s;u<l.length;u++){var c=f(e,l[u],t);if(c){var h=t.getElementId(c),d=t.elementsMap[h];if("heatmap"===t.type||d.visible){var g=p(c,t,n,o);g.length&&a.push(g)}}}}return a}function d(t,e,n,r){var i=r.showNil,o=[],a=t.container.getShape(e.x,e.y);if(a&&a.get("visible")&&a.get("origin")){var s=p(a.get("origin").mappingData,t,n,i);s.length&&o.push(s)}return o}function g(t,e,n){for(var r=[],i=t.geometries,o=n.shared,a=n.title,s=n.reversed,u=0,l=i;u<l.length;u++){var c=l[u];if(c.visible&&!1!==c.tooltipOption){var f=c.type,p=void 0;(p=["point","edge","polygon"].includes(f)?d(c,e,a,n):["area","line","path","heatmap"].includes(f)||!1!==o?h(c,e,a,n):d(c,e,a,n)).length&&(s&&p.reverse(),r.push(p))}}return r}e.findDataByPoint=f,e.getTooltipItems=p,e.findItemsFromView=g,e.findItemsFromViewRecurisive=function(t,e,n){for(var r=g(t,e,n),i=0,o=t.views;i<o.length;i++){var a=o[i];r=r.concat(g(a,e,n))}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=e.GLOBAL=void 0;var r=n(0);e.GLOBAL={locale:"en-US"},e.setGlobal=function(t){r.each(t,(function(t,n){return e.GLOBAL[n]=t}))}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.addEndArrow=function(t,e,n,r,o,a){"object"===(0,i.default)(e.endArrow)?p(t,e,n,r,o,a,!1):e.endArrow?f(t,e,n,r,o,a,!1):t.set("startArrowShape",null)},e.addStartArrow=function(t,e,n,r,o,a){"object"===(0,i.default)(e.startArrow)?p(t,e,n,r,o,a,!0):e.startArrow?f(t,e,n,r,o,a,!0):t.set("startArrowShape",null)},e.getShortenOffset=function(t,e,n,r,i){var o=l(r-e,n-t);return{dx:u(o)*i,dy:s(o)*i}};var i=r(n(6)),o=n(1),a=n(148),s=Math.sin,u=Math.cos,l=Math.atan2,c=Math.PI;function f(t,e,n,r,i,o,f){var p=e.stroke,h=e.lineWidth,d=l(r-o,n-i),g=new a.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*u(c/6)+","+10*s(c/6)+" L0,0 L"+10*u(c/6)+",-"+10*s(c/6),stroke:p,lineWidth:h}});g.translate(i,o),g.rotateAtPoint(i,o,d),t.set(f?"startArrowShape":"endArrowShape",g)}function p(t,e,n,r,i,c,f){var p=e.startArrow,h=e.endArrow,d=e.stroke,g=e.lineWidth,v=f?p:h,y=v.d,m=v.fill,_=v.stroke,b=v.lineWidth,x=(0,o.__rest)(v,["d","fill","stroke","lineWidth"]),w=l(r-c,n-i);y&&(i-=u(w)*y,c-=s(w)*y);var S=new a.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:(0,o.__assign)((0,o.__assign)({},x),{stroke:_||d,lineWidth:b||g,fill:m})});S.translate(i,c),S.rotateAtPoint(i,c,w),t.set(f?"startArrowShape":"endArrowShape",S)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,o,a,s){var u=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),f=Math.max(e,i),p=o/2;return a>=u-p&&a<=l+p&&s>=c-p&&s<=f+p&&r.Line.pointToLine(t,e,n,i,a,s)<=o/2};var r=n(33)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Dom",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return g.default}});var i=r(n(63)),o=r(n(995)),a=r(n(996)),s=r(n(997)),u=r(n(998)),l=r(n(999)),c=r(n(1e3)),f=r(n(1002)),p=r(n(1003)),h=r(n(1004)),d=r(n(1005)),g=r(n(1007))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freeze=void 0,e.freeze=function(t){return Object.freeze(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSVG=e.isReplacedElement=e.isHidden=e.isElement=void 0;var r=function(t){return t instanceof SVGElement&&"getBBox"in t};e.isSVG=r,e.isHidden=function(t){if(r(t)){var e=t.getBBox(),n=e.width,i=e.height;return!n&&!i}var o=t,a=o.offsetWidth,s=o.offsetHeight;return!(a||s||t.getClientRects().length)},e.isElement=function(t){var e,n;if(t instanceof Element)return!0;var r=null===(n=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},e.isReplacedElement=function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cluster",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"hierarchy",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"pack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"packEnclose",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"packSiblings",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"stratify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"tree",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"treemap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"treemapBinary",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"treemapDice",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"treemapResquarify",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"treemapSlice",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"treemapSliceDice",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"treemapSquarify",{enumerable:!0,get:function(){return y.default}});var i=r(n(1119)),o=r(n(300)),a=r(n(1135)),s=r(n(530)),u=r(n(532)),l=r(n(1136)),c=r(n(1137)),f=r(n(1138)),p=r(n(1139)),h=r(n(1140)),d=r(n(156)),g=r(n(195)),v=r(n(1141)),y=r(n(302)),m=r(n(1142))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.legend=e.meta=void 0;var r=n(1),i=n(0),o=n(35),a=n(1148),s=n(1149),u=n(43),l=n(154),c=n(537),f=n(14),p=n(121);function h(t){var e=t.options,n=e.legend,i=e.seriesField,o=e.isStack;return i?!1!==n&&(n=r.__assign({position:o?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function d(t){var e=t.chart,n=t.options,i=n.data,o=n.columnStyle,a=n.color,s=n.columnWidthRatio,l=n.isPercent,c=n.isGroup,h=n.isStack,d=n.xField,g=n.yField,v=n.seriesField,y=n.groupField,m=n.tooltip,_=n.shape,b=l&&c&&h?p.getDeepPercent(i,g,[d,y],g):p.getDataWhetherPecentage(i,g,d,g,l),x=[];h&&v&&!c?b.forEach((function(t){var e=x.find((function(e){return e[d]===t[d]&&e[v]===t[v]}));e?e[g]+=t[g]||0:x.push(r.__assign({},t))})):x=b,e.data(x);var w=l?r.__assign({formatter:function(t){return{name:c&&h?t[v]+" - "+t[y]:t[v]||t[d],value:(100*Number(t[g])).toFixed(2)+"%"}}},m):m,S=f.deepAssign({},t,{options:{data:x,widthRatio:s,tooltip:w,interval:{shape:_,style:o,color:a}}});return u.interval(S),S}function g(t){var e,n,i=t.options,a=i.xAxis,s=i.yAxis,u=i.xField,l=i.yField,c=i.data,p=i.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return f.flow(o.scale(((e={})[u]=a,e[l]=s,e),((n={})[u]={type:"cat"},n[l]=r.__assign(r.__assign({},f.adjustYMetaByZero(c,l)),p),n)))(t)}function v(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function y(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function m(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,a=n.isRange,s=f.findGeometry(e,"interval");if(i){var u=i.callback,l=r.__rest(i,["callback"]);s.label({fields:[o],callback:u,cfg:r.__assign({layout:(null===l||void 0===l?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},f.transformLabel(a?r.__assign({content:function(t){var e;return null===(e=t[o])||void 0===e?void 0:e.join("-")}},l):l))})}else s.label(!1);return t}function _(t){var e=t.chart,n=t.options,o=n.tooltip,a=n.isGroup,s=n.isStack,u=n.groupField,l=n.data,c=n.xField,p=n.yField,h=n.seriesField;if(!1===o)e.tooltip(!1);else{var d=o;if(a&&s){var g=(null===d||void 0===d?void 0:d.formatter)||function(t){return{name:t[h]+" - "+t[u],value:t[p]}};d=r.__assign(r.__assign({},d),{customItems:function(t){var e=[];return i.each(t,(function(t){i.filter(l,(function(e){return i.isMatch(e,f.pick(t.data,[c,h]))})).forEach((function(n){e.push(r.__assign(r.__assign(r.__assign({},t),{value:n[p],data:n,mappingData:{_origin:n}}),g(n)))}))})),e}})}e.tooltip(d)}return t}e.meta=g,e.legend=y,e.adaptor=function(t,e){void 0===e&&(e=!1);var n=t.options,r=n.seriesField;return f.flow(h,o.theme,l.pattern("columnStyle"),o.state,d,g,v,y,_,o.slider,o.scrollbar,m,c.brushInteraction,o.interaction,o.animation,o.annotation(),a.conversionTag(n.yField,!e,!!r),s.connectedArea(!n.isStack),o.limitInPlot)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocale=function(t){return{get:function(e,n){return(0,i.template)((0,r.get)(a[t],e)||(0,r.get)(a[o.GLOBAL.locale],e)||(0,r.get)(a["en-US"],e)||e,n)}}},e.registerLocale=function(t,e){a[t]=e};var r=n(0),i=n(7),o=n(558),a={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adjustYMetaByZero=function(t,e){var n=t.filter((function(t){var n=(0,i.get)(t,[e]);return(0,i.isNumber)(n)&&!isNaN(n)})),r=n.every((function(t){return(0,i.get)(t,[e])>=0})),o=n.every((function(t){return(0,i.get)(t,[e])<=0}));return r?{min:0}:o?{max:0}:{}},e.processIllegalData=function(t,e){var n=(0,i.filter)(t,(function(t){var n=t[e];return null===n||"number"===typeof n&&!isNaN(n)}));return(0,o.log)(o.LEVEL.WARN,n.length===t.length,"illegal data existed in chart data."),n},e.transformDataToNodeLinkData=function(t,e,n,i,o){if(void 0===o&&(o=[]),!Array.isArray(t))return{nodes:[],links:[]};var s=[],u={},l=-1;return t.forEach((function(t){var c=t[e],f=t[n],p=t[i],h=(0,a.pick)(t,o);u[c]||(u[c]=(0,r.__assign)({id:++l,name:c},h)),u[f]||(u[f]=(0,r.__assign)({id:++l,name:f},h)),s.push((0,r.__assign)({source:u[c].id,target:u[f].id,value:p},h))})),{nodes:Object.values(u).sort((function(t,e){return t.id-e.id})),links:s}};var r=n(1),i=n(0),o=n(554),a=n(553)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t,e){void 0===e&&(e=!1);var n=t.options,r=n.seriesField;return(0,f.flow)(h,o.theme,(0,l.pattern)("columnStyle"),o.state,d,g,v,y,_,o.slider,o.scrollbar,m,c.brushInteraction,o.interaction,o.animation,(0,o.annotation)(),(0,a.conversionTag)(n.yField,!e,!!r),(0,s.connectedArea)(!n.isStack),o.limitInPlot)(t)},e.legend=y,e.meta=g;var r=n(1),i=n(0),o=n(21),a=n(1223),s=n(1224),u=n(29),l=n(124),c=n(567),f=n(7),p=n(125);function h(t){var e=t.options,n=e.legend,i=e.seriesField,o=e.isStack;return i?!1!==n&&(n=(0,r.__assign)({position:o?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function d(t){var e=t.chart,n=t.options,i=n.data,o=n.columnStyle,a=n.color,s=n.columnWidthRatio,l=n.isPercent,c=n.isGroup,h=n.isStack,d=n.xField,g=n.yField,v=n.seriesField,y=n.groupField,m=n.tooltip,_=n.shape,b=l&&c&&h?(0,p.getDeepPercent)(i,g,[d,y],g):(0,p.getDataWhetherPecentage)(i,g,d,g,l),x=[];h&&v&&!c?b.forEach((function(t){var e=x.find((function(e){return e[d]===t[d]&&e[v]===t[v]}));e?e[g]+=t[g]||0:x.push((0,r.__assign)({},t))})):x=b,e.data(x);var w=l?(0,r.__assign)({formatter:function(t){return{name:c&&h?t[v]+" - "+t[y]:t[v]||t[d],value:(100*Number(t[g])).toFixed(2)+"%"}}},m):m,S=(0,f.deepAssign)({},t,{options:{data:x,widthRatio:s,tooltip:w,interval:{shape:_,style:o,color:a}}});return(0,u.interval)(S),S}function g(t){var e,n,i=t.options,a=i.xAxis,s=i.yAxis,u=i.xField,l=i.yField,c=i.data,p=i.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return(0,f.flow)((0,o.scale)(((e={})[u]=a,e[l]=s,e),((n={})[u]={type:"cat"},n[l]=(0,r.__assign)((0,r.__assign)({},(0,f.adjustYMetaByZero)(c,l)),p),n)))(t)}function v(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function y(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function m(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,a=n.isRange,s=(0,f.findGeometry)(e,"interval");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[o],callback:u,cfg:(0,r.__assign)({layout:(null===l||void 0===l?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,f.transformLabel)(a?(0,r.__assign)({content:function(t){var e;return null===(e=t[o])||void 0===e?void 0:e.join("-")}},l):l))})}else s.label(!1);return t}function _(t){var e=t.chart,n=t.options,o=n.tooltip,a=n.isGroup,s=n.isStack,u=n.groupField,l=n.data,c=n.xField,p=n.yField,h=n.seriesField;if(!1===o)e.tooltip(!1);else{var d=o;if(a&&s){var g=(null===d||void 0===d?void 0:d.formatter)||function(t){return{name:t[h]+" - "+t[u],value:t[p]}};d=(0,r.__assign)((0,r.__assign)({},d),{customItems:function(t){var e=[];return(0,i.each)(t,(function(t){(0,i.filter)(l,(function(e){return(0,i.isMatch)(e,(0,f.pick)(t.data,[c,h]))})).forEach((function(n){e.push((0,r.__assign)((0,r.__assign)((0,r.__assign)({},t),{value:n[p],data:n,mappingData:{_origin:n}}),g(n)))}))})),e}})}e.tooltip(d)}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,i.flow)((0,r.pattern)("areaStyle"),l,c,r.tooltip,r.theme,r.animation,(0,r.annotation)())(t)},e.meta=c;var r=n(21),i=n(7),o=n(29),a=n(157),s=n(126),u=n(198);function l(t){var e=t.chart,n=t.options,r=n.data,u=n.color,l=n.areaStyle,c=n.point,f=n.line,p=null===c||void 0===c?void 0:c.state,h=(0,s.getTinyData)(r);e.data(h);var d=(0,i.deepAssign)({},t,{options:{xField:a.X_FIELD,yField:a.Y_FIELD,area:{color:u,style:l},line:f,point:c}}),g=(0,i.deepAssign)({},d,{options:{tooltip:!1}}),v=(0,i.deepAssign)({},d,{options:{tooltip:!1,state:p}});return(0,o.area)(d),(0,o.line)(g),(0,o.point)(v),e.axis(!1),e.legend(!1),t}function c(t){var e,n,o=t.options,l=o.xAxis,c=o.yAxis,f=o.data,p=(0,s.getTinyData)(f);return(0,i.flow)((0,r.scale)(((e={})[a.X_FIELD]=l,e[a.Y_FIELD]=c,e),((n={})[a.X_FIELD]={type:"cat"},n[a.Y_FIELD]=(0,u.adjustYMetaByZero)(p,a.Y_FIELD),n)))(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PATH_FIELD=e.ID_FIELD=e.DEFAULT_OPTIONS=void 0,e.ID_FIELD="id",e.PATH_FIELD="path",e.DEFAULT_OPTIONS={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PADDING_TOP=e.HIERARCHY_DATA_TRANSFORM_PARAMS=e.DrillDownAction=e.DEFAULT_BREAD_CRUMB_CONFIG=e.BREAD_CRUMB_NAME=void 0;var r=n(1),i=n(13),o=n(0),a=n(556);e.PADDING_TOP=5;var s="drilldown-bread-crumb";e.BREAD_CRUMB_NAME=s;var u={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}};e.DEFAULT_BREAD_CRUMB_CONFIG=u;var l="hierarchy-data-transform-params";e.HIERARCHY_DATA_TRANSFORM_PARAMS=l;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=u,e}return(0,r.__extends)(e,t),e.prototype.click=function(){var t=(0,o.get)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),r=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(o={x:0,y:0}),"bottom-left"===r&&(o={x:t.start.x,y:t.start.y});var a=i.Util.transform(null,[["t",o.x+0,o.y+n.height+5]]);e.setMatrix(a)}},e.prototype.back=function(){(0,o.size)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=(0,o.get)(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),i=n((0,r.__assign)({data:t.data},t[l]));e.changeData(i);for(var a=[],s=t;s;){var u=s.data;a.unshift({id:u.name+"_"+s.height+"_"+s.depth,name:u.name,children:n((0,r.__assign)({data:u},t[l]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(a)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=(0,o.last)(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,o.get)(t,["interactions","drill-down","cfg","drillDownConfig"]);return(0,a.deepAssign)(this.breadCrumbCfg,null===e||void 0===e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:s});var i=0;n.forEach((function(a,u){var l=t.breadCrumbGroup.addShape({type:"text",id:a.id,name:s+"_"+a.name+"_text",attrs:(0,r.__assign)((0,r.__assign)({text:0!==u||(0,o.isNil)(e.rootText)?a.name:e.rootText},e.textStyle),{x:i,y:0})}),c=l.getBBox();if(i+=c.width+4,l.on("click",(function(e){var r,i=e.target.get("id");if(i!==(null===(r=(0,o.last)(n))||void 0===r?void 0:r.id)){var a=n.slice(0,n.findIndex((function(t){return t.id===i}))+1);t.backTo(a)}})),l.on("mouseenter",(function(t){var r;t.target.get("id")!==(null===(r=(0,o.last)(n))||void 0===r?void 0:r.id)?l.attr(e.activeTextStyle):l.attr({cursor:"default"})})),l.on("mouseleave",(function(){l.attr(e.textStyle)})),u<n.length-1){var f=t.breadCrumbGroup.addShape({type:"text",name:e.name+"_"+a.name+"_divider",attrs:(0,r.__assign)((0,r.__assign)({text:e.dividerText},e.textStyle),{x:i,y:0})}).getBBox();i+=f.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(i.Action);e.DrillDownAction=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextPoint=e.toPx=e.updateClip=e.getBBoxWithClip=e.mergeBBox=e.intersectBBox=e.near=e.wait=e.distance=e.getCirclePoint=e.getValueByPercent=e.createBBox=e.pointsToBBox=e.regionToBBox=e.hasClass=e.clearDom=e.formatPadding=void 0;var r=n(0);function i(t,e,n,r){var i=t+n,o=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(o)?0:o}}function o(t,e,n){return(1-n)*t+e*n}function a(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function s(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY);return i(n,r,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-r)}e.formatPadding=function(t){var e=0,n=0,i=0,o=0;return r.isNumber(t)?e=n=i=o=t:r.isArray(t)&&(e=t[0],i=r.isNil(t[1])?t[0]:t[1],o=r.isNil(t[2])?t[0]:t[2],n=r.isNil(t[3])?i:t[3]),[e,i,o,n]},e.clearDom=function(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},e.pointsToBBox=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},e.createBBox=i,e.getValueByPercent=o,e.getCirclePoint=function(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},e.distance=a,e.wait=function(t){return new Promise((function(e){setTimeout(e,t)}))},e.near=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n},e.intersectBBox=s,e.mergeBBox=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY);return i(n,r,Math.max(t.maxX,e.maxX)-n,Math.max(t.maxY,e.maxY)-r)},e.getBBoxWithClip=function t(e){var n,o=e.getClip(),a=o&&o.getBBox();if(e.isGroup()){var u=1/0,l=-1/0,c=1/0,f=-1/0,p=e.getChildren();p.length>0?r.each(p,(function(e){if(e.get("visible")){if(e.isGroup()&&0===e.get("children").length)return!0;var n=t(e),r=e.applyToMatrix([n.minX,n.minY,1]),i=e.applyToMatrix([n.minX,n.maxY,1]),o=e.applyToMatrix([n.maxX,n.minY,1]),a=e.applyToMatrix([n.maxX,n.maxY,1]),s=Math.min(r[0],i[0],o[0],a[0]),p=Math.max(r[0],i[0],o[0],a[0]),h=Math.min(r[1],i[1],o[1],a[1]),d=Math.max(r[1],i[1],o[1],a[1]);s<u&&(u=s),p>l&&(l=p),h<c&&(c=h),d>f&&(f=d)}})):(u=0,l=0,c=0,f=0),n=i(u,c,l-u,f-c)}else n=e.getBBox();return a?s(n,a):n},e.updateClip=function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var r={type:n.get("type"),attrs:n.attr()};t.setClip(r)}else t.setClip(null)}},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,n,r){var i=r/a(t,e),s=0;return"start"===n?s=0-i:"end"===n&&(s=1+i),{x:o(t.x,e.x,s),y:o(t.y,e.y,s)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCallbackAction=e.unregisterAction=e.registerAction=e.getActionClass=e.createAction=void 0;var r=(0,n(1).__importDefault)(n(965)),i=n(0),o={};e.createAction=function(t,e){var n=o[t],r=null;return n&&((r=new(0,n.ActionClass)(e,n.cfg)).name=t,r.init()),r},e.getActionClass=function(t){var e=o[t];return(0,i.get)(e,"ActionClass")},e.registerAction=function(t,e,n){o[t]={ActionClass:e,cfg:n}},e.unregisterAction=function(t){delete o[t]},e.createCallbackAction=function(t,e){var n=new r.default(e);return n.callback=t,n.name="callback",n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(69),a=n(48),s=n(46),u=n(187),l=n(81),c=n(105),f=(0,r.__importDefault)(n(271)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var o=this.getTitle(n),a={x:n[0].x,y:n[0].y};e.emit("tooltip:show",f.default.fromData(e,"tooltip:show",(0,r.__assign)({items:n,title:o},t)));var s=this.getTooltipCfg(),u=s.follow,l=s.showMarkers,c=s.showCrosshairs,p=s.showContent,h=s.marker,d=this.items,g=this.title;if((0,i.isEqual)(g,o)&&(0,i.isEqual)(d,n)?(this.tooltip&&u&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",f.default.fromData(e,"tooltip:change",(0,r.__assign)({items:n,title:o},t))),((0,i.isFunction)(p)?p(n):p)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,i.mix)({},s,{items:this.getItemsAfterProcess(n),title:o},u?t:{})),this.tooltip.show()),l&&this.renderTooltipMarkers(n,h)),this.items=n,this.title=o,c){var v=(0,i.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(v?t:a,s)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",f.default.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,r=t.yCrosshair,i=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),r&&r.clear(),i&&i.clear(),(null===e||void 0===e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,r=e.tooltipMarkersGroup,i=e.xCrosshair,o=e.yCrosshair;t?(n&&n.show(),r&&r.show(),i&&i.show(),o&&o.show()):(n&&n.hide(),r&&r.hide(),i&&i.hide(),o&&o.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,r=e=(0,i.flatten)(e);n<r.length;n++)for(var o=0,a=r[n];o<a.length;o++){var s=a[o],u=s.mappingData,l=u.x,c=u.y;s.x=(0,i.isArray)(l)?l[l.length-1]:l,s.y=(0,i.isArray)(c)?c[c.length-1]:c}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var f=e[0],p=Math.abs(t.y-f[0].y),h=0,d=e;h<d.length;h++){var g=d[h],v=Math.abs(t.y-g[0].y);v<=p&&(f=g,p=v)}e=[f]}return function(t){for(var e=[],n=function(n){var r=t[n];(0,i.find)(e,(function(t){return t.color===r.color&&t.name===r.name&&t.value===r.value&&t.title===r.title}))||e.push(r)},r=0;r<t.length;r++)n(r);return e}((0,i.flatten)(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var r=e.getBoundingClientRect(),i=r.x,o=r.y,a=r.width,s=r.height;return new l.BBox(i,o,a,s).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),r=t.getTheme(),o=(0,i.get)(r,["components","tooltip"],{}),a=(0,i.get)(n,"enterable",o.enterable);return(0,i.deepMix)({},o,n,{capture:!(!a&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,i.isBoolean)(t)||!(0,i.get)(t,"customContent"))return t;var e=t.customContent;return(0,r.__assign)((0,r.__assign)({},t),{customContent:function(t,n){var r=e(t,n)||"";return(0,i.isString)(r)?'<div class="g2-tooltip">'+r+"</div>":r}})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),i=new o.HtmlTooltip((0,r.__assign)((0,r.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},e.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),i=0,o=t;i<o.length;i++){var a=o[i],s=a.x,u=a.y,l=(0,r.__assign)((0,r.__assign)({fill:a.color,symbol:"circle",shadowColor:a.color},e),{x:s,y:u});n.addShape("marker",{attrs:l})}},e.prototype.renderCrosshairs=function(t,e){var n=(0,i.get)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if((0,a.isPointInCoordinate)(n,t)){var r,u;if(n.isRect)n.isTransposed?(r={x:n.start.x,y:t.y},u={x:n.end.x,y:t.y}):(r={x:t.x,y:n.end.y},u={x:t.x,y:n.start.y});else{var l=(0,a.getAngleByPoint)(n,t),c=n.getCenter(),f=n.getRadius();u=(0,s.polarToCartesian)(c.x,c.y,f,l),r=c}var p=(0,i.deepMix)({start:r,end:u,container:this.getTooltipCrosshairsGroup()},(0,i.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete p.type;var h=this.xCrosshair;h?h.update(p):(h=new o.Crosshair.Line(p)).init(),h.render(),h.show(),this.xCrosshair=h}},e.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if((0,a.isPointInCoordinate)(n,t)){var r,s;if(n.isRect){var u=void 0,l=void 0;n.isTransposed?(u={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(u={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),r={start:u,end:l},s="Line"}else r={center:n.getCenter(),radius:(0,a.getDistanceToCenter)(n,t),startAngle:n.startAngle,endAngle:n.endAngle},s="Circle";delete(r=(0,i.deepMix)({container:this.getTooltipCrosshairsGroup()},r,(0,i.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var c=this.yCrosshair;c?n.isRect&&"circle"===c.get("type")||!n.isRect&&"line"===c.get("type")?(c=new o.Crosshair[s](r)).init():c.update(r):(c=new o.Crosshair[s](r)).init(),c.render(),c.show(),this.yCrosshair=c}},e.prototype.getCrosshairsText=function(t,e,n){var r=(0,i.get)(n,["crosshairs","text"]),o=(0,i.get)(n,["crosshairs","follow"]),a=this.items;if(r){var s=this.getViewWithGeometry(this.view),u=a[0],l=s.getXScale(),c=s.getYScales()[0],f=void 0,p=void 0;if(o){var h=this.view.getCoordinate().invert(e);f=l.invert(h.x),p=c.invert(h.y)}else f=u.data[l.field],p=u.data[c.field];var d="x"===t?f:p;return(0,i.isFunction)(r)?r=r(t,d,a,e):r.content=d,{text:r}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=this.getTooltipCfg(),r=(0,u.findItemsFromView)(t,e,n),i=0,o=t.views;i<o.length;i++){var a=o[i];r=r.concat(this.findItemsFromView(a,e))}return r},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,i.find)(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems;return(e||function(t){return t})(t)},e}(c.Controller);e.default=p},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0});var o={version:!0,Shape:!0,Canvas:!0,Group:!0,getArcParams:!0};Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return l.default}}),e.Shape=void 0,Object.defineProperty(e,"getArcParams",{enumerable:!0,get:function(){return c.default}}),e.version=void 0;var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(148));e.Shape=a;var s=n(30);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=r(n(993)),l=r(n(276)),c=r(n(468));function f(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}e.version="0.5.12"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.antvDark=e.createDarkStyleSheet=void 0;var r="#000",i="#BFBFBF",o="#F0F0F0",a="#FFFFFF",s="#A6A6A6",u="#737373",l="#404040",c="#262626",f=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],p=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],h=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"];e.createDarkStyleSheet=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"#141414":e,d=t.subColor,g=void 0===d?"rgba(255,255,255,0.05)":d,v=t.paletteQualitative10,y=void 0===v?f:v,m=t.paletteQualitative20,_=void 0===m?p:m,b=t.paletteSemanticRed,x=void 0===b?"#F4664A":b,w=t.paletteSemanticGreen,S=void 0===w?"#30BF78":w,E=t.paletteSemanticYellow,A=void 0===E?"#FAAD14":E,O=t.paletteSequence,T=void 0===O?h:O,C=t.fontFamily,P=void 0===C?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':C,M=t.brandColor;return{backgroundColor:n,brandColor:void 0===M?y[0]:M,subColor:g,paletteQualitative10:y,paletteQualitative20:_,paletteSemanticRed:x,paletteSemanticGreen:S,paletteSemanticYellow:A,paletteSequence:T,fontFamily:P,axisLineBorderColor:l,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:s,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:l,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:c,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:u,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:c,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:u,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:f[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:s,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:u,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:u,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:s,legendPageNavigatorTextFontSize:12,sliderRailFillColor:c,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:u,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:o,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:i,annotationArcBorderColor:c,annotationArcBorder:1,annotationLineBorderColor:l,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:s,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:a,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:l,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:s,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:s,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:r,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:s,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:r,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:l,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:f[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:r,pointBorderOpacity:1,pointActiveBorderColor:a,pointSelectedBorder:2,pointSelectedBorderColor:a,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:f[0],hollowPointBorderOpacity:.95,hollowPointFillColor:r,hollowPointActiveBorder:1,hollowPointActiveBorderColor:a,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:a,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:f[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:f[0],areaFillOpacity:.25,areaActiveFillColor:f[0],areaActiveFillOpacity:.5,areaSelectedFillColor:f[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:f[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:a,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:a,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:f[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:a,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:a,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:f[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:r,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:a,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:a,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},e.antvDark=(0,e.createDarkStyleSheet)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="arc",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="dataMarker",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="dataRegion",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="image",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="line",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="region",t}return n}(n(36).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var p=function(t){a()(n,t);var e=f(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).annotationType="text",t}return n}(n(36).a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(48),a=n(48),s=(0,r.__importDefault)(n(100)),u=Math.PI/2,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if((0,i.isNumber)(t))n=t;else if((0,i.isString)(t)&&-1!==t.indexOf("%")){var r=e.getRadius();e.innerRadius>0&&(r*=1-e.innerRadius),n=.01*parseFloat(t)*r}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),o=this.geometry.getYScale();return(0,i.map)(n,(function(t){if(t&&o){var e=o.scale((0,i.get)(t.data,o.field));return(0,r.__assign)((0,r.__assign)({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=t.offset;e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,i=1,o=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(i=-1),r=this.getArcPoint(e,n));var a=t.offset*i,s=this.getPointAngle(r),u=t.labelEmit,l=this.getCirclePoint(s,a,r,u);return 0===l.r?l.content="":(l.content=o,l.angle=s,l.color=e.color),l.rotate=t.autoRotate?this.getLabelRotate(s,a,u):t.rotate,l.start={x:r.x,y:r.y},l},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,i.isArray)(t.x)||(0,i.isArray)(t.y)?{x:(0,i.isArray)(t.x)?t.x[e]:t.x,y:(0,i.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return(0,a.getAngleByPoint)(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,i){var a=this.getCoordinate(),s=a.getCenter(),u=(0,o.getDistanceToCenter)(a,n);if(0===u)return(0,r.__assign)((0,r.__assign)({},s),{r:u});var l=t;return a.isTransposed&&u>e&&!i?l=t+2*Math.asin(e/(2*u)):u+=e,{x:s.x+u*Math.cos(l),y:s.y+u*Math.sin(l),r:u}},e.prototype.getLabelRotate=function(t,e,n){var r=t+u;return n&&(r-=u),r&&(r>u?r-=Math.PI:r<-u&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return(0,i.each)(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(s.default);e.default=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(45),i=n.n(r),o=n(4),a=n.n(o),s=n(38),u=n.n(s),l=n(27),c=n.n(l),f=n(40),p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function h(t){var e=t.type,n=t.transpose,r=t.rotate,o=t.scale,s=t.reflect,l=t.actions,h=p(t,["type","transpose","rotate","scale","reflect","actions"]),d=Object(f.a)(),g=d.coordinate();return g.update({}),e?d.coordinate(e,a()({},h)):d.coordinate("rect",a()({},h)),r&&g.rotate(r),o&&g.scale.apply(g,i()(o)),u()(s)||g.reflect(s),n&&g.transpose(),c()(l)&&l(g),null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(329),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(475),Object(d.registerGeometry)("Edge",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="edge",t}return n}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(330),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}Object(d.registerGeometry)("Heatmap",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="heatmap",t}return n}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(331),p=n.n(f),h=n(164),d=n.n(h),g=n(165),v=n.n(g),y=n(39),m=n(8);function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(479),n(480),n(481),n(482),n(483),Object(m.registerGeometry)("Interval",p.a),Object(m.registerGeometryLabel)("interval",d.a),Object(m.registerGeometryLabel)("pie",v.a),Object(m.registerInteraction)("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});var b=function(t){a()(n,t);var e=_(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).interactionTypes=["active-region","element-highlight"],t.GemoBaseClassName="interval",t}return n}(y.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(334),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(476),n(489),Object(d.registerGeometry)("Polygon",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="polygon",t}return n}(h.a)},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(101),u=(n(279),n(281),n(61)),l=n.n(u),c=n(169),f=n.n(c),p=n(17),h=n.n(p),d=n(19),g=n.n(d),v=n(8),y=n(60),m=n(40),_=n(82),b=n(130),x=n(131),w=n(129),S=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},E={default:{style:{fill:"#5B8FF9",fillOpacity:.25,stroke:null}},active:{style:{fillOpacity:.5}},inactive:{style:{fillOpacity:.4}},selected:{style:{fillOpacity:.5}}};Object(v.registerShape)("area","gradient",{draw:function(t,e){var n=Object(s.getShapeAttrs)(t,!1,!1,this),r=n.fill,i=y.color(r);return i&&(n.fill="l (90) 0:".concat(y.rgb(i.r,i.g,i.b,1).formatRgb()," 1:").concat(y.rgb(i.r,i.g,i.b,.1).formatRgb())),e.addShape({type:"path",attrs:n,name:"area"})}}),Object(v.registerShape)("area","gradient-smooth",{draw:function(t,e){var n=this.coordinate,r=Object(s.getShapeAttrs)(t,!1,!0,this,Object(s.getConstraint)(n)),i=r.fill,o=y.color(i);return o&&(r.fill="l (90) 0:".concat(y.rgb(o.r,o.g,o.b,1).formatRgb()," 1:").concat(y.rgb(o.r,o.g,o.b,.1).formatRgb())),e.addShape({type:"path",attrs:r,name:"area"})}}),e.a=function(t){var e=t.point,n=t.area,r=t.shape,o=S(t,["point","area","shape"]),s={shape:"circle"},u=Object(_.a)(),c=Object(m.a)(),p={shape:"smooth"===r?"gradient-smooth":"gradient"},d=c.getTheme();return d.geometries.area.gradient=E,d.geometries.area["gradient-smooth"]=E,!1!==h()(u,["options","tooltip"])&&(void 0===h()(c,["options","tooltip","shared"])&&g()(c,["options","tooltip","shared"],!0),void 0===h()(c,["options","tooltip","showCrosshairs"])&&g()(c,["options","tooltip","showCrosshairs"],!0),void 0===h()(c,["options","tooltip","showMarkers"])&&g()(c,["options","tooltip","showMarkers"],!0)),l()(s)&&f()(s,e),l()(p)&&f()(p,n),a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,i()({shape:r,state:{default:{style:{shadowColor:"#ddd",shadowBlur:3,shadowOffsetY:2}},active:{style:{shadowColor:"#ddd",shadowBlur:3,shadowOffsetY:5}}}},o)),!!n&&a.a.createElement(w.a,i()({},o,{tooltip:!1},p)),!!e&&a.a.createElement(x.a,i()({size:3},o,{state:{active:{style:{stroke:"#fff",lineWidth:1.5,strokeOpacity:.9}}},tooltip:!1},s)))}},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fadeOut=e.fadeIn=void 0;var r=n(0);e.fadeIn=function(t,e,n){var i={fillOpacity:(0,r.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:(0,r.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:(0,r.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(i,e)},e.fadeOut=function(t,e,n){var r=e.easing,i=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},i,r,(function(){t.remove(!0)}),o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scaleInY=e.scaleInX=void 0;var r=n(32);e.scaleInX=function(t,e,n){var i=t.getBBox(),o=t.get("origin").mappingData.points,a=o[0].y-o[1].y>0?i.maxX:i.minX,s=(i.minY+i.maxY)/2;t.applyToMatrix([a,s,1]);var u=r.ext.transform(t.getMatrix(),[["t",-a,-s],["s",.01,1],["t",a,s]]);t.setMatrix(u),t.animate({matrix:r.ext.transform(t.getMatrix(),[["t",-a,-s],["s",100,1],["t",a,s]])},e)},e.scaleInY=function(t,e,n){var i=t.getBBox(),o=t.get("origin").mappingData,a=(i.minX+i.maxX)/2,s=o.points,u=s[0].y-s[1].y<=0?i.maxY:i.minY;t.applyToMatrix([a,u,1]);var l=r.ext.transform(t.getMatrix(),[["t",-a,-u],["s",1,.01],["t",a,u]]);t.setMatrix(l),t.animate({matrix:r.ext.transform(t.getMatrix(),[["t",-a,-u],["s",1,100],["t",a,u]])},e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zoomOut=e.zoomIn=void 0;var r=n(1),i=n(32),o=n(0);function a(t,e,n){if(t.isGroup())(0,o.each)(t.getChildren(),(function(t){a(t,e,n)}));else{var s=t.getBBox(),u=(s.minX+s.maxX)/2,l=(s.minY+s.maxY)/2;if(t.applyToMatrix([u,l,1]),"zoomIn"===n){var c=i.ext.transform(t.getMatrix(),[["t",-u,-l],["s",.01,.01],["t",u,l]]);t.setMatrix(c),t.animate({matrix:i.ext.transform(t.getMatrix(),[["t",-u,-l],["s",100,100],["t",u,l]])},e)}else t.animate({matrix:i.ext.transform(t.getMatrix(),[["t",-u,-l],["s",.01,.01],["t",u,l]])},(0,r.__assign)((0,r.__assign)({},e),{callback:function(){t.remove(!0)}}))}}e.zoomIn=function(t,e,n){a(t,e,"zoomIn")},e.zoomOut=function(t,e,n){a(t,e,"zoomOut")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overlap=e.fixedOverlap=void 0;var r=n(0),i=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,i=void 0===r?8:r;this.xGap=n,this.yGap=i}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),i=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=r;s<=i;s+=1)if(n[s]){if(s===r||s===i){for(var u=o;u<=a;u++)if(n[s][u]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=r;a+=1)e[a]||(e[a]={});for(a=n;a<=r;a+=this.xGap){for(var s=i;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=i;a<=o;a+=1)e[n][a]=!0,e[r][a]=!0;if(1!==this.xGap)for(a=n;a<=r;a+=1)e[a][i]=!0,e[a][o]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function o(t,e,n,r){var i=t.getCanvasBBox(),o=i.width,a=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=a+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}e.fixedOverlap=function(t,e,n,o){var a=new i;(0,r.each)(e,(function(t){(function(t,e,n){void 0===n&&(n=100);var r,i=t.attr(),o=i.x,a=i.y,s=t.getCanvasBBox(),u=Math.sqrt(s.width*s.width+s.height*s.height),l=1,c=0,f=0,p=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var h=!1,d=0,g={};Math.min(Math.abs(c),Math.abs(f))<u&&d<n;)if(c=~~(r=p(l+=-1))[0],f=~~r[1],(c||f)&&!g[c+"-"+f]&&(t.attr({x:o+c,y:a+f}),c+f<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),h=!0,g[c+"-"+f]=!0;break}return h})(t.find((function(t){return"text"===t.get("type")})),a)||t.remove(!0)})),a.destroy()},e.overlap=function(t,e,n,a){var s=new i;(0,r.each)(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),r=n.x,i=n.y,a=!1,u=0;u<=8;u++){var l=o(e,r,i,u);if(s.hasGap(l)){s.fillGap(l),a=!0;break}}a||t.remove(!0)})),s.destroy()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ELEMENT_RANGE_HIGHLIGHT_EVENTS=void 0;var r,i=n(1),o=n(98),a=n(290),s=(0,i.__importDefault)(n(288));!function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"}(r||(r={})),e.ELEMENT_RANGE_HIGHLIGHT_EVENTS=r;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,i.__extends)(e,t),e.prototype.clearViewState=function(t){(0,a.clearHighlight)(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(r.BEFORE_HIGHLIGHT,o.Event.fromData(e,r.BEFORE_HIGHLIGHT,n)),this.setState(),e.emit(r.AFTER_HIGHLIGHT,o.Event.fromData(e,r.AFTER_HIGHLIGHT,n))},e.prototype.clear=function(){var e=this.context.view;e.emit(r.BEFORE_CLEAR,o.Event.fromData(e,r.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit(r.AFTER_CLEAR,o.Event.fromData(e,r.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){(0,a.setHighlightBy)(n,(function(e){return t.indexOf(e)>=0}),e)},e}(s.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(1042),a=(0,r.__importDefault)(n(152)),s="inactive",u="active",l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=u,e.ignoreItemStates=["unchecked"],e}return(0,r.__extends)(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems(),this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var r=t.getItems();if(n)(0,i.each)(r,(function(n){e(n)?(t.hasState(n,s)&&t.setItemState(n,s,!1),t.setItemState(n,u,!0)):t.hasState(n,u)||t.setItemState(n,s,!0)}));else{var o=t.getItemsByState(u),a=!0;(0,i.each)(o,(function(t){if(!e(t))return a=!1,!1})),a?this.clear():(0,i.each)(r,(function(n){e(n)&&(t.hasState(n,u)&&t.setItemState(n,u,!1),t.setItemState(n,s,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)(0,o.clearList)(t.list);else{var e=this.getAllowComponents();(0,i.each)(e,(function(t){t.clearItemsState(u),t.clearItemsState(s)}))}},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}},function(t,e,n){"use strict";t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";e.a=function(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ResizeObserver",{enumerable:!0,get:function(){return r.ResizeObserver}}),Object.defineProperty(e,"ResizeObserverEntry",{enumerable:!0,get:function(){return i.ResizeObserverEntry}}),Object.defineProperty(e,"ResizeObserverSize",{enumerable:!0,get:function(){return o.ResizeObserverSize}});var r=n(1066),i=n(498),o=n(500)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var r=n(1),i=n(23),o=n(527),a=n(1114);n(1115);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;o.meta({chart:e,options:n}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Line=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pie=void 0;var r=n(1),i=n(13),o=n(23),a=n(14),s=n(1155),u=n(540),l=n(541);n(542);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return r.__extends(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=a.processIllegalData(e.data,n),o=a.processIllegalData(t,n);l.isAllZero(r,n)||l.isAllZero(o,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),s.pieAnnotation({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e}(o.Plot);e.Pie=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scatter=void 0;var r=n(1),i=n(13),o=n(23),a=n(14),s=n(1181),u=n(1183);n(1184);var l=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.type="scatter",o.on(i.VIEW_LIFE_CIRCLE.BEFORE_RENDER,(function(t){var e,n,a=o,u=a.options,l=a.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===i.BRUSH_FILTER_EVENTS.FILTER){var c=o.chart.filterData(o.chart.getData());s.meta({chart:l,options:r.__assign(r.__assign({},u),{data:c})})}(null===(n=t.data)||void 0===n?void 0:n.source)===i.BRUSH_FILTER_EVENTS.RESET&&s.meta({chart:l,options:u})})),o}return r.__extends(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption(s.transformOptions(a.deepAssign({},this.options,{data:t})));var e=this.options,n=this.chart;s.meta({chart:n,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(o.Plot);e.Scatter=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.getArcParams=e.Shape=e.Group=e.Canvas=void 0;var r=n(1),i=n(144);e.Shape=i,r.__exportStar(n(30),e);var o=n(941);Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return o.default}});var a=n(263);Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return a.default}});var s=n(452);Object.defineProperty(e,"getArcParams",{enumerable:!0,get:function(){return s.default}}),e.version="0.5.12"},function(t,e,n){"use strict";var r=n(664);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=function(t,e){return!!(0,i.default)(t)&&t.indexOf(e)>-1};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(6)),o=function(t){return"object"===(0,i.default)(t)&&null!==t};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(109)),o=r(n(57)),a=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return(0,i.default)(t,(function(n,r){(0,o.default)(t)&&"prototype"===r||e.push(n)})),e};e.default=a},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0});var o={version:!0,PathUtil:!0,Event:!0,Base:!0,AbstractCanvas:!0,AbstractGroup:!0,AbstractShape:!0,getBBoxMethod:!0,getTextHeight:!0,assembleFont:!0,isAllowCapture:!0,multiplyVec2:!0,invert:!0,getOffScreenContext:!0};Object.defineProperty(e,"AbstractCanvas",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return l.default}}),e.PathUtil=void 0,Object.defineProperty(e,"assembleFont",{enumerable:!0,get:function(){return g.assembleFont}}),Object.defineProperty(e,"getBBoxMethod",{enumerable:!0,get:function(){return d.getBBoxMethod}}),Object.defineProperty(e,"getOffScreenContext",{enumerable:!0,get:function(){return m.getOffScreenContext}}),Object.defineProperty(e,"getTextHeight",{enumerable:!0,get:function(){return g.getTextHeight}}),Object.defineProperty(e,"invert",{enumerable:!0,get:function(){return y.invert}}),Object.defineProperty(e,"isAllowCapture",{enumerable:!0,get:function(){return v.isAllowCapture}}),Object.defineProperty(e,"multiplyVec2",{enumerable:!0,get:function(){return y.multiplyVec2}}),e.version=void 0;var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=_(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(393));e.PathUtil=a;var s=n(758);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=n(759);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=r(n(394)),c=r(n(395)),f=r(n(760)),p=r(n(796)),h=r(n(797)),d=n(798),g=n(418),v=n(102),y=n(243),m=n(419);function _(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(_=function(t){return t?n:e})(t)}e.version="0.5.6"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invert=function(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,p=-c*o+s*u,h=l*o-a*u,d=n*f+r*p+i*h;return d?(d=1/d,e[0]=f*d,e[1]=(-c*r+i*l)*d,e[2]=(s*r-i*a)*d,e[3]=p*d,e[4]=(c*n-i*u)*d,e[5]=(-s*n+i*o)*d,e[6]=h*d,e[7]=(-l*n+r*u)*d,e[8]=(a*n-r*o)*d,e):null},e.multiplyMatrix=function(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=e[0],h=e[1],d=e[2],g=e[3],v=e[4],y=e[5],m=e[6],_=e[7],b=e[8];return n[0]=p*r+h*a+d*l,n[1]=p*i+h*s+d*c,n[2]=p*o+h*u+d*f,n[3]=g*r+v*a+y*l,n[4]=g*i+v*s+y*c,n[5]=g*o+v*u+y*f,n[6]=m*r+_*a+b*l,n[7]=m*i+_*s+b*c,n[8]=m*o+_*u+b*f,n},e.multiplyVec2=function(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=y,e.now=g,e.timer=m,e.timerFlush=_;var i,o,a=r(n(6)),s=0,u=0,l=0,c=0,f=0,p=0,h="object"===("undefined"===typeof performance?"undefined":(0,a.default)(performance))&&performance.now?performance:Date,d="object"===("undefined"===typeof window?"undefined":(0,a.default)(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function g(){return f||(d(v),f=h.now()+p)}function v(){f=0}function y(){this._call=this._time=this._next=null}function m(t,e,n){var r=new y;return r.restart(t,e,n),r}function _(){g(),++s;for(var t,e=i;e;)(t=f-e._time)>=0&&e._call.call(null,t),e=e._next;--s}function b(){f=(c=h.now())+p,s=u=0;try{_()}finally{s=0,function(){for(var t,e,n=i,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);o=t,w(r)}(),f=0}}function x(){var t=h.now(),e=t-c;e>1e3&&(p-=e,c=t)}function w(t){s||(u&&(u=clearTimeout(u)),t-f>24?(t<1/0&&(u=setTimeout(b,t-h.now()-p)),l&&(l=clearInterval(l))):(l||(c=h.now(),l=setInterval(x,1e3)),s=1,d(b)))}y.prototype=m.prototype={constructor:y,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?g():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r=(0,o.default)(e);return null==e||"boolean"===r?(0,h.default)(e):("number"===r?c.default:"string"===r?(n=(0,a.color)(e))?(e=n,s.default):p.default:e instanceof a.color?s.default:e instanceof Date?l.default:(0,d.isNumberArray)(e)?d.default:Array.isArray(e)?u.genericArray:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?f.default:c.default)(t,e)};var o=r(n(6)),a=n(60),s=r(n(408)),u=n(411),l=r(n(412)),c=r(n(174)),f=r(n(413)),p=r(n(414)),h=r(n(410)),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=g(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(249));function g(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(g=function(t){return t?n:e})(t)}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.Color=a,e.Rgb=T,e.darker=e.brighter=void 0,e.default=w,e.hsl=R,e.hslConvert=k,e.rgb=O,e.rgbConvert=A;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(247));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(){}var s=.7;e.darker=s;var u=1/s;e.brighter=u;var l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),g=new RegExp("^rgba\\("+[l,l,l,c]+"\\)$"),v=new RegExp("^rgba\\("+[f,f,f,c]+"\\)$"),y=new RegExp("^hsl\\("+[c,f,f]+"\\)$"),m=new RegExp("^hsla\\("+[c,f,f,c]+"\\)$"),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function w(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=p.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?S(e):3===n?new T(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?E(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?E(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new T(e[1],e[2],e[3],1):(e=d.exec(t))?new T(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=g.exec(t))?E(e[1],e[2],e[3],e[4]):(e=v.exec(t))?E(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=y.exec(t))?I(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?I(e[1],e[2]/100,e[3]/100,e[4]):_.hasOwnProperty(t)?S(_[t]):"transparent"===t?new T(NaN,NaN,NaN,0):null}function S(t){return new T(t>>16&255,t>>8&255,255&t,1)}function E(t,e,n,r){return r<=0&&(t=e=n=NaN),new T(t,e,n,r)}function A(t){return t instanceof a||(t=w(t)),t?new T((t=t.rgb()).r,t.g,t.b,t.opacity):new T}function O(t,e,n,r){return 1===arguments.length?A(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function C(){return"#"+M(this.r)+M(this.g)+M(this.b)}function P(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function I(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new L(t,e,n,r)}function k(t){if(t instanceof L)return new L(t.h,t.s,t.l,t.opacity);if(t instanceof a||(t=w(t)),!t)return new L;if(t instanceof L)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,l=(o+i)/2;return u?(s=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,s*=60):u=l>0&&l<1?0:s,new L(s,u,l,t.opacity)}function R(t,e,n,r){return 1===arguments.length?k(t):new L(t,e,n,null==r?1:r)}function L(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function D(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,i.default)(a,w,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return k(this).formatHsl()},formatRgb:x,toString:x}),(0,i.default)(T,O,(0,i.extend)(a,{brighter:function(t){return t=null==t?u:Math.pow(u,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:P,toString:P})),(0,i.default)(L,R,(0,i.extend)(a,{brighter:function(t){return t=null==t?u:Math.pow(u,t),new L(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new L(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new T(D(t>=240?t-240:t+120,i,r),D(t,i,r),D(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},e.extend=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Object.defineProperty(e,"__esModule",{value:!0}),e.basis=r,e.default=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}},e.isNumberArray=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}},function(t,e,n){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape"),o=null,a=null;return n&&(o=n.getCanvasBBox(),e=r(e,o)),i&&(a=i.getCanvasBBox(),e=r(e,a)),e},e.mergeBBox=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invert=function(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,p=-c*o+s*u,h=l*o-a*u,d=n*f+r*p+i*h;return d?(d=1/d,e[0]=f*d,e[1]=(-c*r+i*l)*d,e[2]=(s*r-i*a)*d,e[3]=p*d,e[4]=(c*n-i*u)*d,e[5]=(-s*n+i*o)*d,e[6]=h*d,e[7]=(-l*n+r*u)*d,e[8]=(a*n-r*o)*d,e):null},e.multiplyMatrix=function(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=e[0],h=e[1],d=e[2],g=e[3],v=e[4],y=e[5],m=e[6],_=e[7],b=e[8];return n[0]=p*r+h*a+d*l,n[1]=p*i+h*s+d*c,n[2]=p*o+h*u+d*f,n[3]=g*r+v*a+y*l,n[4]=g*i+v*s+y*c,n[5]=g*o+v*u+y*f,n[6]=m*r+_*a+b*l,n[7]=m*i+_*s+b*c,n[8]=m*o+_*u+b*f,n},e.multiplyVec2=function(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}},function(t,e,n){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape"),o=null,a=null;return n&&(o=n.getCanvasBBox(),e=r(e,o)),i&&(a=i.getCanvasBBox(),e=r(e,a)),e},e.mergeBBox=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MARGIN_RATIO=e.GAP=e.DODGE_RATIO=e.DEFAULT_Y=void 0,e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0});var i={Attribute:!0,Color:!0,Opacity:!0,Position:!0,Shape:!0,Size:!0,getAttribute:!0,registerAttribute:!0};Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Opacity",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Position",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Shape",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getAttribute",{enumerable:!0,get:function(){return f.getAttribute}}),Object.defineProperty(e,"registerAttribute",{enumerable:!0,get:function(){return f.registerAttribute}});var o=r(n(104)),a=r(n(850)),s=r(n(851)),u=r(n(852)),l=r(n(853)),c=r(n(854)),f=n(855),p=n(437);Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))})),(0,f.registerAttribute)("Color",a.default),(0,f.registerAttribute)("Opacity",s.default),(0,f.registerAttribute)("Position",u.default),(0,f.registerAttribute)("Shape",l.default),(0,f.registerAttribute)("Size",c.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var o=i(t,n,"floor"),a=i(e,n,"ceil");o=(0,r.fixedBase)(o,n),a=(0,r.fixedBase)(a,n);for(var s=[],u=o;u<=a;u+=n){var l=(0,r.fixedBase)(u,n);s.push(l)}return{min:o,max:a,ticks:s}};var r=n(0);function i(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i,o=t.minLimit,a=t.maxLimit,s=t.min,u=t.max,l=t.tickCount,c=void 0===l?5:l,f=(0,r.isNil)(o)?(0,r.isNil)(e)?s:e:o,p=(0,r.isNil)(a)?(0,r.isNil)(n)?u:n:a;if(f>p&&(p=(i=[f,p])[0],f=i[1]),c<=2)return[f,p];for(var h=(p-f)/(c-1),d=[],g=0;g<c;g++)d.push(f+h*g);return d};var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1),i=n(242),o=n(0),a={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},s=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return(0,r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg");(0,o.each)(t,(function(t,r){var i=t;e.get(r)!==t&&((0,o.isObject)(t)&&n[r]&&(i=(0,o.deepMix)({},n[r],t)),e.set(r,i))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,o.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),(0,o.hasKey)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=(0,r.__assign)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=a[n];return(0,o.each)(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,o.each)(e,(function(e,n){var r=t.get(n);if((0,o.isObject)(r)){var i=(0,o.deepMix)({},e,r);t.set(n,i)}}))},e}(i.Base);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(32),a=n(0),s=r(n(41)),u=n(90),l=n(447),c=r(n(58)),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:c.default.lineColor}},tickLine:{style:{lineWidth:1,stroke:c.default.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:c.default.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:c.default.textColor,fontFamily:c.default.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:c.default.textColor,textBaseline:"middle",fontFamily:c.default.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:c.default.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){(0,a.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return(0,a.each)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,a.each)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,a.filter)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return(0,a.isNumberEqual)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return(0,a.isNumberEqual)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,a.mix)({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],r=this.get("tickLine"),i=r.alignTick,o=r.length,s=1;return t.length>=2&&(s=t[1].value-t[0].value),(0,a.each)(t,(function(t){var r=t.point;i||(r=e.getTickPoint(t.value-s/2));var a=e.getSidePoint(r,o);n.push({startPoint:r,tickValue:t.value,endPoint:a,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,i=t.length;if(i>=2)for(var o=0;o<i-1;o++)for(var a=t[o],s=t[o+1],u=0;u<r;u++){var l=(u+1)/(r+1),c=(1-l)*a.tickValue+l*s.tickValue,f=this.getTickPoint(c),p=this.getSidePoint(f,n.length);e.push({startPoint:f,endPoint:p,tickValue:c,id:"sub-"+a.id+"-"+u})}return e},e.prototype.getTickLineAttrs=function(t,e,n,r){var o=this.get(e).style,s={points:[t.startPoint,t.endPoint]},u=(0,a.get)(this.get("theme"),["tickLine","style"],{});o=(0,a.isFunction)(o)?(0,a.mix)({},u,o(s,n,r)):o;var l=t.startPoint,c=t.endPoint;return(0,i.__assign)({x1:l.x,y1:l.y,x2:c.x,y2:c.y},o)},e.prototype.drawTick=function(t,e,n,r,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,i)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),r=this.get("subTickLine"),i=this.getTickLineItems(n),o=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");if((0,a.each)(i,(function(n,r){if(s.displayWithLabel){var a=e.getElementId("label-"+n.tickId);t.findById(a)&&e.drawTick(n,o,"tickLine",r,i)}else e.drawTick(n,o,"tickLine",r,i)})),r){var u=this.getSubTickLineItems(i);(0,a.each)(u,(function(t,n){e.drawTick(t,o,"subTickLine",n,u)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,a.each)(e,(function(e){e.point=t.getTickPoint(e.value),(0,a.isNil)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,a.each)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,a.size)(e);if(n>t.threshold){var r=Math.ceil(n/t.threshold),i=e.filter((function(t,e){return e%r===0}));this.set("ticks",i),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var r=this.get("label"),i=r.offset,o=r.offsetX,s=r.offsetY,l=r.rotate,c=r.formatter,f=this.getSidePoint(t.point,i),p=this.getSideVector(i,f),h=c?c(t.name,t,e):t.name,d=r.style;d=(0,a.isFunction)(d)?(0,a.get)(this.get("theme"),["label","style"],{}):d;var g=(0,a.mix)({x:f.x+o,y:f.y+s,text:h,textAlign:this.getTextAnchor(p),textBaseline:this.getTextBaseline(p)},d);return l&&(g.matrix=(0,u.getMatrixByAngle)(f,l)),g},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),r=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,a.each)(n,(function(t,i){e.addShape(r,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,i,n),delegateObject:{tick:t,item:t,index:i}})})),this.processOverlap(r);var i=r.getChildren(),o=(0,a.get)(this.get("theme"),["label","style"],{}),s=this.get("label"),u=s.style,l=s.formatter;if((0,a.isFunction)(u)){var c=i.map((function(t){return(0,a.get)(t.get("delegateObject"),"tick")}));(0,a.each)(i,(function(t,e){var n=t.get("delegateObject").tick,r=l?l(n.name,n,e):n.name,i=(0,a.mix)({},o,u(r,e,c));t.attr(i)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,r=t.offset,i=t.spacing,s=void 0===i?0:i,l=t.autoRotate,c=e.fontSize,f=.5;"start"===n?f=0:"end"===n&&(f=1);var p=this.getTickPoint(f),h=this.getSidePoint(p,r||s+c/2),d=(0,a.mix)({x:h.x,y:h.y,text:t.text},e),g=t.rotate,v=g;if((0,a.isNil)(g)&&l){var y=this.getAxisVector(p);v=o.ext.angleTo(y,[1,0],!0)}if(v){var m=(0,u.getMatrixByAngle)(h,v);d.matrix=m}return d},e.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),r=this.getElementId("label-"+t.id),i=e.findById(r);if(i){var o=(0,l.getStatesStyle)(t,"label",n);o&&i.attr(o)}var a=this.getElementId("tickline-"+t.id),s=e.findById(a);if(s){var u=(0,l.getStatesStyle)(t,"tickLine",n);u&&s.attr(u)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),i=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(i){var s=(0,l.getStatesStyle)(t,"label",n);s&&i.attr(s)}if(a){var u=(0,l.getStatesStyle)(t,"tickLine",n);u&&a.attr(u)}}else i&&i.attr(r.style),a&&a.attr(o.style)},e}(s.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=n(90),u=r(n(58)),l=n(42),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:u.default.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:u.default.textColor,textAlign:"center",textBaseline:"middle",fontFamily:u.default.fontFamily}},textBackground:{padding:5,style:{stroke:u.default.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,r=e.autoRotate,a=e.content;if(!(0,o.isNil)(a)){var u=this.getTextPoint(),l=null;if(r){var c=this.getRotateAngle();l=(0,s.getMatrixByAngle)(u,c)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,i.__assign)((0,i.__assign)((0,i.__assign)({},u),{text:a,matrix:l}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,i.__assign)({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),r=this.get("textBackground");if(r&&n){var o=n.getBBox(),a=(0,l.formatPadding)(r.padding),s=r.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,i.__assign)({x:o.x-a[3],y:o.y-a[0],width:o.width+a[1]+a[3],height:o.height+a[0]+a[2],matrix:n.attr("matrix")},s)}).toBack()}},e}(a.default),f=c;e.default=f},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=r(n(58)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:s.default.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),i=this.getGridPath(r,!0);return this.get("closed")?n=n.concat(i):(i[0][0]="L",(n=n.concat(i)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),r=this.get("items"),i=this.get("alternateColor"),a=null;(0,o.each)(r,(function(s,u){var l=s.id||u;if(n){var c=e.getPathStyle();c=(0,o.isFunction)(c)?c(s,u,r):c;var f=e.getElementId("line-"+l),p=e.getGridPath(s.points);e.addShape(t,{type:"path",name:"grid-line",id:f,attrs:(0,o.mix)({path:p},c)})}if(i&&u>0){var h=e.getElementId("region-"+l),d=u%2===0;if((0,o.isString)(i))d&&e.drawAlternateRegion(h,t,a.points,s.points,i);else{var g=d?i[1]:i[0];e.drawAlternateRegion(h,t,a.points,s.points,g)}}a=s}))},e.prototype.drawAlternateRegion=function(t,e,n,r,i){var o=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:i}})},e}(a.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(41)),a=n(42),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),r=this.get("maxHeight"),i=e.width,o=e.height;return n&&(i=Math.min(i,n)),r&&(o=Math.min(o,r)),(0,a.createBBox)(e.minX,e.minY,i,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=(0,a.formatPadding)(e.padding),o=(0,i.__assign)({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,o=n.style,a=n.text,s=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,i.__assign)({text:a,x:e.x,y:e.y},o)}).getBBox();this.set("currentPoint",{x:e.x,y:s.maxY+r})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=(0,a.formatPadding)(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(o.default),u=s;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VALUE_CLASS=e.TITLE_CLASS=e.NAME_CLASS=e.MARKER_CLASS=e.LIST_ITEM_CLASS=e.LIST_CLASS=e.CROSSHAIR_Y=e.CROSSHAIR_X=e.CONTAINER_CLASS=void 0,e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(144),a=n(145),s=n(0),u=n(51),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];s.each(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=s.min(e),o=s.max(e),a=s.min(n),l=s.max(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:l,width:o-i,height:l-a};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",u.intersectRect(r,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),a.drawChildren(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(i.AbstractGroup);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshElement=e.drawChildren=void 0;var r=n(146),i=n(72);e.drawChildren=function(t,e){e.forEach((function(e){e.draw(t)}))},e.refreshElement=function(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context"),a=t.getParent(),s=a?a.getChildren():[n],u=t.get("el");if("remove"===e)if(t.get("isClipShape")){var l=u&&u.parentNode,c=l&&l.parentNode;l&&c&&c.removeChild(l)}else u&&u.parentNode&&u.parentNode.removeChild(u);else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)i.moveTo(u,s.indexOf(t));else if("sort"===e){var f=t.get("children");f&&f.length&&i.sortDom(t,(function(t,e){return f.indexOf(t)-f.indexOf(e)?1:0}))}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?r.setTransform(t):"clip"===e?r.setClip(t,o):"attr"===e||"add"===e&&t.draw(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(0),a=n(185),s=n(264),u=n(146),l=n(52),c=n(72),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=c.createSVGElement("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),u.setClip(this,t),this.createPath(t),e.length&&s.drawChildren(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");o.each(e||n,(function(t,e){l.SVG_ATTR_MAP[e]&&r.setAttribute(l.SVG_ATTR_MAP[e],t)})),u.setTransform(this)},e}(i.AbstractGroup);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=e.visible,i=void 0===r||r;return n.visible=i,n}return(0,r.__extends)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}((0,r.__importDefault)(n(107)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerFacet=e.getFacet=e.Facet=void 0;var r=n(0),i=n(106);Object.defineProperty(e,"Facet",{enumerable:!0,get:function(){return i.Facet}});var o={};e.getFacet=function(t){return o[(0,r.lowerCase)(t)]},e.registerFacet=function(t,e){o[(0,r.lowerCase)(t)]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAxisTitleText=e.getAxisDirection=e.getAxisOption=e.getCircleAxisCenterRadius=e.getAxisTitleOptions=e.getAxisThemeCfg=e.getAxisFactorByRegion=e.isVertical=e.getAxisFactor=e.getAxisRegion=e.getCircleAxisRelativeRegion=e.getLineAxisRelativeRegion=void 0;var r=n(0),i=n(20),o=n(113),a=n(32);function s(t){var e,n;switch(t){case i.DIRECTION.TOP:e={x:0,y:1},n={x:1,y:1};break;case i.DIRECTION.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case i.DIRECTION.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case i.DIRECTION.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}function u(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}function l(t){var e=t.start,n=t.end;return e.x===n.x}e.getLineAxisRelativeRegion=s,e.getCircleAxisRelativeRegion=u,e.getAxisRegion=function(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=s(e):t.isPolar&&(n=u(t));var r=n.start,i=n.end;return{start:t.convert(r),end:t.convert(i)}},e.getAxisFactor=function(t,e){return t.isRect?t.isTransposed?[i.DIRECTION.RIGHT,i.DIRECTION.BOTTOM].includes(e)?1:-1:[i.DIRECTION.BOTTOM,i.DIRECTION.RIGHT].includes(e)?-1:1:t.isPolar&&t.x.start<0?-1:1},e.isVertical=l,e.getAxisFactorByRegion=function(t,e){var n=t.start,r=t.end;return l(t)?(n.y-r.y)*(e.x-n.x)>0?1:-1:(r.x-n.x)*(n.y-e.y)>0?-1:1},e.getAxisThemeCfg=function(t,e){var n=(0,r.get)(t,["components","axis"],{});return(0,r.deepMix)({},(0,r.get)(n,["common"],{}),(0,r.deepMix)({},(0,r.get)(n,[e],{})))},e.getAxisTitleOptions=function(t,e,n){var i=(0,r.get)(t,["components","axis"],{});return(0,r.deepMix)({},(0,r.get)(i,["common","title"],{}),(0,r.deepMix)({},(0,r.get)(i,[e,"title"],{})),n)},e.getCircleAxisCenterRadius=function(t){var e=t.x,n=t.y,r=t.circleCenter,i=n.start>n.end,o=t.isTransposed?t.convert({x:i?0:1,y:0}):t.convert({x:0,y:i?0:1}),s=[o.x-r.x,o.y-r.y],u=[1,0],l=o.y>r.y?a.vec2.angle(s,u):-1*a.vec2.angle(s,u),c=l+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),startAngle:l,endAngle:c}},e.getAxisOption=function(t,e){return(0,r.isBoolean)(t)?!1!==t&&{}:(0,r.get)(t,[e])},e.getAxisDirection=function(t,e){return(0,r.get)(t,"position",e)},e.getAxisTitleText=function(t,e){return(0,r.get)(e,["title","text"],(0,o.getName)(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getActionClass=e.registerAction=e.Action=e.Interaction=e.createInteraction=e.registerInteraction=e.getInteraction=void 0;var r=n(1),i=n(0),o=(0,r.__importDefault)(n(964)),a={};function s(t){return a[(0,i.lowerCase)(t)]}e.getInteraction=s,e.registerInteraction=function(t,e){a[(0,i.lowerCase)(t)]=e},e.createInteraction=function(t,e,n){var r=s(t);if(!r)return null;if((0,i.isPlainObject)(r)){var a=(0,i.mix)((0,i.clone)(r),n);return new o.default(e,a)}return new r(e,n)};var u=n(459);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return(0,r.__importDefault)(u).default}});var l=n(186);Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return l.Action}}),Object.defineProperty(e,"registerAction",{enumerable:!0,get:function(){return l.registerAction}}),Object.defineProperty(e,"getActionClass",{enumerable:!0,get:function(){return l.getActionClass}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadding=e.isAutoPadding=void 0;var r=n(1),i=n(0);e.isAutoPadding=function(t){return!(0,i.isNumber)(t)&&!(0,i.isArray)(t)},e.parsePadding=function(t){void 0===t&&(t=0);var e=(0,i.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,r.__spreadArray)((0,r.__spreadArray)([],e,!0),e,!0);break;case 3:e=(0,r.__spreadArray)((0,r.__spreadArray)([],e,!0),[e[1]],!1);break;default:e=e.slice(0,4)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(69),i=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,i){return new t(e,new r.Event(n,{}),i)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(180),a=n(97),s=(0,r.__importDefault)(n(266)),u=n(46),l=n(20),c=n(273),f=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var r=e.shapeFactory,i=e.container,o=e.offscreenGroup,a=e.elementIndex,s=e.visible,u=void 0===s||s;return n.shapeFactory=r,n.container=i,n.offscreenGroup=o,n.visible=u,n.elementIndex=a,n}return(0,r.__extends)(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var r=this.getOffscreenGroup(),i=e.drawShape(this.shapeType,t,r);i.cfg.data=this.data,i.cfg.origin=t,i.cfg.element=this,this.syncShapeStyle(n,i,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var i=this.getAnimateCfg("leave");i?(0,a.doAnimate)(n,i,{coordinate:e.coordinate,toAttrs:(0,r.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,r=n.states,i=n.shapeFactory,a=n.model,s=n.shape,u=n.shapeType,l=r.indexOf(t);if(e){if(l>-1)return;r.push(t),"active"!==t&&"selected"!==t||null===s||void 0===s||s.toFront()}else{if(-1===l)return;r.splice(l,1),"active"!==t&&"selected"!==t||(this.geometry.zIndexReversed?s.setZIndex(this.geometry.elements.length-this.elementIndex):s.setZIndex(this.elementIndex))}var c=i.drawShape(u,a,this.getOffscreenGroup());r.length?this.syncShapeStyle(s,c,r,null):this.syncShapeStyle(s,c,["reset"],null),c.remove(!0);var f={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",f),(0,o.propagationDelegate)(this.shape,"statechange",f)},e.prototype.clearStates=function(){var t=this,e=this.states;(0,i.each)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,o=n.stateOption,a=r.defaultShapeType,s=r.theme[e]||r.theme[a];this.statesStyle=(0,i.deepMix)({},s,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=(0,i.get)(n,[t,"style"],{}),o=r[e]||r;return(0,i.isFunction)(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var o=n[t];return o?(0,r.__assign)((0,r.__assign)({},o),{callback:function(){var t;(0,i.isFunction)(o.callback)&&o.callback(),null===(t=e.geometry)||void 0===t||t.emit(l.GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE)}}):o}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var o=this,s=o.shapeFactory,u=o.container,c=o.shapeType;if(this.shape=s.drawShape(c,t,u),this.shape){this.setShapeInfo(this.shape,t);var f=this.shape.cfg.name;f?(0,i.isString)(f)&&(this.shape.cfg.name=["element",f]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var p=e?"enter":"appear",h=this.getAnimateCfg(p);h&&(null===(n=this.geometry)||void 0===n||n.emit(l.GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE),(0,a.doAnimate)(this.shape,h,{coordinate:s.coordinate,toAttrs:(0,r.__assign)({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,r,o){var s,f=this;if(void 0===n&&(n=[]),void 0===o&&(o=0),t&&e){var p=t.get("clipShape"),h=e.get("clipShape");if(this.syncShapeStyle(p,h,n,r),t.isGroup())for(var d=t.get("children"),g=e.get("children"),v=0;v<d.length;v++)this.syncShapeStyle(d[v],g[v],n,r,o+v);else{if(!(0,i.isEmpty)(n)&&!(0,i.isEqual)(n,["reset"])){var y=t.get("name");(0,i.isArray)(y)&&(y=y[1]),(0,i.each)(n,(function(t){if(e.get("name")!==c.BACKGROUND_SHAPE){var n=f.getStateStyle(t,y||o);e.attr(n)}}))}var m=(0,u.getReplaceAttrs)(t,e);this.animate?r?(null===(s=this.geometry)||void 0===s||s.emit(l.GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE),(0,a.doAnimate)(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:m,shapeModel:this.model})):(0,i.isEmpty)(n)?t.attr(m):(t.stopAnimate(),t.animate(m,{duration:300})):t.attr(m)}}},e.prototype.getShapeType=function(t){var e=(0,i.get)(t,"shape");return(0,i.isArray)(e)?e[0]:e},e}(s.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BACKGROUND_SHAPE=void 0,e.BACKGROUND_SHAPE="element-background"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerGeometryLabelLayout=e.getGeometryLabelLayout=e.registerGeometryLabel=e.getGeometryLabel=void 0;var r={},i={};e.getGeometryLabel=function(t){return r[t.toLowerCase()]},e.registerGeometryLabel=function(t,e){r[t.toLowerCase()]=e},e.getGeometryLabelLayout=function(t){return i[t.toLowerCase()]},e.registerGeometryLabelLayout=function(t,e){i[t.toLowerCase()]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(30),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(148)),s=n(149),u=n(0),l=n(53);function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.onCanvasChange=function(t){(0,s.refreshElement)(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),(0,s.applyAttrsToContext)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,u.each)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,u.min)(e),o=(0,u.max)(e),a=(0,u.min)(n),s=(0,u.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",(0,l.intersectRect)(r,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),(0,s.applyAttrsToContext)(t,this),this._applyClip(t,this.getClip()),(0,s.drawChildren)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(o.AbstractGroup),p=f;e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawChildren=function(t,e){e.forEach((function(e){e.draw(t)}))},e.refreshElement=function(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context"),a=t.getParent(),s=a?a.getChildren():[n],u=t.get("el");if("remove"===e)if(t.get("isClipShape")){var l=u&&u.parentNode,c=l&&l.parentNode;l&&c&&c.removeChild(l)}else u&&u.parentNode&&u.parentNode.removeChild(u);else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)(0,i.moveTo)(u,s.indexOf(t));else if("sort"===e){var f=t.get("children");f&&f.length&&(0,i.sortDom)(t,(function(t,e){return f.indexOf(t)-f.indexOf(e)?1:0}))}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?(0,r.setTransform)(t):"clip"===e?(0,r.setClip)(t,o):"attr"===e||"add"===e&&t.draw(o)}};var r=n(150),i=n(74)},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(30),a=n(0),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(191)),u=n(277),l=n(150),c=n(54),f=n(74);function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=(0,f.createSVGElement)("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){(0,u.refreshElement)(this,t)},e.prototype.getShapeBase=function(){return s},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),(0,l.setClip)(this,t),this.createPath(t),e.length&&(0,u.drawChildren)(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,a.each)(e||n,(function(t,e){c.SVG_ATTR_MAP[e]&&r.setAttribute(c.SVG_ATTR_MAP[e],t)})),(0,l.setTransform)(this)},e}(o.AbstractGroup),d=h;e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(26),o=n(117),a=n(34),s=n(114),u=n(280),l=n(474);function c(t,e,n,r,i){return 1===t.length?[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=(0,s.getSplinePath)(t,!1,r)):(o=(0,s.getLinePath)(t,!1),e&&o.push(["Z"])),o);var o}function f(t,e,n,i,o,a){if(t.length){var s=t[0];return(0,r.isArray)(s.y)?function(t,e,n,i,o,a){var s=[],l=[];(0,r.each)(t,(function(t){var e=(0,u.splitPoints)(t);s.push(e[1]),l.push(e[0])}));var f=c(s,e,i,o,a),p=c(l,e,i,o,a);return n?f:f.concat(p)}(t,e,n,i,o,a):c(t,e,i,o,a)}return[]}var p=(0,i.registerShapeFactory)("line",{defaultShapeType:"line"});(0,r.each)(["line","dot","dash","smooth"],(function(t){(0,i.registerShape)("line",t,{draw:function(e,n){var r,i="smooth"===t;if(i){var s=this.coordinate,u=s.start,l=s.end;r=[[u.x,l.y],[l.x,u.y]]}var c=function(t,e,n){for(var r=t.isStack,i=t.connectNulls,s=t.isInCircle,u=t.showSinglePoint,l=(0,a.getStyle)(t,!0,!1,"lineWidth"),c=(0,o.getPathPoints)(t.points,i,u),p=[],h=0,d=c.length;h<d;h++){var g=c[h];p=p.concat(f(g,s,r,e,n,l))}return l.path=p,l}(e,i,r);return n.addShape({type:"path",attrs:c,name:"line",capture:!i})},getMarker:function(e){return(0,l.getLineMarker)(e,t)}})})),e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitPoints=void 0;var r=n(0);e.splitPoints=function(t){var e=t.x;return((0,r.isArray)(t.y)?t.y:[t.y]).map((function(t,n){return{x:(0,r.isArray)(e)?e[n]:e,y:t}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(26),o=n(101),a=(0,i.registerShapeFactory)("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return((0,r.isArray)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});(0,i.registerShape)("area","area",{draw:function(t,e){var n=(0,o.getShapeAttrs)(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultSize=void 0;var r=n(0),i=n(48);e.getDefaultSize=function(t){var e=t.theme,n=t.coordinate,o=t.getXScale(),a=o.values,s=t.beforeMappingData,u=a.length,l=(0,i.getXDimensionLength)(t.coordinate),c=t.intervalPadding,f=t.dodgePadding,p=t.maxColumnWidth||e.maxColumnWidth,h=t.minColumnWidth||e.minColumnWidth,d=t.columnWidthRatio||e.columnWidthRatio,g=t.multiplePieWidthRatio||e.multiplePieWidthRatio,v=t.roseWidthRatio||e.roseWidthRatio;if(o.isLinear&&a.length>1){a.sort();var y=function(t,e){var n=t.length,i=t;(0,r.isString)(i[0])&&(i=t.map((function(t){return e.translate(t)})));for(var o=i[1]-i[0],a=2;a<n;a++){var s=i[a]-i[a-1];o>s&&(o=s)}return o}(a,o);u=(o.max-o.min)/y,a.length>u&&(u=a.length)}var m=o.range,_=1/u,b=1;if(n.isPolar?b=n.isTransposed&&u>1?g:v:(o.isLinear&&(_*=m[1]-m[0]),b=d),!(0,r.isNil)(c)&&c>=0?_=(1-c/l*(u-1))/u:_*=b,t.getAdjust("dodge")){var x=function(t,e){if(e){var n=(0,r.flatten)(t);return(0,r.valuesOfKey)(n,e).length}return t.length}(s,t.getAdjust("dodge").dodgeBy);!(0,r.isNil)(f)&&f>=0?_=(_-f/l*(x-1))/x:!(0,r.isNil)(c)&&c>=0?(_*=b,_/=x):_/=x,_=_>=0?_:0}if(!(0,r.isNil)(p)&&p>=0){var w=p/l;_>w&&(_=w)}if(!(0,r.isNil)(h)&&h>=0){var S=h/l;_<S&&(_=S)}return _}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPoints=e.HOLLOW_SHAPES=e.SHAPES=void 0;var r=n(1),i=n(147),o=n(34);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,n,a,s){var u=(0,o.getStyle)(e,s,!s,"r"),l=t.parsePoints(e.points),c=l[0];if(e.isStack)c=l[1];else if(l.length>1){for(var f=n.addGroup(),p=0,h=l;p<h.length;p++){var d=h[p];f.addShape({type:"marker",attrs:(0,r.__assign)((0,r.__assign)((0,r.__assign)({},u),{symbol:i.MarkerSymbols[a]||a}),d)})}return f}return n.addShape({type:"marker",attrs:(0,r.__assign)((0,r.__assign)((0,r.__assign)({},u),{symbol:i.MarkerSymbols[a]||a}),c)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(117),s=n(34),u=n(474);function l(t,e){var n=(0,a.getPathPoints)(t.points,t.connectNulls,t.showSinglePoint),o=[];return(0,i.each)(n,(function(t){var n=function(t,e){var n=[];return(0,i.each)(t,(function(r,i){var o=t[i+1];if(n.push(r),o){var a=function(t,e,n){var r,i=t.x,o=t.y,a=e.x,s=e.y;switch(n){case"hv":r=[{x:a,y:o}];break;case"vh":r=[{x:i,y:s}];break;case"hvh":var u=(a+i)/2;r=[{x:u,y:o},{x:u,y:s}];break;case"vhv":var l=(o+s)/2;r=[{x:i,y:l},{x:a,y:l}]}return r}(r,o,e);n=n.concat(a)}})),n}(t,e);o=o.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),(0,r.__assign)((0,r.__assign)({},(0,s.getStyle)(t,!0,!1,"lineWidth")),{path:o})}(0,i.each)(["hv","vh","hvh","vhv"],(function(t){(0,o.registerShape)("line",t,{draw:function(e,n){var r=l(e,t);return n.addShape({type:"path",attrs:r,name:"line"})},getMarker:function(e){return(0,u.getLineMarker)(e,t)}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateDirection=e.directionToPosition=void 0;var r=n(20);function i(t){return t===r.DIRECTION.LEFT?r.DIRECTION.RIGHT:t===r.DIRECTION.RIGHT?r.DIRECTION.LEFT:t}function o(t){return t===r.DIRECTION.TOP?r.DIRECTION.BOTTOM:t===r.DIRECTION.BOTTOM?r.DIRECTION.TOP:t}e.directionToPosition=function(t,e,n){return n===r.DIRECTION.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===r.DIRECTION.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===r.DIRECTION.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===r.DIRECTION.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===r.DIRECTION.TOP_LEFT||n===r.DIRECTION.LEFT_TOP?[t.tl.x,t.tl.y]:n===r.DIRECTION.TOP_RIGHT||n===r.DIRECTION.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===r.DIRECTION.BOTTOM_LEFT||n===r.DIRECTION.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===r.DIRECTION.BOTTOM_RIGHT||n===r.DIRECTION.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]},e.getTranslateDirection=function(t,e){var n=t;return n=function(t,e){if(e.isTransposed)switch(t){case r.DIRECTION.BOTTOM:return r.DIRECTION.LEFT;case r.DIRECTION.LEFT:return r.DIRECTION.BOTTOM;case r.DIRECTION.RIGHT:return r.DIRECTION.TOP;case r.DIRECTION.TOP:return r.DIRECTION.RIGHT}return t}(n,e),n=function(t,e){var n=e.matrix[0],r=e.matrix[4],a=t;return n<0&&(a=i(a)),r<0&&(a=o(a)),a}(n,e),n=function(t,e){var n=t;return e.isReflect("x")&&(n=i(n)),e.isReflect("y")&&(n=o(n)),n}(n,e),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(31);function a(t){return(0,i.get)(t.get("delegateObject"),"item")}var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return(0,r.__extends)(e,t),e.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByComponent=function(t,e,n){var r=this.context.view,i=t.get("field"),a=(0,o.getElements)(r);this.setElementsStateByItem(a,i,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var r=this.context.view,a=(0,o.getScaleByField)(r,e),s=(0,o.getElementValue)(t,e);return!(0,i.isNil)(s)&&n.name===a.getText(s)},e.prototype.setElementsStateByItem=function(t,e,n,r){var o=this;(0,i.each)(t,(function(t){o.isMathItem(t,e,n)&&t.setState(o.stateName,r)}))},e.prototype.setStateEnable=function(t){var e=(0,o.getCurrentElement)(this.context);if(e)(0,o.isElementChange)(this.context)&&this.setStateByElement(e,t);else{var n=(0,o.getDelegationObject)(this.context);if((0,o.isList)(n)){var r=n.item,i=n.component;if(r&&i&&!this.isItemIgnore(r,i)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&a(s.fromShape)===a(s.toShape))return;this.setStateByComponent(i,r,t)}}}},e.prototype.toggle=function(){var t=(0,o.getCurrentElement)(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}((0,r.__importDefault)(n(287)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(44)),a=n(31),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return(0,r.__extends)(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=(0,a.getElementsByState)(t,this.stateName);(0,i.each)(n,(function(t){e.setElementState(t,!1)}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(31),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return(0,r.__extends)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if((0,o.isMask)(this.context))t=(0,o.getMaskedElements)(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var r={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},i=this.context.view;t=(0,o.getIntersectElements)(i,r)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=(0,o.getElements)(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,r=this.context.view,a=(0,o.getSilbings)(r),s=t.map((function(t){return t.getModel().data})),u=r.getXScale().field,l=r.getYScales()[0].field;(0,i.each)(a,(function(t){var r=(0,o.getElements)(t),i=r.filter((function(t){var e=t.getModel().data;return(0,o.isInRecords)(s,e,u,l)}));n.setElementsState(i,e,r)}))},e.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,r=(0,o.getSilbings)(n);(0,o.isMask)(this.context)&&(0,i.each)(r,(function(n){var r=(0,o.getElements)(n),i=(0,o.getSiblingMaskElements)(e.context,n,10);i&&i.length?e.setElementsState(i,t,r):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var r=this;(0,i.each)(n,(function(n){t.includes(n)?r.setElementState(n,e):r.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=(0,o.getSilbings)(e);(0,i.each)(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}((0,r.__importDefault)(n(287)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(31),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.setStateEnable=function(t){var e=(0,i.getCurrentElement)(this.context);if(e){if(!(0,i.isElementChange)(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=(0,i.getCurrentElement)(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}((0,r.__importDefault)(n(287)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHighlightBy=e.clearHighlight=void 0;var r=n(0),i=n(31),o="inactive",a="active";e.clearHighlight=function(t){var e=(0,i.getElements)(t);(0,r.each)(e,(function(t){t.hasState(a)&&t.setState(a,!1),t.hasState(o)&&t.setState(o,!1)}))},e.setHighlightBy=function(t,e,n){(0,r.each)(t,(function(t){e(t)?(t.hasState(o)&&t.setState(o,!1),t.setState(a,n)):(t.hasState(a)&&t.setState(a,!1),t.setState(o,n))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return(0,r.__extends)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,r=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:r.x,y:r.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,r.__assign)({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,o=this.points;(0,i.each)(o,(function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=(0,i.deepMix)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}((0,r.__importDefault)(n(44)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBoxSizes=e.calculateBoxSize=void 0;var r=n(499),i=n(500),o=n(1074),a=n(193),s=n(192),u=n(501),l=new WeakMap,c=/auto|scroll/,f=/^tb|vertical/,p=/msie|trident/i.test(u.global.navigator&&u.global.navigator.userAgent),h=function(t){return parseFloat(t||"0")},d=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new i.ResizeObserverSize((n?e:t)||0,(n?t:e)||0)},g=(0,s.freeze)({devicePixelContentBoxSize:d(),borderBoxSize:d(),contentBoxSize:d(),contentRect:new o.DOMRectReadOnly(0,0,0,0)}),v=function(t,e){if(void 0===e&&(e=!1),l.has(t)&&!e)return l.get(t);if((0,a.isHidden)(t))return l.set(t,g),g;var n=getComputedStyle(t),r=(0,a.isSVG)(t)&&t.ownerSVGElement&&t.getBBox(),i=!p&&"border-box"===n.boxSizing,u=f.test(n.writingMode||""),v=!r&&c.test(n.overflowY||""),y=!r&&c.test(n.overflowX||""),m=r?0:h(n.paddingTop),_=r?0:h(n.paddingRight),b=r?0:h(n.paddingBottom),x=r?0:h(n.paddingLeft),w=r?0:h(n.borderTopWidth),S=r?0:h(n.borderRightWidth),E=r?0:h(n.borderBottomWidth),A=x+_,O=m+b,T=(r?0:h(n.borderLeftWidth))+S,C=w+E,P=y?t.offsetHeight-C-t.clientHeight:0,M=v?t.offsetWidth-T-t.clientWidth:0,I=i?A+T:0,k=i?O+C:0,R=r?r.width:h(n.width)-I-M,L=r?r.height:h(n.height)-k-P,D=R+A+M+T,N=L+O+P+C,F=(0,s.freeze)({devicePixelContentBoxSize:d(Math.round(R*devicePixelRatio),Math.round(L*devicePixelRatio),u),borderBoxSize:d(D,N,u),contentBoxSize:d(R,L,u),contentRect:new o.DOMRectReadOnly(x,m,R,L)});return l.set(t,F),F};e.calculateBoxSizes=v,e.calculateBoxSize=function(t,e,n){var i=v(t,n),o=i.borderBoxSize,a=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(e){case r.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return s;case r.ResizeObserverBoxOptions.BORDER_BOX:return o;default:return a}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(3),i=n.n(r),o=n(100),a=n.n(o),s=n(164),u=n.n(s),l=n(165),c=n.n(l),f=n(215),p=n.n(f),h=n(336),d=n(337),g=n(338),v=n(226),y=n(8),m=n(16),_=n.n(m),b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function x(t){var e=t.parentInstance,n=t.content,r=b(t,["parentInstance","content"]);return _()(!1,"Label\u7ec4\u4ef6\u5373\u5c06\u88ab\u53d6\u6d88\uff0c\u8bf7\u4f7f\u7528\u56fe\u5f62\u7ec4\u4ef6\u7684label\u5c5e\u6027\u8fdb\u884c\u914d\u7f6e"),e.label(!1),e.label(n,r),i.a.createElement(i.a.Fragment,null)}Object(y.registerGeometryLabel)("base",a.a),Object(y.registerGeometryLabel)("interval",u.a),Object(y.registerGeometryLabel)("pie",c.a),Object(y.registerGeometryLabel)("polar",p.a),Object(y.registerGeometryLabelLayout)("overlap",v.overlap),Object(y.registerGeometryLabelLayout)("distribute",h.distribute),Object(y.registerGeometryLabelLayout)("fixed-overlap",v.fixedOverlap),Object(y.registerGeometryLabelLayout)("limit-in-shape",g.limitInShape),Object(y.registerGeometryLabelLayout)("limit-in-canvas",d.limitInCanvas)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBetween=e.isRealNumber=void 0,e.isRealNumber=function(t){return"number"===typeof t&&!isNaN(t)},e.isBetween=function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processIllegalData=e.transformDataToNodeLinkData=e.adjustYMetaByZero=void 0;var r=n(1),i=n(0),o=n(515),a=n(514);e.adjustYMetaByZero=function(t,e){var n=t.filter((function(t){var n=i.get(t,[e]);return i.isNumber(n)&&!isNaN(n)})),r=n.every((function(t){return i.get(t,[e])>=0})),o=n.every((function(t){return i.get(t,[e])<=0}));return r?{min:0}:o?{max:0}:{}},e.transformDataToNodeLinkData=function(t,e,n,i,o){if(void 0===o&&(o=[]),!Array.isArray(t))return{nodes:[],links:[]};var s=[],u={},l=-1;return t.forEach((function(t){var c=t[e],f=t[n],p=t[i],h=a.pick(t,o);u[c]||(u[c]=r.__assign({id:++l,name:c},h)),u[f]||(u[f]=r.__assign({id:++l,name:f},h)),s.push(r.__assign({source:u[c].id,target:u[f].id,value:p},h))})),{nodes:Object.values(u).sort((function(t,e){return t.id-e.id})),links:s}},e.processIllegalData=function(t,e){var n=i.filter(t,(function(t){var n=t[e];return null===n||"number"===typeof n&&!isNaN(n)}));return o.log(o.LEVEL.WARN,n.length===t.length,"illegal data existed in chart data."),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveAllPadding=e.getAdjustAppendPadding=e.normalPadding=void 0;var r=n(0);function i(t){if(r.isNumber(t))return[t,t,t,t];if(r.isArray(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}e.normalPadding=i,e.getAdjustAppendPadding=function(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=i(t),o=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+o[0],r[1]+o[1],r[2]+o[2],r[3]+o[3]]},e.resolveAllPadding=function(t){var e=t.map((function(t){return i(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n}},function(t,e,n){"use strict";var r=n(2)(n(6));function i(){return"object"===("undefined"===typeof window?"undefined":(0,r.default)(window))?null===window||void 0===window?void 0:window.devicePixelRatio:2}Object.defineProperty(e,"__esModule",{value:!0}),e.transformMatrix=e.getSymbolsPosition=e.getUnitPatternSize=e.drawBackground=e.initCanvas=e.getPixelRatio=void 0,e.getPixelRatio=i,e.initCanvas=function(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=i();return n.width=t*r,n.height=e*r,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(r,r),n},e.drawBackground=function(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()},e.getUnitPatternSize=function(t,e,n){var r=t+e;return n?2*r:r},e.getSymbolsPosition=function(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]},e.transformMatrix=function(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProgressData=void 0;var r=n(0),i=n(294);e.getProgressData=function(t){var e=r.clamp(i.isRealNumber(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(35),i=n(14),o=n(43),a=n(155),s=n(120),u=n(295);function l(t){var e=t.chart,n=t.options,r=n.data,u=n.color,l=n.areaStyle,c=n.point,f=n.line,p=null===c||void 0===c?void 0:c.state,h=s.getTinyData(r);e.data(h);var d=i.deepAssign({},t,{options:{xField:a.X_FIELD,yField:a.Y_FIELD,area:{color:u,style:l},line:f,point:c}}),g=i.deepAssign({},d,{options:{tooltip:!1}}),v=i.deepAssign({},d,{options:{tooltip:!1,state:p}});return o.area(d),o.line(g),o.point(v),e.axis(!1),e.legend(!1),t}function c(t){var e,n,o=t.options,l=o.xAxis,c=o.yAxis,f=o.data,p=s.getTinyData(f);return i.flow(r.scale(((e={})[a.X_FIELD]=l,e[a.Y_FIELD]=c,e),((n={})[a.X_FIELD]={type:"cat"},n[a.Y_FIELD]=u.adjustYMetaByZero(p,a.Y_FIELD),n)))(t)}e.meta=c,e.adaptor=function(t){return i.flow(r.pattern("areaStyle"),l,c,r.tooltip,r.theme,r.animation,r.annotation())(t)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Node=S,e.computeHeight=w,e.default=m;var i=r(n(230)),o=r(n(1120)),a=r(n(1121)),s=r(n(1122)),u=r(n(1123)),l=r(n(1124)),c=r(n(1125)),f=r(n(1126)),p=r(n(1127)),h=r(n(1128)),d=r(n(1129)),g=r(n(1130)),v=r(n(1131)),y=r(n(1132));function m(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=b)):void 0===e&&(e=_);for(var n,r,i,o,a,s=new S(t),u=[s];n=u.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new S(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(w)}function _(t){return t.children}function b(t){return Array.isArray(t)?t[1]:null}function x(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function w(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function S(t){this.data=t,this.depth=this.height=0,this.parent=null}S.prototype=m.prototype=(0,i.default)({constructor:S,count:o.default,each:a.default,eachAfter:u.default,eachBefore:s.default,find:l.default,sum:c.default,sort:f.default,path:p.default,ancestors:h.default,descendants:d.default,leaves:g.default,links:v.default,copy:function(){return m(this).eachBefore(x)}},Symbol.iterator,y.default)},function(t,e,n){"use strict";function r(t){if("function"!==typeof t)throw new Error;return t}Object.defineProperty(e,"__esModule",{value:!0}),e.optional=function(t){return null==t?null:r(t)},e.required=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.phi=e.default=void 0,e.squarifyRatio=s;var i=r(n(156)),o=r(n(195)),a=(1+Math.sqrt(5))/2;function s(t,e,n,r,a,s){for(var u,l,c,f,p,h,d,g,v,y,m,_=[],b=e.children,x=0,w=0,S=b.length,E=e.value;x<S;){c=a-n,f=s-r;do{p=b[w++].value}while(!p&&w<S);for(h=d=p,m=p*p*(y=Math.max(f/c,c/f)/(E*t)),v=Math.max(d/m,m/h);w<S;++w){if(p+=l=b[w].value,l<h&&(h=l),l>d&&(d=l),m=p*p*y,(g=Math.max(d/m,m/h))>v){p-=l;break}v=g}_.push(u={value:p,dice:c<f,children:b.slice(x,w)}),u.dice?(0,i.default)(u,n,r,a,E?r+=f*p/E:s):(0,o.default)(u,n,r,E?n+=c*p/E:a,s),E-=p,x=w}return _}e.phi=a;var u=function t(e){function n(t,n,r,i,o){s(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTagComponent=e.transformData=void 0;var r=n(1),i=n(0),o=n(122);e.transformData=function(t,e,n){var r=n.yField,a=n.maxSize,s=n.minSize,u=i.get(i.maxBy(e,r),[r]),l=i.isNumber(a)?a:1,c=i.isNumber(s)?s:0;return i.map(t,(function(e,n){var a=(e[r]||0)/u;return e[o.FUNNEL_PERCENT]=a,e[o.FUNNEL_MAPPING_VALUE]=(l-c)*a+c,e[o.FUNNEL_CONVERSATION]=[i.get(t,[n-1,r]),e[r]],e}))},e.conversionTagComponent=function(t){return function(e){var n=e.chart,a=e.options.conversionTag,s=n.getOptions().data;if(a){var u=a.formatter;s.forEach((function(e,l){if(!(l<=0||Number.isNaN(e[o.FUNNEL_MAPPING_VALUE]))){var c=t(e,l,s,{top:!0,text:{content:i.isFunction(u)?u(e,s):u,offsetX:a.offsetX,offsetY:a.offsetY,position:"end",autoRotate:!1,style:r.__assign({textAlign:"start",textBaseline:"middle"},a.style)}});n.annotation().line(c)}}))}return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.IS_TOTAL=e.ABSOLUTE_FIELD=e.DIFF_FIELD=e.Y_FIELD=void 0,e.Y_FIELD="$$yField$$",e.DIFF_FIELD="$$diffField$$",e.ABSOLUTE_FIELD="$$absoluteField$$",e.IS_TOTAL="$$isTotal$$",e.DEFAULT_OPTIONS={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBetween=function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i},e.isRealNumber=function(t){return"number"===typeof t&&!isNaN(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(l,c,g,o.theme,f,p,h,o.tooltip,d,o.slider,o.interaction,o.animation,(0,o.annotation)(),o.limitInPlot)(t)},e.adjust=g,e.axis=p,e.legend=h,e.meta=c;var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(198);function l(t){var e=t.chart,n=t.options,i=n.data,o=n.color,u=n.lineStyle,l=n.lineShape,c=n.point,f=n.area,p=n.seriesField,h=null===c||void 0===c?void 0:c.state;e.data(i);var d=(0,a.deepAssign)({},t,{options:{shapeField:p,line:{color:o,style:u,shape:l},point:c&&(0,r.__assign)({color:o,shape:"circle"},c),area:f&&(0,r.__assign)({color:o},f),label:void 0}}),g=(0,a.deepAssign)({},d,{options:{tooltip:!1,state:h}}),v=(0,a.deepAssign)({},d,{options:{tooltip:!1,state:h}});return(0,s.line)(d),(0,s.point)(g),(0,s.area)(v),t}function c(t){var e,n,r=t.options,i=r.xAxis,s=r.yAxis,l=r.xField,c=r.yField,f=r.data;return(0,a.flow)((0,o.scale)(((e={})[l]=i,e[c]=s,e),((n={})[l]={type:"cat"},n[c]=(0,u.adjustYMetaByZero)(f,c),n)))(t)}function f(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;(0,i.isArray)(r)||(r=[r]);var o=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:o})}return t}function p(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function h(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function d(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=(0,a.findGeometry)(e,"line");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[o],callback:u,cfg:(0,r.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,a.transformLabel)(l))})}else s.label(!1);return t}function g(t){var e=t.chart;return t.options.isStack&&(0,i.each)(e.geometries,(function(t){t.adjust("stack")})),t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.drawBackground=function(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()},e.getPixelRatio=o,e.getSymbolsPosition=function(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]},e.getUnitPatternSize=function(t,e,n){var r=t+e;return n?2*r:r},e.initCanvas=function(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=o();return n.width=t*r,n.height=e*r,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(r,r),n},e.transformMatrix=function(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}};var i=r(n(6));function o(){return"object"===("undefined"===typeof window?"undefined":(0,i.default)(window))?null===window||void 0===window?void 0:window.devicePixelRatio:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGeometryOption=function(t,e,n){return u(n)?(0,o.deepAssign)({},{geometry:a.DualAxesGeometry.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):(0,r.__assign)({geometry:a.DualAxesGeometry.Line},n)},e.getYAxisWithDefault=function(t,e){return e===a.AxisType.Left?!1!==t&&(0,o.deepAssign)({},s.DEFAULT_LEFT_YAXIS_CONFIG,t):e===a.AxisType.Right?!1!==t&&(0,o.deepAssign)({},s.DEFAULT_RIGHT_YAXIS_CONFIG,t):t},e.isColumn=u,e.isLine=function(t){return(0,i.get)(t,"geometry")===a.DualAxesGeometry.Line},e.transformObjectToArray=function(t,e){var n=t[0],r=t[1];if((0,i.isArray)(e)){var o=e[0],a=e[1];return[o,a]}var s=(0,i.get)(e,n),u=(0,i.get)(e,r);return[s,u]};var r=n(1),i=n(0),o=n(7),a=n(582),s=n(583);function u(t){return(0,i.get)(t,"geometry")===a.DualAxesGeometry.Column}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,i.flow)(l,(0,o.scale)({}),c,o.animation,o.theme,(0,o.annotation)())(t)},e.geometry=l;var r=n(0),i=n(7),o=n(21),a=n(29),s=n(594),u=n(310);function l(t){var e=t.chart,n=t.options,o=n.percent,l=n.progressStyle,c=n.color,f=n.barWidthRatio;e.data((0,u.getProgressData)(o));var p=(0,i.deepAssign)({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:f,interval:{style:l,color:(0,r.isString)(c)?[c,s.DEFAULT_COLOR[1]]:c},args:{zIndexReversed:!0}}});return(0,a.interval)(p),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function c(t){return t.chart.coordinate("rect").transpose(),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProgressData=function(t){var e=(0,r.clamp)((0,i.isRealNumber)(t)?t:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]};var r=n(0),i=n(305)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OUTLIERS_VIEW_ID=e.DEFAULT_OPTIONS=e.BOX_SYNC_NAME=e.BOX_RANGE_ALIAS=e.BOX_RANGE=void 0;var r,i=n(18),o=n(7),a="$$range$$";e.BOX_RANGE=a;var s="low-q1-median-q3-high";e.BOX_RANGE_ALIAS=s,e.BOX_SYNC_NAME="$$y_outliers$$",e.OUTLIERS_VIEW_ID="outliers_view";var u=(0,o.deepAssign)({},i.Plot.getDefaultOptions(),{meta:(r={},r.$$range$$={min:0,alias:s},r),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}});e.DEFAULT_OPTIONS=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeElementsOrdered=function(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.TREND_UP=e.TREND_FIELD=e.TREND_DOWN=e.DEFAULT_TOOLTIP_OPTIONS=e.DEFAULT_OPTIONS=void 0;var r=n(18),i=n(7);e.Y_FIELD="$$stock-range$$",e.TREND_FIELD="trend",e.TREND_UP="up",e.TREND_DOWN="down";var o={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if("x"===t){var i=n[0];r=i?i.title:e}else r=e;return{position:"y"===t?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}};e.DEFAULT_TOOLTIP_OPTIONS=o;var a=(0,i.deepAssign)({},r.Plot.getDefaultOptions(),{tooltip:o,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});e.DEFAULT_OPTIONS=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTagComponent=function(t){return function(e){var n=e.chart,a=e.options.conversionTag,s=n.getOptions().data;if(a){var u=a.formatter;s.forEach((function(e,l){if(!(l<=0||Number.isNaN(e[o.FUNNEL_MAPPING_VALUE]))){var c=t(e,l,s,{top:!0,text:{content:(0,i.isFunction)(u)?u(e,s):u,offsetX:a.offsetX,offsetY:a.offsetY,position:"end",autoRotate:!1,style:(0,r.__assign)({textAlign:"start",textBaseline:"middle"},a.style)}});n.annotation().line(c)}}))}return e}},e.transformData=function(t,e,n){var r=n.yField,a=n.maxSize,s=n.minSize,u=(0,i.get)((0,i.maxBy)(e,r),[r]),l=(0,i.isNumber)(a)?a:1,c=(0,i.isNumber)(s)?s:0;return(0,i.map)(t,(function(e,n){var a=(e[r]||0)/u;return e[o.FUNNEL_PERCENT]=a,e[o.FUNNEL_MAPPING_VALUE]=(l-c)*a+c,e[o.FUNNEL_CONVERSATION]=[(0,i.get)(t,[n-1,r]),e[r]],e}))};var r=n(1),i=n(0),o=n(127)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUNBURST_Y_FIELD=e.SUNBURST_PATH_FIELD=e.SUNBURST_ANCESTOR_FIELD=e.RAW_FIELDS=e.DEFAULT_OPTIONS=void 0;var r=n(18),i=n(7),o=n(158);e.SUNBURST_ANCESTOR_FIELD="ancestor-node",e.SUNBURST_Y_FIELD="value";var a="path";e.SUNBURST_PATH_FIELD=a;var s=[a,o.NODE_INDEX_FIELD,o.NODE_ANCESTORS_FIELD,o.CHILD_NODE_COUNT,"name","depth","height"];e.RAW_FIELDS=s;var u=(0,i.deepAssign)({},r.Plot.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});e.DEFAULT_OPTIONS=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isParentNode=a;var r=n(13),i=n(0),o=n(202);function a(t){var e=(0,i.get)(t,["event","data","data"],{});return(0,i.isArray)(e.children)&&e.children.length>0}function s(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,o=r.y,a=e.center,s=a.x,u=a.y,l=e.getRadius()*n;return Math.sqrt(Math.pow(s-i,2)+Math.pow(u-o,2))<l}return!1}(0,r.registerAction)("drill-down-action",o.DrillDownAction),(0,r.registerInteraction)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:a},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:s}],start:[{trigger:"element:click",isEnable:a,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:s,action:["drill-down-action:back"]}]})},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RANGE_VIEW_ID=e.RANGE_VALUE=e.RANGE_TYPE=e.PERCENT=e.INDICATEOR_VIEW_ID=e.DEFAULT_OPTIONS=e.DEFAULT_COLOR=void 0;var i="range";e.RANGE_VALUE=i,e.RANGE_TYPE="type";var o="percent";e.PERCENT=o,e.DEFAULT_COLOR="#f0f0f0",e.INDICATEOR_VIEW_ID="indicator-view",e.RANGE_VIEW_ID="range-view";var a={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(r={},r.range={sync:"v"},r.percent={sync:"v",tickCount:5,tickInterval:.2},r),animation:!1};e.DEFAULT_OPTIONS=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.IS_TOTAL=e.DIFF_FIELD=e.DEFAULT_OPTIONS=e.ABSOLUTE_FIELD=void 0,e.Y_FIELD="$$yField$$",e.DIFF_FIELD="$$diffField$$",e.ABSOLUTE_FIELD="$$absoluteField$$",e.IS_TOTAL="$$isTotal$$",e.DEFAULT_OPTIONS={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.X_FIELD=e.NODES_VIEW_ID=e.EDGES_VIEW_ID=e.COLOR_FIELD=void 0,e.X_FIELD="x",e.Y_FIELD="y",e.COLOR_FIELD="name",e.NODES_VIEW_ID="nodes",e.EDGES_VIEW_ID="edges"},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.RANGE_VIEW_ID=e.INDICATEOR_VIEW_ID=e.DEFAULT_COLOR=e.PERCENT=e.RANGE_TYPE=e.RANGE_VALUE=void 0,e.RANGE_VALUE="range",e.RANGE_TYPE="type",e.PERCENT="percent",e.DEFAULT_COLOR="#f0f0f0",e.INDICATEOR_VIEW_ID="indicator-view",e.RANGE_VIEW_ID="range-view",e.DEFAULT_OPTIONS={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(r={},r[e.RANGE_VALUE]={sync:"v"},r[e.PERCENT]={sync:"v",tickCount:5,tickInterval:.2},r),animation:!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getYAxisWithDefault=e.transformObjectToArray=e.getGeometryOption=e.isColumn=e.isLine=void 0;var r=n(1),i=n(0),o=n(14),a=n(623),s=n(624);function u(t){return i.get(t,"geometry")===a.DualAxesGeometry.Column}e.isLine=function(t){return i.get(t,"geometry")===a.DualAxesGeometry.Line},e.isColumn=u,e.getGeometryOption=function(t,e,n){return u(n)?o.deepAssign({},{geometry:a.DualAxesGeometry.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):r.__assign({geometry:a.DualAxesGeometry.Line},n)},e.transformObjectToArray=function(t,e){var n=t[0],r=t[1];return i.isArray(e)?[e[0],e[1]]:[i.get(e,n),i.get(e,r)]},e.getYAxisWithDefault=function(t,e){return e===a.AxisType.Left?!1!==t&&o.deepAssign({},s.DEFAULT_LEFT_YAXIS_CONFIG,t):e===a.AxisType.Right?!1!==t&&o.deepAssign({},s.DEFAULT_RIGHT_YAXIS_CONFIG,t):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(69),a=n(97),s=n(20),u=n(48),l=n(70),c=n(926),f=n(105),p=["regionFilter","shape"],h=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(s.LAYER.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(s.LAYER.BG).addGroup(),n.option=[],n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;(0,i.each)(t.option,(function(n){if((0,i.includes)(p,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),t.cache=t.syncCache(e)}));var e=new Map;(0,i.each)(this.option,(function(n){if(!(0,i.includes)(p,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach((function(e){e.animateOption&&e.once(s.GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE,(function(){t()}))})):this.view.getRootView().once(s.VIEW_LIFE_CIRCLE.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=o.Annotation[(0,i.upperFirst)(e)];if(n){var r=this.getAnnotationTheme(e),a=this.getAnnotationCfg(e,t,r);return{component:new n(a),layer:this.isTop(a)?s.LAYER.FORE:s.LAYER.BG,direction:s.DIRECTION.NONE,type:s.COMPONENT_TYPE.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,r.__assign)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,r.__assign)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,r.__assign)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,r.__assign)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,r.__assign)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,r.__assign)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,r.__assign)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,r.__assign)({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation((0,r.__assign)({type:"shape"},t))},e.prototype.html=function(t){this.annotation((0,r.__assign)({type:"html"},t))},e.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),r=(0,i.isFunction)(t)?t.call(null,e,n):t,o=0,a=0;if((0,i.isArray)(r)){var s=r[0],u=r[1];if((0,i.isString)(s)&&-1!==s.indexOf("%")&&!isNaN(s.slice(0,-1)))return this.parsePercentPosition(r);o=(0,c.getNormalizedValue)(s,e),a=(0,c.getNormalizedValue)(u,Object.values(n)[0])}else if(!(0,i.isNil)(r))for(var l=0,f=(0,i.keys)(r);l<f.length;l++){var p=f[l],h=r[p];p===e.field&&(o=(0,c.getNormalizedValue)(h,e)),n[p]&&(a=(0,c.getNormalizedValue)(h,n[p]))}return this.view.getCoordinate().convert({x:o,y:a})},e.prototype.getRegionPoints=function(t,e){var n,r=this,o=this.view.getXScale(),a=this.view.getScalesByDim("y"),s=Object.values(a)[0],u=o.field,l=this.view.getData(),c=(0,i.isArray)(t)?t[0]:t[u],f=(0,i.isArray)(e)?e[0]:e[u],p=[];return(0,i.each)(l,(function(t,e){if(t[u]===c&&(n=e),e>=n){var i=r.parsePosition([t[u],t[s.field]]);i&&p.push(i)}if(t[u]===f)return!1})),p},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,r=this.view.getCoordinate(),i=r.start,o=r.end,a=Math.min(i.x,o.x),s=Math.min(i.y,o.y);return{x:r.getWidth()*e+a,y:r.getHeight()*n+s}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),i=t.getHeight(),o={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+r,maxY:o.y+i,width:r,height:i}},e.prototype.getAnnotationCfg=function(t,e,n){var o=this,s=this.view.getCoordinate(),l=this.view.getCanvas(),c={};if((0,i.isNil)(e))return null;if("arc"===t){var f=e,p=f.start,h=f.end,d=(0,r.__rest)(f,["start","end"]),g=this.parsePosition(p),v=this.parsePosition(h),y=(0,u.getAngleByPoint)(s,g),m=(0,u.getAngleByPoint)(s,v);y>m&&(m=2*Math.PI+m),c=(0,r.__assign)((0,r.__assign)({},d),{center:s.getCenter(),radius:(0,u.getDistanceToCenter)(s,g),startAngle:y,endAngle:m})}else if("image"===t){var _=e;p=_.start,h=_.end,d=(0,r.__rest)(_,["start","end"]),c=(0,r.__assign)((0,r.__assign)({},d),{start:this.parsePosition(p),end:this.parsePosition(h),src:e.src})}else if("line"===t){var b=e;p=b.start,h=b.end,d=(0,r.__rest)(b,["start","end"]),c=(0,r.__assign)((0,r.__assign)({},d),{start:this.parsePosition(p),end:this.parsePosition(h),text:(0,i.get)(e,"text",null)})}else if("region"===t){var x=e;p=x.start,h=x.end,d=(0,r.__rest)(x,["start","end"]),c=(0,r.__assign)((0,r.__assign)({},d),{start:this.parsePosition(p),end:this.parsePosition(h)})}else if("text"===t){var w=this.view.getData(),S=e,E=S.position,A=S.content,O=(d=(0,r.__rest)(S,["position","content"]),A);(0,i.isFunction)(A)&&(O=A(w)),c=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},this.parsePosition(E)),d),{content:O})}else if("dataMarker"===t){var T=e,C=(E=T.position,T.point),P=T.line,M=T.text,I=T.autoAdjust,k=T.direction;d=(0,r.__rest)(T,["position","point","line","text","autoAdjust","direction"]),c=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},d),this.parsePosition(E)),{coordinateBBox:this.getCoordinateBBox(),point:C,line:P,text:M,autoAdjust:I,direction:k})}else if("dataRegion"===t){var R=e,L=(p=R.start,h=R.end,R.region),D=(M=R.text,R.lineLength);d=(0,r.__rest)(R,["start","end","region","text","lineLength"]),c=(0,r.__assign)((0,r.__assign)({},d),{points:this.getRegionPoints(p,h),region:L,text:M,lineLength:D})}else if("regionFilter"===t){var N=e,F=(p=N.start,h=N.end,N.apply),j=N.color,B=(d=(0,r.__rest)(N,["start","end","apply","color"]),this.view.geometries),z=[],U=function t(e){e&&(e.isGroup()?e.getChildren().forEach((function(e){return t(e)})):z.push(e))};(0,i.each)(B,(function(t){F?(0,i.contains)(F,t.type)&&(0,i.each)(t.elements,(function(t){U(t.shape)})):(0,i.each)(t.elements,(function(t){U(t.shape)}))})),c=(0,r.__assign)((0,r.__assign)({},d),{color:j,shapes:z,start:this.parsePosition(p),end:this.parsePosition(h)})}else if("shape"===t){var V=e,G=V.render,W=(0,r.__rest)(V,["render"]);c=(0,r.__assign)((0,r.__assign)({},W),{render:function(t){if((0,i.isFunction)(e.render))return G(t,o.view,{parsePosition:o.parsePosition.bind(o)})}})}else if("html"===t){var H=e,Y=H.html;E=H.position,W=(0,r.__rest)(H,["html","position"]),c=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},W),this.parsePosition(E)),{parent:l.get("el").parentNode,html:function(t){return(0,i.isFunction)(Y)?Y(t,o.view):Y}})}var X=(0,i.deepMix)({},n,(0,r.__assign)((0,r.__assign)({},c),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(X.container=this.getComponentContainer(X)),X.animate=this.view.getOptions().animate&&X.animate&&(0,i.get)(e,"animate",X.animate),X.animateOption=(0,i.deepMix)({},a.DEFAULT_ANIMATE_CFG,X.animateOption,e.animateOption),X},e.prototype.isTop=function(t){return(0,i.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,i.get)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,r=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,r);(0,l.omit)(o,["container"]),e.component.update(o),(0,i.includes)(p,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,i.includes)(p,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,r){(0,i.find)(e.option,(function(t){return r===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(r))})),n},e.prototype.getCacheKey=function(t){return t},e}(f.Controller);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.positionUpdate=void 0,e.positionUpdate=function(t,e,n){var r=n.toAttrs,i=r.x,o=r.y;delete r.x,delete r.y,t.attr(r),t.animate({x:i,y:o},e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sectorPathUpdate=void 0;var r=n(1),i=n(206),o=n(0),a=n(46);function s(t,e){var n,r=(0,i.getArcParams)(t,e),a=r.startAngle,s=r.endAngle;return!(0,o.isNumberEqual)(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),!(0,o.isNumberEqual)(s,.5*-Math.PI)&&s<.5*-Math.PI&&(s+=2*Math.PI),0===e[5]&&(a=(n=[s,a])[0],s=n[1]),(0,o.isNumberEqual)(a,1.5*Math.PI)&&(a=-.5*Math.PI),(0,o.isNumberEqual)(s,-.5*Math.PI)&&(s=1.5*Math.PI),{startAngle:a,endAngle:s}}function u(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function l(t){var e,n,r,i=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],l=i.length>1?i[1]:i[0],c=t.indexOf(a),f=t.indexOf(l),p=u(t[c-1]),h=u(t[f-1]),d=s(p,a),g=d.startAngle,v=d.endAngle,y=s(h,l),m=y.startAngle,_=y.endAngle;(0,o.isNumberEqual)(g,m)&&(0,o.isNumberEqual)(v,_)?(n=g,r=v):(n=Math.min(g,m),r=Math.max(v,_));var b=a[1],x=i[i.length-1][1];return b<x?(b=(e=[x,b])[0],x=e[1]):b===x&&(x=0),{startAngle:n,endAngle:r,radius:b,innerRadius:x}}e.sectorPathUpdate=function(t,e,n){var i=n.toAttrs,s=n.coordinate,u=i.path||[],c=u.map((function(t){return t[0]}));if(!(u.length<1)){var f=l(u),p=f.startAngle,h=f.endAngle,d=f.radius,g=f.innerRadius,v=l(t.attr("path")),y=v.startAngle,m=v.endAngle,_=s.getCenter(),b=p-y,x=h-m;0!==b||0!==x?t.animate((function(t){var e=y+t*b,n=m+t*x;return(0,r.__assign)((0,r.__assign)({},i),{path:(0,o.isEqual)(c,["M","A","A","Z"])?(0,a.getArcPath)(_.x,_.y,d,e,n):(0,a.getSectorPath)(_.x,_.y,d,e,n,g)})}),(0,r.__assign)((0,r.__assign)({},e),{callback:function(){t.attr("path",u)}})):t.attr("path",u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waveIn=void 0;var r=n(1),i=n(48);e.waveIn=function(t,e,n){var o=(0,i.getCoordinateClipCfg)(n.coordinate,20),a=o.type,s=o.startState,u=o.endState,l=t.setClip({type:a,attrs:s});l.animate(u,(0,r.__assign)((0,r.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),l.remove(!0)}}))}},function(t,e,n){"use strict";n.r(e);var r=n(13);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i)},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0});var o={version:!0,Shape:!0,Canvas:!0,Group:!0};Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return l.default}}),e.version=e.Shape=void 0;var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(191));e.Shape=a;var s=n(30);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=r(n(1008)),l=r(n(278));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}e.version="0.5.6"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(20),o=(0,r.__importDefault)(n(159));n(281);var a=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,i=void 0===r||r,o=e.sortable,a=void 0!==o&&o,s=e.showSinglePoint,u=void 0!==s&&s;return n.startOnZero=i,n.sortable=a,n.showSinglePoint=u,n}return(0,r.__extends)(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,o=t.length;r<o;r++){var a=t[r];e.push(a.points),n.push(a[i.FIELD_ORIGIN])}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(91));n(475);var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return(0,r.__extends)(e,t),e}(i.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(141)),o=n(0),a=n(20),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return(0,r.__extends)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var r=t[n],i=this.prepareRange(r),a=this.prepareSize(),s=(0,o.get)(this.styleOption,["cfg","shadowBlur"]);(0,o.isNumber)(s)||(s=a/2),this.prepareGreyScaleBlurredCircle(a,s),this.drawWithRange(r,i,a,s)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!==typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach((function(t){var i=t[a.FIELD_ORIGIN][e];i>r&&(r=i),i<n&&(n=i)})),n===r&&(n=r-1),[n,r]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,o.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},e.prototype.drawWithRange=function(t,e,n,r){var i=this.coordinate,o=i.start,s=i.end,u=this.coordinate.getWidth(),l=this.coordinate.getHeight(),c=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var f=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[a.FIELD_ORIGIN][c]<=e[1]&&t[a.FIELD_ORIGIN][c]>=e[0]})));for(var p=this.scales[c],h=0,d=t;h<d.length;h++){var g=d[h],v=this.getDrawCfg(g),y=v.x,m=v.y,_=p.scale(g[a.FIELD_ORIGIN][c]);this.drawGrayScaleBlurredCircle(y-o.x,m-s.y,n+r,_,f)}var b=f.getImageData(0,0,u,l);this.clearShadowCanvasCtx(),this.colorize(b),f.putImageData(b,0,0);var x=this.getImageShape();x.attr("x",o.x),x.attr("y",s.y),x.attr("width",u),x.attr("height",l),x.attr("img",f.canvas),x.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.getGrayScaleBlurredCanvas();i.globalAlpha=r,i.drawImage(o,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,a=3;a<n.length;a+=4){var s=n[a];if((0,o.isNumber)(s)){var u=r[s]?r[s]:i.default.rgb2arr(e.gradient(s/256));n[a-3]=u[0],n[a-2]=u[1],n[a-1]=u[2],n[a]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t[a.FIELD_ORIGIN]}));return(0,r.__assign)((0,r.__assign)({},e),{mappingData:t,data:n})},e}((0,r.__importDefault)(n(91)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(48),a=(0,r.__importDefault)(n(91));n(1015);var s=n(282),u=n(113),l=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var r=e.background;return n.background=r,n}return(0,r.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");if(i){n=this.getAttributeValues(i,e)[0];var a=this.coordinate;n/=(0,o.getXDimensionLength)(a)}else this.defaultSize||(this.defaultSize=(0,s.getDefaultSize)(this)),n=this.defaultSize;return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:(0,u.getMaxScale)(e)});else{var n=this.scaleDefs,r=e.field,o=e.min,a=e.max;"time"!==e.type&&(o>0&&!(0,i.get)(n,[r,"min"])&&e.change({min:0}),a<=0&&!(0,i.get)(n,[r,"max"])&&e.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(159));n(279);var o=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,i=void 0!==r&&r;return n.sortable=i,n}return(0,r.__extends)(e,t),e}(i.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(91));n(1016);var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return(0,r.__extends)(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return(0,r.__assign)((0,r.__assign)({},n),{isStack:!!this.getAdjust("stack")})},e}(i.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(91));n(476);var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return(0,r.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=r.x,a=r.y;if(!(0,i.isArray)(o)||!(0,i.isArray)(a)){var s=this.getXScale(),u=this.getYScale(),l=.5/s.values.length,c=.5/u.values.length;s.isCategory&&u.isCategory?(o=[o-l,o-l,o+l,o+l],a=[a-c,a+c,a+c,a-c]):(0,i.isArray)(o)?(o=[(n=o)[0],n[0],n[1],n[1]],a=[a-c/2,a+c/2,a+c/2,a-c/2]):(0,i.isArray)(a)&&(a=[(n=a)[0],n[1],n[1],n[0]],o=[o-l/2,o-l/2,o+l/2,o+l/2]),r.x=o,r.y=a}return r},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(48),o=(0,r.__importDefault)(n(91));n(477);var a=n(282),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return(0,r.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=this.getAttribute("size");if(o){n=this.getAttributeValues(o,e)[0];var s=this.coordinate;n/=(0,i.getXDimensionLength)(s)}else this.defaultSize||(this.defaultSize=(0,a.getDefaultSize)(this)),n=this.defaultSize;return r.size=n,r},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distribute=void 0;var r=n(0),i=n(46);e.distribute=function(t,e,n,o){if(t.length&&e.length){var a=t[0]?t[0].offset:0,s=e[0].get("coordinate"),u=s.getRadius(),l=s.getCenter();if(a>0){var c=2*(u+a)+28,f={start:s.start,end:s.end},p=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?p[0].push(t):p[1].push(t))})),p.forEach((function(t,n){var i=c/14;t.length>i&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(i,t.length-i)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,i,o,a){var s,u=!0,l=i.start,c=i.end,f=Math.min(l.y,c.y),p=Math.abs(l.y-c.y),h=0,d=Number.MIN_VALUE,g=e.map((function(t){return t.y>h&&(h=t.y),t.y<d&&(d=t.y),{size:n,targets:[t.y-f]}}));for(d-=f,h-f>p&&(p=h-f);u;)for(g.forEach((function(t){var e=(Math.min.apply(d,t.targets)+Math.max.apply(d,t.targets))/2;t.pos=Math.min(Math.max(d,e-t.size/2),p-t.size)})),u=!1,s=g.length;s--;)if(s>0){var v=g[s-1],y=g[s];v.pos+v.size>y.pos&&(v.size+=y.size,v.targets=v.targets.concat(y.targets),v.pos+v.size>p&&(v.pos=p-v.size),g.splice(s,1),u=!0)}s=0,g.forEach((function(t){var r=f+n/2;t.targets.forEach((function(){e[s].y=t.pos+r,r+=n,s++}))}));for(var m={},_=0,b=t;_<b.length;_++){var x=b[_];m[x.get("id")]=x}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-o.y),2);if(e<n)t.x=o.x;else{var i=Math.sqrt(e-n);t.x=a?o.x+i:o.x-i}var s=m[t.id];s.attr("x",t.x),s.attr("y",t.y);var u=(0,r.find)(s.getChildren(),(function(t){return"text"===t.get("type")}));u&&(u.attr("y",t.y),u.attr("x",t.x))}))}(e,t,14,f,l,n)}))}(0,r.each)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,o=(0,i.polarToCartesian)(l.x,l.y,u,n),a=(0,i.polarToCartesian)(l.x,l.y,u+e/2,n),s=t.x+(0,r.get)(t,"offsetX",0),c=t.y+(0,r.get)(t,"offsetY",0),f={x:s-4*Math.cos(n),y:c-4*Math.sin(n)};(0,r.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+o.x,o.y+" Q"+a.x,a.y+" "+f.x,f.y].join(",")}}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.limitInCanvas=void 0;var r=n(0),i=n(116);e.limitInCanvas=function(t,e,n,o){(0,r.each)(e,(function(t){var e=o.minX,n=o.minY,r=o.maxX,a=o.maxY,s=t.getCanvasBBox(),u=s.minX,l=s.minY,c=s.maxX,f=s.maxY,p=s.x,h=s.y,d=s.width,g=s.height,v=p,y=h;(u<e||c<e)&&(v=e),(l<n||f<n)&&(y=n),u>r?v=r-d:c>r&&(v-=c-r),l>a?y=a-g:f>a&&(y-=f-a),v===p&&y===h||(0,i.translate)(t,v-p,y-h)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.limitInShape=void 0;var r=n(0);e.limitInShape=function(t,e,n,i){(0,r.each)(e,(function(t,e){var r=t.getCanvasBBox(),i=n[e].getBBox();(r.minX<i.minX||r.minY<i.minY||r.maxX>i.maxX||r.maxY>i.maxY)&&t.remove(!0)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,i=.5/(1+1/Math.sin(n/2)),o=(0,a.getAnglePoint)({x:.5,y:.5},.5-i,r),s=5*Math.PI/4,u=1*Math.PI/4;return{start:(0,a.getAnglePoint)(o,i,s),end:(0,a.getAnglePoint)(o,i,u)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,r=n.fields,o=n.type,a=r[0];if(!a)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,a),u=s.length,l=[];return s.forEach((function(n,r){var c=[{field:a,value:n,values:s}],f=(0,i.filter)(t,e.getFacetDataFilter(c)),p={type:o,data:f,region:e.getRegion(u,r),columnValue:n,columnField:a,columnIndex:r,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};l.push(p)})),l},e.prototype.getXAxisOption=function(t,e,n,r){return n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e){var n=e.columnValue,r=e.view,s=(0,i.get)(t.cfg.title,"formatter"),u=(0,i.deepMix)({position:["50%","0%"],content:s?s(n):n},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.title);r.annotation().text(u)}))},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var a=this.getFieldValues(t,o),s=a.length;r=r||s;var u=this.getPageCount(s,r),l=[];return a.forEach((function(n,c){var f=e.getRowCol(c,r),p=f.row,h=f.col,d=[{field:o,value:n,values:a}],g=(0,i.filter)(t,e.getFacetDataFilter(d)),v={type:e.cfg.type,data:g,region:e.getRegion(u,r,h,p),columnValue:n,rowValue:n,columnField:o,rowField:null,columnIndex:h,rowIndex:p,columnValuesLength:r,rowValuesLength:u,total:s};l.push(v)})),l},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?(0,r.__assign)((0,r.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e){var n=e.columnValue,r=e.view,s=(0,i.get)(t.cfg.title,"formatter"),u=(0,i.deepMix)({position:["50%","0%"],content:s?s(n):n},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.title);r.annotation().text(u)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,r.__assign)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,r.__assign)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,r=e.type,i=n.length,o=i,a=[],s=0;s<o;s++)for(var u=n[s],l=0;l<i;l++){var c=n[l],f={type:r,data:t,region:this.getRegion(i,o,s,l),columnValue:u,rowValue:c,columnField:u,rowField:c,columnIndex:s,rowIndex:l,columnValuesLength:o,rowValuesLength:i};a.push(f)}return a},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?(0,r.__assign)((0,r.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e,n){var r=e.columnIndex,s=e.rowIndex,u=e.columnValuesLength,l=(e.rowValuesLength,e.columnValue),c=e.rowValue,f=e.view;if(0===s){var p=(0,i.get)(t.cfg.columnTitle,"formatter"),h=(0,i.deepMix)({position:["50%","0%"],content:p?p(l):l},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.columnTitle);f.annotation().text(h)}r===u-1&&(p=(0,i.get)(t.cfg.rowTitle,"formatter"),h=(0,i.deepMix)({position:["100%","50%"],content:p?p(c):c},(0,a.getFactTitleConfig)(o.DIRECTION.RIGHT),t.cfg.rowTitle),f.annotation().text(h))}))},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,r=this,o=this.cfg.fields[0],a=[],s=1,u=1,l=[""],c=[""];return this.cfg.transpose?(e=o,l=this.getFieldValues(t,e).slice(0,2),s=l.length):(n=o,c=this.getFieldValues(t,n).slice(0,2),u=c.length),l.forEach((function(o,f){c.forEach((function(p,h){var d=[{field:e,value:o,values:l},{field:n,value:p,values:c}],g=(0,i.filter)(t,r.getFacetDataFilter(d)),v={type:r.cfg.type,data:g,region:r.getRegion(u,s,f,h),columnValue:o,rowValue:p,columnField:e,rowField:n,columnIndex:f,rowIndex:h,columnValuesLength:s,rowValuesLength:u};a.push(v)}))})),a},e.prototype.getXAxisOption=function(t,e,n,i){return 1===i.columnIndex||1===i.rowIndex?(0,r.__assign)((0,r.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e,n){var r=e.columnValue,s=e.rowValue,u=e.view,l=(0,i.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var c=(0,i.deepMix)({position:["50%","0%"],content:l?l(r):r},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.title);u.annotation().text(c)}else c=(0,i.deepMix)({position:["100%","50%"],content:l?l(s):s},(0,a.getFactTitleConfig)(o.DIRECTION.RIGHT),t.cfg.title),u.annotation().text(c)}))},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,r.__assign)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,r.__assign)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=n[0],o=n[1],a=[],s=1,u=1,l=[""],c=[""];return r&&(l=this.getFieldValues(t,r),s=l.length),o&&(c=this.getFieldValues(t,o),u=c.length),l.forEach((function(n,f){c.forEach((function(p,h){var d=[{field:r,value:n,values:l},{field:o,value:p,values:c}],g=(0,i.filter)(t,e.getFacetDataFilter(d)),v={type:e.cfg.type,data:g,region:e.getRegion(u,s,f,h),columnValue:n,rowValue:p,columnField:r,rowField:o,columnIndex:f,rowIndex:h,columnValuesLength:s,rowValuesLength:u};a.push(v)}))})),a},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e,n){var r=e.columnIndex,s=e.rowIndex,u=e.columnValuesLength,l=e.columnValue,c=e.rowValue,f=e.view;if(0===s){var p=(0,i.get)(t.cfg.columnTitle,"formatter"),h=(0,i.deepMix)({position:["50%","0%"],content:p?p(l):l},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.columnTitle);f.annotation().text(h)}r===u-1&&(p=(0,i.get)(t.cfg.rowTitle,"formatter"),h=(0,i.deepMix)({position:["100%","50%"],content:p?p(c):c},(0,a.getFactTitleConfig)(o.DIRECTION.RIGHT),t.cfg.rowTitle),f.annotation().text(h))}))},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?(0,r.__assign)((0,r.__assign)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?(0,r.__assign)((0,r.__assign)({},n),{title:null}):n},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(118),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return(0,r.__extends)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,i.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+2*o/3}}},e.prototype.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=r,r++)})),n.forEach((function(t){t.columnValuesLength=n.length}));for(var i=this.cfg.fields.length-1;i>=0;i--)for(var o=0,a=this.getFacetsByLevel(t,i);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var r=this,i=this.cfg.fields;if(!(i.length<e)){var o=[],a=i[e-1],s=this.getFieldValues(t,a);return s.forEach((function(i,u){var l=[{field:a,value:i,values:s}],c=t.filter(r.getFacetDataFilter(l));if(c.length){var f={type:r.cfg.type,data:c,region:null,columnValue:i,rowValue:"",columnField:a,rowField:"",columnIndex:u,rowValuesLength:r.getRows(),columnValuesLength:1,rowIndex:e,children:r.getChildFacets(c,e+1,n)};o.push(f),n.push(f)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,i.each)(this.facets,(function(e){var n=e.columnValue,r=e.view,s=(0,i.get)(t.cfg.title,"formatter"),u=(0,i.deepMix)({position:["50%","0%"],content:s?s(n):n},(0,a.getFactTitleConfig)(o.DIRECTION.TOP),t.cfg.title);r.annotation().text(u)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view.coordinateBBox,i={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},o={x:i.x,y:i.y+(r.y-i.y)/2},a={x:r.x,y:o.y};n.drawLine([i,o,a,r])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,i.assign)({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.originColIndex&&0!==i.columnIndex?(0,r.__assign)((0,r.__assign)({},n),{title:null,label:null}):n},e}(n(106).Facet);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(69),s=n(97),u=n(268),l=n(268),c=n(1040),f=n(70),p=n(105),h=["container"],d=(0,r.__assign)((0,r.__assign)({},s.DEFAULT_ANIMATE_CFG),{appear:null}),g=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(o.LAYER.BG).addGroup(),n.gridForeContainer=n.view.getLayer(o.LAYER.FORE).addGroup(),n.axisContainer=n.view.getLayer(o.LAYER.BG).addGroup(),n.axisForeContainer=n.view.getLayer(o.LAYER.FORE).addGroup(),n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,i.each)(this.getComponents(),(function(n){var r,i=n.component,a=n.direction,s=n.type,l=n.extra,f=l.dim,p=l.scale,h=l.alignTick;s===o.COMPONENT_TYPE.AXIS?e.isPolar?"x"===f?r=e.isTransposed?(0,u.getAxisRegion)(e,a):(0,u.getCircleAxisCenterRadius)(e):"y"===f&&(r=e.isTransposed?(0,u.getCircleAxisCenterRadius)(e):(0,u.getAxisRegion)(e,a)):r=(0,u.getAxisRegion)(e,a):s===o.COMPONENT_TYPE.GRID&&(r=e.isPolar?{items:e.isTransposed?"x"===f?(0,c.getCircleGridItems)(e,t.view.getYScales()[0],p,h,f):(0,c.getLineGridItems)(e,p,f,h):"x"===f?(0,c.getLineGridItems)(e,p,f,h):(0,c.getCircleGridItems)(e,t.view.getXScale(),p,h,f),center:t.view.getCoordinate().getCenter()}:{items:(0,c.getLineGridItems)(e,p,f,h)}),i.update(r)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,r){t.has(r)?e.set(r,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=(0,l.getAxisOption)(this.option,e.field);if(!1!==n){var r=(0,u.getAxisDirection)(n,o.DIRECTION.BOTTOM),a=o.LAYER.BG,s="x",c=this.view.getCoordinate(),p=this.getId("axis",e.field),d=this.getId("grid",e.field);if(c.isRect){if(v=this.cache.get(p)){var g=this.getLineAxisCfg(e,n,r);(0,f.omit)(g,h),v.component.update(g),t.set(p,v)}else v=this.createLineAxis(e,n,a,r,s),this.cache.set(p,v),t.set(p,v);(y=this.cache.get(d))?(g=this.getLineGridCfg(e,n,r,s),(0,f.omit)(g,h),y.component.update(g),t.set(d,y)):(y=this.createLineGrid(e,n,a,r,s))&&(this.cache.set(d,y),t.set(d,y))}else if(c.isPolar){var v,y;if(v=this.cache.get(p))g=c.isTransposed?this.getLineAxisCfg(e,n,o.DIRECTION.RADIUS):this.getCircleAxisCfg(e,n,r),(0,f.omit)(g,h),v.component.update(g),t.set(p,v);else{if(c.isTransposed){if((0,i.isUndefined)(n))return;v=this.createLineAxis(e,n,a,o.DIRECTION.RADIUS,s)}else v=this.createCircleAxis(e,n,a,r,s);this.cache.set(p,v),t.set(p,v)}if(y=this.cache.get(d))g=c.isTransposed?this.getCircleGridCfg(e,n,o.DIRECTION.RADIUS,s):this.getLineGridCfg(e,n,o.DIRECTION.CIRCLE,s),(0,f.omit)(g,h),y.component.update(g),t.set(d,y);else{if(c.isTransposed){if((0,i.isUndefined)(n))return;y=this.createCircleGrid(e,n,a,o.DIRECTION.RADIUS,s)}else y=this.createLineGrid(e,n,a,o.DIRECTION.CIRCLE,s);y&&(this.cache.set(d,y),t.set(d,y))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,i.each)(n,(function(n,r){if(n&&!n.isIdentity){var a=n.field,s=(0,l.getAxisOption)(e.option,a);if(!1!==s){var c=o.LAYER.BG,p="y",d=e.getId("axis",a),g=e.getId("grid",a),v=e.view.getCoordinate();if(v.isRect){var y=(0,u.getAxisDirection)(s,0===r?o.DIRECTION.LEFT:o.DIRECTION.RIGHT);if(_=e.cache.get(d)){var m=e.getLineAxisCfg(n,s,y);(0,f.omit)(m,h),_.component.update(m),t.set(d,_)}else _=e.createLineAxis(n,s,c,y,p),e.cache.set(d,_),t.set(d,_);(b=e.cache.get(g))?(m=e.getLineGridCfg(n,s,y,p),(0,f.omit)(m,h),b.component.update(m),t.set(g,b)):(b=e.createLineGrid(n,s,c,y,p))&&(e.cache.set(g,b),t.set(g,b))}else if(v.isPolar){var _,b;if(_=e.cache.get(d))m=v.isTransposed?e.getCircleAxisCfg(n,s,o.DIRECTION.CIRCLE):e.getLineAxisCfg(n,s,o.DIRECTION.RADIUS),(0,f.omit)(m,h),_.component.update(m),t.set(d,_);else{if(v.isTransposed){if((0,i.isUndefined)(s))return;_=e.createCircleAxis(n,s,c,o.DIRECTION.CIRCLE,p)}else _=e.createLineAxis(n,s,c,o.DIRECTION.RADIUS,p);e.cache.set(d,_),t.set(d,_)}if(b=e.cache.get(g))m=v.isTransposed?e.getLineGridCfg(n,s,o.DIRECTION.CIRCLE,p):e.getCircleGridCfg(n,s,o.DIRECTION.RADIUS,p),(0,f.omit)(m,h),b.component.update(m),t.set(g,b);else{if(v.isTransposed){if((0,i.isUndefined)(s))return;b=e.createLineGrid(n,s,c,o.DIRECTION.CIRCLE,p)}else b=e.createCircleGrid(n,s,c,o.DIRECTION.RADIUS,p);b&&(e.cache.set(g,b),t.set(g,b))}}}}}))},e.prototype.createLineAxis=function(t,e,n,r,i){var s={component:new a.LineAxis(this.getLineAxisCfg(t,e,r)),layer:n,direction:r===o.DIRECTION.RADIUS?o.DIRECTION.NONE:r,type:o.COMPONENT_TYPE.AXIS,extra:{dim:i,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,e,n,r,s){var u=this.getLineGridCfg(t,e,r,s);if(u){var l={component:new a.LineGrid(u),layer:n,direction:o.DIRECTION.NONE,type:o.COMPONENT_TYPE.GRID,extra:{dim:s,scale:t,alignTick:(0,i.get)(u,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,e,n,r,i){var s={component:new a.CircleAxis(this.getCircleAxisCfg(t,e,r)),layer:n,direction:r,type:o.COMPONENT_TYPE.AXIS,extra:{dim:i,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,e,n,r,s){var u=this.getCircleGridCfg(t,e,r,s);if(u){var l={component:new a.CircleGrid(u),layer:n,direction:o.DIRECTION.NONE,type:o.COMPONENT_TYPE.GRID,extra:{dim:s,scale:t,alignTick:(0,i.get)(u,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,e,n){var o=(0,i.get)(e,["top"])?this.axisForeContainer:this.axisContainer,a=this.view.getCoordinate(),s=(0,u.getAxisRegion)(a,n),l=(0,u.getAxisTitleText)(t,e),c=(0,u.getAxisThemeCfg)(this.view.getTheme(),n),f=(0,i.get)(e,["title"])?(0,i.deepMix)({title:{style:{text:l}}},{title:(0,u.getAxisTitleOptions)(this.view.getTheme(),n,e.title)},e):e,p=(0,i.deepMix)((0,r.__assign)((0,r.__assign)({container:o},s),{ticks:t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}})),verticalFactor:a.isPolar?-1*(0,u.getAxisFactorByRegion)(s,a.getCenter()):(0,u.getAxisFactorByRegion)(s,a.getCenter()),theme:c}),c,f),h=this.getAnimateCfg(p),d=h.animate,g=h.animateOption;p.animateOption=g,p.animate=d;var v=(0,u.isVertical)(s),y=(0,i.get)(p,"verticalLimitLength",v?1/3:.5);if(y<=1){var m=this.view.getCanvas().get("width"),_=this.view.getCanvas().get("height");p.verticalLimitLength=y*(v?m:_)}return p},e.prototype.getLineGridCfg=function(t,e,n,r){if((0,c.showGrid)((0,u.getAxisThemeCfg)(this.view.getTheme(),n),e)){var o=(0,c.getGridThemeCfg)(this.view.getTheme(),n),a=(0,i.deepMix)({container:(0,i.get)(e,["top"])?this.gridForeContainer:this.gridContainer},o,(0,i.get)(e,"grid"),this.getAnimateCfg(e));return a.items=(0,c.getLineGridItems)(this.view.getCoordinate(),t,r,(0,i.get)(a,"alignTick",!0)),a}},e.prototype.getCircleAxisCfg=function(t,e,n){var a=(0,i.get)(e,["top"])?this.axisForeContainer:this.axisContainer,s=this.view.getCoordinate(),l=t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}));t.isCategory||Math.abs(s.endAngle-s.startAngle)!==2*Math.PI||l.pop();var c=(0,u.getAxisTitleText)(t,e),f=(0,u.getAxisThemeCfg)(this.view.getTheme(),o.DIRECTION.CIRCLE),p=(0,i.get)(e,["title"])?(0,i.deepMix)({title:{style:{text:c}}},{title:(0,u.getAxisTitleOptions)(this.view.getTheme(),n,e.title)},e):e,h=(0,i.deepMix)((0,r.__assign)((0,r.__assign)({container:a},(0,u.getCircleAxisCenterRadius)(this.view.getCoordinate())),{ticks:l,verticalFactor:1,theme:f}),f,p),d=this.getAnimateCfg(h),g=d.animate,v=d.animateOption;return h.animate=g,h.animateOption=v,h},e.prototype.getCircleGridCfg=function(t,e,n,r){if((0,c.showGrid)((0,u.getAxisThemeCfg)(this.view.getTheme(),n),e)){var a=(0,c.getGridThemeCfg)(this.view.getTheme(),o.DIRECTION.RADIUS),s=(0,i.deepMix)({container:(0,i.get)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},a,(0,i.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,i.get)(s,"alignTick",!0),f="x"===r?this.view.getYScales()[0]:this.view.getXScale();return s.items=(0,c.getCircleGridItems)(this.view.getCoordinate(),f,t,l,r),s}},e.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,i.get)(t,"animate"),animateOption:t&&t.animateOption?(0,i.deepMix)({},d,t.animateOption):d}},e}(p.Controller);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(69),s=n(97),u=n(81),l=n(285),c=n(70),f=n(466),p=n(113);function h(t,e){return(0,i.isBoolean)(t)?!1!==t&&{}:(0,i.get)(t,[e],t)}function d(t){return(0,i.get)(t,"position",o.DIRECTION.BOTTOM)}var g=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(o.LAYER.FORE).addGroup(),n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,i.each)(this.components,(function(e){var n=e.component,r=e.direction,i=(0,f.getLegendLayout)(r),o=n.get("maxWidthRatio"),a=n.get("maxHeightRatio"),s=t.getCategoryLegendSizeCfg(i,o,a),c=n.get("maxWidth"),p=n.get("maxHeight");n.update({maxWidth:Math.min(s.maxWidth,c||0),maxHeight:Math.min(s.maxHeight,p||0)});var h=n.get("padding"),d=n.getLayoutBBox(),g=new u.BBox(d.x,d.y,d.width,d.height).expand(h),v=(0,l.directionToPosition)(t.view.viewBBox,g,r),y=v[0],m=v[1],_=(0,l.directionToPosition)(t.layoutBBox,g,r),b=_[0],x=_[1],w=0,S=0;r.startsWith("top")||r.startsWith("bottom")?(w=y,S=x):(w=b,S=m),n.setLocation({x:w+h[3],y:S+h[0]}),t.layoutBBox=t.layoutBBox.cut(g,r)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,i.get)(this.option,"custom")){var n="global-custom",r=this.getComponentById(n);if(r){var a=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);(0,c.omit)(a,["container"]),r.component.update(a),e[n]=!0}else{var s=this.createCustomLegend(void 0,void 0,void 0,this.option);if(s){s.init();var u=o.LAYER.FORE,l=d(this.option);this.components.push({id:n,component:s,layer:u,direction:l,type:o.COMPONENT_TYPE.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,r,o){var a=t.getId(o.field),s=t.getComponentById(a);if(s){var u=void 0,l=h(t.option,o.field);!1!==l&&((0,i.get)(l,"custom")?u=t.getCategoryCfg(n,r,o,l,!0):o.isLinear?u=t.getContinuousCfg(n,r,o,l):o.isCategory&&(u=t.getCategoryCfg(n,r,o,l))),u&&((0,c.omit)(u,["container"]),s.direction=d(l),s.component.update(u),e[a]=!0)}else{var f=t.createFieldLegend(n,r,o);f&&(f.component.init(),t.components.push(f),e[a]=!0)}}));var f=[];(0,i.each)(this.getComponents(),(function(t){e[t.id]?f.push(t):t.component.destroy()})),this.components=f},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,i.each)(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};(0,i.each)(e,(function(e){var r=e.getGroupAttributes();(0,i.each)(r,(function(r){var i=r.getScale(r.type);i&&"identity"!==i.type&&!n[i.field]&&(t(e,r,i),n[i.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var r,a=h(this.option,n.field),s=o.LAYER.FORE,u=d(a);if(!1!==a&&((0,i.get)(a,"custom")?r=this.createCustomLegend(t,e,n,a):n.isLinear?r=this.createContinuousLegend(t,e,n,a):n.isCategory&&(r=this.createCategoryLegend(t,e,n,a))),r)return r.set("field",n.field),{id:this.getId(n.field),component:r,layer:s,direction:u,type:o.COMPONENT_TYPE.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r,!0);return new a.CategoryLegend(i)},e.prototype.createContinuousLegend=function(t,e,n,r){var i=this.getContinuousCfg(t,e,n,(0,c.omit)(r,["value"]));return new a.ContinuousLegend(i)},e.prototype.createCategoryLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r);return new a.CategoryLegend(i)},e.prototype.getContinuousCfg=function(t,e,n,r){var o=n.getTicks(),a=(0,i.find)(o,(function(t){return 0===t.value})),u=(0,i.find)(o,(function(t){return 1===t.value})),l=o.map((function(t){var r=t.value,i=t.tickValue,o=e.mapping(n.invert(r)).join("");return{value:i,attrValue:o,color:o,scaleValue:r}}));a||l.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),u||l.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),l.sort((function(t,e){return t.value-e.value}));var c={min:(0,i.head)(l).value,max:(0,i.last)(l).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(c.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(c.colors=l.map((function(t){return t.attrValue})));var h=this.container,g=d(r),v=(0,f.getLegendLayout)(g),y=(0,i.get)(r,"title");return y&&(y=(0,i.deepMix)({text:(0,p.getName)(n)},y)),c.container=h,c.layout=v,c.title=y,c.animateOption=s.DEFAULT_ANIMATE_CFG,this.mergeLegendCfg(c,r,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,r,a){var u=this.container,l=(0,i.get)(r,"position",o.DIRECTION.BOTTOM),c=(0,f.getLegendThemeCfg)(this.view.getTheme(),l),h=(0,i.get)(c,["marker"]),d=(0,i.get)(r,"marker"),g=(0,f.getLegendLayout)(l),v=(0,i.get)(c,["pageNavigator"]),y=(0,i.get)(r,"pageNavigator"),m=a?(0,f.getCustomLegendItems)(h,d,r.items):(0,f.getLegendItems)(this.view,t,e,h,d),_=(0,i.get)(r,"title");_&&(_=(0,i.deepMix)({text:n?(0,p.getName)(n):""},_));var b=(0,i.get)(r,"maxWidthRatio"),x=(0,i.get)(r,"maxHeightRatio"),w=this.getCategoryLegendSizeCfg(g,b,x);w.container=u,w.layout=g,w.items=m,w.title=_,w.animateOption=s.DEFAULT_ANIMATE_CFG,w.pageNavigator=(0,i.deepMix)({},v,y);var S=this.mergeLegendCfg(w,r,l);S.reversed&&S.items.reverse();var E=(0,i.get)(S,"maxItemWidth");return E&&E<=1&&(S.maxItemWidth=this.view.viewBBox.width*E),S},e.prototype.mergeLegendCfg=function(t,e,n){var r=n.split("-")[0],o=(0,f.getLegendThemeCfg)(this.view.getTheme(),r);return(0,i.deepMix)({},o,t,e)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return(0,i.find)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=o.COMPONENT_MAX_VIEW_PERCENTAGE),void 0===n&&(n=o.COMPONENT_MAX_VIEW_PERCENTAGE);var r=this.view.viewBBox,i=r.width,a=r.height;return"vertical"===t?{maxWidth:i*e,maxHeight:a}:{maxWidth:i,maxHeight:a*n}},e}(n(105).Controller);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(69),s=n(81),u=n(285),l=n(70),c=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=i.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t[0],r=t[1];n.start=e,n.end=r,n.changeViewData(e,r)},n.container=n.view.getLayer(o.LAYER.FORE).addGroup(),n.onChangeFn=(0,i.throttle)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;(0,i.isNil)(this.start)&&(this.start=e,this.end=n);var r=this.view.getOptions().data;this.option&&!(0,i.isEmpty)(r)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),i=n[0],a=(n[1],n[2],n[3]),l=this.slider.component.getLayoutBBox(),c=new s.BBox(l.x,l.y,Math.min(l.width,e),l.height).expand(n),f=this.getMinMaxText(this.start,this.end),p=f.minText,h=f.maxText,d=(0,u.directionToPosition)(this.view.viewBBox,c,o.DIRECTION.BOTTOM),g=(d[0],d[1]),v=(0,u.directionToPosition)(this.view.coordinateBBox,c,o.DIRECTION.BOTTOM),y=v[0];v[1],this.slider.component.update((0,r.__assign)((0,r.__assign)({},this.getSliderCfg()),{x:y+a,y:g+i,width:this.width,start:this.start,end:this.end,minText:p,maxText:h})),this.view.viewBBox=this.view.viewBBox.cut(c,o.DIRECTION.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new a.Slider((0,r.__assign)({container:this.container},t));return e.init(),{component:e,layer:o.LAYER.FORE,direction:o.DIRECTION.BOTTOM,type:o.COMPONENT_TYPE.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,i=e.maxText;t=(0,r.__assign)((0,r.__assign)({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:i})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,i.isObject)(this.option)){var e=(0,r.__assign)({data:this.getData()},(0,i.get)(this.option,"trendCfg",{}));t=(0,i.deepMix)({},t,this.getThemeOptions(),this.option),t=(0,r.__assign)((0,r.__assign)({},t),{trendCfg:e})}return t.start=(0,i.clamp)(Math.min((0,i.isNil)(t.start)?0:t.start,(0,i.isNil)(t.end)?1:t.end),0,1),t.end=(0,i.clamp)(Math.max((0,i.isNil)(t.start)?0:t.start,(0,i.isNil)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var r=n[0],i=r.field,o=r.ticks;return t.reduce((function(t,n){return n[i]===o[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,i.get)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),o=(0,i.valuesOfKey)(n,r.field),a=o,s=(0,i.size)(n);if(!r||!s)return{};var u=(0,i.size)(a),l=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),f=(0,i.get)(a,[l]),p=(0,i.get)(a,[c]),h=this.getSliderCfg().formatter;return h&&(f=h(f,n[l],l),p=h(p,n[c],c)),{minText:f,maxText:p}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),o=(0,i.size)(n);if(r&&o){var a=(0,i.valuesOfKey)(n,r.field),s=a,u=(0,i.size)(s),c=Math.floor(t*(u-1)),f=Math.floor(e*(u-1));this.view.filter(r.field,(function(t,e){var n=s.indexOf(t);return!(n>-1)||(0,l.isBetween)(n,c,f)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(n(105).Controller);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getItemsOfView=void 0;var r=n(1),i=n(0),o=n(187),a=n(46),s=(0,r.__importDefault)(n(44)),u={fill:"#CCD6EC",opacity:.3};function l(t,e,n){var r=(0,o.findItemsFromViewRecurisive)(t,e,n);if(r.length){for(var a=0,s=r=(0,i.flatten)(r);a<s.length;a++)for(var u=0,l=s[a];u<l.length;u++){var c=l[u],f=c.mappingData,p=f.x,h=f.y;c.x=(0,i.isArray)(p)?p[p.length-1]:p,c.y=(0,i.isArray)(h)?h[h.length-1]:h}if(!1===n.shared&&r.length>1){for(var d=r[0],g=Math.abs(e.y-d[0].y),v=0,y=r;v<y.length;v++){var m=y[v],_=Math.abs(e.y-m[0].y);_<=g&&(d=m,g=_)}r=[d]}return(0,i.uniq)((0,i.flatten)(r))}return[]}e.getItemsOfView=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,o=e.getController("tooltip").getTooltipCfg(),s=l(e,{x:n.x,y:n.y},o);if(!(0,i.isEqual)(s,this.items)&&(this.items=s,s.length)){var c=e.getXScale().field,f=s[0].data[c],p=[],h=e.geometries;if((0,i.each)(h,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[c]===f}));p=p.concat(e)}})),p.length){var d=e.getCoordinate(),g=p[0].shape.getCanvasBBox(),v=p[0].shape.getCanvasBBox(),y=g;(0,i.each)(p,(function(t){var e=t.shape.getCanvasBBox();d.isTransposed?(e.minY<g.minY&&(g=e),e.maxY>v.maxY&&(v=e)):(e.minX<g.minX&&(g=e),e.maxX>v.maxX&&(v=e)),y.x=Math.min(e.minX,y.minX),y.y=Math.min(e.minY,y.minY),y.width=Math.max(e.maxX,y.maxX)-y.x,y.height=Math.max(e.maxY,y.maxY)-y.y}));var m=e.backgroundGroup,_=e.coordinateBBox,b=void 0;if(d.isRect){var x=e.getXScale(),w=t||{},S=w.appendRatio,E=w.appendWidth;(0,i.isNil)(E)&&(S=(0,i.isNil)(S)?x.isLinear?0:.25:S,E=d.isTransposed?S*v.height:S*g.width);var A=void 0,O=void 0,T=void 0,C=void 0;d.isTransposed?(A=_.minX,O=Math.min(v.minY,g.minY)-E,T=_.width,C=y.height+2*E):(A=Math.min(g.minX,v.minX)-E,O=_.minY,T=y.width+2*E,C=_.height),b=[["M",A,O],["L",A+T,O],["L",A+T,O+C],["L",A,O+C],["Z"]]}else{var P=(0,i.head)(p),M=(0,i.last)(p),I=(0,a.getAngle)(P.getModel(),d).startAngle,k=(0,a.getAngle)(M.getModel(),d).endAngle,R=d.getCenter(),L=d.getRadius(),D=d.innerRadius*L;b=(0,a.getSectorPath)(R.x,R.y,L,I,k,D)}if(this.regionPath)this.regionPath.attr("path",b),this.regionPath.show();else{var N=(0,i.get)(t,"style",u);this.regionPath=m.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,r.__assign)((0,r.__assign)({},N),{path:b})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(s.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(31),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.showTooltip=function(t,e){var n=(0,o.getSilbings)(t);(0,i.each)(n,(function(n){var r=(0,o.getSiblingPoint)(t,n,e);n.showTooltip(r)}))},e.prototype.hideTooltip=function(t){var e=(0,o.getSilbings)(t);(0,i.each)(e,(function(t){t.hideTooltip()}))},e}((0,r.__importDefault)(n(128)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(180),a=(0,r.__importDefault)(n(44)),s=n(69),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,r.__extends)(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var r=this.location,o={x:t.x,y:t.y};r&&(0,i.isEqual)(r,o)||this.showTooltip(o),this.timeStamp=n,this.location=o}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update((0,r.__assign)({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},u=e.getTheme(),l=(0,i.get)(u,["components","tooltip","domStyles"],{}),c=new s.HtmlTooltip({parent:n.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:(0,r.__assign)({},(0,i.deepMix)({},l,(t={},t[o.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},t[o.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},t)))});c.init(),c.setCapture(!1),this.tooltip=c},e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,r.__extends)(e,t),e.prototype.active=function(){this.setState()},e}((0,r.__importDefault)(n(286)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(44)),o=n(31),a=n(0),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return(0,r.__extends)(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,r=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return n?[["M",r.minX,r.minY],["L",i.minX,i.maxY],["L",i.maxX,i.maxY],["L",r.maxX,r.minY],["Z"]]:[["M",r.maxX,r.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",r.maxX,r.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n,i){var o={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,r.__assign)((0,r.__assign)({},(0,a.deepMix)({},o,(0,a.isFunction)(i)?i(o,e):i)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,r=this.context.view,i=this.getColorScale(r,t);if(i){var s=(0,o.getElementValue)(t,i.field);if(!this.cache[s]){var u=(0,o.getElementsByField)(r,i.field,s),l=this.linkGroup.addGroup();this.cache[s]=l;var c=u.length;(0,a.each)(u,(function(t,r){if(r<c-1){var i=u[r+1];n.addLinkShape(l,t,i,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=(0,o.getElementValue)(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=(0,o.getCurrentElement)(e);n&&this.linkByElement(n,null===t||void 0===t?void 0:t.style)},e.prototype.unlink=function(){var t=(0,o.getCurrentElement)(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,r.__extends)(e,t),e.prototype.active=function(){this.setState()},e}((0,r.__importDefault)(n(288)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,r.__extends)(e,t),e.prototype.active=function(){this.setState()},e}((0,r.__importDefault)(n(289)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(31),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=t.geometry.getAttribute("color");if(r){var o=n.getScaleByField(r.getFields()[0]),a=(0,i.getElementValue)(t,o.field),s=(0,i.getElements)(n),u=s.filter((function(t){return(0,i.getElementValue)(t,o.field)===a}));this.setHighlightBy(s,(function(t){return u.includes(t)}),e)}},e}((0,r.__importDefault)(n(160)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(31),o=(0,r.__importStar)(n(160)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(o.STATUS_UNACTIVE)&&t.setState(o.STATUS_UNACTIVE,!1),t.setState(o.STATUS_ACTIVE,!0)):(t.setState(o.STATUS_UNACTIVE,!0),t.hasState(o.STATUS_ACTIVE)&&t.setState(o.STATUS_ACTIVE,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=n.getXScale(),o=(0,i.getElementValue)(t,r.field),a=(0,i.getElements)(n),s=a.filter((function(t){return(0,i.getElementValue)(t,r.field)===o}));this.setHighlightBy(a,(function(t){return s.includes(t)}),e)},e.prototype.toggle=function(){var t=(0,i.getCurrentElement)(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(31),o=n(290),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,r.__extends)(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){var n=this.context.view,r=(0,i.getElements)(n);(0,o.setHighlightBy)(r,(function(e){return t===e}),e)},e.prototype.clear=function(){var t=this.context.view;(0,o.clearHighlight)(t)},e}((0,r.__importDefault)(n(289)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,r.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}((0,r.__importDefault)(n(288)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,r.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}((0,r.__importDefault)(n(286)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,r.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}((0,r.__importDefault)(n(289)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,r.__extends)(e,t),e.prototype.active=function(){this.setState()},e}((0,r.__importDefault)(n(152)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,r.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}((0,r.__importDefault)(n(152)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return(0,r.__extends)(e,t),e.prototype.unchecked=function(){this.setState()},e}((0,r.__importDefault)(n(152)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}((0,r.__importDefault)(n(44)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(44)),a=n(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.filterView=function(t,e,n){var r=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,i.each)(t.views,(function(t){r.filterView(t,e,n)}))},e.prototype.filter=function(){var t=(0,a.getDelegationObject)(this.context);if(t){var e=this.context.view,n=t.component,r=n.get("field");if((0,a.isList)(t)){if(r){var i=n.getItemsByState("unchecked"),o=(0,a.getScaleByField)(e,r),s=i.map((function(t){return t.name}));s.length?this.filterView(e,r,(function(t){var e=o.getText(t);return!s.includes(e)})):this.filterView(e,r,null),e.render(!0)}}else if((0,a.isSlider)(t)){var u=n.getValue(),l=u[0],c=u[1];this.filterView(e,r,(function(t){return t>=l&&t<=c})),e.render(!0)}}},e}(o.default);e.default=s},function(t,e,n){"use strict";var r=n(977);function i(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=i=Reflect.get,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},t.exports.default=t.exports,t.exports.__esModule=!0),i(e,n,o||e)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(2)(n(6)),i=n(368),o="function"===typeof Symbol&&"symbol"===(0,r.default)(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,u=Object.defineProperty,l=u&&function(){var t={};try{for(var e in u(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}}(),c=function(t,e,n,r){var i;(!(e in t)||"function"===typeof(i=r)&&"[object Function]"===a.call(i)&&r())&&(l?u(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},f=function(t,e){var n=arguments.length>2?arguments[2]:{},r=i(e);o&&(r=s.call(r,Object.getOwnPropertySymbols(e)));for(var a=0;a<r.length;a+=1)c(t,r[a],e[r[a]],n[r[a]])};f.supportsDescriptors=!!l,t.exports=f},function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(369),o=Object.keys,a=o?function(t){return o(t)}:n(663),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){"use strict";var r=n(2)(n(6)),i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===(0,r.default)(t)&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},function(t,e,n){"use strict";var r=n(237),i=n(371),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(p){l=null}t.exports=function(t){var e=s(r,a,arguments);if(u&&l){var n=u(e,"length");n.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var f=function(){return s(r,o,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},function(t,e,n){"use strict";var r,i=n(2)(n(6)),o=SyntaxError,a=Function,s=TypeError,u=function(t){try{return a('"use strict"; return ('+t+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(P){l=null}var c=function(){throw new s},f=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(e){return c}}}():c,p=n(665)(),h=Object.getPrototypeOf||function(t){return t.__proto__},d={},g="undefined"===typeof Uint8Array?r:h(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===("undefined"===typeof JSON?"undefined":(0,i.default)(JSON))?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&p?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&p?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?h(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":f,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},y=function t(e){var n;if("%AsyncFunction%"===e)n=u("async function () {}");else if("%GeneratorFunction%"===e)n=u("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=u("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=h(i.prototype))}return v[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=n(237),b=n(666),x=_.call(Function.call,Array.prototype.concat),w=_.call(Function.apply,Array.prototype.splice),S=_.call(Function.call,String.prototype.replace),E=_.call(Function.call,String.prototype.slice),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,T=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return S(t,A,(function(t,e,n,i){r[r.length]=n?S(i,O,"$1"):e||t})),r},C=function(t,e){var n,r=t;if(b(m,r)&&(r="%"+(n=m[r])[0]+"%"),b(v,r)){var i=v[r];if(i===d&&(i=y(r)),"undefined"===typeof i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new s('"allowMissing" argument must be a boolean');var n=T(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),a=i.name,u=i.value,c=!1,f=i.alias;f&&(r=f[0],w(n,x([0,1],f)));for(var p=1,h=!0;p<n.length;p+=1){var d=n[p],g=E(d,0,1),y=E(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&h||(c=!0),b(v,a="%"+(r+="."+d)+"%"))u=v[a];else if(null!=u){if(!(d in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&p+1>=n.length){var m=l(u,d);u=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[d]}else h=b(u,d),u=u[d];h&&!c&&(v[a]=u)}}return u}},function(t,e,n){"use strict";var r=n(2)(n(6));t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===(0,r.default)(Symbol.iterator))return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r=n(368),i=function(t){return"undefined"!==typeof t&&null!==t},o=n(372)(),a=n(667),s=Object,u=a("Array.prototype.push"),l=a("Object.prototype.propertyIsEnumerable"),c=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!i(t))throw new TypeError("target must be an object");var n,a,f,p,h,d,g,v=s(t);for(n=1;n<arguments.length;++n){a=s(arguments[n]),p=r(a);var y=o&&(Object.getOwnPropertySymbols||c);if(y)for(h=y(a),f=0;f<h.length;++f)g=h[f],l(a,g)&&u(p,g);for(f=0;f<p.length;++f)d=a[g=p[f]],l(a,g)&&(v[g]=d)}return v}},function(t,e,n){"use strict";var r=n(373);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return t!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=function(t,e){if(!(0,i.default)(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(95)),o=r(n(377)),a=function(t,e){var n=(0,o.default)(e),r=n.length;if((0,i.default)(t))return!r;for(var a=0;a<r;a+=1){var s=n[a];if(e[s]!==t[s]||!(s in t))return!1}return!0};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(109)),o=r(n(57)),a=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return(0,i.default)(t,(function(n,r){(0,o.default)(t)&&"prototype"===r||e.push(r)})),e};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37));e.default=function(t){if((0,i.default)(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37));e.default=function(t){if((0,i.default)(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=Array.prototype.splice,a=function(t,e){if(!(0,i.default)(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var a=void 0,s=e[n];n!==r&&s===a||(a=s,o.call(t,s,1))}return t};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(109)),o=r(n(37)),a=r(n(139)),s=function(t,e,n){if(!(0,o.default)(t)&&!(0,a.default)(t))return t;var r=n;return(0,i.default)(t,(function(t,n){r=e(r,t,n)})),r};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e)return{0:t};if(!(0,o.default)(e)){var n=(0,i.default)(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return(0,a.default)(t,e)};var i=r(n(37)),o=r(n(57)),a=r(n(384))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(57)),a=Object.prototype.hasOwnProperty,s=function(t,e){if(!e||!(0,i.default)(t))return{};for(var n,r={},s=(0,o.default)(e)?e:function(t){return t[e]},u=0;u<t.length;u++){var l=t[u];n=s(l),a.call(r,n)?r[n].push(l):r[n]=[l]}return r};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={}.toString,i=function(t){return r.call(t).replace(/^\[object /,"").replace(/]$/,"")};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=Object.prototype,i=function(t){var e=t&&t.constructor;return t===("function"===typeof e&&e.prototype||r)};e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(57));e.default=function(t,e){if(!(0,i.default)(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(239)),o=r(n(56)),a=r(n(86)),s=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if((0,a.default)(e)||(0,a.default)(n))return!1;if((0,o.default)(e)||(0,o.default)(n)){if(e.length!==n.length)return!1;for(var r=!0,s=0;s<e.length&&(r=t(e[s],n[s]));s++);return r}if((0,i.default)(e)||(0,i.default)(n)){var u=Object.keys(e),l=Object.keys(n);if(u.length!==l.length)return!1;for(r=!0,s=0;s<u.length&&(r=t(e[u[s]],n[u[s]]));s++);return r}return!1};e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=n(1),a=r(n(240)),s=r(n(388)),u=r(n(86)),l=(0,s.default)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,o=e.fontWeight,a=e.fontStyle,s=e.fontVariant;return i||(i=document.createElement("canvas").getContext("2d")),i.font=[a,s,o,n+"px",r].join(" "),i.measureText((0,u.default)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,o.__spreadArrays)([t],(0,a.default)(e)).join("")}));e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)};var i=r(n(140))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)};var i=r(n(140))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rectPath=e.pathToCurve=e.pathToAbsolute=e.parsePathString=e.parsePathArray=e.intersection=e.formatPath=e.fillPathByDiff=e.fillPath=e.catmullRomToBezier=void 0;var r=n(0),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if((0,r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),"m"===u&&s.length>2&&(n.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&n.push([i,s[0]]),"r"===u)n.push([i].concat(s));else for(;s.length>=e[u]&&(n.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),n};e.parsePathString=s;var u=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n};e.catmullRomToBezier=u;var l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,c=0,f=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],f++,r[0]=["M",i,o]);for(var p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=void 0,d=void 0,g=f,v=t.length;g<v;g++){if(r.push(h=[]),(e=(d=t[g])[0])!==e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case"A":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+d[6]+i,h[7]=+d[7]+o;break;case"V":h[1]=+d[1]+o;break;case"H":h[1]=+d[1]+i;break;case"R":for(var y=2,m=(n=[i,o].concat(d.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+o;r.pop(),r=r.concat(u(n,p));break;case"O":r.pop(),(n=l(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(l(i,o,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+d[1]+i,c=+d[2]+o;break;default:for(y=1,m=d.length;y<m;y++)h[y]=+d[y]+(y%2?i:o)}else if("R"===e)n=[i,o].concat(d.slice(1)),r.pop(),r=r.concat(u(n,p)),h=["R"].concat(d.slice(-2));else if("O"===e)r.pop(),(n=l(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(l(i,o,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var _=0,b=d.length;_<b;_++)h[_]=d[_];if("O"!==(e=e.toUpperCase()))switch(h[0]){case"Z":i=+a,o=+c;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],c=h[h.length-1];break;default:i=h[h.length-2],o=h[h.length-1]}}return r};e.pathToAbsolute=c;var f=function(t,e,n,r){return[t,e,n,r,n,r]},p=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},h=function t(e,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var f,p,h,d,g,v=120*Math.PI/180,y=Math.PI/180*(+o||0),m=[],_=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)p=c[0],h=c[1],d=c[2],g=c[3];else{e=(f=_(e,n,-y)).x,n=f.y,u=(f=_(u,l,-y)).x,l=f.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,x=(n-l)/2,w=b*b/(r*r)+x*x/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,E=i*i,A=(a===s?-1:1)*Math.sqrt(Math.abs((S*E-S*x*x-E*b*b)/(S*x*x+E*b*b)));d=A*r*x/i+(e+u)/2,g=A*-i*b/r+(n+l)/2,p=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((l-g)/i).toFixed(9)),p=e<d?Math.PI-p:p,h=u<d?Math.PI-h:h,p<0&&(p=2*Math.PI+p),h<0&&(h=2*Math.PI+h),s&&p>h&&(p-=2*Math.PI),!s&&h>p&&(h-=2*Math.PI)}var O=h-p;if(Math.abs(O)>v){var T=h,C=u,P=l;h=p+v*(s&&h>p?1:-1),m=t(u=d+r*Math.cos(h),l=g+i*Math.sin(h),r,i,o,0,s,C,P,[h,T,d,g])}O=h-p;var M=Math.cos(p),I=Math.sin(p),k=Math.cos(h),R=Math.sin(h),L=Math.tan(O/4),D=4/3*r*L,N=4/3*i*L,F=[e,n],j=[e+D*I,n-N*M],B=[u+D*R,l-N*k],z=[u,l];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,B,z].concat(m);for(var U=[],V=0,G=(m=[j,B,z].concat(m).join().split(",")).length;V<G;V++)U[V]=V%2?_(m[V-1],m[V],y).y:_(m[V],m[V+1],y).x;return U},d=function(t,e){var n,r=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",d="",g=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(h.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(p(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(p(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(f(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(f(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(f(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(f(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},y=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(l=r[m][0]),"C"!==l&&(s[m]=l,m&&(d=s[m-1])),r[m]=g(r[m],o,d),"A"!==s[m]&&"C"===l&&(s[m]="C"),v(r,m),i&&(i[m]&&(l=i[m][0]),"C"!==l&&(u[m]=l,m&&(d=u[m-1])),i[m]=g(i[m],a,d),"A"!==u[m]&&"C"===l&&(u[m]="C"),v(i,m)),y(r,i,o,a,m),y(i,r,a,o,m);var _=r[m],b=i&&i[m],x=_.length,w=i&&b.length;o.x=_[x-2],o.y=_[x-1],o.bx=parseFloat(_[x-4])||o.x,o.by=parseFloat(_[x-3])||o.y,a.bx=i&&(parseFloat(b[w-4])||a.x),a.by=i&&(parseFloat(b[w-3])||a.y),a.x=i&&b[w-2],a.y=i&&b[w-1]}return i?[r,i]:r};e.pathToCurve=d;var g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")};e.parsePathArray=v;var y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},m=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var d=l*c[h]+l,g=y(d,t,n,i,a),v=y(d,e,r,o,s),m=g*g+v*v;p+=f[h]*Math.sqrt(m)}return l*p},_=function(t,e,n,r,i,o,a,s){for(var u,l,c,f,p=[],h=[[],[]],d=0;d<2;++d)if(0===d?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&p.push(f)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-l+v)/(2*u);y>0&&y<1&&p.push(y);var m=(-l-v)/(2*u);m>0&&m<1&&p.push(m)}}for(var _,b=p.length,x=b;b--;)_=1-(f=p[b]),h[0][b]=_*_*_*t+3*_*_*f*n+3*_*f*f*i+f*f*f*a,h[1][b]=_*_*_*e+3*_*_*f*r+3*_*f*f*o+f*f*f*s;return h[0][x]=t,h[1][x]=e,h[0][x+1]=a,h[1][x+1]=s,h[0].length=h[1].length=x+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},b=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,f=+l.toFixed(2),p=+c.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},x=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},w=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=v,o};e.rectPath=w;var S=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:w(t,e,n,r),vb:[t,e,n,r].join(" ")}},E=function(t,e,n,i,o,a,s,u){(0,r.isArray)(t)||(t=[t,e,n,i,o,a,s,u]);var l=_.apply(null,t);return S(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},A=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),p=u*u,h=p*u,d=t+2*u*(n-t)+p*(i-2*n+t),g=e+2*u*(r-e)+p*(o-2*r+e),v=n+2*u*(i-n)+p*(a-2*i+n),y=r+2*u*(o-r)+p*(s-2*o+r);return{x:c*t+3*f*u*n+3*l*u*u*i+h*a,y:c*e+3*f*u*r+3*l*u*u*o+h*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},O=function(t,e,n){if(!function(t,e){return t=S(t),e=S(e),x(e,t.x,t.y)||x(e,t.x2,t.y)||x(e,t.x,t.y2)||x(e,t.x2,t.y2)||x(t,e.x,e.y)||x(t,e.x2,e.y)||x(t,e.x,e.y2)||x(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(E(t),E(e)))return n?0:[];for(var r=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=A.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++)c=A.apply(0,e.concat(l/i)),a.push({x:c.x,y:c.y,t:l/i});for(l=0;l<r;l++)for(var f=0;f<i;f++){var p=o[l],h=o[l+1],d=a[f],g=a[f+1],v=Math.abs(h.x-p.x)<.001?"y":"x",y=Math.abs(g.x-d.x)<.001?"y":"x",_=b(p.x,p.y,h.x,h.y,d.x,d.y,g.x,g.y);if(_){if(s[_.x.toFixed(4)]===_.y.toFixed(4))continue;s[_.x.toFixed(4)]=_.y.toFixed(4);var w=p.t+Math.abs((_[v]-p[v])/(h[v]-p[v]))*(h.t-p.t),O=d.t+Math.abs((_[y]-d[y])/(g[y]-d[y]))*(g.t-d.t);w>=0&&w<=1&&O>=0&&O<=1&&(n?u+=1:u.push({x:_.x,y:_.y,t1:w,t2:O}))}}return u};function T(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}e.intersection=function(t,e){return function(t,e,n){var r,i,o,a,s,u,l,c,f,p;t=d(t),e=d(e);for(var h=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])r=s=y[1],i=u=y[2];else{"C"===y[0]?(f=[r,i].concat(y.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,_=e.length;m<_;m++){var b=e[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(p=[o,a].concat(b.slice(1)),o=p[6],a=p[7]):(p=[o,a,o,a,l,c,l,c],o=l,a=c);var x=O(f,p,n);if(n)h+=x;else{for(var w=0,S=x.length;w<S;w++)x[w].segment1=g,x[w].segment2=m,x[w].bez1=f,x[w].bez2=p;h=h.concat(x)}}}}}return h}(t,e)};var C=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=T(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r};e.fillPath=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(C(t[i],t[i+1],r))}),[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u};var P=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,r.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function M(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}function I(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=k(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function k(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}e.fillPathByDiff=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=t[u-1],l=1;l<=o;l++){r=e[l-1],a=P(n,r)?0:1;var c=s[u-1][l].min+1,f=s[u][l-1].min+1,p=s[u-1][l-1].min+a;s[u][l]=M(c,f,p)}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(u=0;u<f;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},e.formatPath=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=k(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(107)),a=n(102),s=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,a.mix)(r,e),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(o.default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(397)),s=n(102),u={};function l(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){l(t,e)}))}}function c(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){c(t,e)}))}}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?((0,s.each)(u,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=(0,o.min)(i),e=(0,o.max)(i),n=(0,o.min)(a),r=(0,o.max)(a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?((0,s.each)(u,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=(0,o.min)(i),e=(0,o.max)(i),n=(0,o.min)(a),r=(0,o.max)(a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,s.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,s.isObject)(n)?r=n:r.type=n;var i=u[r.type];i||(i=(0,s.upperFirst)(r.type),u[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,s.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!(0,s.isAllowCapture)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if((0,s.isAllowCapture)(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,s.removeFromArray)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&l(t,e),r&&c(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,s.each)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,s.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,s.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(a.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(32),s=n(102),u=n(243),l=r(n(395)),c=a.ext.transform,f="matrix",p=["zIndex","capture","visible","type"],h=["repeat"];function d(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function g(t,e){var n={},r=e.attr();return(0,o.each)(t,(function(t,e){-1!==h.indexOf(e)||(0,o.isEqual)(r[e],t)||(n[e]=t)})),n}function v(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,a=Object.prototype.hasOwnProperty;return(0,o.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&(0,o.each)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var y=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,o.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if((0,o.isObject)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,s.removeFromArray)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(f,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(f)},e.prototype.setMatrix=function(t){this.attr(f,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?(0,u.multiplyMatrix)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?(0,u.multiplyMatrix)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,u.multiplyVec2)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=(0,u.invert)(e);if(n)return(0,u.multiplyVec2)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,o.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,o.each)(e,(function(t,r){(0,o.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,o.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,o.each)(p,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,a,s,u,l,c=t[0],f=t[1],p=t[2],h=void 0===p?"easeLinear":p,y=t[3],m=void 0===y?o.noop:y,_=t[4],b=void 0===_?0:_;(0,o.isFunction)(c)?(i=c,c={}):(0,o.isObject)(c)&&c.onFrame&&(i=c.onFrame,a=c.repeat),(0,o.isObject)(f)?(f=(l=f).duration,h=l.easing||"easeLinear",b=l.delay||0,a=l.repeat||a||!1,m=l.callback||o.noop,s=l.pauseCallback||o.noop,u=l.resumeCallback||o.noop):((0,o.isNumber)(m)&&(b=m,m=null),(0,o.isFunction)(h)?(m=h,h="easeLinear"):h=h||"easeLinear");var x=g(c,this),w={fromAttrs:d(x,this),toAttrs:x,duration:f,easing:h,repeat:a,callback:m,pauseCallback:s,resumeCallback:u,delay:b,startTime:n.getTime(),id:(0,o.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=v(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,o.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,o.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,o.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var a=function(t){var a=i[t],l=a.get("name");if(l){if((a.isGroup()||a.isCanvas&&a.isCanvas())&&n&&(0,s.isParent)(a,n))return"break";(0,o.isArray)(l)?(0,o.each)(l,(function(t){r.emitDelegateEvent(a,t,e)})):u.emitDelegateEvent(a,l,e)}},u=this,l=0;l<i.length&&"break"!==a(l);l++);},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=c(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=c(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=c(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=c(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(l.default),m=y;e.default=m},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},e.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.create=function(){var t=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=e[0],h=e[1],d=e[2],g=e[3],v=e[4],y=e[5],m=e[6],_=e[7],b=e[8];return Math.abs(n-p)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-h)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-m)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-_)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-b)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,p=i*a,h=i*s,d=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[3]=c-y,t[6]=p+v,t[1]=c+y,t[4]=1-l-d,t[7]=h-g,t[2]=p-v,t[5]=h+g,t[8]=1-l-f,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromValues=function(t,e,n,r,o,a,s,u,l){var c=new i.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,p=-c*o+s*u,h=l*o-a*u,d=n*f+r*p+i*h;return d?(d=1/d,t[0]=f*d,t[1]=(-c*r+i*l)*d,t[2]=(s*r-i*a)*d,t[3]=p*d,t[4]=(c*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=h*d,t[7]=(-l*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},e.mul=void 0,e.multiply=a,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,S=i*l-o*u,E=c*g-f*d,A=c*v-p*d,O=c*y-h*d,T=f*v-p*g,C=f*y-h*g,P=p*y-h*v,M=m*P-_*C+b*T+x*O-w*A+S*E;return M?(M=1/M,t[0]=(s*P-u*C+l*T)*M,t[1]=(u*O-a*P-l*A)*M,t[2]=(a*C-s*O+l*E)*M,t[3]=(i*C-r*P-o*T)*M,t[4]=(n*P-i*O+o*A)*M,t[5]=(r*O-n*C-o*E)*M,t[6]=(g*S-v*w+y*x)*M,t[7]=(v*b-d*S-y*_)*M,t[8]=(d*w-g*b+y*m)*M,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=Math.sin(n),h=Math.cos(n);return t[0]=h*r+p*a,t[1]=h*i+p*s,t[2]=h*o+p*u,t[3]=h*a-p*r,t[4]=h*s-p*i,t[5]=h*u-p*o,t[6]=l,t[7]=c,t[8]=f,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.sub=void 0,e.subtract=s,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=n[0],h=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=p*r+h*a+l,t[7]=p*i+h*s+c,t[8]=p*o+h*u+f,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=n[0],h=n[1],d=n[2],g=n[3],v=n[4],y=n[5],m=n[6],_=n[7],b=n[8];return t[0]=p*r+h*a+d*l,t[1]=p*i+h*s+d*c,t[2]=p*o+h*u+d*f,t[3]=g*r+v*a+y*l,t[4]=g*i+v*s+y*c,t[5]=g*o+v*u+y*f,t[6]=m*r+_*a+b*l,t[7]=m*i+_*s+b*c,t[8]=m*o+_*u+b*f,t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}var u=a;e.mul=u;var l=s;e.sub=l},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15];return t[0]=s*(p*y-h*v)-f*(u*y-l*v)+g*(u*h-l*p),t[1]=-(r*(p*y-h*v)-f*(i*y-o*v)+g*(i*h-o*p)),t[2]=r*(u*y-l*v)-s*(i*y-o*v)+g*(i*l-o*u),t[3]=-(r*(u*h-l*p)-s*(i*h-o*p)+f*(i*l-o*u)),t[4]=-(a*(p*y-h*v)-c*(u*y-l*v)+d*(u*h-l*p)),t[5]=n*(p*y-h*v)-c*(i*y-o*v)+d*(i*h-o*p),t[6]=-(n*(u*y-l*v)-a*(i*y-o*v)+d*(i*l-o*u)),t[7]=n*(u*h-l*p)-a*(i*h-o*p)+c*(i*l-o*u),t[8]=a*(f*y-h*g)-c*(s*y-l*g)+d*(s*h-l*f),t[9]=-(n*(f*y-h*g)-c*(r*y-o*g)+d*(r*h-o*f)),t[10]=n*(s*y-l*g)-a*(r*y-o*g)+d*(r*l-o*s),t[11]=-(n*(s*h-l*f)-a*(r*h-o*f)+c*(r*l-o*s)),t[12]=-(a*(f*v-p*g)-c*(s*v-u*g)+d*(s*p-u*f)),t[13]=n*(f*v-p*g)-c*(r*v-i*g)+d*(r*p-i*f),t[14]=-(n*(s*v-u*g)-a*(r*v-i*g)+d*(r*u-i*s)),t[15]=n*(s*p-u*f)-a*(r*p-i*f)+c*(r*u-i*s),t},e.clone=function(t){var e=new i.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.create=function(){var t=new i.ARRAY_TYPE(16);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11],h=t[12],d=t[13],g=t[14],v=t[15];return(e*a-n*o)*(f*v-p*g)-(e*s-r*o)*(c*v-p*d)+(e*u-i*o)*(c*g-f*d)+(n*s-r*a)*(l*v-p*h)-(n*u-i*a)*(l*g-f*h)+(r*u-i*s)*(l*d-c*h)},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],h=t[10],d=t[11],g=t[12],v=t[13],y=t[14],m=t[15],_=e[0],b=e[1],x=e[2],w=e[3],S=e[4],E=e[5],A=e[6],O=e[7],T=e[8],C=e[9],P=e[10],M=e[11],I=e[12],k=e[13],R=e[14],L=e[15];return Math.abs(n-_)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-b)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-E)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(l-A)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-O)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-T)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-C)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(h-P)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-M)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(g-I)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(v-k)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(y-R)<=i.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(m-L)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,p=i*a,h=i*s,d=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[1]=c+y,t[2]=p-v,t[3]=0,t[4]=c-y,t[5]=1-l-d,t[6]=h+g,t[7]=0,t[8]=p+v,t[9]=h-g,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromQuat2=function(t,e){var n=new i.ARRAY_TYPE(3),r=-e[0],o=-e[1],a=-e[2],s=e[3],l=e[4],c=e[5],f=e[6],p=e[7],h=r*r+o*o+a*a+s*s;return h>0?(n[0]=2*(l*s+p*r+c*a-f*o)/h,n[1]=2*(c*s+p*o+f*r-l*a)/h,n[2]=2*(f*s+p*a+l*o-c*r)/h):(n[0]=2*(l*s+p*r+c*a-f*o),n[1]=2*(c*s+p*o+f*r-l*a),n[2]=2*(f*s+p*a+l*o-c*r)),u(t,e,n),t},e.fromRotation=function(t,e,n){var r,o,a,s=n[0],u=n[1],l=n[2],c=Math.hypot(s,u,l);return c<i.EPSILON?null:(s*=c=1/c,u*=c,l*=c,r=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*r,t[2]=l*s*a-u*r,t[3]=0,t[4]=s*u*a-l*r,t[5]=u*u*a+o,t[6]=l*u*a+s*r,t[7]=0,t[8]=s*l*a+u*r,t[9]=u*l*a-s*r,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromRotationTranslation=u,e.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,f=i*u,p=i*l,h=i*c,d=o*l,g=o*c,v=a*c,y=s*u,m=s*l,_=s*c,b=r[0],x=r[1],w=r[2];return t[0]=(1-(d+v))*b,t[1]=(p+_)*b,t[2]=(h-m)*b,t[3]=0,t[4]=(p-_)*x,t[5]=(1-(f+v))*x,t[6]=(g+y)*x,t[7]=0,t[8]=(h+m)*w,t[9]=(g-y)*w,t[10]=(1-(f+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,f=s+s,p=o*l,h=o*c,d=o*f,g=a*c,v=a*f,y=s*f,m=u*l,_=u*c,b=u*f,x=r[0],w=r[1],S=r[2],E=i[0],A=i[1],O=i[2],T=(1-(g+y))*x,C=(h+b)*x,P=(d-_)*x,M=(h-b)*w,I=(1-(p+y))*w,k=(v+m)*w,R=(d+_)*S,L=(v-m)*S,D=(1-(p+g))*S;return t[0]=T,t[1]=C,t[2]=P,t[3]=0,t[4]=M,t[5]=I,t[6]=k,t[7]=0,t[8]=R,t[9]=L,t[10]=D,t[11]=0,t[12]=n[0]+E-(T*E+M*A+R*O),t[13]=n[1]+A-(C*E+I*A+L*O),t[14]=n[2]+O-(P*E+k*A+D*O),t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromValues=function(t,e,n,r,o,a,s,u,l,c,f,p,h,d,g,v){var y=new i.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=o,y[5]=a,y[6]=s,y[7]=u,y[8]=l,y[9]=c,y[10]=f,y[11]=p,y[12]=h,y[13]=d,y[14]=g,y[15]=v,y},e.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},e.getRotation=function(t,e){var n=new i.ARRAY_TYPE(3);l(n,e);var r=1/n[0],o=1/n[1],a=1/n[2],s=e[0]*r,u=e[1]*o,c=e[2]*a,f=e[4]*r,p=e[5]*o,h=e[6]*a,d=e[8]*r,g=e[9]*o,v=e[10]*a,y=s+p+v,m=0;return y>0?(m=2*Math.sqrt(y+1),t[3]=.25*m,t[0]=(h-g)/m,t[1]=(d-c)/m,t[2]=(u-f)/m):s>p&&s>v?(m=2*Math.sqrt(1+s-p-v),t[3]=(h-g)/m,t[0]=.25*m,t[1]=(u+f)/m,t[2]=(d+c)/m):p>v?(m=2*Math.sqrt(1+p-s-v),t[3]=(d-c)/m,t[0]=(u+f)/m,t[1]=.25*m,t[2]=(h+g)/m):(m=2*Math.sqrt(1+v-s-p),t[3]=(u-f)/m,t[0]=(d+c)/m,t[1]=(h+g)/m,t[2]=.25*m),t},e.getScaling=l,e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.identity=a,e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,S=i*l-o*u,E=c*g-f*d,A=c*v-p*d,O=c*y-h*d,T=f*v-p*g,C=f*y-h*g,P=p*y-h*v,M=m*P-_*C+b*T+x*O-w*A+S*E;return M?(M=1/M,t[0]=(s*P-u*C+l*T)*M,t[1]=(i*C-r*P-o*T)*M,t[2]=(g*S-v*w+y*x)*M,t[3]=(p*w-f*S-h*x)*M,t[4]=(u*O-a*P-l*A)*M,t[5]=(n*P-i*O+o*A)*M,t[6]=(v*b-d*S-y*_)*M,t[7]=(c*S-p*b+h*_)*M,t[8]=(a*C-s*O+l*E)*M,t[9]=(r*O-n*C-o*E)*M,t[10]=(d*w-g*b+y*m)*M,t[11]=(f*b-c*w-h*m)*M,t[12]=(s*A-a*T-u*E)*M,t[13]=(n*T-r*A+i*E)*M,t[14]=(g*_-d*x-v*m)*M,t[15]=(c*x-f*_+p*m)*M,t):null},e.lookAt=function(t,e,n,r){var o,s,u,l,c,f,p,h,d,g,v=e[0],y=e[1],m=e[2],_=r[0],b=r[1],x=r[2],w=n[0],S=n[1],E=n[2];return Math.abs(v-w)<i.EPSILON&&Math.abs(y-S)<i.EPSILON&&Math.abs(m-E)<i.EPSILON?a(t):(p=v-w,h=y-S,d=m-E,g=1/Math.hypot(p,h,d),o=b*(d*=g)-x*(h*=g),s=x*(p*=g)-_*d,u=_*h-b*p,(g=Math.hypot(o,s,u))?(o*=g=1/g,s*=g,u*=g):(o=0,s=0,u=0),l=h*u-d*s,c=d*o-p*u,f=p*s-h*o,(g=Math.hypot(l,c,f))?(l*=g=1/g,c*=g,f*=g):(l=0,c=0,f=0),t[0]=o,t[1]=l,t[2]=p,t[3]=0,t[4]=s,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=-(o*v+s*y+u*m),t[13]=-(l*v+c*y+f*m),t[14]=-(p*v+h*y+d*m),t[15]=1,t)},e.mul=void 0,e.multiply=s,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.ortho=void 0,e.orthoNO=p,e.orthoZO=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=o*l,t[15]=1,t},e.perspective=void 0,e.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.perspectiveNO=c,e.perspectiveZO=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t},e.rotate=function(t,e,n,r){var o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O,T,C,P=r[0],M=r[1],I=r[2],k=Math.hypot(P,M,I);return k<i.EPSILON?null:(P*=k=1/k,M*=k,I*=k,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],f=e[3],p=e[4],h=e[5],d=e[6],g=e[7],v=e[8],y=e[9],m=e[10],_=e[11],b=P*P*s+a,x=M*P*s+I*o,w=I*P*s-M*o,S=P*M*s-I*o,E=M*M*s+a,A=I*M*s+P*o,O=P*I*s+M*o,T=M*I*s-P*o,C=I*I*s+a,t[0]=u*b+p*x+v*w,t[1]=l*b+h*x+y*w,t[2]=c*b+d*x+m*w,t[3]=f*b+g*x+_*w,t[4]=u*S+p*E+v*A,t[5]=l*S+h*E+y*A,t[6]=c*S+d*E+m*A,t[7]=f*S+g*E+_*A,t[8]=u*O+p*T+v*C,t[9]=l*O+h*T+y*C,t[10]=c*O+d*T+m*C,t[11]=f*O+g*T+_*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t},e.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=u*i-p*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+p*i,t},e.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t},e.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.set=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=p,t[12]=h,t[13]=d,t[14]=g,t[15]=v,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.sub=void 0,e.subtract=d,e.targetTo=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],f=o-n[1],p=a-n[2],h=c*c+f*f+p*p;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,p*=h);var d=u*p-l*f,g=l*c-s*p,v=s*f-u*c;return(h=d*d+g*g+v*v)>0&&(h=1/Math.sqrt(h),d*=h,g*=h,v*=h),t[0]=d,t[1]=g,t[2]=v,t[3]=0,t[4]=f*v-p*g,t[5]=p*d-c*v,t[6]=c*g-f*d,t[7]=0,t[8]=c,t[9]=f,t[10]=p,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t},e.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,p,h,d,g=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*g+e[4]*v+e[8]*y+e[12],t[13]=e[1]*g+e[5]*v+e[9]*y+e[13],t[14]=e[2]*g+e[6]*v+e[10]*y+e[14],t[15]=e[3]*g+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*g+s*v+f*y+e[12],t[13]=i*g+u*v+p*y+e[13],t[14]=o*g+l*v+h*y+e[14],t[15]=a*g+c*v+d*y+e[15]),t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],g=e[12],v=e[13],y=e[14],m=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*g,t[1]=_*i+b*u+x*p+w*v,t[2]=_*o+b*l+x*h+w*y,t[3]=_*a+b*c+x*d+w*m,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*g,t[5]=_*i+b*u+x*p+w*v,t[6]=_*o+b*l+x*h+w*y,t[7]=_*a+b*c+x*d+w*m,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*g,t[9]=_*i+b*u+x*p+w*v,t[10]=_*o+b*l+x*h+w*y,t[11]=_*a+b*c+x*d+w*m,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*g,t[13]=_*i+b*u+x*p+w*v,t[14]=_*o+b*l+x*h+w*y,t[15]=_*a+b*c+x*d+w*m,t}function u(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,f=r*u,p=r*l,h=i*u,d=i*l,g=o*l,v=a*s,y=a*u,m=a*l;return t[0]=1-(h+g),t[1]=f+m,t[2]=p-y,t[3]=0,t[4]=f-m,t[5]=1-(c+g),t[6]=d+v,t[7]=0,t[8]=p+y,t[9]=d-v,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,l,c),t}function c(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var f=c;function p(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}e.perspective=f;var h=p;function d(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}e.ortho=h;var g=s;e.mul=g;var v=d;e.sub=v},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=void 0,e.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},e.clone=void 0,e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.copy=void 0,e.create=c,e.exactEquals=e.equals=e.dot=void 0,e.exp=h,e.fromEuler=function(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=o*u*c-a*s*l,t[1]=a*s*c+o*u*l,t[2]=a*u*l-o*s*c,t[3]=a*u*c+o*s*l,t},e.fromMat3=v,e.fromValues=void 0,e.getAngle=function(t,e){var n=E(t,e);return Math.acos(2*n*n-1)},e.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>i.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},e.lerp=e.length=e.len=void 0,e.ln=d,e.mul=void 0,e.multiply=p,e.normalize=void 0,e.pow=function(t,e,n){return d(t,e),S(t,t,n),h(t,t),t},e.random=function(t){var e=i.RANDOM(),n=i.RANDOM(),r=i.RANDOM(),o=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t},e.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},e.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},e.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},e.setAxes=e.set=e.scale=e.rotationTo=void 0,e.setAxisAngle=f,e.slerp=g,e.squaredLength=e.sqrLen=e.sqlerp=void 0,e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var i=l(n(79)),o=l(n(398)),a=l(n(173)),s=l(n(401));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function l(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}function c(){var t=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function f(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),u=a>0?s*Math.sin(a)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=s*Math.cos(a),t}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function g(t,e,n,r){var o,a,s,u,l,c=e[0],f=e[1],p=e[2],h=e[3],d=n[0],g=n[1],v=n[2],y=n[3];return(a=c*d+f*g+p*v+h*y)<0&&(a=-a,d=-d,g=-g,v=-v,y=-y),1-a>i.EPSILON?(o=Math.acos(a),s=Math.sin(o),u=Math.sin((1-r)*o)/s,l=Math.sin(r*o)/s):(u=1-r,l=r),t[0]=u*c+l*d,t[1]=u*f+l*g,t[2]=u*p+l*v,t[3]=u*h+l*y,t}function v(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}var y=s.clone;e.clone=y;var m=s.fromValues;e.fromValues=m;var _=s.copy;e.copy=_;var b=s.set;e.set=b;var x=s.add;e.add=x;var w=p;e.mul=w;var S=s.scale;e.scale=S;var E=s.dot;e.dot=E;var A=s.lerp;e.lerp=A;var O=s.length;e.length=O;var T=O;e.len=T;var C=s.squaredLength;e.squaredLength=C;var P=C;e.sqrLen=P;var M=s.normalize;e.normalize=M;var I=s.exactEquals;e.exactEquals=I;var k=s.equals;e.equals=k;var R=function(){var t=a.create(),e=a.fromValues(1,0,0),n=a.fromValues(0,1,0);return function(r,i,o){var s=a.dot(i,o);return s<-.999999?(a.cross(t,e,i),a.len(t)<1e-6&&a.cross(t,n,i),a.normalize(t,t),f(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(a.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,M(r,r))}}();e.rotationTo=R;var L=function(){var t=c(),e=c();return function(n,r,i,o,a,s){return g(t,r,a,s),g(e,i,o,s),g(n,t,e,2*s*(1-s)),n}}();e.sqlerp=L;var D=function(){var t=o.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],M(e,v(e,t))}}();e.setAxes=D},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.create=a,e.cross=function(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],c=e[0],f=e[1],p=e[2],h=e[3];return t[0]=f*l-p*u+h*s,t[1]=-c*l+p*a-h*o,t[2]=c*u-f*a+h*i,t[3]=-c*s+f*o-p*i,t},e.dist=void 0,e.distance=c,e.div=void 0,e.divide=l,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.forEach=void 0,e.fromValues=function(t,e,n,r){var o=new i.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.len=void 0,e.length=p,e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.mul=void 0,e.multiply=u,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t},e.random=function(t,e){var n,r,o,a,s,u;e=e||1;do{n=2*i.RANDOM()-1,r=2*i.RANDOM()-1,s=n*n+r*r}while(s>=1);do{o=2*i.RANDOM()-1,a=2*i.RANDOM()-1,u=o*o+a*a}while(u>=1);var l=Math.sqrt((1-s)/u);return t[0]=e*n,t[1]=e*r,t[2]=e*o*l,t[3]=e*a*l,t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.sqrLen=e.sqrDist=void 0,e.squaredDistance=f,e.squaredLength=h,e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.sub=void 0,e.subtract=s,e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},e.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,p=l*o+a*i-s*r,h=-a*r-s*i-u*o;return t[0]=c*l+h*-a+f*-u-p*-s,t[1]=f*l+h*-s+p*-a-c*-u,t[2]=p*l+h*-u+c*-s-f*-a,t[3]=e[3],t},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(){var t=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function h(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}var d=s;e.sub=d;var g=u;e.mul=g;var v=l;e.div=v;var y=c;e.dist=y;var m=f;e.sqrDist=m;var _=p;e.len=_;var b=h;e.sqrLen=b;var x=function(){var t=a();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();e.forEach=x},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))},e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.create=a,e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.dist=void 0,e.distance=c,e.div=void 0,e.divide=l,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.equals=function(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.forEach=void 0,e.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.len=void 0,e.length=p,e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.mul=void 0,e.multiply=u,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.sqrLen=e.sqrDist=void 0,e.squaredDistance=f,e.squaredLength=h,e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.sub=void 0,e.subtract=s,e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.zero=function(t){return t[0]=0,t[1]=0,t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(){var t=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function p(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}var d=p;e.len=d;var g=s;e.sub=g;var v=u;e.mul=v;var y=l;e.div=y;var m=c;e.dist=m;var _=f;e.sqrDist=_;var b=h;e.sqrLen=b;var x=function(){var t=a();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();e.forEach=x},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"now",{enumerable:!0,get:function(){return i.now}}),Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return i.timer}}),Object.defineProperty(e,"timerFlush",{enumerable:!0,get:function(){return i.timerFlush}});var i=n(244),o=r(n(767)),a=r(n(768))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"easeBack",{enumerable:!0,get:function(){return f.backInOut}}),Object.defineProperty(e,"easeBackIn",{enumerable:!0,get:function(){return f.backIn}}),Object.defineProperty(e,"easeBackInOut",{enumerable:!0,get:function(){return f.backInOut}}),Object.defineProperty(e,"easeBackOut",{enumerable:!0,get:function(){return f.backOut}}),Object.defineProperty(e,"easeBounce",{enumerable:!0,get:function(){return c.bounceOut}}),Object.defineProperty(e,"easeBounceIn",{enumerable:!0,get:function(){return c.bounceIn}}),Object.defineProperty(e,"easeBounceInOut",{enumerable:!0,get:function(){return c.bounceInOut}}),Object.defineProperty(e,"easeBounceOut",{enumerable:!0,get:function(){return c.bounceOut}}),Object.defineProperty(e,"easeCircle",{enumerable:!0,get:function(){return l.circleInOut}}),Object.defineProperty(e,"easeCircleIn",{enumerable:!0,get:function(){return l.circleIn}}),Object.defineProperty(e,"easeCircleInOut",{enumerable:!0,get:function(){return l.circleInOut}}),Object.defineProperty(e,"easeCircleOut",{enumerable:!0,get:function(){return l.circleOut}}),Object.defineProperty(e,"easeCubic",{enumerable:!0,get:function(){return o.cubicInOut}}),Object.defineProperty(e,"easeCubicIn",{enumerable:!0,get:function(){return o.cubicIn}}),Object.defineProperty(e,"easeCubicInOut",{enumerable:!0,get:function(){return o.cubicInOut}}),Object.defineProperty(e,"easeCubicOut",{enumerable:!0,get:function(){return o.cubicOut}}),Object.defineProperty(e,"easeElastic",{enumerable:!0,get:function(){return p.elasticOut}}),Object.defineProperty(e,"easeElasticIn",{enumerable:!0,get:function(){return p.elasticIn}}),Object.defineProperty(e,"easeElasticInOut",{enumerable:!0,get:function(){return p.elasticInOut}}),Object.defineProperty(e,"easeElasticOut",{enumerable:!0,get:function(){return p.elasticOut}}),Object.defineProperty(e,"easeExp",{enumerable:!0,get:function(){return u.expInOut}}),Object.defineProperty(e,"easeExpIn",{enumerable:!0,get:function(){return u.expIn}}),Object.defineProperty(e,"easeExpInOut",{enumerable:!0,get:function(){return u.expInOut}}),Object.defineProperty(e,"easeExpOut",{enumerable:!0,get:function(){return u.expOut}}),Object.defineProperty(e,"easeLinear",{enumerable:!0,get:function(){return r.linear}}),Object.defineProperty(e,"easePoly",{enumerable:!0,get:function(){return a.polyInOut}}),Object.defineProperty(e,"easePolyIn",{enumerable:!0,get:function(){return a.polyIn}}),Object.defineProperty(e,"easePolyInOut",{enumerable:!0,get:function(){return a.polyInOut}}),Object.defineProperty(e,"easePolyOut",{enumerable:!0,get:function(){return a.polyOut}}),Object.defineProperty(e,"easeQuad",{enumerable:!0,get:function(){return i.quadInOut}}),Object.defineProperty(e,"easeQuadIn",{enumerable:!0,get:function(){return i.quadIn}}),Object.defineProperty(e,"easeQuadInOut",{enumerable:!0,get:function(){return i.quadInOut}}),Object.defineProperty(e,"easeQuadOut",{enumerable:!0,get:function(){return i.quadOut}}),Object.defineProperty(e,"easeSin",{enumerable:!0,get:function(){return s.sinInOut}}),Object.defineProperty(e,"easeSinIn",{enumerable:!0,get:function(){return s.sinIn}}),Object.defineProperty(e,"easeSinInOut",{enumerable:!0,get:function(){return s.sinInOut}}),Object.defineProperty(e,"easeSinOut",{enumerable:!0,get:function(){return s.sinOut}});var r=n(769),i=n(770),o=n(771),a=n(772),s=n(773),u=n(774),l=n(775),c=n(776),f=n(777),p=n(778)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tpmt=function(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"interpolateArray",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"interpolateBasis",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"interpolateBasisClosed",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"interpolateCubehelix",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"interpolateCubehelixLong",{enumerable:!0,get:function(){return S.cubehelixLong}}),Object.defineProperty(e,"interpolateDate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"interpolateDiscrete",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"interpolateHcl",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"interpolateHclLong",{enumerable:!0,get:function(){return w.hclLong}}),Object.defineProperty(e,"interpolateHsl",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"interpolateHslLong",{enumerable:!0,get:function(){return b.hslLong}}),Object.defineProperty(e,"interpolateHue",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"interpolateLab",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"interpolateNumber",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"interpolateNumberArray",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"interpolateObject",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"interpolateRgb",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"interpolateRgbBasis",{enumerable:!0,get:function(){return _.rgbBasis}}),Object.defineProperty(e,"interpolateRgbBasisClosed",{enumerable:!0,get:function(){return _.rgbBasisClosed}}),Object.defineProperty(e,"interpolateRound",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"interpolateString",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"interpolateTransformCss",{enumerable:!0,get:function(){return y.interpolateTransformCss}}),Object.defineProperty(e,"interpolateTransformSvg",{enumerable:!0,get:function(){return y.interpolateTransformSvg}}),Object.defineProperty(e,"interpolateZoom",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"piecewise",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"quantize",{enumerable:!0,get:function(){return A.default}});var o=r(n(245)),a=r(n(411)),s=r(n(248)),u=r(n(409)),l=r(n(412)),c=r(n(781)),f=r(n(782)),p=r(n(174)),h=r(n(249)),d=r(n(413)),g=r(n(783)),v=r(n(414)),y=n(784),m=r(n(787)),_=T(n(408)),b=T(n(788)),x=r(n(789)),w=T(n(790)),S=T(n(791)),E=r(n(792)),A=r(n(793));function O(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(O=function(t){return t?n:e})(t)}function T(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=O(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rad2deg=e.deg2rad=void 0;var r=Math.PI/180;e.deg2rad=r;var i=180/Math.PI;e.rad2deg=i},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.rgbBasisClosed=e.rgbBasis=e.default=void 0;var o=n(60),a=r(n(248)),s=r(n(409)),u=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(111));function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}var c=function t(e){var n=(0,u.gamma)(e);function r(t,e){var r=n((t=(0,o.rgb)(t)).r,(e=(0,o.rgb)(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),s=(0,u.default)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function f(t){return function(e){var n,r,i=e.length,a=new Array(i),s=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=(0,o.rgb)(e[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=t(a),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=u(t),r+""}}}e.default=c;var p=f(a.default);e.rgbBasis=p;var h=f(s.default);e.rgbBasisClosed=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return(0,r.basis)((n-i/e)*e,o,a,s,u)}};var r=n(248)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return((0,a.isNumberArray)(e)?a.default:u)(t,e)},e.genericArray=u;var o=r(n(245)),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(249));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function u(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=(0,o.default)(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r={},a={};for(n in null!==t&&"object"===(0,i.default)(t)||(t={}),null!==e&&"object"===(0,i.default)(e)||(e={}),e)n in t?r[n]=(0,o.default)(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}};var i=r(n(6)),o=r(n(245))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r,s,u=o.lastIndex=a.lastIndex=0,l=-1,c=[],f=[];for(t+="",e+="";(n=o.exec(t))&&(r=a.exec(e));)(s=r.index)>u&&(s=e.slice(u,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,f.push({i:l,x:(0,i.default)(n,r)})),u=a.lastIndex;return u<e.length&&(s=e.slice(u),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)c[(n=f[r]).i]=n.x(t);return c.join("")})};var i=r(n(174)),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(o.source,"g")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nearestPoint=function(t,e,n,i,o,a){var s,u=1/0,l=[n,i],c=20;a&&a>200&&(c=a/10);for(var f=1/c,p=f/10,h=0;h<=c;h++){var d=h*f,g=[o.apply(null,t.concat([d])),o.apply(null,e.concat([d]))];(_=(0,r.distance)(l[0],l[1],g[0],g[1]))<u&&(s=d,u=_)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var v=t.length;return{x:t[v-1],y:e[v-1]}}for(u=1/0,h=0;h<32&&!(p<1e-4);h++){var y=s-p,m=s+p,_=(g=[o.apply(null,t.concat([y])),o.apply(null,e.concat([y]))],(0,r.distance)(l[0],l[1],g[0],g[1]));if(y>=0&&_<u)s=y,u=_;else{var b=[o.apply(null,t.concat([m])),o.apply(null,e.concat([m]))],x=(0,r.distance)(l[0],l[1],b[0],b[1]);m<=1&&x<u?(s=m,u=x):p*=.5}}return{x:o.apply(null,t.concat([s])),y:o.apply(null,e.concat([s]))}},e.snapLength=function(t,e){for(var n=0,i=t.length,o=0;o<i;o++){var a=t[o],s=e[o],u=t[(o+1)%i],l=e[(o+1)%i];n+=(0,r.distance)(a,s,u,l)}return n/2};var r=n(88)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.angleAtSegments=function(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=a(t),r=n.segments,i=n.totalLength,o=0,s=0,u=0;u<r.length;u++){var l=r[u],c=l.from,f=l.to,p=l.length/i;if(e>=o&&e<=o+p){s=Math.atan2(f[1]-c[1],f[0]-c[0]);break}o+=p}return s},e.distanceAtSegment=function(t,e,n){for(var r=1/0,o=0;o<t.length-1;o++){var a=t[o],s=t[o+1],u=i.default.pointDistance(a[0],a[1],s[0],s[1],e,n);u<r&&(r=u)}return r},e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=(0,o.distance)(r[0],r[1],i[0],i[1])}return e},e.pointAtSegments=function(t,e){if(e>1||e<0||t.length<2)return null;var n=a(t),r=n.segments,o=n.totalLength;if(0===o)return{x:t[0][0],y:t[0][1]};for(var s=0,u=null,l=0;l<r.length;l++){var c=r[l],f=c.from,p=c.to,h=c.length/o;if(e>=s&&e<=s+h){var d=(e-s)/h;u=i.default.pointAt(f[0],f[1],p[0],p[1],d);break}s+=h}return u};var i=r(n(175)),o=n(88);function a(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],a=t[r+1],s=(0,o.distance)(i[0],i[1],a[0],a[1]),u={from:i,to:a,length:s};n.push(u),e+=s}return{segments:n,totalLength:e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(416),i=n(88),o={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var o=t[r];e.push(o[0]),n.push(o[1])}return(0,i.getBBoxByArray)(e,n)},length:function(t){return(0,r.lengthOfSegment)(t)},pointAt:function(t,e){return(0,r.pointAtSegments)(t,e)},pointDistance:function(t,e,n){return(0,r.distanceAtSegment)(t,e,n)},tangentAngle:function(t,e){return(0,r.angleAtSegments)(t,e)}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()},e.getLineSpaceing=o,e.getTextHeight=function(t,e,n){var i=1;if((0,r.isString)(t)&&(i=t.split("\n").length),i>1){var a=o(e,n);return e*i+a*(i-1)}return e},e.getTextWidth=function(t,e){var n=(0,i.getOffScreenContext)(),o=0;if((0,r.isNil)(t)||""===t)return o;if(n.save(),n.font=e,(0,r.isString)(t)&&t.includes("\n")){var a=t.split("\n");(0,r.each)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o};var r=n(102),i=n(419);function o(t,e){return e?e-t:.14*t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r};var r=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a=function(t){var e=t||[];return(0,r.isArray)(e)?e:(0,r.isString)(e)?(e=e.match(i),(0,r.each)(e,(function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}(0,r.each)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){return i?[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){void 0===e&&(e=!1);for(var n,r,s=(0,i.default)(t),u={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},l=[],c="",f=s.length,p=[],h=0;h<f;h+=1)s[h]&&(c=s[h][0]),l[h]=c,s[h]=(0,o.segmentToCubic)(s[h],u),a(s,l,h),f=s.length,"Z"===c&&p.push(h),n=s[h],r=n.length,u.x1=+n[r-2],u.y1=+n[r-1],u.x2=+n[r-4]||u.x1,u.y2=+n[r-3]||u.y1;return e?[s,p]:s};var i=r(n(423)),o=n(818);function a(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,i.default)(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var s=e[r][0];if(o.test(s)||["V","H","T","S"].indexOf(s)>=0){n=!0;break}}if(!n)return e;var u=[],l=0,c=0,f=0,p=0,h=0,d=e[0];"M"!==d[0]&&"m"!==d[0]||(l=+d[1],c=+d[2],f=l,p=c,h++,u[0]=["M",l,c]),r=h;for(var g=e.length;r<g;r++){var v=e[r],y=u[r-1],m=[],_=(s=v[0]).toUpperCase();if(s!==_)switch(m[0]=_,_){case"A":m[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+v[6]+l,m[7]=+v[7]+c;break;case"V":m[1]=+v[1]+c;break;case"H":m[1]=+v[1]+l;break;case"M":f=+v[1]+l,p=+v[2]+c,m[1]=f,m[2]=p;break;default:for(var b=1,x=v.length;b<x;b++)m[b]=+v[b]+(b%2?l:c)}else m=e[r];switch(_){case"Z":l=+f,c=+p;break;case"H":l=m[1],m=["L",l,c];break;case"V":c=m[1],m=["L",l,c];break;case"T":l=m[1],c=m[2];var w=a([y[1],y[2]],[y[3],y[4]]);m=["Q",w[0],w[1],l,c];break;case"S":l=m[m.length-2],c=m[m.length-1];var S=y.length,E=a([y[S-4],y[S-3]],[y[S-2],y[S-1]]);m=["C",E[0],E[1],m[1],m[2],l,c];break;case"M":f=m[m.length-2],p=m[m.length-1];break;default:l=m[m.length-2],c=m[m.length-1]}u.push(m)}return u};var i=r(n(424)),o=/[a-z]/;function a(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)return null;if((0,r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(t,r,i){var o=[],s=r.toLowerCase();if(i.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([r].concat(o.splice(0,2))),s="l",r="m"===r?"l":"L"),"o"===s&&1===o.length&&n.push([r,o[0]]),"r"===s)n.push([r].concat(o));else for(;o.length>=e[s]&&(n.push([r].concat(o.splice(0,e[s]))),e[s]););return""})),n};var r=n(0),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e[1],i=e[2],u=(0,r.mod)((0,r.toRadian)(e[3]),2*Math.PI),l=e[4],c=e[5],f=t[0],p=t[1],h=e[6],d=e[7],g=Math.cos(u)*(f-h)/2+Math.sin(u)*(p-d)/2,v=-1*Math.sin(u)*(f-h)/2+Math.cos(u)*(p-d)/2,y=g*g/(n*n)+v*v/(i*i);y>1&&(n*=Math.sqrt(y),i*=Math.sqrt(y));var m=n*n*(v*v)+i*i*(g*g),_=m?Math.sqrt((n*n*(i*i)-m)/m):1;l===c&&(_*=-1),isNaN(_)&&(_=0);var b=i?_*n*v/i:0,x=n?_*-i*g/n:0,w=(f+h)/2+Math.cos(u)*b-Math.sin(u)*x,S=(p+d)/2+Math.sin(u)*b+Math.cos(u)*x,E=[(g-b)/n,(v-x)/i],A=[(-1*g-b)/n,(-1*v-x)/i],O=a([1,0],E),T=a(E,A);return o(E,A)<=-1&&(T=Math.PI),o(E,A)>=1&&(T=0),0===c&&T>0&&(T-=2*Math.PI),1===c&&T<0&&(T+=2*Math.PI),{cx:w,cy:S,rx:s(t,[h,d])?0:n,ry:s(t,[h,d])?0:i,startAngle:O,endAngle:O+T,xRotation:u,arcFlag:l,sweepFlag:c}},e.isSamePoint=s;var r=n(0);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var o={x:n.x-t.x,y:n.y-t.y},a={x:e.x-t.x,y:e.y-t.y},s={x:i.x-n.x,y:i.y-n.y},u=a.x*s.y-a.y*s.x,l=null;if(u*u>.001*(a.x*a.x+a.y*a.y)*(s.x*s.x+s.y*s.y)){var c=(o.x*s.y-o.y*s.x)/u,f=(o.x*a.y-o.y*a.x)/u;r(c,0,1)&&r(f,0,1)&&(l={x:t.x+c*a.x,y:t.y+c*a.y})}return l};var r=function(t,e,n){return t>=e&&t<=n}},function(t,e,n){"use strict";function r(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function i(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var o=!1,a=t.length;if(a<=2)return!1;for(var s=0;s<a;s++){var u=t[s],l=t[(s+1)%a];if(i(u,l,[e,n]))return!0;r(u[1]-n)>0!==r(l[1]-n)>0&&r(e-(n-u[1])*(u[0]-l[0])/(u[1]-l[1])-u[0])<0&&(o=!o)}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rectPath=e.pathToCurve=e.pathToAbsolute=e.parsePathString=e.parsePathArray=e.intersection=e.formatPath=e.fillPathByDiff=e.fillPath=e.catmullRomToBezier=void 0;var r=n(0),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if((0,r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),"m"===u&&s.length>2&&(n.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&n.push([i,s[0]]),"r"===u)n.push([i].concat(s));else for(;s.length>=e[u]&&(n.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),n};e.parsePathString=s;var u=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n};e.catmullRomToBezier=u;var l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,c=0,f=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],f++,r[0]=["M",i,o]);for(var p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=void 0,d=void 0,g=f,v=t.length;g<v;g++){if(r.push(h=[]),(e=(d=t[g])[0])!==e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case"A":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+d[6]+i,h[7]=+d[7]+o;break;case"V":h[1]=+d[1]+o;break;case"H":h[1]=+d[1]+i;break;case"R":for(var y=2,m=(n=[i,o].concat(d.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+o;r.pop(),r=r.concat(u(n,p));break;case"O":r.pop(),(n=l(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(l(i,o,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+d[1]+i,c=+d[2]+o;break;default:for(y=1,m=d.length;y<m;y++)h[y]=+d[y]+(y%2?i:o)}else if("R"===e)n=[i,o].concat(d.slice(1)),r.pop(),r=r.concat(u(n,p)),h=["R"].concat(d.slice(-2));else if("O"===e)r.pop(),(n=l(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(l(i,o,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var _=0,b=d.length;_<b;_++)h[_]=d[_];if("O"!==(e=e.toUpperCase()))switch(h[0]){case"Z":i=+a,o=+c;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],c=h[h.length-1];break;default:i=h[h.length-2],o=h[h.length-1]}}return r};e.pathToAbsolute=c;var f=function(t,e,n,r){return[t,e,n,r,n,r]},p=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},h=function t(e,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var f,p,h,d,g,v=120*Math.PI/180,y=Math.PI/180*(+o||0),m=[],_=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)p=c[0],h=c[1],d=c[2],g=c[3];else{e=(f=_(e,n,-y)).x,n=f.y,u=(f=_(u,l,-y)).x,l=f.y,e===u&&n===l&&(u+=1,l+=1);var b=(e-u)/2,x=(n-l)/2,w=b*b/(r*r)+x*x/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,E=i*i,A=(a===s?-1:1)*Math.sqrt(Math.abs((S*E-S*x*x-E*b*b)/(S*x*x+E*b*b)));d=A*r*x/i+(e+u)/2,g=A*-i*b/r+(n+l)/2,p=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((l-g)/i).toFixed(9)),p=e<d?Math.PI-p:p,h=u<d?Math.PI-h:h,p<0&&(p=2*Math.PI+p),h<0&&(h=2*Math.PI+h),s&&p>h&&(p-=2*Math.PI),!s&&h>p&&(h-=2*Math.PI)}var O=h-p;if(Math.abs(O)>v){var T=h,C=u,P=l;h=p+v*(s&&h>p?1:-1),m=t(u=d+r*Math.cos(h),l=g+i*Math.sin(h),r,i,o,0,s,C,P,[h,T,d,g])}O=h-p;var M=Math.cos(p),I=Math.sin(p),k=Math.cos(h),R=Math.sin(h),L=Math.tan(O/4),D=4/3*r*L,N=4/3*i*L,F=[e,n],j=[e+D*I,n-N*M],B=[u+D*R,l-N*k],z=[u,l];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,B,z].concat(m);for(var U=[],V=0,G=(m=[j,B,z].concat(m).join().split(",")).length;V<G;V++)U[V]=V%2?_(m[V-1],m[V],y).y:_(m[V],m[V+1],y).x;return U},d=function(t,e){var n,r=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",d="",g=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(h.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(p(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(p(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(f(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(f(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(f(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(f(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},y=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(l=r[m][0]),"C"!==l&&(s[m]=l,m&&(d=s[m-1])),r[m]=g(r[m],o,d),"A"!==s[m]&&"C"===l&&(s[m]="C"),v(r,m),i&&(i[m]&&(l=i[m][0]),"C"!==l&&(u[m]=l,m&&(d=u[m-1])),i[m]=g(i[m],a,d),"A"!==u[m]&&"C"===l&&(u[m]="C"),v(i,m)),y(r,i,o,a,m),y(i,r,a,o,m);var _=r[m],b=i&&i[m],x=_.length,w=i&&b.length;o.x=_[x-2],o.y=_[x-1],o.bx=parseFloat(_[x-4])||o.x,o.by=parseFloat(_[x-3])||o.y,a.bx=i&&(parseFloat(b[w-4])||a.x),a.by=i&&(parseFloat(b[w-3])||a.y),a.x=i&&b[w-2],a.y=i&&b[w-1]}return i?[r,i]:r};e.pathToCurve=d;var g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")};e.parsePathArray=v;var y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},m=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var d=l*c[h]+l,g=y(d,t,n,i,a),v=y(d,e,r,o,s),m=g*g+v*v;p+=f[h]*Math.sqrt(m)}return l*p},_=function(t,e,n,r,i,o,a,s){for(var u,l,c,f,p=[],h=[[],[]],d=0;d<2;++d)if(0===d?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&p.push(f)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-l+v)/(2*u);y>0&&y<1&&p.push(y);var m=(-l-v)/(2*u);m>0&&m<1&&p.push(m)}}for(var _,b=p.length,x=b;b--;)_=1-(f=p[b]),h[0][b]=_*_*_*t+3*_*_*f*n+3*_*f*f*i+f*f*f*a,h[1][b]=_*_*_*e+3*_*_*f*r+3*_*f*f*o+f*f*f*s;return h[0][x]=t,h[1][x]=e,h[0][x+1]=a,h[1][x+1]=s,h[0].length=h[1].length=x+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},b=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,f=+l.toFixed(2),p=+c.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},x=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},w=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=v,o};e.rectPath=w;var S=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:w(t,e,n,r),vb:[t,e,n,r].join(" ")}},E=function(t,e,n,i,o,a,s,u){(0,r.isArray)(t)||(t=[t,e,n,i,o,a,s,u]);var l=_.apply(null,t);return S(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},A=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),p=u*u,h=p*u,d=t+2*u*(n-t)+p*(i-2*n+t),g=e+2*u*(r-e)+p*(o-2*r+e),v=n+2*u*(i-n)+p*(a-2*i+n),y=r+2*u*(o-r)+p*(s-2*o+r);return{x:c*t+3*f*u*n+3*l*u*u*i+h*a,y:c*e+3*f*u*r+3*l*u*u*o+h*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},O=function(t,e,n){if(!function(t,e){return t=S(t),e=S(e),x(e,t.x,t.y)||x(e,t.x2,t.y)||x(e,t.x,t.y2)||x(e,t.x2,t.y2)||x(t,e.x,e.y)||x(t,e.x2,e.y)||x(t,e.x,e.y2)||x(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(E(t),E(e)))return n?0:[];for(var r=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=A.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++)c=A.apply(0,e.concat(l/i)),a.push({x:c.x,y:c.y,t:l/i});for(l=0;l<r;l++)for(var f=0;f<i;f++){var p=o[l],h=o[l+1],d=a[f],g=a[f+1],v=Math.abs(h.x-p.x)<.001?"y":"x",y=Math.abs(g.x-d.x)<.001?"y":"x",_=b(p.x,p.y,h.x,h.y,d.x,d.y,g.x,g.y);if(_){if(s[_.x.toFixed(4)]===_.y.toFixed(4))continue;s[_.x.toFixed(4)]=_.y.toFixed(4);var w=p.t+Math.abs((_[v]-p[v])/(h[v]-p[v]))*(h.t-p.t),O=d.t+Math.abs((_[y]-d[y])/(g[y]-d[y]))*(g.t-d.t);w>=0&&w<=1&&O>=0&&O<=1&&(n?u+=1:u.push({x:_.x,y:_.y,t1:w,t2:O}))}}return u};function T(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}e.intersection=function(t,e){return function(t,e,n){var r,i,o,a,s,u,l,c,f,p;t=d(t),e=d(e);for(var h=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])r=s=y[1],i=u=y[2];else{"C"===y[0]?(f=[r,i].concat(y.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,_=e.length;m<_;m++){var b=e[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(p=[o,a].concat(b.slice(1)),o=p[6],a=p[7]):(p=[o,a,o,a,l,c,l,c],o=l,a=c);var x=O(f,p,n);if(n)h+=x;else{for(var w=0,S=x.length;w<S;w++)x[w].segment1=g,x[w].segment2=m,x[w].bez1=f,x[w].bez2=p;h=h.concat(x)}}}}}return h}(t,e)};var C=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=T(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r};e.fillPath=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(C(t[i],t[i+1],r))}),[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u};var P=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,r.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function M(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}function I(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=k(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function k(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}e.fillPathByDiff=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=t[u-1],l=1;l<=o;l++){r=e[l-1],a=P(n,r)?0:1;var c=s[u-1][l].min+1,f=s[u][l-1].min+1,p=s[u-1][l-1].min+a;s[u][l]=M(c,f,p)}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(u=0;u<f;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},e.formatPath=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=k(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=I(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(107)),a=n(103),s=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,a.mix)(r,e),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(o.default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(432)),s=n(103),u={};function l(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){l(t,e)}))}}function c(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){c(t,e)}))}}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?((0,s.each)(u,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=(0,o.min)(i),e=(0,o.max)(i),n=(0,o.min)(a),r=(0,o.max)(a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],a=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?((0,s.each)(u,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=(0,o.min)(i),e=(0,o.max)(i),n=(0,o.min)(a),r=(0,o.max)(a)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,s.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,s.isObject)(n)?r=n:r.type=n;var i=u[r.type];i||(i=(0,s.upperFirst)(r.type),u[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,s.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!(0,s.isAllowCapture)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if((0,s.isAllowCapture)(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,s.removeFromArray)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&l(t,e),r&&c(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,s.each)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,s.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,s.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(a.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(32),s=n(103),u=n(251),l=r(n(430)),c=a.ext.transform,f="matrix",p=["zIndex","capture","visible","type"],h=["repeat"];function d(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function g(t,e){var n={},r=e.attr();return(0,o.each)(t,(function(t,e){-1!==h.indexOf(e)||(0,o.isEqual)(r[e],t)||(n[e]=t)})),n}function v(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,a=Object.prototype.hasOwnProperty;return(0,o.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&(0,o.each)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var y=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,o.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if((0,o.isObject)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,s.removeFromArray)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(f,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(f)},e.prototype.setMatrix=function(t){this.attr(f,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?(0,u.multiplyMatrix)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?(0,u.multiplyMatrix)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,u.multiplyVec2)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=(0,u.invert)(e);if(n)return(0,u.multiplyVec2)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,o.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,o.each)(e,(function(t,r){(0,o.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,o.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,o.each)(p,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,a,s,u,l,c=t[0],f=t[1],p=t[2],h=void 0===p?"easeLinear":p,y=t[3],m=void 0===y?o.noop:y,_=t[4],b=void 0===_?0:_;(0,o.isFunction)(c)?(i=c,c={}):(0,o.isObject)(c)&&c.onFrame&&(i=c.onFrame,a=c.repeat),(0,o.isObject)(f)?(f=(l=f).duration,h=l.easing||"easeLinear",b=l.delay||0,a=l.repeat||a||!1,m=l.callback||o.noop,s=l.pauseCallback||o.noop,u=l.resumeCallback||o.noop):((0,o.isNumber)(m)&&(b=m,m=null),(0,o.isFunction)(h)?(m=h,h="easeLinear"):h=h||"easeLinear");var x=g(c,this),w={fromAttrs:d(x,this),toAttrs:x,duration:f,easing:h,repeat:a,callback:m,pauseCallback:s,resumeCallback:u,delay:b,startTime:n.getTime(),id:(0,o.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=v(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,o.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,o.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,o.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var a=function(t){var a=i[t],l=a.get("name");if(l){if((a.isGroup()||a.isCanvas&&a.isCanvas())&&n&&(0,s.isParent)(a,n))return"break";(0,o.isArray)(l)?(0,o.each)(l,(function(t){r.emitDelegateEvent(a,t,e)})):u.emitDelegateEvent(a,l,e)}},u=this,l=0;l<i.length&&"break"!==a(l);l++);},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=c(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=c(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=c(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=c(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(l.default),m=y;e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()},e.getLineSpaceing=o,e.getTextHeight=function(t,e,n){var i=1;if((0,r.isString)(t)&&(i=t.split("\n").length),i>1){var a=o(e,n);return e*i+a*(i-1)}return e},e.getTextWidth=function(t,e){var n=(0,i.getOffScreenContext)(),o=0;if((0,r.isNil)(t)||""===t)return o;if(n.save(),n.font=e,(0,r.isString)(t)&&t.includes("\n")){var a=t.split("\n");(0,r.each)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o};var r=n(103),i=n(434);function o(t,e){return e?e-t:.14*t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r};var r=null},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0});var i={getAdjust:!0,registerAdjust:!0,Adjust:!0};Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"getAdjust",{enumerable:!0,get:function(){return o.getAdjust}}),Object.defineProperty(e,"registerAdjust",{enumerable:!0,get:function(){return o.registerAdjust}});var o=n(845),a=r(n(112)),s=r(n(846)),u=r(n(847)),l=r(n(848)),c=r(n(849)),f=n(436);Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))})),(0,o.registerAdjust)("Dodge",s.default),(0,o.registerAdjust)("Jitter",u.default),(0,o.registerAdjust)("Stack",l.default),(0,o.registerAdjust)("Symmetric",c.default)},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return r.Scale}});var r=n(66)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTickMethod=function(t){return r[t]},e.registerTickMethod=function(t,e){r[t]=e};var r={}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,i.__extends)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,o.isNumber)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=e;return(0,o.isNumber)(e)&&!this.values.includes(e)&&(a=this.values[a]),t.prototype.getText.apply(this,(0,i.__spreadArray)([a],n,!1))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,o.isNil)(this.getConfig("min"))&&(this.min=0),(0,o.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(r(n(142)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,i.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(r(n(177)).default),a=o;e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,i.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,o.last)(e);if(i<0)return(0,o.head)(e);var a=e[i],s=i/(n-1);return a+(r-s)/((i+1)/(n-1)-s)*(e[i+1]-a)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,o.last)(e)!==this.max&&e.push(this.max),(0,o.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,o.head)(e))return 0;if(t>(0,o.last)(e))return 1;var n=0;return(0,o.each)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(r(n(177)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.values,n=t.tickInterval,r=t.tickCount,a=e;if((0,i.isNumber)(n))return(0,i.filter)(a,(function(t,e){return e%n===0}));var s=t.min,u=t.max;if((0,i.isNil)(s)&&(s=0),(0,i.isNil)(u)&&(u=e.length-1),(0,i.isNumber)(r)&&r<u-s){var l=(0,o.default)(s,u,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,i.filter)(l,(function(t){return t>=s&&t<=u})).map((function(t){return e[t]}))}return e.slice(s,u+1)};var i=n(0),o=r(n(443))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Q=e.ALL_Q=void 0,e.default=function(t,e,n,a,h,d){void 0===n&&(n=5),void 0===a&&(a=!0),void 0===h&&(h=o),void 0===d&&(d=[.25,.2,.5,.05]);var g=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!g)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===g)return{min:t,max:e,ticks:[t]};for(var v={score:-2,lmin:0,lmax:0,lstep:0},y=1;y<1/0;){for(var m=0;m<h.length;m+=1){var _=h[m],b=u(_,h,y);if(d[0]*b+d[1]+d[2]+d[3]<v.score){y=1/0;break}for(var x=2;x<1/0;){var w=c(x,g);if(d[0]*b+d[1]+d[2]*w+d[3]<v.score)break;for(var S=(e-t)/(x+1)/y/_,E=Math.ceil(Math.log10(S));E<1/0;){var A=y*_*Math.pow(10,E),O=p(t,e,A*(x-1));if(d[0]*b+d[1]*O+d[2]*w+d[3]<v.score)break;var T=Math.floor(e/A)*y-(x-1)*y,C=Math.ceil(t/A)*y;if(T<=C)for(var P=C-T,M=0;M<=P;M+=1){var I=(T+M)*(A/y),k=I+A*(x-1),R=A,L=s(_,h,y,I,k,R),D=f(t,e,I,k),N=l(x,g,t,e,I,k),F=d[0]*L+d[1]*D+d[2]*N+1*d[3];F>v.score&&(!a||I<=t&&k>=e)&&(v.lmin=I,v.lmax=k,v.lstep=R,v.score=F)}E+=1}x+=1}}y+=1}var j=(0,i.prettyNumber)(v.lmax),B=(0,i.prettyNumber)(v.lmin),z=(0,i.prettyNumber)(v.lstep),U=Math.floor(function(t){return Math.round(1e12*t)/1e12}((j-B)/z))+1,V=new Array(U);for(V[0]=(0,i.prettyNumber)(B),m=1;m<U;m++)V[m]=(0,i.prettyNumber)(V[m-1]+z);return{min:Math.min(t,(0,r.head)(V)),max:Math.max(e,(0,r.last)(V)),ticks:V}};var r=n(0),i=n(444),o=[1,5,2,2.5,4,3];e.DEFAULT_Q=o,e.ALL_Q=[1,5,2,2.5,4,3,1.5,7,6,8,9];var a=100*Number.EPSILON;function s(t,e,n,i,o,s){var u=(0,r.size)(e),l=(0,r.indexOf)(e,t),c=0,f=function(t,e){return(t%e+e)%e}(i,s);return(f<a||s-f<a)&&i<=0&&o>=0&&(c=1),1-l/(u-1)-n+c}function u(t,e,n){var i=(0,r.size)(e);return 1-(0,r.indexOf)(e,t)/(i-1)-n+1}function l(t,e,n,r,i,o){var a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function c(t,e){return t>=e?2-(t-1)/(e-1):1}function f(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function p(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prettyNumber=function(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var i=n<0?0:Math.round(n);if(0===i)return{max:e,min:t,ticks:[]};var o=(e-t)/i,a=Math.pow(10,Math.floor(Math.log10(o))),s=a;2*a-o<1.5*(o-s)&&5*a-o<2.75*(o-(s=2*a))&&10*a-o<1.5*(o-(s=5*a))&&(s=10*a);for(var u=Math.ceil(e/s),l=Math.floor(t/s),c=Math.max(u*s,e),f=Math.min(l*s,t),p=Math.floor((c-f)/s)+1,h=new Array(p),d=0;d<p;d++)h[d]=(0,r.prettyNumber)(f+d*s);return{min:f,max:c,ticks:h}};var r=n(444)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.propagationDelegate=function(t,e,n){var i=new r.Event(e,n);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var o=t.getParent();o;)o.emitDelegation(e,i),i.propagationPath.push(o),o=o.getParent()};var r=n(242)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStatesStyle=function(t,e,n){var i=e+"Style",o=null;return(0,r.each)(n,(function(e,n){t[n]&&e[i]&&(o||(o={}),(0,r.mix)(o,e[i]))})),o};var r=n(0)},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.autoRotate=e.autoHide=e.autoEllipsis=void 0;var i=u(n(896));e.autoEllipsis=i;var o=u(n(897));e.autoHide=o;var a=u(n(898));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}e.autoRotate=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CROSSHAIR_TEXT=e.CROSSHAIR_LINE=e.CONTAINER_CLASS=void 0;var r="g2-crosshair";e.CONTAINER_CLASS=r,e.CROSSHAIR_LINE="g2-crosshair-line",e.CROSSHAIR_TEXT="g2-crosshair-text"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAnimation=e.getAnimation=void 0;var r={};e.getAnimation=function(t){return r[t.toLowerCase()]},e.registerAnimation=function(t,e){r[t.toLowerCase()]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseRadius=e.parseStyle=e.parsePattern=e.parseRadialGradient=e.parseLineGradient=void 0;var r=n(51),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(t,e){var n=t.match(s);r.each(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function l(t,e,n){var r,o,a=i.exec(n),s=parseFloat(a[1])%360*(Math.PI/180),l=a[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(r={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(r={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(r={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(r={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var f=Math.tan(s),p=f*f,h=(o.x-r.x+f*(o.y-r.y))/(p+1)+r.x,d=f*(o.x-r.x+f*(o.y-r.y))/(p+1)+r.y,g=t.createLinearGradient(r.x,r.y,h,d);return u(l,g),g}function c(t,e,n){var r=o.exec(n),i=parseFloat(r[1]),a=parseFloat(r[2]),l=parseFloat(r[3]),c=r[4];if(0===l){var f=c.match(s);return f[f.length-1].split(":")[1]}var p=e.getBBox(),h=p.maxX-p.minX,d=p.maxY-p.minY,g=Math.sqrt(h*h+d*d)/2,v=t.createRadialGradient(p.minX+h*i,p.minY+d*a,0,p.minX+h/2,p.minY+d/2,l*g);return u(c,v),v}function f(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=a.exec(n),s=o[1],u=o[2];function l(){r=t.createPattern(i,s),e.set("pattern",r),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;default:s="no-repeat"}return i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=u,i.complete?l():(i.onload=l,i.src=i.src),r}e.parseLineGradient=l,e.parseRadialGradient=c,e.parsePattern=f,e.parseStyle=function(t,e,n){var i=e.getBBox();if(isNaN(i.x)||isNaN(i.y)||isNaN(i.width)||isNaN(i.height))return n;if(r.isString(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return l(t,e,n);if("r"===n[0])return c(t,e,n);if("p"===n[0])return f(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0},e.parseRadius=function(t){var e=0,n=0,i=0,o=0;return r.isArray(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,[e,n,i,o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}e.default=function(t,e){var n=e[1],i=e[2],s=r.mod(r.toRadian(e[3]),2*Math.PI),u=e[4],l=e[5],c=t[0],f=t[1],p=e[6],h=e[7],d=Math.cos(s)*(c-p)/2+Math.sin(s)*(f-h)/2,g=-1*Math.sin(s)*(c-p)/2+Math.cos(s)*(f-h)/2,v=d*d/(n*n)+g*g/(i*i);v>1&&(n*=Math.sqrt(v),i*=Math.sqrt(v));var y=n*n*(g*g)+i*i*(d*d),m=y?Math.sqrt((n*n*(i*i)-y)/y):1;u===l&&(m*=-1),isNaN(m)&&(m=0);var _=i?m*n*g/i:0,b=n?m*-i*d/n:0,x=(c+p)/2+Math.cos(s)*_-Math.sin(s)*b,w=(f+h)/2+Math.sin(s)*_+Math.cos(s)*b,S=[(d-_)/n,(g-b)/i],E=[(-1*d-_)/n,(-1*g-b)/i],A=a([1,0],S),O=a(S,E);return o(S,E)<=-1&&(O=Math.PI),o(S,E)>=1&&(O=0),0===l&&O>0&&(O-=2*Math.PI),1===l&&O<0&&(O+=2*Math.PI),{cx:x,cy:w,rx:r.isSamePoint(t,[p,h])?0:n,ry:r.isSamePoint(t,[p,h])?0:i,startAngle:A,endAngle:A+O,xRotation:s,arcFlag:u,sweepFlag:l}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30);e.default=function(t,e,n){var i=r.getOffScreenContext();return t.createPath(i),i.isPointInPath(e,n)}},function(t,e,n){"use strict";function r(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function i(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var o=!1,a=t.length;if(a<=2)return!1;for(var s=0;s<a;s++){var u=t[s],l=t[(s+1)%a];if(i(u,l,[e,n]))return!0;r(u[1]-n)>0!==r(l[1]-n)>0&&r(e-(n-u[1])*(u[0]-l[0])/(u[1]-l[1])-u[0])<0&&(o=!o)}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51);e.default=function(t,e,n,i,o,a,s,u){var l=(Math.atan2(u-e,s-t)+2*Math.PI)%(2*Math.PI);if(l<i||l>o)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return r.distance(c.x,c.y,s,u)<=a/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(184);e.default=function(t,e,n,i,o){var a=t.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var u=t[s][0],l=t[s][1],c=t[s+1][0],f=t[s+1][1];if(r.default(u,l,c,f,e,n,i))return!0}if(o){var p=t[0],h=t[a-1];if(r.default(p[0],p[1],h[0],h[1],e,n,i))return!0}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEngine=e.getEngine=void 0;var r={};e.getEngine=function(t){var e=r[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e},e.registerEngine=function(t,e){r[t]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerGeometry=e.View=void 0;var r=n(1),i=n(0),o=n(20),a=(0,r.__importDefault)(n(266)),s=n(267),u=n(269),l=n(92),c=n(81),f=n(48),p=n(70),h=n(187),d=n(270),g=n(113),v=n(460),y=n(461),m=(0,r.__importDefault)(n(968)),_=(0,r.__importDefault)(n(271)),b=(0,r.__importDefault)(n(969)),x=n(970),w=n(462),S=n(971),E=n(972),A=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=(0,y.getComponentControllerNames)(),n.scalePool=new x.ScalePool,n.layoutFunc=b.default,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var r=n.createViewEvent(t);n.doPlotEvent(r),n.emit(e,r)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var r=n.createViewEvent(t);n.emit(e,r)}};var o=e.id,a=void 0===o?(0,i.uniqueId)("view"):o,s=e.parent,u=e.canvas,c=e.backgroundGroup,f=e.middleGroup,p=e.foregroundGroup,h=e.region,d=void 0===h?{start:{x:0,y:0},end:{x:1,y:1}}:h,g=e.padding,m=e.appendPadding,_=e.theme,w=e.options,S=e.limitInPlot,E=e.syncViewPadding;return n.parent=s,n.canvas=u,n.backgroundGroup=c,n.middleGroup=f,n.foregroundGroup=p,n.region=d,n.padding=g,n.appendPadding=m,n.options=(0,r.__assign)((0,r.__assign)({},n.options),w),n.limitInPlot=S,n.id=a,n.syncViewPadding=E,n.themeObject=(0,i.isObject)(_)?(0,i.deepMix)({},(0,l.getTheme)("default"),(0,v.createTheme)(_)):(0,l.getTheme)(_),n.init(),n}return(0,r.__extends)(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_RENDER,_.default.fromData(this,o.VIEW_LIFE_CIRCLE.BEFORE_RENDER,e)),this.paint(t),this.emit(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,_.default.fromData(this,o.VIEW_LIFE_CIRCLE.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var r=this.controllers;for(n=0;n<r.length;n++)"annotation"===r[n].name?r[n].clear(!0):r[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var i=this.views;for(n=0;n<i.length;n++)i[n].clear();this.emit(o.VIEW_LIFE_CIRCLE.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_DESTROY);var e=this.interactions;(0,i.each)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,r=0,a=n.length;r<a;r++)n[r].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,r=0,i=n.length;r<i;r++)n[r].changeVisible(e);var o=this.controllers;for(r=0,i=o.length;r<i;r++)o[r].changeVisible(e);return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,i.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return(0,i.isFunction)(e)?((0,i.set)(this.options,["filters",t],e),this):(!e&&(0,i.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return(0,i.isBoolean)(t)?(0,i.set)(this.options,["axes"],t):(0,i.set)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return(0,i.isBoolean)(t)?(0,i.set)(this.options,["legends"],t):(0,i.isString)(t)?((0,i.set)(this.options,["legends",t],e),(0,i.isPlainObject)(e)&&(null===e||void 0===e?void 0:e.selected)&&(0,i.set)(this.options,["filters",t],(function(t){var n;return null===(n=null===e||void 0===e?void 0:e.selected[t])||void 0===n||n}))):(0,i.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return(0,i.isString)(t)?(0,i.set)(this.options,["scales",t],e):(0,i.isObject)(t)&&(0,i.each)(t,(function(t,e){(0,i.set)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return(0,i.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return(0,i.isString)(t)?(0,i.set)(this.options,"coordinate",{type:t,cfg:e}):(0,i.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=(0,s.getFacet)(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,r.__assign)((0,r.__assign)({},e),{type:t})),this},e.prototype.animate=function(t){return(0,i.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,i.mix)(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return(0,i.set)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=(0,i.isObject)(t)?(0,i.deepMix)({},this.themeObject,(0,v.createTheme)(t)):(0,l.getTheme)(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var r=(0,u.createInteraction)(t,this,e);return r&&(r.init(),this.interactions[t]=r),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,_.default.fromData(this,o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].changeData(t);this.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,_.default.fromData(this,o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,i.clone)(this.options.scales),axes:(0,i.clone)(this.options.axes),coordinate:(0,i.clone)(this.coordinateController.getOption()),tooltip:(0,i.clone)(this.options.tooltip),legends:(0,i.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},a=new e((0,r.__assign)((0,r.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:o.GROUP_Z_INDEX.BG}),middleGroup:this.middleGroup.addGroup({zIndex:o.GROUP_Z_INDEX.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:o.GROUP_Z_INDEX.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,r.__assign)((0,r.__assign)({},n),(0,i.get)(t,"options",{}))}));return this.views.push(a),a},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=(0,i.remove)(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var r=n.getYScale(),i=r.field;t[i]||(t[i]=!0,e.push(r))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},r=0,i=e.length;r<i;r++){var o=e[r],a="x"===t?o.getXScale():o.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,i.reduce)(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===o.LAYER.BG?this.backgroundGroup:t===o.LAYER.MID?this.middleGroup:(o.LAYER.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return(0,f.isPointInCoordinate)(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,i.flatten)(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return(0,p.uniq)((0,i.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,r=this.getCoordinate(),o=this.getScalesByDim("x"),a=this.getScalesByDim("y");if((0,i.each)(t,(function(t,r){o[r]&&(e=o[r].scale(t)),a[r]&&(n=a[r].scale(t))})),!(0,i.isNil)(e)&&!(0,i.isNil)(n))return r.convert({x:e,y:n})},e.prototype.getController=function(t){return(0,i.find)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.dataArray;o.sort(a);for(var s=void 0,u=0,l=a.length;u<l;u++){var c=a[u];(s=(0,h.findDataByPoint)(t,c,o))&&n.push(s)}}var f=this.views;for(r=0,i=f.length;r<i;r++){var p=f[r].getSnapRecords(t);n=n.concat(p)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,r=e.length;n<r;n++){var i=e[n];t=t.concat(i.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,i.size)(e)?t:(0,i.filter)(t,(function(t,n){return Object.keys(e).every((function(r){return(0,e[r])(t[r],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,r=(0,i.get)(n,t);return(0,i.isUndefined)(r)?e:e.filter((function(e,n){return r(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,r=this.coordinateBBox.bl,o=this.coordinateBBox.tr;(0,i.isEqual)(e,r)&&(0,i.isEqual)(n,o)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(r,o))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(o.VIEW_LIFE_CIRCLE.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,i.get)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,r=e.y,o=e.width,a=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:r,width:o,height:a})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=(0,S.calculatePadding)(this).shrink((0,d.parsePadding)(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].renderPaddingRecursive(t)},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?E.defaultSyncViewPadding:(0,i.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,w.PaddingCal),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,r=0,o=n.length;r<o;r++)n[r].renderLayoutRecursive(t)},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=(0,f.getCoordinateClipCfg)(this.coordinateInstance),r=n.type,i=n.attrs;e.setClip({type:r,attrs:i})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,s=o.length;a<s;a++)o[a].renderPaintRecursive(t)},e.prototype.createScale=function(t,e,n,o){var a=(0,i.get)(this.options.scales,[t]),s=(0,r.__assign)((0,r.__assign)({},a),n);return this.parent?this.parent.createScale(t,e,s,o):this.scalePool.createScale(t,e,s,o)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].renderDataRecursive(t)},e.prototype.calculateViewBBox=function(){var t,e,n,r;if(this.parent){var i=this.parent.coordinateBBox;t=i.x,e=i.y,n=i.width,r=i.height}else t=0,e=0,n=this.canvas.get("width"),r=this.canvas.get("height");var o=this.region,a=o.start,s=o.end,u=new c.BBox(t+n*a.x,e+r*a.y,n*(s.x-a.x),r*(s.y-a.y));this.viewBBox&&this.viewBBox.isEqual(u)||(this.viewBBox=new c.BBox(t+n*a.x,e+r*a.y,n*(s.x-a.x),r*(s.y-a.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var r=t[e],i=(0,y.getComponentController)(r);i&&this.controllers.push(new i(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,r=e?e.get("origin"):null,i=new _.default(this,t,r);return i.type=n,i},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var r=this.isPointInPlot(n),i=t.clone();if(r){var a="plot:"+e;i.type=a,this.emit(a,i),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!r?("mousemove"===e&&(i.type=o.PLOT_EVENTS.MOUSE_LEAVE,this.emit(o.PLOT_EVENTS.MOUSE_LEAVE,i)),i.type=o.PLOT_EVENTS.LEAVE,this.emit(o.PLOT_EVENTS.LEAVE,i)):!this.isPreMouseInPlot&&r&&("mousemove"===e&&(i.type=o.PLOT_EVENTS.MOUSE_ENTER,this.emit(o.PLOT_EVENTS.MOUSE_ENTER,i)),i.type=o.PLOT_EVENTS.ENTER,this.emit(o.PLOT_EVENTS.ENTER,i)),this.isPreMouseInPlot=r):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(i.type=o.PLOT_EVENTS.MOUSE_LEAVE,this.emit(o.PLOT_EVENTS.MOUSE_LEAVE,i)),i.type=o.PLOT_EVENTS.LEAVE,this.emit(o.PLOT_EVENTS.LEAVE,i),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,i.get)(this.options,"scales",{}),r=this.geometries,o=0,a=r.length;o<a;o++){var s=r[o];s.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?s.update(u):s.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),r=n.data,i=n.scales,o=void 0===i?{}:i,a=this.filteredData,s=0,u=t.length;s<u;s++){var l=t[s],c=o[l],f=this.getScaleKey(l);this.createScale(l,e.includes(l)?r:a,c,f),this.createdScaleKeys.set(f,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getScaleByField(r)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){var i=n[r].getScaleFields();(0,p.uniq)(i,t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){var i=n[r].getGroupFields();(0,p.uniq)(i,t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,r.__spreadArray)([this.getXScale()],this.getYScales(),!0).filter((function(t){return!!t})),n=this.getCoordinate(),o=this.options.scales;(0,i.each)(e,(function(e){var r=e.field,a=e.values,s=e.isCategory,u=e.isIdentity;(s||u)&&a&&!(0,i.get)(o,[r,"range"])&&(e.range=(0,g.getDefaultCategoryScaleRange)(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var r=e[n];t?r.update():(r.clear(),r.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},i=this.geometries,o=0;o<i.length;o++){var a=i[o];a.coordinate=n,a.canvasRegion=r,e||a.animate(!1),a.paint(t)}},e.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,o=void 0===n?[]:n,a=e.interactions,s=void 0===a?[]:a,u=e.views,l=void 0===u?[]:u,c=e.annotations,f=void 0===c?[]:c,p=e.coordinate,h=e.events,d=e.facets;this.coordinateController?p&&this.coordinateController.update(p):this.coordinateController=new m.default(p);for(var g=0;g<o.length;g++){var v=o[g];this.createGeometry(v)}for(var y=0;y<s.length;y++){var _=s[y],b=_.type,x=_.cfg;this.interaction(b,x)}for(var w=0;w<l.length;w++){var S=l[w];this.createView(S)}for(var E=this.getController("annotation"),A=0;A<f.length;A++){var O=f[A];E.annotation(O)}h&&(0,i.each)(h,(function(e,n){t.on(n,e)})),d&&(0,i.each)(d,(function(e){var n=e.type,i=(0,r.__rest)(e,["type"]);t.facet(n,i)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,r=void 0===n?{}:n;if(this[e]){var o=this[e](r);(0,i.each)(t,(function(t,e){(0,i.isFunction)(o[e])&&o[e](t)}))}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(a.default);e.View=A,e.registerGeometry=function(t,e){A.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=(0,r.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new e(n);return this.geometries.push(i),i}},e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=void 0;var r=n(967);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return r.createTheme}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentController=e.getComponentControllerNames=e.unregisterComponentController=e.registerComponentController=void 0;var r={};e.registerComponentController=function(t,e){r[t]=e},e.unregisterComponentController=function(t){delete r[t]},e.getComponentControllerNames=function(){return Object.keys(r)},e.getComponentController=function(t){return r[t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PaddingCal=void 0;var r=n(1),i=n(20),o=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.instance=function(e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),new t(e,n,r,i)},t.prototype.max=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,i),this},t.prototype.shrink=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return this.top+=e,this.right+=n,this.bottom+=r,this.left+=i,this},t.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case i.DIRECTION.TOP:case i.DIRECTION.TOP_LEFT:case i.DIRECTION.TOP_RIGHT:this.top+=r;break;case i.DIRECTION.RIGHT:case i.DIRECTION.RIGHT_TOP:case i.DIRECTION.RIGHT_BOTTOM:this.right+=n;break;case i.DIRECTION.BOTTOM:case i.DIRECTION.BOTTOM_LEFT:case i.DIRECTION.BOTTOM_RIGHT:this.bottom+=r;break;case i.DIRECTION.LEFT:case i.DIRECTION.LEFT_TOP:case i.DIRECTION.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,(0,r.__spreadArray)([void 0],this.getPadding(),!1)))},t}();e.PaddingCal=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelChange=void 0;var r=n(0);e.isModelChange=function(t,e){return(0,r.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!(0,r.isEqual)(t[n],e[n])}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diff=void 0,e.diff=function(t,e){for(var n=[],r=[],i=[],o=new Map,a=0;a<e.length;a++){var s=e[a];t[s]?r.push(s):n.push(s),o.set(s,!0)}return Object.keys(t).forEach((function(t){o.has(t)||i.push(t)})),{added:n,updated:r,removed:i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMappingValue=void 0;var r=n(1);e.getMappingValue=function(t,e,n){if(!t)return n;var i;if(t.callback&&t.callback.length>1){var o=Array(t.callback.length-1).fill("");i=t.mapping.apply(t,(0,r.__spreadArray)([e],o,!1)).join("")}else i=t.mapping(e).join("");return i||n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLegendThemeCfg=e.getCustomLegendItems=e.getLegendItems=e.getLegendLayout=void 0;var r=n(1),i=n(0),o=n(20),a=n(465),s=n(70),u=n(147),l=["line","cross","tick","plus","hyphen"];function c(t){var e=t.symbol;(0,i.isString)(e)&&u.MarkerSymbols[e]&&(t.symbol=u.MarkerSymbols[e])}e.getLegendLayout=function(t){return t.startsWith(o.DIRECTION.LEFT)||t.startsWith(o.DIRECTION.RIGHT)?"vertical":"horizontal"},e.getLegendItems=function(t,e,n,o,u){var f=n.getScale(n.type);if(f.isCategory){var p=f.field,h=e.getAttribute("color"),d=e.getAttribute("shape"),g=t.getTheme().defaultColor,v=e.coordinate.isPolar;return f.getTicks().map((function(n,y){var m,_=n.text,b=n.value,x=_,w=f.invert(b),S=0===t.filterFieldData(p,[(m={},m[p]=w,m)]).length;(0,i.each)(t.views,(function(t){var e;t.filterFieldData(p,[(e={},e[p]=w,e)]).length||(S=!0)}));var E,A,O=(0,a.getMappingValue)(h,w,g),T=(0,a.getMappingValue)(d,w,"point"),C=e.getShapeMarker(T,{color:O,isInPolar:v}),P=u;return(0,i.isFunction)(P)&&(P=P(x,y,(0,r.__assign)({name:x,value:w},(0,i.deepMix)({},o,C)))),function(t,e){var n=t.symbol;if((0,i.isString)(n)&&-1!==l.indexOf(n)){var r=(0,i.get)(t,"style",{}),o=(0,i.get)(r,"lineWidth",1),a=r.stroke||r.fill||e;t.style=(0,i.deepMix)({},t.style,{lineWidth:o,stroke:a,fill:null})}}(C=(0,i.deepMix)({},o,C,(0,s.omit)((0,r.__assign)({},P),["style"])),O),P&&P.style&&(C.style=(E=C.style,A=P.style,(0,i.isFunction)(A)?A(E):(0,i.deepMix)({},E,A))),c(C),{id:w,name:x,value:w,marker:C,unchecked:S}}))}return[]},e.getCustomLegendItems=function(t,e,n){return n.map((function(n,r){var o=e;(0,i.isFunction)(o)&&(o=o(n.name,r,(0,i.deepMix)({},t,n)));var a=(0,i.isFunction)(n.marker)?n.marker(n.name,r,(0,i.deepMix)({},t,n)):n.marker,s=(0,i.deepMix)({},t,o,a);return c(s),n.marker=s,n}))},e.getLegendThemeCfg=function(t,e){var n=(0,i.get)(t,["components","legend"],{});return(0,i.deepMix)({},(0,i.get)(n,["common"],{}),(0,i.deepMix)({},(0,i.get)(n,[e],{})))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineGradient=l,e.parsePattern=f,e.parseRadialGradient=c,e.parseRadius=function(t){var e=0,n=0,i=0,o=0;return(0,r.isArray)(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,[e,n,i,o]},e.parseStyle=function(t,e,n){var i=e.getBBox();if(isNaN(i.x)||isNaN(i.y)||isNaN(i.width)||isNaN(i.height))return n;if((0,r.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return l(t,e,n);if("r"===n[0])return c(t,e,n);if("p"===n[0])return f(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0};var r=n(53),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(t,e){var n=t.match(s);(0,r.each)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function l(t,e,n){var r,o,a=i.exec(n),s=parseFloat(a[1])%360*(Math.PI/180),l=a[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(r={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(r={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(r={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(r={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var f=Math.tan(s),p=f*f,h=(o.x-r.x+f*(o.y-r.y))/(p+1)+r.x,d=f*(o.x-r.x+f*(o.y-r.y))/(p+1)+r.y,g=t.createLinearGradient(r.x,r.y,h,d);return u(l,g),g}function c(t,e,n){var r=o.exec(n),i=parseFloat(r[1]),a=parseFloat(r[2]),l=parseFloat(r[3]),c=r[4];if(0===l){var f=c.match(s);return f[f.length-1].split(":")[1]}var p=e.getBBox(),h=p.maxX-p.minX,d=p.maxY-p.minY,g=Math.sqrt(h*h+d*d)/2,v=t.createRadialGradient(p.minX+h*i,p.minY+d*a,0,p.minX+h/2,p.minY+d/2,l*g);return u(c,v),v}function f(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=a.exec(n),s=o[1],u=o[2];function l(){r=t.createPattern(i,s),e.set("pattern",r),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;default:s="no-repeat"}return i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=u,i.complete?l():(i.onload=l,i.src=i.src),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e[1],i=e[2],s=(0,r.mod)((0,r.toRadian)(e[3]),2*Math.PI),u=e[4],l=e[5],c=t[0],f=t[1],p=e[6],h=e[7],d=Math.cos(s)*(c-p)/2+Math.sin(s)*(f-h)/2,g=-1*Math.sin(s)*(c-p)/2+Math.cos(s)*(f-h)/2,v=d*d/(n*n)+g*g/(i*i);v>1&&(n*=Math.sqrt(v),i*=Math.sqrt(v));var y=n*n*(g*g)+i*i*(d*d),m=y?Math.sqrt((n*n*(i*i)-y)/y):1;u===l&&(m*=-1),isNaN(m)&&(m=0);var _=i?m*n*g/i:0,b=n?m*-i*d/n:0,x=(c+p)/2+Math.cos(s)*_-Math.sin(s)*b,w=(f+h)/2+Math.sin(s)*_+Math.cos(s)*b,S=[(d-_)/n,(g-b)/i],E=[(-1*d-_)/n,(-1*g-b)/i],A=a([1,0],S),O=a(S,E);return o(S,E)<=-1&&(O=Math.PI),o(S,E)>=1&&(O=0),0===l&&O>0&&(O-=2*Math.PI),1===l&&O<0&&(O+=2*Math.PI),{cx:x,cy:w,rx:(0,r.isSamePoint)(t,[p,h])?0:n,ry:(0,r.isSamePoint)(t,[p,h])?0:i,startAngle:A,endAngle:A+O,xRotation:s,arcFlag:u,sweepFlag:l}};var r=n(53);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=(0,r.getOffScreenContext)();return t.createPath(i),i.isPointInPath(e,n)};var r=n(30)},function(t,e,n){"use strict";function r(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function i(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var o=!1,a=t.length;if(a<=2)return!1;for(var s=0;s<a;s++){var u=t[s],l=t[(s+1)%a];if(i(u,l,[e,n]))return!0;r(u[1]-n)>0!==r(l[1]-n)>0&&r(e-(n-u[1])*(u[0]-l[0])/(u[1]-l[1])-u[0])<0&&(o=!o)}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,o,a,s,u){var l=(Math.atan2(u-e,s-t)+2*Math.PI)%(2*Math.PI);if(l<i||l>o)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return(0,r.distance)(c.x,c.y,s,u)<=a/2};var r=n(53)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,o){var a=t.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var u=t[s][0],l=t[s][1],c=t[s+1][0],f=t[s+1][1];if((0,i.default)(u,l,c,f,e,n,r))return!0}if(o){var p=t[0],h=t[a-1];if((0,i.default)(p[0],p[1],h[0],h[1],e,n,r))return!0}return!1};var i=r(n(190))},function(t,e,n){"use strict";var r=n(207);n.d(e,"a",(function(){return r.antvDark}));var i=n(162);n.d(e,"b",(function(){return i.antvLight}));var o=n(108);n.d(e,"c",(function(){return o.createThemeByStyleSheet}));var a=n(92);Object(a.registerTheme)("dark",Object(o.createThemeByStyleSheet)(r.antvDark)),Object(a.registerTheme)("default",Object(o.createThemeByStyleSheet)(i.antvLight)),Object(a.registerTheme)("light",Object(o.createThemeByStyleSheet)(i.antvLight))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineMarker=void 0;var r={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};e.getLineMarker=function(t,e){var n=t.color;return{symbol:r[e],style:{lineWidth:2,r:6,stroke:n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(34),a=n(114),s=n(280),u=(0,i.registerShapeFactory)("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return(0,s.splitPoints)(t)}});(0,i.registerShape)("edge","line",{draw:function(t,e){var n=(0,o.getStyle)(t,!0,!1,"lineWidth"),i=(0,a.getLinePath)(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34),s=(0,o.registerShapeFactory)("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return(0,i.each)(t.x,(function(n,r){var i=t.y[r];e.push({x:n,y:i})})),e}});(0,o.registerShape)("polygon","polygon",{draw:function(t,e){if(!(0,i.isEmpty)(t.points)){var n=(0,a.getStyle)(t,!0,!0),o=this.parsePath(function(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var o=t[n];o.x===t[n-1].x&&o.y===t[n-1].y||(r.push(["L",o.x,o.y]),o.x===e.x&&o.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return(0,i.isEqual)((0,i.last)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}(t.points));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:o}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,n(26).registerShapeFactory)("schema",{defaultShapeType:""});e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQPath=e.getCPath=void 0;var r=n(0);e.getCPath=function(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]},e.getQPath=function(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return(0,r.each)(n,(function(t){i.push(t.x,t.y)})),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(34),a=n(151);(0,i.registerShape)("interval","funnel",{getPoints:function(t){return t.size=2*t.size,(0,a.getRectPoints)(t)},draw:function(t,e){var n=(0,o.getStyle)(t,!1,!0),i=this.parsePath((0,a.getFunnelPath)(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(273),a=n(34),s=n(151);(0,i.registerShape)("interval","hollow-rect",{draw:function(t,e){var n=(0,a.getStyle)(t,!0,!1),i=e,u=null===t||void 0===t?void 0:t.background;if(u){i=e.addGroup();var l=(0,a.getBackgroundRectStyle)(t),c=(0,s.getBackgroundRectPath)(t,this.parsePoints(t.points),this.coordinate);i.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},l),{path:c}),zIndex:-1,name:o.BACKGROUND_SHAPE})}var f=this.parsePath((0,s.getRectPath)(t.points)),p=i.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:f}),name:"interval"});return u?i:p},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34),s=n(151),u=n(70);(0,o.registerShape)("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,r=t.y0;return(0,i.isArray)(n)?n.map((function(t,n){return{x:(0,i.isArray)(e)?e[n]:e,y:t}})):[{x:e,y:r},{x:e,y:n}]}(t)},draw:function(t,e){var n=(0,a.getStyle)(t,!0,!1,"lineWidth"),i=(0,u.omit)((0,r.__assign)({},n),["fill"]),o=this.parsePath((0,s.getRectPath)(t.points,!1));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},i),{path:o}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(34),a=n(151);(0,i.registerShape)("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,(0,a.getRectPoints)(t)},draw:function(t,e){var n=(0,o.getStyle)(t,!1,!0),i=this.parsePath((0,a.getFunnelPath)(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34);(0,o.registerShape)("interval","tick",{getPoints:function(t){return function(t){var e,n,r=t.x,o=t.y,a=t.y0,s=t.size;(0,i.isArray)(o)?(e=o[0],n=o[1]):(e=a,n=o);var u=r+s/2,l=r-s/2;return[{x:r,y:e},{x:r,y:n},{x:l,y:e},{x:u,y:e},{x:l,y:n},{x:u,y:n}]}(t)},draw:function(t,e){var n,i=(0,a.getStyle)(t,!0,!1),o=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},i),{path:o}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(147),o=n(26),a=n(283);(0,r.each)(a.HOLLOW_SHAPES,(function(t){(0,o.registerShape)("point",t,{draw:function(e,n){return(0,a.drawPoints)(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:i.MarkerSymbols[t],style:{r:4.5,stroke:n,fill:null}}}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=n(34);(0,r.registerShape)("point","image",{draw:function(t,e){var n=(0,i.getStyle)(t,!1,!1,"r").r,r=this.parsePoints(t.points),o=r[0];if(t.isStack)o=r[1];else if(r.length>1){for(var a=e.addGroup(),s=0,u=r;s<u.length;s++){var l=u[s];a.addShape("image",{attrs:{x:l.x-n/2,y:l.y-n,width:n,height:n,img:t.shape[1]}})}return a}return e.addShape("image",{attrs:{x:o.x-n/2,y:o.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(147),o=n(26),a=n(283);(0,r.each)(a.SHAPES,(function(t){(0,o.registerShape)("point",t,{draw:function(e,n){return(0,a.drawPoints)(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:i.MarkerSymbols[t]||t,style:{r:4.5,fill:n}}}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34);function s(t){var e=(0,i.isArray)(t)?t:[t],n=e[0],r=e[e.length-1],o=e.length>1?e[1]:n;return{min:n,max:r,min1:o,max1:e.length>3?e[3]:r,median:e.length>2?e[2]:o}}function u(t,e,n){var r,o=n/2;if((0,i.isArray)(e)){var a=s(e),u=a.min,l=a.max,c=a.median,f=a.min1,p=t-o,h=t+o;r=[[p,l],[h,l],[t,l],[t,d=a.max1],[p,f],[p,d],[h,d],[h,f],[t,f],[t,u],[p,u],[h,u],[p,c],[h,c]]}else{e=(0,i.isNil)(e)?.5:e;var d,g=s(t),v=(u=g.min,l=g.max,c=g.median,e-o),y=e+o;r=[[u,v],[u,y],[u,e],[f=g.min1,e],[f,v],[f,y],[d=g.max1,y],[d,v],[d,e],[l,e],[l,v],[l,y],[c,v],[c,y]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}(0,o.registerShape)("schema","box",{getPoints:function(t){return u(t.x,t.y,t.size)},draw:function(t,e){var n,i=(0,a.getStyle)(t,!0,!1),o=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},i),{path:o,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var r=u(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(70),a=n(26),s=n(34);function u(t,e,n){var r=function(t){var e=((0,i.isArray)(t)?t:[t]).sort((function(t,e){return e-t}));return(0,o.padEnd)(e,4,e[e.length-1])}(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}(0,a.registerShape)("schema","candle",{getPoints:function(t){return u(t.x,t.y,t.size)},draw:function(t,e){var n,i=(0,s.getStyle)(t,!0,!0),o=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},i),{path:o,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=u(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34);function s(t,e){var n=Math.abs(t[0].x-t[2].x),r=Math.abs(t[0].y-t[2].y),o=Math.min(n,r);return e&&(o=(0,i.clamp)(e,0,Math.min(n,r))),o/=2,{x:(t[0].x+t[2].x)/2-o,y:(t[0].y+t[2].y)/2-o,width:2*o,height:2*o}}(0,o.registerShape)("polygon","square",{draw:function(t,e){if(!(0,i.isEmpty)(t.points)){var n=(0,a.getStyle)(t,!0,!0),o=this.parsePoints(t.points);return e.addShape("rect",{attrs:(0,r.__assign)((0,r.__assign)({},n),s(o,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.antiCollision=void 0,e.antiCollision=function(t,e,n){var r=t.filter((function(t){return!t.invisible}));r.sort((function(t,e){return t.y-e.y}));var i,o=!0,a=n.minY,s=n.maxY,u=Math.abs(a-s),l=0,c=Number.MIN_VALUE,f=r.map((function(t){return t.y>l&&(l=t.y),t.y<c&&(c=t.y),{content:t.content,size:e,targets:[t.y-a],pos:null}}));for(c-=a,l-a>u&&(u=l-a);o;)for(f.forEach((function(t){var e=(Math.min.apply(c,t.targets)+Math.max.apply(c,t.targets))/2;t.pos=Math.min(Math.max(c,e-t.size/2),u-t.size),t.pos=Math.max(0,t.pos)})),o=!1,i=f.length;i--;)if(i>0){var p=f[i-1],h=f[i];p.pos+p.size>h.pos&&(p.size+=h.size,p.targets=p.targets.concat(h.targets),p.pos+p.size>u&&(p.pos=u-p.size),f.splice(i,1),o=!0)}i=0,f.forEach((function(t){var n=a+e/2;t.targets.forEach((function(){r[i].y=t.pos+n,n+=e,i++}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return(0,r.__extends)(e,t),e.prototype.getRegion=function(){var t=this.points;return{start:(0,i.head)(t),end:(0,i.last)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}},e}((0,r.__importDefault)(n(291)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,i.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}((0,r.__importDefault)(n(291)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BRUSH_FILTER_EVENTS=void 0;var r,i=n(1),o=n(98),a=(0,i.__importDefault)(n(44)),s=n(31);function u(t,e,n,r){var i=Math.min(n[e],r[e]),o=Math.max(n[e],r[e]),a=t.range,s=a[0],u=a[1];if(i<s&&(i=s),o>u&&(o=u),i===u&&o===u)return null;var l=t.invert(i),c=t.invert(o);if(t.isCategory){var f=t.values.indexOf(l),p=t.values.indexOf(c),h=t.values.slice(f,p+1);return function(t){return h.includes(t)}}return function(t){return t>=l&&t<=c}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(r||(r={})),e.BRUSH_FILTER_EVENTS=r;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return(0,i.__extends)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if((0,s.isMask)(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var i=this.context,a=i.view,l={view:a,event:i.event,dims:this.dims};a.emit(r.BEFORE_FILTER,o.Event.fromData(a,r.BEFORE_FILTER,l));var c=a.getCoordinate(),f=c.invert(e),p=c.invert(t);if(this.hasDim("x")){var h=a.getXScale(),d=u(h,"x",f,p);this.filterView(a,h.field,d)}if(this.hasDim("y")){var g=a.getYScales()[0];d=u(g,"y",f,p),this.filterView(a,g.field,d)}this.reRender(a,{source:r.FILTER}),a.emit(r.AFTER_FILTER,o.Event.fromData(a,r.AFTER_FILTER,l))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(r.BEFORE_RESET,o.Event.fromData(t,r.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:r.RESET}),t.emit(r.AFTER_RESET,o.Event.fromData(t,r.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(186),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return(0,r.__extends)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(i.Action);e.default=o},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(497);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverEntry=void 0;var r=n(292),i=n(192),o=function(t){var e=(0,r.calculateBoxSizes)(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=(0,i.freeze)([e.borderBoxSize]),this.contentBoxSize=(0,i.freeze)([e.contentBoxSize]),this.devicePixelContentBoxSize=(0,i.freeze)([e.devicePixelContentBoxSize])};e.ResizeObserverEntry=o},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverBoxOptions=void 0,e.ResizeObserverBoxOptions=r,function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(e.ResizeObserverBoxOptions=r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverSize=void 0;var r=n(192),i=function(t,e){this.inlineSize=t,this.blockSize=e,(0,r.freeze)(this)};e.ResizeObserverSize=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.global=void 0;var r="undefined"!==typeof window?window:{};e.global=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateDepthForNode=void 0;var r=n(193);e.calculateDepthForNode=function(t){if((0,r.isHidden)(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===(0,r.default)(t)&&null!==t}},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(27),a=n.n(o),s=n(339),u=n.n(s),l=n(340),c=n.n(l),f=n(341),p=n.n(f),h=n(342),d=n.n(h),g=n(343),v=n.n(g),y=n(344),m=n.n(y),_=n(40),b=n(82),x=n(8),w=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object(x.registerFacet)("rect",v.a),Object(x.registerFacet)("mirror",d.a),Object(x.registerFacet)("list",c.a),Object(x.registerFacet)("matrix",p.a),Object(x.registerFacet)("circle",u.a),Object(x.registerFacet)("tree",m.a),e.a=function(t){var e=Object(_.a)(),n=Object(b.a)(),r=t.type,o=t.children,s=w(t,["type","children"]);return e.facetInstance&&(e.facetInstance.destroy(),e.facetInstance=null,n.forceReRender=!0),a()(o)?e.facet(r,i()(i()({},s),{eachView:o})):e.facet(r,i()({},s)),null}},function(t,e,n){"use strict";n(3);var r=n(347),i=n.n(r),o=n(24),a=n(40);Object(o.registerComponentController)("slider",i.a),e.a=function(t){return Object(a.a)().option("slider",t),null}},function(t,e,n){"use strict";n(98),n(275)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(335),p=n.n(f),h=n(39),d=n(8);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}n(477),n(488),n(487),Object(d.registerGeometry)("Schema",p.a);var v=function(t){a()(n,t);var e=g(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="schema",t}return n}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(9),i=n.n(r),o=n(11),a=n.n(o),s=n(12),u=n.n(s),l=n(5),c=n.n(l),f=n(159),p=n.n(f),h=n(163),d=n(39),g=n(8);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}Object(g.registerAnimation)("path-in",h.pathIn),Object(g.registerGeometry)("Path",p.a);var y=function(t){a()(n,t);var e=v(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).GemoBaseClassName="path",t}return n}(d.a)},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(129),u=n(217),l=n(218),c=n(219),f=n(130),p=n(131),h=n(220),d=n(221),g=n(16),v=n.n(g),y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},m={area:s.a,edge:u.a,heatmap:l.a,interval:c.a,line:f.a,point:p.a,polygon:h.a,"line-advance":d.a};e.a=function(t){var e=t.type,n=y(t,["type"]),r=m[e];return r?a.a.createElement(r,i()({},n)):(v()(!1,"Only support the below type: area|edge|heatmap|interval|line|point|polygon|line-advance"),null)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(16),u=n.n(s),l=n(216);function c(t){return u()(!1,"Coord (\u534f\u8c03) \u7ec4\u4ef6\u5c06\u91cd\u547d\u540d\u4e3a\u66f4\u52a0\u8bed\u4e49\u5316\u7684\u7ec4\u4ef6\u540d Coordinate\uff08\u5750\u6807\uff09,\u8bf7\u4f7f\u7528Coordinate\u66ff\u4ee3\uff0c\u6211\u4eec\u5c06\u57285.0\u540e\u5220\u9664Coord\u7ec4\u4ef6"),a.a.createElement(l.a,i()({},t))}},function(t,e,n){"use strict";var r=n(16),i=n.n(r),o=n(208),a=n(209),s=n(210),u=n(211),l=n(212),c=n(213),f=n(214),p=function(t){return i()(!1,"Guide\u7ec4\u4ef6\u5c06\u57285.0\u540e\u4e0d\u518d\u652f\u6301\uff0c\u8bf7\u4f7f\u7528Annotation\u66ff\u4ee3\uff0c\u8bf7\u67e5\u770bAnnotation\u7684\u4f7f\u7528\u6587\u6863"),t.children};p.Arc=o.a,p.DataMarker=a.a,p.DataRegion=s.a,p.Image=u.a,p.Line=l.a,p.Region=c.a,p.Text=f.a,e.a=p},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(3),i=n.n(r),o=n(27),a=n.n(o),s=n(82),u=n(16),l=n.n(u);function c(t){var e=Object(s.a)();if(a()(t.children)){var n=t.children(e);return i.a.isValidElement(n)?n:null}return l()(!1,"Effects \u7684\u5b50\u7ec4\u4ef6\u5e94\u5f53\u662f\u4e00\u4e2a\u51fd\u6570 (chart) => {}"),null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3),i=n(40);function o(t){var e=Object(i.a)(),n=t.type,o=t.config;return Object(r.useLayoutEffect)((function(){return e.interaction(n,o),function(){e.removeInteraction(n)}})),null}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.pick=void 0,e.pick=function(t,e){var n={};return null!==t&&"object"===(0,r.default)(t)&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.invariant=e.LEVEL=void 0;var r=n(1);!function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(e.LEVEL||(e.LEVEL={}));var i="AntV/G2Plot";function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return i+": "+t.replace(/%s/g,(function(){return""+e[r++]}))}e.invariant=function(t,e){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(!t){var s=new Error(o.apply(void 0,r.__spreadArrays([e],n)));throw s.name=i,s}},e.log=function(t,e,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];e||console[t](o.apply(void 0,r.__spreadArrays([n],i)))}},function(t,e,n){"use strict";function r(t){var e=t.parent;return e?e.views:[]}Object.defineProperty(e,"__esModule",{value:!0}),e.getSiblingViews=e.getViews=e.findViewById=void 0,e.findViewById=function(t,e){return t.views.find((function(t){return t.id===e}))},e.getViews=r,e.getSiblingViews=function(t){return r(t).filter((function(e){return e!==t}))}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.deepAssign=void 0;var i={}.toString,o=function(t,e){return i.call(t)==="[object "+e+"]"},a=function(t){return o(t,"Array")},s=function(t){if(!function(t){return"object"===(0,r.default)(t)&&null!==t}(t)||!o(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},u=function t(e,n,r,i){for(var o in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var u=n[o];u?s(u)?(s(e[o])||(e[o]={}),r<i?t(e[o],u,r+1,i):e[o]=n[o]):a(u)?(e[o]=[],e[o]=e[o].concat(u)):e[o]=u:e[o]=u}};e.deepAssign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)u(t,e[r]);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderGaugeStatistic=e.renderStatistic=e.setStatisticContainerStyle=e.adapteStyle=void 0;var r=n(1),i=n(0),o=n(14);function a(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];i.get(t,"fill")&&(e.color=t.fill);var r=o.pick(t,n),a=r.shadowColor,s=r.shadowBlur,u=void 0===s?0:s,l=r.shadowOffsetX,c=void 0===l?0:l,f=r.shadowOffsetY,p=void 0===f?0:f;e["text-shadow"]=""+[a,c+"px",p+"px",u+"px"].join(" ");var h=o.pick(t,n),d=h.stroke,g=h.lineWidth,v=void 0===g?0:g;return e["-webkit-text-stroke"]=""+[v+"px",d].join(" "),i.each(t,(function(t,r){["fontSize"].includes(r)&&i.isNumber(t)?e[o.kebabCase(r)]=t+"px":r&&!n.includes(r)&&(e[o.kebabCase(r)]=""+t)})),e}function s(t,e){t.style["pointer-events"]="none",i.each(e,(function(e,n){n&&e&&(t.style[n]=e)}))}e.adapteStyle=a,e.setStatisticContainerStyle=s,e.renderStatistic=function(t,e,n){var u=e.statistic,l=e.plotType,c=u.title,f=u.content;[c,f].forEach((function(e,u){if(e){var p="";p=0===u?f?"translate(-50%, -100%)":"translate(-50%, -50%)":c?"translate(-50%, 0)":"translate(-50%, -50%)";var h=i.isFunction(e.style)?e.style(n):e.style;t.annotation().html(r.__assign({position:["50%","50%"],html:function(t,o){var u=o.getCoordinate(),c=0;if("pie"===l||"ring-progress"===l)c=u.getRadius()*u.innerRadius*2;else if("liquid"===l){var f=i.get(o.geometries,[0,"elements",0,"shape"]);f&&(c=f.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width)}else c||(c=u.getWidth());s(t,r.__assign({width:c+"px",transform:p},a(h)));var d=o.getData();if(e.customHtml)return e.customHtml(t,o,n,d);var g=e.content;return e.formatter&&(g=e.formatter(n,d)),g?i.isString(g)?g:""+g:"<div></div>"},key:(0===u?"top":"bottom")+"-statistic"},o.pick(e,["offsetX","offsetY","rotate","style","formatter"])))}}))},e.renderGaugeStatistic=function(t,e,n){var u=e.statistic;[u.title,u.content].forEach((function(e){if(e){var u=i.isFunction(e.style)?e.style(n):e.style;t.annotation().html(r.__assign({position:["50%","100%"],html:function(t,o){var l=o.getCoordinate(),c=o.views[0].getCoordinate(),f=c.getCenter(),p=c.getRadius(),h=Math.max(Math.sin(c.startAngle),Math.sin(c.endAngle))*p,d=f.y+h-l.y.start-parseFloat(i.get(u,"fontSize",0)),g=l.getRadius()*l.innerRadius*2;s(t,r.__assign({width:g+"px",transform:"translate(-50%, "+d+"px)"},a(u)));var v=o.getData();if(e.customHtml)return e.customHtml(t,o,n,v);var y=e.content;return e.formatter&&(y=e.formatter(n,v)),y?i.isString(y)?y:""+y:"<div></div>"}},o.pick(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(134),i=n.n(r),o=n(3),a=n(92);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=Object(a.getTheme)(t);e.name=t;var n=Object(o.useState)(e),r=i()(n,2),s=r[0],u=r[1],l=function(t){var e=Object(a.getTheme)(t);e.name=t,u(e)};return[s,l]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ver=e.clear=e.bind=void 0;var r=n(1092);e.bind=function(t,e){var n=(0,r.getSensor)(t);return n.bind(e),function(){n.unbind(e)}},e.clear=function(t){var e=(0,r.getSensor)(t);(0,r.removeSensor)(e)},e.ver="1.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(r,o)}),e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SensorTabIndex=e.SensorClassName=e.SizeSensorId=void 0,e.SizeSensorId="size-sensor-id",e.SensorClassName="size-sensor-object",e.SensorTabIndex="-1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.geometry=void 0;var r=n(0),i=n(14),o=n(35),a=n(43),s=n(526),u=n(298);function l(t){var e=t.chart,n=t.options,o=n.percent,l=n.progressStyle,c=n.color,f=n.barWidthRatio;e.data(u.getProgressData(o));var p=i.deepAssign({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:f,interval:{style:l,color:r.isString(c)?[c,s.DEFAULT_COLOR[1]]:c},args:{zIndexReversed:!0}}});return a.interval(p),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function c(t){return t.chart.coordinate("rect").transpose(),t}e.geometry=l,e.adaptor=function(t){return i.flow(l,o.scale({}),c,o.animation,o.theme,o.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AXIS_META_CONFIG_KEYS=void 0,e.AXIS_META_CONFIG_KEYS=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.polygon=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.polygon=function(t){var e=t.options,n=e.polygon,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=i.getTooltipMapping(c,[s,u,l]),p=f.fields,h=f.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"polygon",colorField:l,tooltipFields:p,mapping:r.__assign({tooltip:h},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.DEFAULT_COLOR=void 0,e.DEFAULT_COLOR=["#FAAD14","#E8EDF3"],e.DEFAULT_OPTIONS={percent:.2,color:e.DEFAULT_COLOR,animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.adjust=e.legend=e.axis=e.meta=void 0;var r=n(1),i=n(0),o=n(35),a=n(14),s=n(43),u=n(14),l=n(295);function c(t){var e=t.chart,n=t.options,i=n.data,o=n.color,u=n.lineStyle,l=n.lineShape,c=n.point,f=n.area,p=n.seriesField,h=null===c||void 0===c?void 0:c.state;e.data(i);var d=a.deepAssign({},t,{options:{shapeField:p,line:{color:o,style:u,shape:l},point:c&&r.__assign({color:o,shape:"circle"},c),area:f&&r.__assign({color:o},f),label:void 0}}),g=a.deepAssign({},d,{options:{tooltip:!1,state:h}}),v=a.deepAssign({},d,{options:{tooltip:!1,state:h}});return s.line(d),s.point(g),s.area(v),t}function f(t){var e,n,r=t.options,i=r.xAxis,a=r.yAxis,s=r.xField,c=r.yField,f=r.data;return u.flow(o.scale(((e={})[s]=i,e[c]=a,e),((n={})[s]={type:"cat"},n[c]=l.adjustYMetaByZero(f,c),n)))(t)}function p(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;i.isArray(r)||(r=[r]);var o=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:o})}return t}function h(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function d(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function g(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=a.findGeometry(e,"line");if(i){var u=i.callback,l=r.__rest(i,["callback"]);s.label({fields:[o],callback:u,cfg:r.__assign({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},a.transformLabel(l))})}else s.label(!1);return t}function v(t){var e=t.chart;return t.options.isStack&&i.each(e.geometries,(function(t){t.adjust("stack")})),t}e.meta=f,e.axis=h,e.legend=d,e.adjust=v,e.adaptor=function(t){return u.flow(c,f,v,o.theme,p,h,d,o.tooltip,g,o.slider,o.interaction,o.animation,o.annotation(),o.limitInPlot)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=e.resetDrillDown=e.enableDrillInteraction=e.enableInteraction=e.findInteraction=void 0;var r=n(1),i=n(0),o=n(529),a=n(1118);function s(t,e){if(i.isArray(t))return t.find((function(t){return t.type===e}))}function u(t,e){var n=s(t,e);return n&&!1!==n.enable}e.findInteraction=s,e.enableInteraction=u,e.enableDrillInteraction=function(t){var e=t.interactions,n=t.drilldown;return i.get(n,"enabled")||u(e,"treemap-drill-down")},e.resetDrillDown=function(t){var e=t.interactions["drill-down"];e&&e.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()},e.transformData=function(t){var e=t.data,n=t.colorField,s=t.enableDrillDown,u=t.hierarchyConfig,l=a.treemap(e,r.__assign(r.__assign({},u),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),c=[];return l.forEach((function(t){if(0===t.depth)return null;if(s&&1!==t.depth)return null;if(!s&&t.children)return null;var a=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),l=s&&i.isArray(e.path)?a.concat(e.path.slice(1)):a,f=Object.assign({},t.data,r.__assign({x:t.x,y:t.y,depth:t.depth,value:t.value,path:l},t));if(!t.data[n]&&t.parent){var p=t.ancestors().find((function(t){return t.data[n]}));f[n]=null===p||void 0===p?void 0:p.data[n]}else f[n]=t.data[n];f[o.HIERARCHY_DATA_TRANSFORM_PARAMS]={hierarchyConfig:u,colorField:n,enableDrillDown:s},c.push(f)})),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrillDownAction=e.HIERARCHY_DATA_TRANSFORM_PARAMS=e.DEFAULT_BREAD_CRUMB_CONFIG=e.BREAD_CRUMB_NAME=e.PADDING_TOP=void 0;var r=n(1),i=n(13),o=n(0),a=n(517);e.PADDING_TOP=5,e.BREAD_CRUMB_NAME="drilldown-bread-crumb",e.DEFAULT_BREAD_CRUMB_CONFIG={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},e.HIERARCHY_DATA_TRANSFORM_PARAMS="hierarchy-data-transform-params";var s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.name="drill-down",n.historyCache=[],n.breadCrumbGroup=null,n.breadCrumbCfg=e.DEFAULT_BREAD_CRUMB_CONFIG,n}return r.__extends(n,t),n.prototype.click=function(){var t=o.get(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},n.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,r=n.getBBox(),o=this.getButtonCfg().position,a={x:t.start.x,y:t.end.y-(r.height+2*e.PADDING_TOP)};t.isPolar&&(a={x:0,y:0}),"bottom-left"===o&&(a={x:t.start.x,y:t.start.y});var s=i.Util.transform(null,[["t",a.x+0,a.y+r.height+e.PADDING_TOP]]);n.setMatrix(s)}},n.prototype.back=function(){o.size(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},n.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},n.prototype.drill=function(t){var n=this.context.view,i=o.get(n,["interactions","drill-down","cfg","transformData"],(function(t){return t})),a=i(r.__assign({data:t.data},t[e.HIERARCHY_DATA_TRANSFORM_PARAMS]));n.changeData(a);for(var s=[],u=t;u;){var l=u.data;s.unshift({id:l.name+"_"+u.height+"_"+u.depth,name:l.name,children:i(r.__assign({data:l},t[e.HIERARCHY_DATA_TRANSFORM_PARAMS]))}),u=u.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(s)},n.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=o.last(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},n.prototype.getButtonCfg=function(){var t=this.context.view,e=o.get(t,["interactions","drill-down","cfg","drillDownConfig"]);return a.deepAssign(this.breadCrumbCfg,null===e||void 0===e?void 0:e.breadCrumb,this.cfg)},n.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},n.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:e.BREAD_CRUMB_NAME});var a=0;i.forEach((function(s,u){var l=t.breadCrumbGroup.addShape({type:"text",id:s.id,name:e.BREAD_CRUMB_NAME+"_"+s.name+"_text",attrs:r.__assign(r.__assign({text:0!==u||o.isNil(n.rootText)?s.name:n.rootText},n.textStyle),{x:a,y:0})}),c=l.getBBox();if(a+=c.width+4,l.on("click",(function(e){var n,r=e.target.get("id");if(r!==(null===(n=o.last(i))||void 0===n?void 0:n.id)){var a=i.slice(0,i.findIndex((function(t){return t.id===r}))+1);t.backTo(a)}})),l.on("mouseenter",(function(t){var e;t.target.get("id")!==(null===(e=o.last(i))||void 0===e?void 0:e.id)?l.attr(n.activeTextStyle):l.attr({cursor:"default"})})),l.on("mouseleave",(function(){l.attr(n.textStyle)})),u<i.length-1){var f=t.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+s.name+"_divider",attrs:r.__assign(r.__assign({text:n.dividerText},n.textStyle),{x:a,y:0})}).getBBox();a+=f.width+4}}))},n.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},n.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},n}(i.Action);e.DrillDownAction=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return c(t),t},e.packEnclose=c;var i=r(n(531)),o=r(n(532));function a(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,l=s*s+u*u;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function s(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function u(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function l(t){this._=t,this.next=null,this.previous=null}function c(t){if(!(c=(t=(0,i.default)(t)).length))return 0;var e,n,r,c,f,p,h,d,g,v,y;if((e=t[0]).x=0,e.y=0,!(c>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(c>2))return e.r+n.r;a(n,e,r=t[2]),e=new l(e),n=new l(n),r=new l(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(h=3;h<c;++h){a(e._,n._,r=t[h]),r=new l(r),d=n.next,g=e.previous,v=n._.r,y=e._.r;do{if(v<=y){if(s(d._,r._)){n=d,e.next=n,n.previous=e,--h;continue t}v+=d._.r,d=d.next}else{if(s(g._,r._)){(e=g).next=n,n.previous=e,--h;continue t}y+=g._.r,g=g.previous}}while(d!==g.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,f=u(e);(r=r.next)!==n;)(p=u(r))<f&&(e=r,f=p);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=(0,o.default)(e),h=0;h<c;++h)(e=t[h]).x-=r.x,e.y-=r.y;return r.r}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===(0,i.default)(t)&&"length"in t?t:Array.from(t)},e.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t};var i=r(n(6))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,n,o=0,s=(t=(0,r.shuffle)(Array.from(t))).length,l=[];o<s;)e=t[o],n&&a(n,e)?++o:(n=u(l=i(l,e)),o=0);return n};var r=n(531);function i(t,e){var n,r;if(s(e,t))return[e];for(n=0;n<t.length;++n)if(o(e,t[n])&&s(l(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(o(l(t[n],t[r]),e)&&o(l(t[n],e),t[r])&&o(l(t[r],e),t[n])&&s(c(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function o(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function a(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function s(t,e){for(var n=0;n<e.length;++n)if(!a(t,e[n]))return!1;return!0}function u(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return l(t[0],t[1]);case 3:return c(t[0],t[1],t[2])}var e}function l(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function c(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,p=r-a,h=r-l,d=i-s,g=i-c,v=u-o,y=f-o,m=r*r+i*i-o*o,_=m-a*a-s*s+u*u,b=m-l*l-c*c+f*f,x=h*d-p*g,w=(d*b-g*_)/(2*x)-r,S=(g*v-d*y)/x,E=(h*_-p*b)/(2*x)-i,A=(p*y-h*v)/x,O=S*S+A*A-1,T=2*(o+w*S+E*A),C=w*w+E*E-o*o,P=-(O?(T+Math.sqrt(T*T-4*O*C))/(2*O):C/T);return{x:r+w+S*P,y:i+E+A*P,r:P}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.constantZero=function(){return 0},e.default=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(13).registerInteraction("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTagFormatter=void 0;var r=n(0);e.conversionTagFormatter=function(t,e){return r.isNumber(t)&&r.isNumber(e)?t===e?"100%":0===t?"\u221e":0===e?"-\u221e":(100*e/t).toFixed(2)+"%":"-"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.brushInteraction=void 0;var r=n(0),i=n(538),o=n(14);n(538);var a=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];e.brushInteraction=function(t){var e=t.options,n=e.brush,s=r.filter(e.interactions||[],(function(t){return-1===a.indexOf(t.type)}));return(null===n||void 0===n?void 0:n.enabled)&&(a.forEach((function(t){var e,r=!1;switch(n.type){case"x-rect":r=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":r=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:r=t===("highlight"===n.action?"brush-highlight":"brush")}var o={type:t,enable:r};((null===(e=n.mask)||void 0===e?void 0:e.style)||n.type)&&(o.cfg=i.getInteractionCfg(t,n.type,n.mask)),s.push(o)})),"highlight"!==(null===n||void 0===n?void 0:n.action)&&s.push({type:"filter-action",cfg:{buttonConfig:n.button}})),o.deepAssign({},t,{options:{interactions:s}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteractionCfg=void 0;var r=n(13),i=n(1150);function o(t){return t.isInPlot()}function a(t,e,n){var r=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush:filter","brush:end",r+"-mask:end",r+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null===n||void 0===n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush-x:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush-x:filter","brush-x:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush-y:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush-y:filter","brush-y:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}r.registerAction("brush-reset-button",i.ButtonAction,{name:"brush-reset-button"}),r.registerInteraction("filter-action",{}),e.getInteractionCfg=a,r.registerInteraction("brush",a("brush")),r.registerInteraction("brush-highlight",a("brush-highlight")),r.registerInteraction("brush-x",a("brush-x","x-rect")),r.registerInteraction("brush-y",a("brush-y","y-rect")),r.registerInteraction("brush-x-highlight",a("brush-x-highlight","x-rect")),r.registerInteraction("brush-y-highlight",a("brush-y-highlight","y-rect"))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformBarData=void 0,e.transformBarData=function(t){return t?t.slice().reverse():t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAllZero=e.adaptOffset=e.getTotalValue=void 0;var r=n(0),i=n(14);e.getTotalValue=function(t,e){var n=null;return r.each(t,(function(t){"number"===typeof t[e]&&(n+=t[e])})),n},e.adaptOffset=function(t,e){var n;switch(t){case"inner":return n="-30%",r.isString(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,r.isString(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}},e.isAllZero=function(t,e){return r.every(i.processIllegalData(t,e),(function(t){return 0===t[e]}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PIE_STATISTIC=void 0;var r=n(13),i=n(1156),o=n(1157);e.PIE_STATISTIC="pie-statistic",r.registerAction(e.PIE_STATISTIC,o.StatisticAction),r.registerInteraction("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),r.registerAction("pie-legend",i.PieLegendAction),r.registerInteraction("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transform=void 0;var r=n(1),i=n(13),o=[1,0,0,0,1,0,0,0,1];e.transform=function(t,e){var n=e?r.__spreadArrays(e):r.__spreadArrays(o);return i.Util.transform(n,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingleKeyValues=e.getFontSizeMapping=e.processImageMask=e.getSize=e.transform=void 0;var r=n(1),i=n(0),o=n(296),a=n(14),s=n(1164);function u(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,s=t.padding,u=t.appendPadding;if(i){var l=a.getContainerSize(r);e=l.width,n=l.height}e=e||400,n=n||400;var c=function(t){var e=o.normalPadding(t.padding),n=o.normalPadding(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],a=e[2]+n[2],s=e[3]+n[3];return[r,i,a,s]}({padding:s,appendPadding:u}),f=c[0],p=c[1],h=c[2];return[e-(c[3]+p),n-(f+h)]}function l(t,e){if(i.isFunction(t))return t;if(i.isArray(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var o=e[0],a=e[1];return a===o?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(a-o)*(e-o)+n}}return function(){return t}}function c(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"===typeof t&&!isNaN(t)}))}function f(t){var e=function(t){var e=t.wordStyle.rotationSteps;return e<1&&(a.log(a.LEVEL.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!i.isArray(n))return n;var o=n[0],s=n[1],u=1===r?0:(s-o)/(r-1);return function(){return s===o?s:Math.floor(Math.random()*r)*u}}function p(t){return Math.max.apply(Math,t)}e.transform=function(t){var e=t.options,n=t.chart,o=n,a=o.width,h=o.height,d=o.padding,g=o.appendPadding,v=o.ele,y=e.data,m=e.imageMask,_=e.wordField,b=e.weightField,x=e.colorField,w=e.wordStyle,S=e.timeInterval,E=e.random,A=e.spiral,O=e.autoFit,T=void 0===O||O,C=e.placementStrategy;if(!y||!y.length)return[];var P,M=w.fontFamily,I=w.fontWeight,k=w.padding,R=w.fontSize,L=c(y,b),D=[(P=L,Math.min.apply(Math,P)),p(L)],N=y.map((function(t){return{text:t[_],value:t[b],color:t[x],datum:t}})),F={imageMask:m,font:M,fontSize:l(R,D),fontWeight:I,size:u({width:a,height:h,padding:d,appendPadding:g,autoFit:T,container:v}),padding:k,timeInterval:S,random:E,spiral:A,rotate:f(e)};if(i.isFunction(C)){var j=N.map((function(t,e,i){return r.__assign(r.__assign(r.__assign({},t),{hasText:!!t.text,font:s.functor(F.font)(t,e,i),weight:s.functor(F.fontWeight)(t,e,i),rotate:s.functor(F.rotate)(t,e,i),size:s.functor(F.fontSize)(t,e,i),style:"normal"}),C.call(n,t,e,i))}));return j.push({text:"",value:0,x:0,y:0,opacity:0}),j.push({text:"",value:0,x:F.size[0],y:F.size[1],opacity:0}),j}return s.wordCloud(N,F)},e.getSize=u,e.processImageMask=function(t){return new Promise((function(e,n){if(t instanceof HTMLImageElement)e(t);else{if(i.isString(t)){var r=new Image;return r.crossOrigin="anonymous",r.src=t,r.onload=function(){e(r)},void(r.onerror=function(){a.log(a.LEVEL.ERROR,!1,"image %s load failed !!!",t),n()})}a.log(a.LEVEL.WARN,void 0===t,"The type of imageMask option must be String or HTMLImageElement."),n()}}))},e.getFontSizeMapping=l,e.getSingleKeyValues=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.WORD_CLOUD_COLOR_FIELD=void 0;var r=n(23),i=n(14);e.WORD_CLOUD_COLOR_FIELD="color",e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",e.WORD_CLOUD_COLOR_FIELD],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.basicFunnel=void 0;var r=n(1),i=n(0),o=n(14),a=n(64),s=n(59),u=n(122),l=n(303);function c(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=n.yField,a=n.maxSize,s=n.minSize,u=l.transformData(i,i,{yField:o,maxSize:a,minSize:s});return e.data(u),t}function f(t){var e=t.chart,n=t.options,r=n.xField,l=n.yField,c=n.color,f=n.tooltip,p=n.label,h=n.shape,d=void 0===h?"funnel":h,g=n.funnelStyle,v=n.state,y=a.getTooltipMapping(f,[r,l]),m=y.fields,_=y.formatter;return s.geometry({chart:e,options:{type:"interval",xField:r,yField:u.FUNNEL_MAPPING_VALUE,colorField:r,tooltipFields:i.isArray(m)&&m.concat([u.FUNNEL_PERCENT,u.FUNNEL_CONVERSATION]),mapping:{shape:d,tooltip:_,color:c,style:g},label:p,state:v}}),o.findGeometry(t.chart,"interval").adjust("symmetric"),t}function p(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function h(t){var e=t.options.maxSize;return l.conversionTagComponent((function(t,n,i,o){var a=e-(e-t[u.FUNNEL_MAPPING_VALUE])/2;return r.__assign(r.__assign({},o),{start:[n-.5,a],end:[n-.5,a+.05]})}))(t),t}e.basicFunnel=function(t){return o.flow(c,f,p,h)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLiquidData=void 0,e.getLiquidData=function(t){return[{percent:t,type:"liquid"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.binHistogram=void 0;var r=n(0);function i(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}e.binHistogram=function(t,e,n,o,a){var s=r.clone(t);r.sortBy(s,e);var u=r.valuesOfKey(s,e),l=r.getRange(u),c=l.max-l.min,f=n;if(!n&&o&&(f=o>1?c/(o-1):l.max),!n&&!o){var p=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(u);f=c/p}var h={},d=r.groupBy(s,a);r.isEmpty(d)?r.each(s,(function(t){var n=i(t[e],f,o),a=n[0]+"-"+n[1];r.hasKey(h,a)||(h[a]={range:n,count:0}),h[a].count+=1})):Object.keys(d).forEach((function(t){r.each(d[t],(function(n){var s=i(n[e],f,o),u=s[0]+"-"+s[1]+"-"+t;r.hasKey(h,u)||(h[u]={range:s,count:0},h[u][a]=t),h[u].count+=1}))}));var g=[];return r.each(h,(function(t){g.push(t)})),g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.HISTOGRAM_Y_FIELD=e.HISTOGRAM_X_FIELD=void 0;var r=n(23),i=n(14);e.HISTOGRAM_X_FIELD="range",e.HISTOGRAM_Y_FIELD="count",e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=e.processData=void 0;var r=n(1),i=n(0),o=n(14),a=n(304);function s(t,e,n,a,s){var u,l=[];if(i.reduce(t,(function(t,e){var s;o.log(o.LEVEL.WARN,i.isNumber(e[n]),e[n]+" is not a valid number");var u=i.isUndefined(e[n])?null:e[n];return l.push(r.__assign(r.__assign({},e),((s={})[a]=[t,t+u],s))),t+u}),0),l.length&&s){var c=i.get(l,[[t.length-1],a,[1]]);l.push(((u={})[e]=s.label,u[n]=c,u[a]=[0,c],u))}return l}e.processData=s,e.transformData=function(t,e,n,o){return s(t,e,n,a.Y_FIELD,o).map((function(e,n){var o;return i.isObject(e)?r.__assign(r.__assign({},e),((o={})[a.ABSOLUTE_FIELD]=e[a.Y_FIELD][1],o[a.DIFF_FIELD]=e[a.Y_FIELD][1]-e[a.Y_FIELD][0],o[a.IS_TOTAL]=n===t.length,o)):e}))}},function(t,e,n){"use strict";var r,i,o,a,s=n(2)(n(6));a=function(t){function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t,e,n,r){t=t.filter((function(t,r){var i=e(t,r),o=n(t,r);return null!=i&&isFinite(i)&&null!=o&&isFinite(o)})),r&&t.sort((function(t,n){return e(t)-e(n)}));for(var i,o,a,s=t.length,u=new Float64Array(s),l=new Float64Array(s),c=0,f=0,p=0;p<s;)a=t[p],u[p]=i=+e(a,p,t),l[p]=o=+n(a,p,t),c+=(i-c)/++p,f+=(o-f)/p;for(var h=0;h<s;++h)u[h]-=c,l[h]-=f;return[u,l,c,f]}function r(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++){var s=t[o],u=+e(s,o,t),l=+n(s,o,t);null!=u&&isFinite(u)&&null!=l&&isFinite(l)&&r(u,l,i++)}}function i(t,e,n,i,o){var a=0,s=0;return r(t,e,n,(function(t,e){var n=e-o(t),r=e-i;a+=n*n,s+=r*r})),1-a/s}function o(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function a(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-r/2-1),a=[u(t),u(e)],s=0;l(a)&&s<1e4;);return a;function u(t){return[t,n(t)]}function l(t){s++;for(var e,n=t.length,r=!1,a=0;a<n-1;a++){var l=t[a],c=t[a+1],f=[((e=[l,c])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],p=u(f[0]),h=o([l,f]),d=o([l,p]);Math.abs(h-d)>i&&(t.splice(a+1,0,p),r=!0)}return r}}function s(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function u(){var t,n=function(t){return t[0]},o=function(t){return t[1]};function a(a){var u=0,l=0,c=0,f=0,p=0,h=t?+t[0]:1/0,d=t?+t[1]:-1/0;r(a,n,o,(function(e,n){++u,l+=(e-l)/u,c+=(n-c)/u,f+=(e*n-f)/u,p+=(e*e-p)/u,t||(e<h&&(h=e),e>d&&(d=e))}));var g=e(s(l,c,f,p),2),v=g[0],y=g[1],m=function(t){return y*t+v},_=[[h,m(h)],[d,m(d)]];return _.a=y,_.b=v,_.predict=m,_.rSquared=i(a,n,o,c,m),_}return a.domain=function(e){return arguments.length?(t=e,a):t},a.x=function(t){return arguments.length?(n=t,a):n},a.y=function(t){return arguments.length?(o=t,a):o},a}function l(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function c(t){return(t=1-t*t*t)*t*t}function f(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}function p(){var t,o=function(t){return t[0]},s=function(t){return t[1]};function u(u){var l,c,f,p,h=e(n(u,o,s),4),d=h[0],g=h[1],v=h[2],y=h[3],m=d.length,_=0,b=0,x=0,w=0,S=0;for(l=0;l<m;)c=d[l],f=g[l++],_+=((p=c*c)-_)/l,b+=(p*c-b)/l,x+=(p*p-x)/l,w+=(c*f-w)/l,S+=(p*f-S)/l;var E=0,A=0,O=t?+t[0]:1/0,T=t?+t[1]:-1/0;r(u,o,s,(function(e,n){A++,E+=(n-E)/A,t||(e<O&&(O=e),e>T&&(T=e))}));var C=x-_*_,P=_*C-b*b,M=(S*_-w*b)/P,I=(w*C-S*b)/P,k=-M*_,R=function(t){return M*(t-=v)*t+I*t+k+y},L=a(O,T,R);return L.a=M,L.b=I-2*M*v,L.c=k-I*v+M*v*v+y,L.predict=R,L.rSquared=i(u,o,s,E,R),L}return u.domain=function(e){return arguments.length?(t=e,u):t},u.x=function(t){return arguments.length?(o=t,u):o},u.y=function(t){return arguments.length?(s=t,u):s},u}t.regressionExp=function(){var t,n=function(t){return t[0]},o=function(t){return t[1]};function u(u){var l=0,c=0,f=0,p=0,h=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0;r(u,n,o,(function(e,n){var r=Math.log(n),i=e*n;++l,c+=(n-c)/l,p+=(i-p)/l,d+=(e*i-d)/l,f+=(n*r-f)/l,h+=(i*r-h)/l,t||(e<g&&(g=e),e>v&&(v=e))}));var y=e(s(p/c,f/c,h/c,d/c),2),m=y[0],_=y[1];m=Math.exp(m);var b=function(t){return m*Math.exp(_*t)},x=a(g,v,b);return x.a=m,x.b=_,x.predict=b,x.rSquared=i(u,n,o,c,b),x}return u.domain=function(e){return arguments.length?(t=e,u):t},u.x=function(t){return arguments.length?(n=t,u):n},u.y=function(t){return arguments.length?(o=t,u):o},u},t.regressionLinear=u,t.regressionLoess=function(){var t=function(t){return t[0]},r=function(t){return t[1]},i=.3;function o(o){for(var a=e(n(o,t,r,!0),4),u=a[0],p=a[1],h=a[2],d=a[3],g=u.length,v=Math.max(2,~~(i*g)),y=new Float64Array(g),m=new Float64Array(g),_=new Float64Array(g).fill(1),b=-1;++b<=2;){for(var x=[0,v-1],w=0;w<g;++w){for(var S=u[w],E=x[0],A=x[1],O=S-u[E]>u[A]-S?E:A,T=0,C=0,P=0,M=0,I=0,k=1/Math.abs(u[O]-S||1),R=E;R<=A;++R){var L=u[R],D=p[R],N=c(Math.abs(S-L)*k)*_[R],F=L*N;T+=N,C+=F,P+=D*N,M+=D*F,I+=L*F}var j=e(s(C/T,P/T,M/T,I/T),2),B=j[0],z=j[1];y[w]=B+z*S,m[w]=Math.abs(p[w]-y[w]),f(u,w+1,x)}if(2===b)break;var U=l(m);if(Math.abs(U)<1e-12)break;for(var V,G,W=0;W<g;++W)V=m[W]/(6*U),_[W]=V>=1?1e-12:(G=1-V*V)*G}return function(t,e,n,r){for(var i,o=t.length,a=[],s=0,u=0,l=[];s<o;++s)i=t[s]+n,l[0]===i?l[1]+=(e[s]-l[1])/++u:(u=0,l[1]+=r,l=[i,e[s]],a.push(l));return l[1]+=r,a}(u,y,h,d)}return o.bandwidth=function(t){return arguments.length?(i=t,o):i},o.x=function(e){return arguments.length?(t=e,o):t},o.y=function(t){return arguments.length?(r=t,o):r},o},t.regressionLog=function(){var t,n=function(t){return t[0]},o=function(t){return t[1]},u=Math.E;function l(l){var c=0,f=0,p=0,h=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0,y=Math.log(u);r(l,n,o,(function(e,n){var r=Math.log(e)/y;++c,f+=(r-f)/c,p+=(n-p)/c,h+=(r*n-h)/c,d+=(r*r-d)/c,t||(e<g&&(g=e),e>v&&(v=e))}));var m=e(s(f,p,h,d),2),_=m[0],b=m[1],x=function(t){return b*Math.log(t)/y+_},w=a(g,v,x);return w.a=b,w.b=_,w.predict=x,w.rSquared=i(l,n,o,p,x),w}return l.domain=function(e){return arguments.length?(t=e,l):t},l.x=function(t){return arguments.length?(n=t,l):n},l.y=function(t){return arguments.length?(o=t,l):o},l.base=function(t){return arguments.length?(u=t,l):u},l},t.regressionPoly=function(){var t,o=function(t){return t[0]},s=function(t){return t[1]},l=3;function c(c){if(1===l){var f=u().x(o).y(s).domain(t)(c);return f.coefficients=[f.b,f.a],delete f.a,delete f.b,f}if(2===l){var h=p().x(o).y(s).domain(t)(c);return h.coefficients=[h.c,h.b,h.a],delete h.a,delete h.b,delete h.c,h}var d,g,v,y,m,_=e(n(c,o,s),4),b=_[0],x=_[1],w=_[2],S=_[3],E=b.length,A=[],O=[],T=l+1,C=0,P=0,M=t?+t[0]:1/0,I=t?+t[1]:-1/0;for(r(c,o,s,(function(e,n){++P,C+=(n-C)/P,t||(e<M&&(M=e),e>I&&(I=e))})),d=0;d<T;++d){for(v=0,y=0;v<E;++v)y+=Math.pow(b[v],d)*x[v];for(A.push(y),m=new Float64Array(T),g=0;g<T;++g){for(v=0,y=0;v<E;++v)y+=Math.pow(b[v],d+g);m[g]=y}O.push(m)}O.push(A);var k=function(t){var e,n,r,i,o,a=t.length-1,s=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*s[r];s[n]=(t[a][n]-o)/t[n][n]}return s}(O),R=function(t){t-=w;var e=S+k[0]+k[1]*t+k[2]*t*t;for(d=3;d<T;++d)e+=k[d]*Math.pow(t,d);return e},L=a(M,I,R);return L.coefficients=function(t,e,n,r){var i,o,a,s,u=Array(t);for(i=0;i<t;++i)u[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],s=1,u[i]+=a,o=1;o<=i;++o)s*=(i+1-o)/o,u[i-o]+=a*Math.pow(n,o)*s;return u[0]+=r,u}(T,k,-w,S),L.predict=R,L.rSquared=i(c,o,s,C,R),L}return c.domain=function(e){return arguments.length?(t=e,c):t},c.x=function(t){return arguments.length?(o=t,c):o},c.y=function(t){return arguments.length?(s=t,c):s},c.order=function(t){return arguments.length?(l=t,c):l},c},t.regressionPow=function(){var t,n=function(t){return t[0]},o=function(t){return t[1]};function u(u){var l=0,c=0,f=0,p=0,h=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0;r(u,n,o,(function(e,n){var r=Math.log(e),i=Math.log(n);++l,c+=(r-c)/l,f+=(i-f)/l,p+=(r*i-p)/l,h+=(r*r-h)/l,d+=(n-d)/l,t||(e<g&&(g=e),e>v&&(v=e))}));var y=e(s(c,f,p,h),2),m=y[0],_=y[1];m=Math.exp(m);var b=function(t){return m*Math.pow(t,_)},x=a(g,v,b);return x.a=m,x.b=_,x.predict=b,x.rSquared=i(u,n,o,d,b),x}return u.domain=function(e){return arguments.length?(t=e,u):t},u.x=function(t){return arguments.length?(n=t,u):n},u.y=function(t){return arguments.length?(o=t,u):o},u},t.regressionQuad=p,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,s.default)(e)&&"undefined"!==typeof t?a(e):(i=[e],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=void 0,e.transformData=function(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,o=t.targetField,a=t.layout,s=[],u=[];e.forEach((function(t,e){var a;t[i].sort((function(t,e){return t-e})),t[i].forEach((function(r,o){var a,u=0===o?r:t[i][o]-t[i][o-1];s.push(((a={rKey:i+"_"+o})[n]=n?t[n]:String(e),a[i]=u,a))})),t[r].forEach((function(i,o){var a;s.push(((a={mKey:t[r].length>1?r+"_"+o:""+r})[n]=n?t[n]:String(e),a[r]=i,a))})),s.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),u.push(t[i],t[r],t[o])}));var l=Math.min.apply(Math,u.flat(1/0)),c=Math.max.apply(Math,u.flat(1/0));return l=l>0?0:l,"vertical"===a&&s.reverse(),{min:l,max:c,ds:s}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.pick=function(t,e){var n={};return null!==t&&"object"===(0,i.default)(t)&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n};var i=r(n(6))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LEVEL=void 0,e.invariant=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t){var s=new Error(a.apply(void 0,(0,i.__spreadArrays)([e],n)));throw s.name=o,s}},e.log=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e||console[t](a.apply(void 0,(0,i.__spreadArrays)([n],r)))};var r,i=n(1);e.LEVEL=r,function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(r||(e.LEVEL=r={}));var o="AntV/G2Plot";function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return o+": "+t.replace(/%s/g,(function(){return""+e[r++]}))}},function(t,e,n){"use strict";function r(t){var e=t.parent;return e?e.views:[]}Object.defineProperty(e,"__esModule",{value:!0}),e.findViewById=function(t,e){return t.views.find((function(t){return t.id===e}))},e.getSiblingViews=function(t){return r(t).filter((function(e){return e!==t}))},e.getViews=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.deepAssign=void 0;var i=r(n(6)),o={}.toString,a=function(t,e){return o.call(t)==="[object "+e+"]"},s=function(t){return a(t,"Array")},u=function(t){if(!function(t){return"object"===(0,i.default)(t)&&null!==t}(t)||!a(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},l=function t(e,n,r,i){for(var o in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];a?u(a)?(u(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):s(a)?(e[o]=[],e[o]=e[o].concat(a)):e[o]=a:e[o]=a}};e.deepAssign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)l(t,e[r]);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adapteStyle=a,e.renderStatistic=e.renderGaugeStatistic=void 0,e.setStatisticContainerStyle=s;var r=n(1),i=n(0),o=n(7);function a(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,i.get)(t,"fill")&&(e.color=t.fill);var r=(0,o.pick)(t,n),a=r.shadowColor,s=r.shadowBlur,u=void 0===s?0:s,l=r.shadowOffsetX,c=void 0===l?0:l,f=r.shadowOffsetY,p=void 0===f?0:f;e["text-shadow"]=""+[a,c+"px",p+"px",u+"px"].join(" ");var h=(0,o.pick)(t,n),d=h.stroke,g=h.lineWidth,v=void 0===g?0:g;return e["-webkit-text-stroke"]=""+[v+"px",d].join(" "),(0,i.each)(t,(function(t,r){["fontSize"].includes(r)&&(0,i.isNumber)(t)?e[(0,o.kebabCase)(r)]=t+"px":r&&!n.includes(r)&&(e[(0,o.kebabCase)(r)]=""+t)})),e}function s(t,e){t.style["pointer-events"]="none",(0,i.each)(e,(function(e,n){n&&e&&(t.style[n]=e)}))}e.renderStatistic=function(t,e,n){var u=e.statistic,l=e.plotType,c=u.title,f=u.content;[c,f].forEach((function(e,u){if(e){var p="";p=0===u?f?"translate(-50%, -100%)":"translate(-50%, -50%)":c?"translate(-50%, 0)":"translate(-50%, -50%)";var h=(0,i.isFunction)(e.style)?e.style(n):e.style;t.annotation().html((0,r.__assign)({position:["50%","50%"],html:function(t,o){var u=o.getCoordinate(),c=0;if("pie"===l||"ring-progress"===l)c=u.getRadius()*u.innerRadius*2;else if("liquid"===l){var f=(0,i.get)(o.geometries,[0,"elements",0,"shape"]);f&&(c=f.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width)}else c||(c=u.getWidth());s(t,(0,r.__assign)({width:c+"px",transform:p},a(h)));var d=o.getData();if(e.customHtml)return e.customHtml(t,o,n,d);var g=e.content;return e.formatter&&(g=e.formatter(n,d)),g?(0,i.isString)(g)?g:""+g:"<div></div>"},key:(0===u?"top":"bottom")+"-statistic"},(0,o.pick)(e,["offsetX","offsetY","rotate","style","formatter"])))}}))},e.renderGaugeStatistic=function(t,e,n){var u=e.statistic;[u.title,u.content].forEach((function(e){if(e){var u=(0,i.isFunction)(e.style)?e.style(n):e.style;t.annotation().html((0,r.__assign)({position:["50%","100%"],html:function(t,o){var l=o.getCoordinate(),c=o.views[0].getCoordinate(),f=c.getCenter(),p=c.getRadius(),h=Math.max(Math.sin(c.startAngle),Math.sin(c.endAngle))*p,d=f.y+h-l.y.start-parseFloat((0,i.get)(u,"fontSize",0)),g=l.getRadius()*l.innerRadius*2;s(t,(0,r.__assign)({width:g+"px",transform:"translate(-50%, "+d+"px)"},a(u)));var v=o.getData();if(e.customHtml)return e.customHtml(t,o,n,v);var y=e.content;return e.formatter&&(y=e.formatter(n,v)),y?(0,i.isString)(y)?y:""+y:"<div></div>"}},(0,o.pick)(e,["offsetX","offsetY","rotate","style","formatter"])))}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOBAL=void 0,e.setGlobal=function(t){(0,r.each)(t,(function(t,e){return i[e]=t}))};var r=n(0),i={locale:"en-US"};e.GLOBAL=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var r=n(1),i=n(18),o=n(306),a=n(1219);n(1220);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,o.meta)({chart:e,options:n}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Line=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasPattern=function(t){var e,n=t.type,a=t.cfg;switch(n){case"dot":e=(0,r.createDotPattern)(a);break;case"line":e=(0,i.createLinePattern)(a);break;case"square":e=(0,o.createSquarePattern)(a)}return e};var r=n(1210),i=n(1211),o=n(1212)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.point=function(t){var e=t.options,n=e.point,s=e.xField,u=e.yField,l=e.seriesField,c=e.sizeField,f=e.shapeField,p=e.tooltip,h=(0,i.getTooltipMapping)(p,[s,u,l,c,f]),d=h.fields,g=h.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"point",colorField:l,shapeField:f,tooltipFields:d,mapping:(0,r.__assign)({tooltip:g},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.polygon=function(t){var e=t.options,n=e.polygon,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=(0,i.getTooltipMapping)(c,[s,u,l]),p=f.fields,h=f.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"polygon",colorField:l,tooltipFields:p,mapping:(0,r.__assign)({tooltip:h},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Area=void 0;var r=n(1),i=n(18),o=n(125),a=n(564),s=n(1222),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField,s=this.chart,u=this.options;(0,a.meta)({chart:s,options:u}),this.chart.changeData((0,o.getDataWhetherPecentage)(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Area=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(o.theme,(0,o.pattern)("areaStyle"),c,l.meta,p,l.axis,l.legend,o.tooltip,f,o.slider,(0,o.annotation)(),o.interaction,o.animation,o.limitInPlot)(t)},Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return l.meta}});var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(125),l=n(306);function c(t){var e=t.chart,n=t.options,i=n.data,o=n.areaStyle,l=n.color,c=n.point,f=n.line,p=n.isPercent,h=n.xField,d=n.yField,g=n.tooltip,v=n.seriesField,y=n.startOnZero,m=null===c||void 0===c?void 0:c.state,_=(0,u.getDataWhetherPecentage)(i,d,h,d,p);e.data(_);var b=p?(0,r.__assign)({formatter:function(t){return{name:t[v]||t[h],value:(100*Number(t[d])).toFixed(2)+"%"}}},g):g,x=(0,a.deepAssign)({},t,{options:{area:{color:l,style:o},line:f&&(0,r.__assign)({color:l},f),point:c&&(0,r.__assign)({color:l},c),tooltip:b,label:void 0,args:{startOnZero:y}}}),w=(0,a.deepAssign)({options:{line:{size:2}}},x,{options:{sizeField:v,tooltip:!1}}),S=(0,a.deepAssign)({},x,{options:{tooltip:!1,state:m}});return(0,s.area)(x),(0,s.line)(w),(0,s.point)(S),t}function f(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=(0,a.findGeometry)(e,"area");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[o],callback:u,cfg:(0,r.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,a.transformLabel)(l))})}else s.label(!1);return t}function p(t){var e=t.chart,n=t.options,r=n.isStack,o=n.isPercent,a=n.seriesField;return(o||r)&&a&&(0,i.each)(e.geometries,(function(t){t.adjust("stack")})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;var r=n(1),i=n(18),o=n(125),a=n(199),s=n(1227),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent,s=this.chart,u=this.options;(0,a.meta)({chart:s,options:u}),this.chart.changeData((0,o.getDataWhetherPecentage)(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Column=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTagFormatter=function(t,e){return(0,r.isNumber)(t)&&(0,r.isNumber)(e)?t===e?"100%":0===t?"\u221e":0===e?"-\u221e":(100*e/t).toFixed(2)+"%":"-"};var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.brushInteraction=function(t){var e=t.options,n=e.brush,s=(0,r.filter)(e.interactions||[],(function(t){return-1===a.indexOf(t.type)}));return(null===n||void 0===n?void 0:n.enabled)&&(a.forEach((function(t){var e,r=!1;switch(n.type){case"x-rect":r=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":r=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:r=t===("highlight"===n.action?"brush-highlight":"brush")}var o={type:t,enable:r};((null===(e=n.mask)||void 0===e?void 0:e.style)||n.type)&&(o.cfg=(0,i.getInteractionCfg)(t,n.type,n.mask)),s.push(o)})),"highlight"!==(null===n||void 0===n?void 0:n.action)&&s.push({type:"filter-action",cfg:{buttonConfig:n.button}})),(0,o.deepAssign)({},t,{options:{interactions:s}})};var r=n(0),i=n(1225),o=n(7),a=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var r=n(1),i=n(18),o=n(125),a=n(569),s=n(1228),u=n(570),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,i=n.xField,s=n.yField,l=n.isPercent,c=(0,r.__assign)((0,r.__assign)({},n),{xField:s,yField:i});(0,a.meta)({chart:e,options:c}),e.changeData((0,o.getDataWhetherPecentage)((0,u.transformBarData)(t),i,s,i,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Bar=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){var e=t.chart,n=t.options,a=n.xField,s=n.yField,u=n.xAxis,l=n.yAxis,c=n.barStyle,f=n.barWidthRatio,p=n.label,h=n.data,d=n.seriesField,g=n.isStack,v=n.minBarWidth,y=n.maxBarWidth;p&&!p.position&&(p.position="left",p.layout||(p.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var m=n.legend;d?!1!==m&&(m=(0,r.__assign)({position:g?"top-left":"right-top",reversed:!g},m||{})):m=!1,t.options.legend=m;var _=n.tooltip;return d&&!1!==_&&(_=(0,r.__assign)({reversed:!g},_||{})),t.options.tooltip=_,e.coordinate().transpose(),(0,i.adaptor)({chart:e,options:(0,r.__assign)((0,r.__assign)({},n),{label:p,xField:s,yField:a,xAxis:l,yAxis:u,columnStyle:c,columnWidthRatio:f,minColumnWidth:v,maxColumnWidth:y,columnBackground:n.barBackground,data:(0,o.transformBarData)(h)})},!0)},Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return i.meta}});var r=n(1),i=n(199),o=n(570)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformBarData=function(t){return t?t.slice().reverse():t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pie=void 0;var r=n(1),i=n(13),o=n(18),a=n(7),s=n(572),u=n(573),l=n(574);n(575);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=(0,a.processIllegalData)(e.data,n),o=(0,a.processIllegalData)(t,n);(0,l.isAllZero)(r,n)||(0,l.isAllZero)(o,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),(0,s.pieAnnotation)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e}(o.Plot);e.Pie=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,c.flow)((0,u.pattern)("pieStyle"),d,g,o.theme,v,o.legend,b,y,o.state,_,x,o.animation)(t)},e.interaction=x,e.pieAnnotation=_,e.transformStatisticOptions=m;var r=n(1),i=n(0),o=n(21),a=n(49),s=n(29),u=n(124),l=n(197),c=n(7),f=n(573),p=n(574),h=n(575);function d(t){var e=t.chart,n=t.options,i=n.data,o=n.angleField,a=n.colorField,u=n.color,l=n.pieStyle,f=(0,c.processIllegalData)(i,o);if((0,p.isAllZero)(f,o)){var h="$$percentage$$";f=f.map((function(t){var e;return(0,r.__assign)((0,r.__assign)({},t),((e={}).$$percentage$$=1/f.length,e))})),e.data(f);var d=(0,c.deepAssign)({},t,{options:{xField:"1",yField:h,seriesField:a,isStack:!0,interval:{color:u,style:l},args:{zIndexReversed:!0}}});(0,s.interval)(d)}else e.data(f),d=(0,c.deepAssign)({},t,{options:{xField:"1",yField:o,seriesField:a,isStack:!0,interval:{color:u,style:l},args:{zIndexReversed:!0}}}),(0,s.interval)(d);return t}function g(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.colorField,a=(0,c.deepAssign)({},i);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function v(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function y(t){var e=t.chart,n=t.options,o=n.label,a=n.colorField,s=n.angleField,u=e.geometries[0];if(o){var l=o.callback,f=(0,r.__rest)(o,["callback"]),h=(0,c.transformLabel)(f);if(h.content){var d=h.content;h.content=function(t,n,o){var u=t[a],l=t[s],f=e.getScaleByField(s),p=null===f||void 0===f?void 0:f.scale(l);return(0,i.isFunction)(d)?d((0,r.__assign)((0,r.__assign)({},t),{percent:p}),n,o):(0,i.isString)(d)?(0,c.template)(d,{value:l,name:u,percentage:(0,i.isNumber)(p)&&!(0,i.isNil)(l)?(100*p).toFixed(2)+"%":null}):d}}var g=h.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[h.type]:"pie-outer",v=h.layout?(0,i.isArray)(h.layout)?h.layout:[h.layout]:[];h.layout=(g?[{type:g}]:[]).concat(v),u.label({fields:a?[s,a]:[s],callback:l,cfg:(0,r.__assign)((0,r.__assign)({},h),{offset:(0,p.adaptOffset)(h.type,h.offset),type:"pie"})})}else u.label(!1);return t}function m(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,o=t.colorField,a=t.meta,s=t.locale,u=(0,l.getLocale)(s);if(e&&n){var h=(0,c.deepAssign)({},f.DEFAULT_OPTIONS.statistic,n),d=h.title,g=h.content;return!1!==d&&(d=(0,c.deepAssign)({},{formatter:function(t){return t?t[o]:(0,i.isNil)(d.content)?u.get(["statistic","total"]):d.content}},d)),!1!==g&&(g=(0,c.deepAssign)({},{formatter:function(t,e){var n=t?t[r]:(0,p.getTotalValue)(e,r),o=(0,i.get)(a,[r,"formatter"])||function(t){return t};return t||(0,i.isNil)(g.content)?o(n):g.content}},g)),(0,c.deepAssign)({},{statistic:{title:d,content:g}},t)}return t}function _(t){var e=t.chart,n=m(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),(0,c.flow)((0,o.annotation)())(t),r&&i&&(0,c.renderStatistic)(e,{statistic:i,plotType:"pie"}),t}function b(t){var e=t.chart,n=t.options,r=n.tooltip,o=n.colorField,s=n.angleField,u=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip((0,c.deepAssign)({},r,{shared:!1})),(0,p.isAllZero)(u,s)){var l=(0,i.get)(r,"fields"),f=(0,i.get)(r,"formatter");(0,i.isEmpty)((0,i.get)(r,"fields"))&&(l=[o,s],f=f||function(t){return{name:t[o],value:(0,i.toString)(t[s])}}),e.geometries[0].tooltip(l.join("*"),(0,a.getMappingFunction)(l,f))}return t}function x(t){var e=t.chart,n=m(t.options),o=n.interactions,a=n.statistic,s=n.annotations;return(0,i.each)(o,(function(t){var n,o;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var u=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(u=[{trigger:"element:mouseenter",action:h.PIE_STATISTIC+":change",arg:{statistic:a,annotations:s}}]),(0,i.each)(null===(o=t.cfg)||void 0===o?void 0:o.start,(function(t){u.push((0,r.__assign)((0,r.__assign)({},t),{arg:{statistic:a,annotations:s}}))})),e.interaction(t.type,(0,c.deepAssign)({},t.cfg,{start:u}))}else e.interaction(t.type,t.cfg||{})})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptOffset=function(t,e){var n;switch(t){case"inner":return n="-30%",(0,r.isString)(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,(0,r.isString)(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}},e.getTotalValue=function(t,e){var n=null;return(0,r.each)(t,(function(t){"number"===typeof t[e]&&(n+=t[e])})),n},e.isAllZero=function(t,e){return(0,r.every)((0,i.processIllegalData)(t,e),(function(t){return 0===t[e]}))};var r=n(0),i=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PIE_STATISTIC=void 0;var r=n(13),i=n(1229),o=n(1230),a="pie-statistic";e.PIE_STATISTIC=a,(0,r.registerAction)(a,o.StatisticAction),(0,r.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),(0,r.registerAction)("pie-legend",i.PieLegendAction),(0,r.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transform=function(t,e){var n=e?(0,r.__spreadArrays)(e):(0,r.__spreadArrays)(o);return i.Util.transform(n,t)};var r=n(1),i=n(13),o=[1,0,0,0,1,0,0,0,1]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFontSizeMapping=l,e.getSingleKeyValues=c,e.getSize=u,e.processImageMask=function(t){return new Promise((function(e,n){if(t instanceof HTMLImageElement)e(t);else{if((0,i.isString)(t)){var r=new Image;return r.crossOrigin="anonymous",r.src=t,r.onload=function(){e(r)},void(r.onerror=function(){(0,a.log)(a.LEVEL.ERROR,!1,"image %s load failed !!!",t),n()})}(0,a.log)(a.LEVEL.WARN,void 0===t,"The type of imageMask option must be String or HTMLImageElement."),n()}}))},e.transform=function(t){var e=t.options,n=t.chart,o=n,a=o.width,h=o.height,d=o.padding,g=o.appendPadding,v=o.ele,y=e.data,m=e.imageMask,_=e.wordField,b=e.weightField,x=e.colorField,w=e.wordStyle,S=e.timeInterval,E=e.random,A=e.spiral,O=e.autoFit,T=void 0===O||O,C=e.placementStrategy;if(!y||!y.length)return[];var P,M=w.fontFamily,I=w.fontWeight,k=w.padding,R=w.fontSize,L=c(y,b),D=[(P=L,Math.min.apply(Math,P)),p(L)],N=y.map((function(t){return{text:t[_],value:t[b],color:t[x],datum:t}})),F={imageMask:m,font:M,fontSize:l(R,D),fontWeight:I,size:u({width:a,height:h,padding:d,appendPadding:g,autoFit:T,container:v}),padding:k,timeInterval:S,random:E,spiral:A,rotate:f(e)};if((0,i.isFunction)(C)){var j=N.map((function(t,e,i){return(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t),{hasText:!!t.text,font:(0,s.functor)(F.font)(t,e,i),weight:(0,s.functor)(F.fontWeight)(t,e,i),rotate:(0,s.functor)(F.rotate)(t,e,i),size:(0,s.functor)(F.fontSize)(t,e,i),style:"normal"}),C.call(n,t,e,i))}));return j.push({text:"",value:0,x:0,y:0,opacity:0}),j.push({text:"",value:0,x:F.size[0],y:F.size[1],opacity:0}),j}return(0,s.wordCloud)(N,F)};var r=n(1),i=n(0),o=n(123),a=n(7),s=n(1237);function u(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,s=t.padding,u=t.appendPadding;if(i){var l=(0,a.getContainerSize)(r);e=l.width,n=l.height}e=e||400,n=n||400;var c=function(t){var e=(0,o.normalPadding)(t.padding),n=(0,o.normalPadding)(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],a=e[2]+n[2],s=e[3]+n[3];return[r,i,a,s]}({padding:s,appendPadding:u}),f=c[0],p=c[1],h=c[2];return[e-(c[3]+p),n-(f+h)]}function l(t,e){if((0,i.isFunction)(t))return t;if((0,i.isArray)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var o=e[0],a=e[1];return a===o?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(a-o)*(e-o)+n}}return function(){return t}}function c(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"===typeof t&&!isNaN(t)}))}function f(t){var e=function(t){var e=t.wordStyle.rotationSteps;return e<1&&((0,a.log)(a.LEVEL.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!(0,i.isArray)(n))return n;var o=n[0],s=n[1],u=1===r?0:(s-o)/(r-1);return function(){return s===o?s:Math.floor(Math.random()*r)*u}}function p(t){return Math.max.apply(Math,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORD_CLOUD_COLOR_FIELD=e.DEFAULT_OPTIONS=void 0;var r=n(18),i=n(7),o="color";e.WORD_CLOUD_COLOR_FIELD=o;var a=(0,i.deepAssign)({},r.Plot.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",o],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});e.DEFAULT_OPTIONS=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scatter=void 0;var r=n(1),i=n(13),o=n(18),a=n(7),s=n(580),u=n(1240);n(1241);var l=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.type="scatter",o.on(i.VIEW_LIFE_CIRCLE.BEFORE_RENDER,(function(t){var e,n,a=o,u=a.options,l=a.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===i.BRUSH_FILTER_EVENTS.FILTER){var c=o.chart.filterData(o.chart.getData());(0,s.meta)({chart:l,options:(0,r.__assign)((0,r.__assign)({},u),{data:c})})}(null===(n=t.data)||void 0===n?void 0:n.source)===i.BRUSH_FILTER_EVENTS.RESET&&(0,s.meta)({chart:l,options:u})})),o}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption((0,s.transformOptions)((0,a.deepAssign)({},this.options,{data:t})));var e=this.options,n=this.chart;(0,s.meta)({chart:n,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(o.Plot);e.Scatter=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,o.flow)(f,p,h,d,m,g,s.brushInteraction,u.interaction,v,u.animation,u.theme,y)(t)},e.meta=p,e.tooltip=m,e.transformOptions=c;var r=n(1),i=n(0),o=n(7),a=n(29),s=n(567),u=n(21),l=n(1239);function c(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var a=!0,s=!0,u=n[0],c=void 0,f=1;f<n.length&&(c=n[f],u[r]!==c[r]&&(a=!1),u[i]!==c[i]&&(s=!1),a||s);f++)u=c;var p=[];a&&p.push(r),s&&p.push(i);var h=(0,o.pick)((0,l.getMeta)(t),p);return(0,o.deepAssign)({},t,{meta:h})}return t}function f(t){var e=t.chart,n=t.options,s=n.data,u=n.type,l=n.color,c=n.shape,f=n.pointStyle,p=n.shapeField,h=n.colorField,d=n.xField,g=n.yField,v=n.sizeField,y=n.size,m=n.tooltip;v&&(y||(y=[2,8]),(0,i.isNumber)(y)&&(y=[y,y])),m&&!m.fields&&(m=(0,r.__assign)((0,r.__assign)({},m),{fields:[d,g,h,v,p]})),e.data(s),(0,a.point)((0,o.deepAssign)({},t,{options:{seriesField:h,point:{color:l,shape:c,size:y,style:f},tooltip:m}}));var _=(0,o.findGeometry)(e,"point");return u&&_.adjust(u),t}function p(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,s=n.yField,l=c(n);return(0,o.flow)((0,u.scale)(((e={})[a]=r,e[s]=i,e)))((0,o.deepAssign)({},t,{options:l}))}function h(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,r),e.axis(a,i),t}function d(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,s=n.shapeLegend,u=n.sizeLegend,l=!1!==r;return i&&e.legend(i,!!l&&r),o&&(s?e.legend(o,s):e.legend(o,!1!==s&&r)),a&&e.legend(a,u||!1),l||s||u||e.legend(!1),t}function g(t){var e=t.chart,n=t.options,i=n.label,a=n.yField,s=(0,o.findGeometry)(e,"point");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[a],callback:u,cfg:(0,o.transformLabel)(l)})}else s.label(!1);return t}function v(t){var e=t.options.quadrant,n=[];if(e){var i=e.xBaseline,a=void 0===i?0:i,s=e.yBaseline,c=void 0===s?0:s,f=e.labels,p=e.regionStyle,h=e.lineStyle,d=(0,l.getQuadrantDefaultConfig)(a,c);new Array(4).join(",").split(",").forEach((function(t,e){n.push((0,r.__assign)((0,r.__assign)({type:"region",top:!1},d.regionStyle[e].position),{style:(0,o.deepAssign)({},d.regionStyle[e].style,null===p||void 0===p?void 0:p[e])}),(0,r.__assign)({type:"text",top:!0},(0,o.deepAssign)({},d.labelStyle[e],null===f||void 0===f?void 0:f[e])))})),n.push({type:"line",top:!1,start:["min",c],end:["max",c],style:(0,o.deepAssign)({},d.lineStyle,h)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:(0,o.deepAssign)({},d.lineStyle,h)})}return(0,o.flow)((0,u.annotation)(n))(t)}function y(t){var e=t.options,n=t.chart,i=e.regressionLine;if(i){var o=i.style,a=i.top,s=void 0!==a&&a,u={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:s,render:function(t,i){var a=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),s=(0,l.getPath)({view:i,options:e});a.addShape("path",{name:"regression-line",attrs:(0,r.__assign)((0,r.__assign)({path:s},u),o)})}})}return t}function m(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}},function(t,e,n){"use strict";(0,n(13).registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},function(t,e,n){"use strict";var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.DualAxesGeometry=e.AxisType=void 0,e.AxisType=r,function(t){t.Left="Left",t.Right="Right"}(r||(e.AxisType=r={})),e.DualAxesGeometry=i,function(t){t.Line="line",t.Column="column"}(i||(e.DualAxesGeometry=i={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RIGHT_AXES_VIEW=e.LEFT_AXES_VIEW=e.DEFAULT_YAXIS_CONFIG=e.DEFAULT_RIGHT_YAXIS_CONFIG=e.DEFAULT_LEFT_YAXIS_CONFIG=void 0;var r=n(1);e.LEFT_AXES_VIEW="left-axes-view",e.RIGHT_AXES_VIEW="right-axes-view";var i={nice:!0,label:{autoHide:!0,autoRotate:!1}};e.DEFAULT_YAXIS_CONFIG=i;var o=(0,r.__assign)((0,r.__assign)({},i),{position:"left"});e.DEFAULT_LEFT_YAXIS_CONFIG=o;var a=(0,r.__assign)((0,r.__assign)({},i),{position:"right",grid:null});e.DEFAULT_RIGHT_YAXIS_CONFIG=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyLine=void 0;var r=n(1),i=n(18),o=n(585),a=n(157),s=n(126),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,o.meta)({chart:e,options:n}),e.changeData((0,s.getTinyData)(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.TinyLine=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,r.flow)(l,a.meta,i.theme,i.tooltip,i.animation,(0,i.annotation)())(t)},Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return a.meta}});var r=n(7),i=n(21),o=n(29),a=n(200),s=n(126),u=n(157);function l(t){var e=t.chart,n=t.options,i=n.data,a=n.color,l=n.lineStyle,c=n.point,f=null===c||void 0===c?void 0:c.state,p=(0,s.getTinyData)(i);e.data(p);var h=(0,r.deepAssign)({},t,{options:{xField:u.X_FIELD,yField:u.Y_FIELD,line:{color:a,style:l},point:c}}),d=(0,r.deepAssign)({},h,{options:{tooltip:!1,state:f}});return(0,o.line)(h),(0,o.point)(d),e.axis(!1),e.legend(!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyColumn=void 0;var r=n(1),i=n(18),o=n(126),a=n(587),s=n(1251),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,a.meta)({chart:e,options:n}),e.changeData((0,o.getTinyData)(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.TinyColumn=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,i.flow)(r.theme,(0,r.pattern)("columnStyle"),l,u.meta,r.tooltip,r.animation,(0,r.annotation)())(t)},Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return u.meta}});var r=n(21),i=n(7),o=n(29),a=n(157),s=n(126),u=n(200);function l(t){var e=t.chart,n=t.options,r=n.data,u=n.color,l=n.columnStyle,c=n.columnWidthRatio,f=(0,s.getTinyData)(r);e.data(f);var p=(0,i.deepAssign)({},t,{options:{xField:a.X_FIELD,yField:a.Y_FIELD,widthRatio:c,interval:{style:l,color:u}}});return(0,o.interval)(p),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyArea=void 0;var r=n(1),i=n(18),o=n(126),a=n(200),s=n(1252),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,a.meta)({chart:e,options:n}),e.changeData((0,o.getTinyData)(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.TinyArea=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Histogram=void 0;var r=n(1),i=n(18),o=n(590),a=n(591),s=n(592),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,a=e.stackField;this.chart.changeData((0,o.binHistogram)(t,n,i,r,a))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Histogram=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.binHistogram=function(t,e,n,o,a){var s=(0,r.clone)(t);(0,r.sortBy)(s,e);var u=(0,r.valuesOfKey)(s,e),l=(0,r.getRange)(u),c=l.max-l.min,f=n;if(!n&&o&&(f=o>1?c/(o-1):l.max),!n&&!o){var p=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(u);f=c/p}var h={},d=(0,r.groupBy)(s,a);(0,r.isEmpty)(d)?(0,r.each)(s,(function(t){var n=i(t[e],f,o),a=n[0]+"-"+n[1];(0,r.hasKey)(h,a)||(h[a]={range:n,count:0}),h[a].count+=1})):Object.keys(d).forEach((function(t){(0,r.each)(d[t],(function(n){var s=i(n[e],f,o),u=s[0]+"-"+s[1]+"-"+t;(0,r.hasKey)(h,u)||(h[u]={range:s,count:0},h[u][a]=t),h[u].count+=1}))}));var g=[];return(0,r.each)(h,(function(t){g.push(t)})),g};var r=n(0);function i(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(i.theme,(0,o.pattern)("columnStyle"),c,f,p,i.state,h,i.tooltip,i.interaction,i.animation)(t)};var r=n(1),i=n(21),o=n(124),a=n(7),s=n(29),u=n(590),l=n(592);function c(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,c=n.binWidth,f=n.color,p=n.stackField,h=n.legend,d=n.columnStyle,g=(0,u.binHistogram)(r,i,c,o,p);e.data(g);var v=(0,a.deepAssign)({},t,{options:{xField:l.HISTOGRAM_X_FIELD,yField:l.HISTOGRAM_Y_FIELD,seriesField:p,isStack:!0,interval:{color:f,style:d}}});return(0,s.interval)(v),h&&p&&e.legend(p,h),t}function f(t){var e,n=t.options,r=n.xAxis,o=n.yAxis;return(0,a.flow)((0,i.scale)(((e={})[l.HISTOGRAM_X_FIELD]=r,e[l.HISTOGRAM_Y_FIELD]=o,e)))(t)}function p(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(l.HISTOGRAM_X_FIELD,!1):e.axis(l.HISTOGRAM_X_FIELD,r),!1===i?e.axis(l.HISTOGRAM_Y_FIELD,!1):e.axis(l.HISTOGRAM_Y_FIELD,i),t}function h(t){var e=t.chart,n=t.options.label,i=(0,a.findGeometry)(e,"interval");if(n){var o=n.callback,s=(0,r.__rest)(n,["callback"]);i.label({fields:[l.HISTOGRAM_Y_FIELD],callback:o,cfg:(0,a.transformLabel)(s)})}else i.label(!1);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HISTOGRAM_Y_FIELD=e.HISTOGRAM_X_FIELD=e.DEFAULT_OPTIONS=void 0;var r=n(18),i=n(7);e.HISTOGRAM_X_FIELD="range",e.HISTOGRAM_Y_FIELD="count";var o=(0,i.deepAssign)({},r.Plot.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});e.DEFAULT_OPTIONS=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Progress=void 0;var r=n(1),i=n(18),o=n(309),a=n(594),s=n(310),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData((0,s.getProgressData)(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Progress=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.DEFAULT_COLOR=void 0;var r=["#FAAD14","#E8EDF3"];e.DEFAULT_COLOR=r;var i={percent:.2,color:r,animation:{}};e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RingProgress=void 0;var r=n(1),i=n(13),o=n(18),a=n(310),s=n(596),u=n(1253),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data((0,a.getProgressData)(t)),(0,s.statistic)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e}(o.Plot);e.RingProgress=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,o.flow)(s.geometry,(0,a.scale)({}),u,l,a.animation,a.theme,(0,a.annotation)())(t)},e.statistic=l;var r=n(1),i=n(0),o=n(7),a=n(21),s=n(309);function u(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function l(t,e){var n=t.chart,a=t.options,s=a.innerRadius,u=a.statistic,l=a.percent,c=a.meta;if(n.getController("annotation").clear(!0),s&&u){var f=(0,i.get)(c,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},p=u.content;p&&(p=(0,o.deepAssign)({},p,{content:(0,i.isNil)(p.content)?f(l):p.content})),(0,o.renderStatistic)(n,{statistic:(0,r.__assign)((0,r.__assign)({},u),{content:p}),plotType:"ring-progress"},{percent:l})}return e&&n.render(!0),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=void 0;var r=n(0),i=n(311);e.transformData=function(t,e){var n=t;if(Array.isArray(e)){var o=e[0],a=e[1],s=e[2],u=e[3],l=e[4];n=(0,r.map)(t,(function(t){return t[i.BOX_RANGE]=[t[o],t[a],t[s],t[u],t[l]],t}))}return n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.transformViolinData=e.toViolinValue=e.toBoxValue=void 0;var i=n(1),o=n(0),a=r(n(1263)),s=n(1265),u=function(t){return{low:(0,o.min)(t),high:(0,o.max)(t),q1:(0,s.quantile)(t,.25),q3:(0,s.quantile)(t,.75),median:(0,s.quantile)(t,[.5]),minMax:[(0,o.min)(t),(0,o.max)(t)],quantile:[(0,s.quantile)(t,.25),(0,s.quantile)(t,.75)]}};e.toBoxValue=u;var l=function(t,e){var n=a.default.create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}};e.toViolinValue=l,e.transformViolinData=function(t){var e=t.xField,n=t.yField,r=t.seriesField,a=t.data,s=t.kde,c={min:s.min,max:s.max,size:s.sampleSize,width:s.width};if(!r){var f=(0,o.groupBy)(a,e);return Object.keys(f).map((function(t){var e=f[t].map((function(t){return t[n]}));return(0,i.__assign)((0,i.__assign)({x:t},l(e,c)),u(e))}))}var p=[],h=(0,o.groupBy)(a,r);return Object.keys(h).forEach((function(t){var a=(0,o.groupBy)(h[t],e);return Object.keys(a).forEach((function(e){var o,s=a[e].map((function(t){return t[n]}));p.push((0,i.__assign)((0,i.__assign)(((o={x:e})[r]=t,o),l(s,c)),u(s)))}))})),p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.X_FIELD=e.VIOLIN_Y_FIELD=e.VIOLIN_VIEW_ID=e.VIOLIN_SIZE_FIELD=e.QUANTILE_VIEW_ID=e.QUANTILE_FIELD=e.MIN_MAX_VIEW_ID=e.MIN_MAX_FIELD=e.MEDIAN_VIEW_ID=e.MEDIAN_FIELD=e.DEFAULT_OPTIONS=void 0;var r=n(18),i=n(7);e.X_FIELD="x",e.VIOLIN_Y_FIELD="violinY",e.VIOLIN_SIZE_FIELD="violinSize",e.MIN_MAX_FIELD="minMax",e.QUANTILE_FIELD="quantile",e.MEDIAN_FIELD="median",e.VIOLIN_VIEW_ID="violin_view",e.MIN_MAX_VIEW_ID="min_max_view",e.QUANTILE_VIEW_ID="quantile_view",e.MEDIAN_VIEW_ID="median_view";var o=(0,i.deepAssign)({},r.Plot.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}});e.DEFAULT_OPTIONS=o},function(t,e,n){"use strict";var r,i,o,a,s=n(2)(n(6));a=function(t){function e(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function n(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function r(t){return Math.sqrt(n(t,t))}function i(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function o(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function a(t,e,r,i,a,s,u){var l=r.fx,c=n(r.fxprime,e),f=l,p=l,h=c,d=0;function g(p,d,g){for(var v=0;v<16;++v)if(a=(p+d)/2,o(i.x,1,r.x,a,e),f=i.fx=t(i.x,i.fxprime),h=n(i.fxprime,e),f>l+s*a*c||f>=g)d=a;else{if(Math.abs(h)<=-u*c)return a;h*(d-p)>=0&&(d=p),p=a,g=f}return 0}a=a||1,s=s||1e-6,u=u||.1;for(var v=0;v<10;++v){if(o(i.x,1,r.x,a,e),f=i.fx=t(i.x,i.fxprime),h=n(i.fxprime,e),f>l+s*a*c||v&&f>=p)return g(d,a,p);if(Math.abs(h)<=-u*c)return a;if(h>=0)return g(a,d,f);p=f,d=a,a*=2}return a}t.bisect=function(t,e,n,r){var i=(r=r||{}).maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),u=n-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return n;for(var l=0;l<i;++l){var c=e+(u/=2),f=t(c);if(f*a>=0&&(e=c),Math.abs(u)<o||0===f)return c}return e+u},t.nelderMead=function(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,a=n.nonZeroDelta||1.05,s=n.zeroDelta||.001,u=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,f=void 0!==n.chi?n.chi:2,p=void 0!==n.psi?n.psi:-.5,h=void 0!==n.sigma?n.sigma:.5,d=e.length,g=new Array(d+1);g[0]=e,g[0].fx=t(e),g[0].id=0;for(var v=0;v<d;++v){var y=e.slice();y[v]=y[v]?y[v]*a:s,g[v+1]=y,g[v+1].fx=t(y),g[v+1].id=v+1}function m(t){for(var e=0;e<t.length;e++)g[d][e]=t[e];g[d].fx=t.fx}for(var _=function(t,e){return t.fx-e.fx},b=e.slice(),x=e.slice(),w=e.slice(),S=e.slice(),E=0;E<i;++E){if(g.sort(_),n.history){var A=g.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));A.sort((function(t,e){return t.id-e.id})),n.history.push({x:g[0].slice(),fx:g[0].fx,simplex:A})}for(r=0,v=0;v<d;++v)r=Math.max(r,Math.abs(g[0][v]-g[1][v]));if(Math.abs(g[0].fx-g[d].fx)<u&&r<l)break;for(v=0;v<d;++v){b[v]=0;for(var O=0;O<d;++O)b[v]+=g[O][v];b[v]/=d}var T=g[d];if(o(x,1+c,b,-c,T),x.fx=t(x),x.fx<g[0].fx)o(S,1+f,b,-f,T),S.fx=t(S),S.fx<x.fx?m(S):m(x);else if(x.fx>=g[d-1].fx){var C=!1;if(x.fx>T.fx?(o(w,1+p,b,-p,T),w.fx=t(w),w.fx<T.fx?m(w):C=!0):(o(w,1-p*c,b,p*c,T),w.fx=t(w),w.fx<x.fx?m(w):C=!0),C){if(h>=1)break;for(v=1;v<g.length;++v)o(g[v],1-h,g[0],h,g[v]),g[v].fx=t(g[v])}}else m(x)}return g.sort(_),{fx:g[0].fx,x:g[0]}},t.conjugateGradient=function(t,e,s){var u,l,c,f={x:e.slice(),fx:0,fxprime:e.slice()},p={x:e.slice(),fx:0,fxprime:e.slice()},h=e.slice(),d=1;c=(s=s||{}).maxIterations||20*e.length,f.fx=t(f.x,f.fxprime),i(u=f.fxprime.slice(),f.fxprime,-1);for(var g=0;g<c;++g){if(d=a(t,u,f,p,d),s.history&&s.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:d}),d){o(h,1,p.fxprime,-1,f.fxprime);var v=n(f.fxprime,f.fxprime);o(u,Math.max(0,n(h,p.fxprime)/v),u,-1,p.fxprime),l=f,f=p,p=l}else i(u,f.fxprime,-1);if(r(f.fxprime)<=1e-5)break}return s.history&&s.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:d}),f},t.gradientDescent=function(t,e,n){for(var i=(n=n||{}).maxIterations||100*e.length,a=n.learnRate||.001,s={x:e.slice(),fx:0,fxprime:e.slice()},u=0;u<i&&(s.fx=t(s.x,s.fxprime),n.history&&n.history.push({x:s.x.slice(),fx:s.fx,fxprime:s.fxprime.slice()}),o(s.x,1,s.x,-a,s.fxprime),!(r(s.fxprime)<=1e-5));++u);return s},t.gradientDescentLineSearch=function(t,e,n){n=n||{};var o,s={x:e.slice(),fx:0,fxprime:e.slice()},u={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,c=n.learnRate||1,f=e.slice(),p=n.c1||.001,h=n.c2||.1,d=[];if(n.history){var g=t;t=function(t,e){return d.push(t.slice()),g(t,e)}}s.fx=t(s.x,s.fxprime);for(var v=0;v<l&&(i(f,s.fxprime,-1),c=a(t,f,s,u,c,p,h),n.history&&(n.history.push({x:s.x.slice(),fx:s.fx,fxprime:s.fxprime.slice(),functionCalls:d,learnRate:c,alpha:c}),d=[]),o=s,s=u,u=o,!(0===c||r(s.fxprime)<1e-5));++v);return s},t.zeros=e,t.zerosM=function(t,n){return e(t).map((function(){return e(n)}))},t.norm2=r,t.weightedSum=o,t.scale=i},"object"===(0,s.default)(e)&&"undefined"!==typeof t?a(e):(i=[e],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;++n)if(o(t,e[n])>e[n].radius+1e-10)return!1;return!0}function i(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function o(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function a(t,e){var n=o(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var a=(r*r-i*i+n*n)/(2*n),s=Math.sqrt(r*r-a*a),u=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(s/n),f=-(e.x-t.x)*(s/n);return[{x:u+c,y:l-f},{x:u-c,y:l+f}]}function s(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}Object.defineProperty(e,"__esModule",{value:!0}),e.circleArea=i,e.circleCircleIntersection=a,e.circleOverlap=function(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return i(t,t-(n*n-e*e+t*t)/(2*n))+i(e,r)},e.containedInCircles=r,e.distance=o,e.getCenter=s,e.intersectionArea=function(t,e){var n,u=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=a(t[n],t[r]),o=0;o<i.length;++o){var s=i[o];s.parentIndex=[n,r],e.push(s)}return e}(t),l=u.filter((function(e){return r(e,t)})),c=0,f=0,p=[];if(l.length>1){var h=s(l);for(n=0;n<l.length;++n){var d=l[n];d.angle=Math.atan2(d.x-h.x,d.y-h.y)}l.sort((function(t,e){return e.angle-t.angle}));var g=l[l.length-1];for(n=0;n<l.length;++n){var v=l[n];f+=(g.x+v.x)*(v.y-g.y);for(var y={x:(v.x+g.x)/2,y:(v.y+g.y)/2},m=null,_=0;_<v.parentIndex.length;++_)if(g.parentIndex.indexOf(v.parentIndex[_])>-1){var b=t[v.parentIndex[_]],x=Math.atan2(v.x-b.x,v.y-b.y),w=Math.atan2(g.x-b.x,g.y-b.y),S=w-x;S<0&&(S+=2*Math.PI);var E=w-S/2,A=o(y,{x:b.x+b.radius*Math.sin(E),y:b.y+b.radius*Math.cos(E)});A>2*b.radius&&(A=2*b.radius),(null===m||m.width>A)&&(m={circle:b,width:A,p1:v,p2:g})}null!==m&&(p.push(m),c+=i(m.circle.radius,m.width),g=v)}}else{var O=t[0];for(n=1;n<t.length;++n)t[n].radius<O.radius&&(O=t[n]);var T=!1;for(n=0;n<t.length;++n)if(o(t[n],O)>Math.abs(O.radius-t[n].radius)){T=!0;break}T?c=f=0:(c=O.radius*O.radius*Math.PI,p.push({circle:O,p1:{x:O.x,y:O.y+O.radius},p2:{x:O.x-1e-10,y:O.y+O.radius},width:2*O.radius}))}return f/=2,e&&(e.area=c+f,e.arcArea=c,e.polygonArea=f,e.arcs=p,e.innerPoints=l,e.intersectionPoints=u),c+f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStockData=function(t,e){return(0,r.map)(t,(function(t){if((0,r.isArray)(e)){var n=e[0],o=e[1],a=e[2],s=e[3];t[i.TREND_FIELD]=t[n]<=t[o]?i.TREND_UP:i.TREND_DOWN,t[i.Y_FIELD]=[t[n],t[o],t[a],t[s]]}return t}))};var r=n(0),i=n(313)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FUNNEL_CONVERSATION_FIELD",{enumerable:!0,get:function(){return u.FUNNEL_CONVERSATION}}),e.Funnel=void 0;var r=n(1),i=n(0),o=n(18),a=n(7),s=n(604),u=n(127),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=(0,a.getAllElementsRecursively)(this.chart);(0,i.each)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=(0,a.getAllElementsRecursively)(this.chart),e=[];return(0,i.each)(t,(function(t){var n=t.getData(),r=t.getStates();(0,i.each)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=u.FUNNEL_CONVERSATION,e.PERCENT_FIELD=u.FUNNEL_PERCENT,e.TOTAL_PERCENT_FIELD=u.FUNNEL_TOTAL_PERCENT,e}(o.Plot);e.Funnel=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(h,d,g,v,i.tooltip,i.interaction,y,i.animation,i.theme,(0,i.annotation)())(t)},e.meta=g;var r=n(0),i=n(21),o=n(197),a=n(7),s=n(566),u=n(605),l=n(1280),c=n(1281),f=n(1282),p=n(127);function h(t){var e,n=t.options,i=n.compareField,u=n.xField,l=n.yField,c=n.locale,f=n.funnelStyle,h=n.data,d=(0,o.getLocale)(c),g={label:i?{fields:[u,l,i,p.FUNNEL_PERCENT,p.FUNNEL_CONVERSATION],formatter:function(t){return""+t[l]}}:{fields:[u,l,p.FUNNEL_PERCENT,p.FUNNEL_CONVERSATION],offset:0,position:"middle",formatter:function(t){return t[u]+" "+t[l]}},tooltip:{title:u,formatter:function(t){return{name:t[u],value:t[l]}}},conversionTag:{formatter:function(t){return d.get(["conversionTag","label"])+": "+s.conversionTagFormatter.apply(void 0,t[p.FUNNEL_CONVERSATION])}}};return(i||f)&&(e=function(t){return(0,a.deepAssign)({},i&&{lineWidth:1,stroke:"#fff"},(0,r.isFunction)(f)?f(t):f)}),(0,a.deepAssign)({options:g},t,{options:{funnelStyle:e,data:(0,r.clone)(h)}})}function d(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?(0,c.facetFunnel)(t):n?(0,l.compareFunnel)(t):r?(0,f.dynamicHeightFunnel)(t):(0,u.basicFunnel)(t)}function g(t){var e,n=t.options,r=n.xAxis,o=n.yAxis,s=n.xField,u=n.yField;return(0,a.flow)((0,i.scale)(((e={})[s]=r,e[u]=o,e)))(t)}function v(t){return t.chart.axis(!1),t}function y(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.basicFunnel=function(t){return(0,o.flow)(c,f,p,h)(t)};var r=n(1),i=n(0),o=n(7),a=n(65),s=n(49),u=n(127),l=n(314);function c(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=n.yField,a=n.maxSize,s=n.minSize,u=(0,l.transformData)(i,i,{yField:o,maxSize:a,minSize:s});return e.data(u),t}function f(t){var e=t.chart,n=t.options,r=n.xField,l=n.yField,c=n.color,f=n.tooltip,p=n.label,h=n.shape,d=void 0===h?"funnel":h,g=n.funnelStyle,v=n.state,y=(0,a.getTooltipMapping)(f,[r,l]),m=y.fields,_=y.formatter;return(0,s.geometry)({chart:e,options:{type:"interval",xField:r,yField:u.FUNNEL_MAPPING_VALUE,colorField:r,tooltipFields:(0,i.isArray)(m)&&m.concat([u.FUNNEL_PERCENT,u.FUNNEL_CONVERSATION]),mapping:{shape:d,tooltip:_,color:c,style:g},label:p,state:v}}),(0,o.findGeometry)(t.chart,"interval").adjust("symmetric"),t}function p(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function h(t){var e=t.options.maxSize;return(0,l.conversionTagComponent)((function(t,n,i,o){var a=e-(e-t[u.FUNNEL_MAPPING_VALUE])/2;return(0,r.__assign)((0,r.__assign)({},o),{start:[n-.5,a],end:[n-.5,a+.05]})}))(t),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLiquidData=function(t){return[{percent:t,type:"liquid"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=function(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,o=t.targetField,a=t.layout,s=[],u=[];e.forEach((function(t,e){var a;t[i].sort((function(t,e){return t-e})),t[i].forEach((function(r,o){var a,u=0===o?r:t[i][o]-t[i][o-1];s.push(((a={rKey:i+"_"+o})[n]=n?t[n]:String(e),a[i]=u,a))})),t[r].forEach((function(i,o){var a;s.push(((a={mKey:t[r].length>1?r+"_"+o:""+r})[n]=n?t[n]:String(e),a[r]=i,a))})),s.push(((a={tKey:""+o})[n]=n?t[n]:String(e),a[o]=t[o],a)),u.push(t[i],t[r],t[o])}));var l=Math.min.apply(Math,u.flat(1/0)),c=Math.max.apply(Math,u.flat(1/0));return l=l>0?0:l,"vertical"===a&&s.reverse(),{min:l,max:c,ds:s}}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.getTileMethod=l,e.treemap=function(t,e){var n,r=(e=(0,o.assign)({},u,e)).as;if(!(0,o.isArray)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=(0,a.getField)(e)}catch(h){console.warn(h)}var s=l(e.tile,e.ratio),c=function(t){return i.treemap().tile(s).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(i.hierarchy(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),f=r[0],p=r[1];return c.each((function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),(0,a.getAllNodes)(c)};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(194)),o=n(0),a=n(158);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function l(t,e){return"treemapSquarify"===t?i[t].ratio(e):i[t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gauge=void 0;var r=n(1),i=n(13),o=n(18),a=n(610),s=n(317),u=n(611);n(1295),n(1296);var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===s.INDICATEOR_VIEW_ID}));e&&e.data((0,u.getIndicatorData)(t));var n=this.chart.views.find((function(t){return t.id===s.RANGE_VIEW_ID}));n&&n.data((0,u.getRangeData)(t,this.options.range)),(0,a.statistic)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(o.Plot);e.Gauge=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,u.flow)(o.theme,o.animation,f,p,h,o.interaction,(0,o.annotation)(),d)(t)},e.statistic=h;var r=n(1),i=n(0),o=n(21),a=n(29),s=n(99),u=n(7),l=n(317),c=n(611);function f(t){var e=t.chart,n=t.options,r=n.percent,o=n.range,f=n.radius,p=n.innerRadius,h=n.startAngle,d=n.endAngle,g=n.axis,v=n.indicator,y=n.gaugeStyle,m=n.type,_=n.meter,b=o.color,x=o.width;if(v){var w=(0,c.getIndicatorData)(r),S=e.createView({id:l.INDICATEOR_VIEW_ID});S.data(w),S.point().position(l.PERCENT+"*1").shape(v.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:v}),S.coordinate("polar",{startAngle:h,endAngle:d,radius:p*f}),S.axis(l.PERCENT,g),S.scale(l.PERCENT,(0,u.pick)(g,s.AXIS_META_CONFIG_KEYS))}var E=(0,c.getRangeData)(r,n.range),A=e.createView({id:l.RANGE_VIEW_ID});A.data(E);var O=(0,i.isString)(b)?[b,l.DEFAULT_COLOR]:b;return(0,a.interval)({chart:A,options:{xField:"1",yField:l.RANGE_VALUE,seriesField:l.RANGE_TYPE,rawFields:[l.PERCENT],isStack:!0,interval:{color:O,style:y,shape:"meter"===m?"meter-gauge":null},args:{zIndexReversed:!0},minColumnWidth:x,maxColumnWidth:x}}).ext.geometry.customInfo({meter:_}),A.coordinate("polar",{innerRadius:p,radius:f,startAngle:h,endAngle:d}).transpose(),t}function p(t){var e;return(0,u.flow)((0,o.scale)(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[l.PERCENT]={},e)))(t)}function h(t,e){var n=t.chart,i=t.options,o=i.statistic,a=i.percent;if(n.getController("annotation").clear(!0),o){var s=o.content,l=void 0;s&&(l=(0,u.deepAssign)({},{content:(100*a).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},s)),(0,u.renderGaugeStatistic)(n,{statistic:(0,r.__assign)((0,r.__assign)({},o),{content:l})},{percent:a})}return e&&n.render(!0),t}function d(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndicatorData=function(t){var e;return[(e={},e[i.PERCENT]=(0,r.clamp)(t,0,1),e)]},e.getRangeData=function(t,e){var n=(0,r.get)(e,["ticks"],[]);return o((0,r.size)(n)?n:[0,(0,r.clamp)(t,0,1),1],t)},e.processRangeData=o;var r=n(0),i=n(317);function o(t,e){return t.map((function(n,r){var o;return(o={})[i.RANGE_VALUE]=n-(t[r-1]||0),o[i.RANGE_TYPE]=""+r,o[i.PERCENT]=e,o})).filter((function(t){return!!t[i.RANGE_VALUE]}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processData=s,e.transformData=function(t,e,n,o){return s(t,e,n,a.Y_FIELD,o).map((function(e,n){var o;return(0,i.isObject)(e)?(0,r.__assign)((0,r.__assign)({},e),((o={})[a.ABSOLUTE_FIELD]=e[a.Y_FIELD][1],o[a.DIFF_FIELD]=e[a.Y_FIELD][1]-e[a.Y_FIELD][0],o[a.IS_TOTAL]=n===t.length,o)):e}))};var r=n(1),i=n(0),o=n(7),a=n(318);function s(t,e,n,a,s){var u,l=[];if((0,i.reduce)(t,(function(t,e){var s;(0,o.log)(o.LEVEL.WARN,(0,i.isNumber)(e[n]),e[n]+" is not a valid number");var u=(0,i.isUndefined)(e[n])?null:e[n];return l.push((0,r.__assign)((0,r.__assign)({},e),((s={})[a]=[t,t+u],s))),t+u}),0),l.length&&s){var c=(0,i.get)(l,[[t.length-1],a,[1]]);l.push(((u={})[e]=s.label,u[n]=c,u[a]=[0,c],u))}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SERIES_FIELD_KEY=e.SECOND_AXES_VIEW=e.FIRST_AXES_VIEW=void 0,e.FIRST_AXES_VIEW="first-axes-view",e.SECOND_AXES_VIEW="second-axes-view",e.SERIES_FIELD_KEY="series-field-key"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHorizontal=i,e.syncViewPadding=function(t,e,n){var r=e[0],o=e[1],a=r.autoPadding,s=o.autoPadding,u=t.__axisPosition,l=u.layout,c=u.position;if(i(l)&&"top"===c&&(r.autoPadding=n.instance(a.top,0,a.bottom,a.left),o.autoPadding=n.instance(s.top,a.left,s.bottom,0)),i(l)&&"bottom"===c&&(r.autoPadding=n.instance(a.top,a.right/2+5,a.bottom,a.left),o.autoPadding=n.instance(s.top,s.right,s.bottom,a.right/2+5)),!i(l)&&"bottom"===c){var f=a.left>=s.left?a.left:s.left;r.autoPadding=n.instance(a.top,a.right,a.bottom/2+5,f),o.autoPadding=n.instance(a.bottom/2+5,s.right,s.bottom,f)}i(l)||"top"!==c||(f=a.left>=s.left?a.left:s.left,r.autoPadding=n.instance(a.top,a.right,0,f),o.autoPadding=n.instance(0,s.right,a.top,f))},e.transformData=function(t,e,n,i,o){var a=[];e.forEach((function(e){i.forEach((function(r){var i,o=((i={})[t]=r[t],i[n]=e,i[e]=r[e],i);a.push(o)}))}));var s=Object.values((0,r.groupBy)(a,n)),u=s[0],l=void 0===u?[]:u,c=s[1],f=void 0===c?[]:c;return o?[l.reverse(),f.reverse()]:[l,f]};var r=n(0);function i(t){return"vertical"!==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enableDrillInteraction=function(t){var e=t.interactions,n=t.drilldown;return(0,i.get)(n,"enabled")||u(e,"treemap-drill-down")},e.enableInteraction=u,e.findInteraction=s,e.resetDrillDown=function(t){var e=t.interactions["drill-down"];e&&e.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()},e.transformData=function(t){var e=t.data,n=t.colorField,s=t.enableDrillDown,u=t.hierarchyConfig,l=(0,a.treemap)(e,(0,r.__assign)((0,r.__assign)({},u),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),c=[];return l.forEach((function(t){if(0===t.depth)return null;if(s&&1!==t.depth)return null;if(!s&&t.children)return null;var a=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),l=s&&(0,i.isArray)(e.path)?a.concat(e.path.slice(1)):a,f=Object.assign({},t.data,(0,r.__assign)({x:t.x,y:t.y,depth:t.depth,value:t.value,path:l},t));if(!t.data[n]&&t.parent){var p=t.ancestors().find((function(t){return t.data[n]}));f[n]=null===p||void 0===p?void 0:p.data[n]}else f[n]=t.data[n];f[o.HIERARCHY_DATA_TRANSFORM_PARAMS]={hierarchyConfig:u,colorField:n,enableDrillDown:s},c.push(f)})),c};var r=n(1),i=n(0),o=n(202),a=n(608);function s(t,e){if((0,i.isArray)(t))return t.find((function(t){return t.type===e}))}function u(t,e){var n=s(t,e);return n&&!1!==n.enable}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodePaddingRatio=l,e.getNodeWidthRatio=u,e.transformToViewsData=function(t,e,n){var c=t.data,f=t.sourceField,p=t.targetField,h=t.weightField,d=t.nodeAlign,g=t.nodeSort,v=t.nodePadding,y=t.nodePaddingRatio,m=t.nodeWidth,_=t.nodeWidthRatio,b=t.nodeDepth,x=t.rawFields,w=void 0===x?[]:x,S=(0,o.transformDataToNodeLinkData)((0,s.cutoffCircle)(c,f,p),f,p,h,w),E=(0,a.sankeyLayout)({nodeAlign:d,nodePadding:l(v,y,n),nodeWidth:u(m,_,e),nodeSort:g,nodeDepth:b},S),A=E.nodes,O=E.links;return{nodes:A.map((function(t){return(0,r.__assign)((0,r.__assign)({},(0,i.pick)(t,(0,r.__spreadArrays)(["x","y","name"],w))),{isNode:!0})})),edges:O.map((function(t){return(0,r.__assign)((0,r.__assign)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},(0,i.pick)(t,(0,r.__spreadArrays)(["x","y","value"],w))),{isNode:!1})}))}};var r=n(1),i=n(7),o=n(198),a=n(1312),s=n(1316);function u(t,e,n){return(0,i.isRealNumber)(t)?t/n:e}function l(t,e,n){return(0,i.isRealNumber)(t)?t/n:e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.center=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?(0,r.minBy)(t.sourceLinks,i)-1:0},e.justify=function(t,e){return t.sourceLinks.length?t.depth:e-1},e.left=function(t){return t.depth},e.right=function(t,e){return e-1-t.height};var r=n(0);function i(t){return t.target.depth}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.X_FIELD=e.NODE_COLOR_FIELD=e.EDGE_COLOR_FIELD=e.DEFAULT_OPTIONS=void 0;var r=n(0);e.X_FIELD="x",e.Y_FIELD="y",e.NODE_COLOR_FIELD="name",e.EDGE_COLOR_FIELD="source";var i={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!(0,r.get)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RAW_FIELDS=e.DEFAULT_OPTIONS=void 0,e.RAW_FIELDS=["x","y","r","name","value","path","depth"],e.DEFAULT_OPTIONS={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mix=void 0;var r=n(1),i=n(18),o=n(1329);n(1330);var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return(0,r.__extends)(e,t),e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Mix=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.execPlotAdaptor=function(t,e,n){var o=L[t];o?(0,R[t])({chart:e,options:(0,i.deepAssign)({},o.getDefaultOptions(),(0,r.get)(D,t,{}),n)}):console.error("could not find "+t+" plot")};var r=n(0),i=n(7),o=n(306),a=n(572),s=n(199),u=n(569),l=n(564),c=n(610),f=n(585),p=n(587),h=n(200),d=n(596),g=n(309),v=n(580),y=n(591),m=n(604),_=n(559),b=n(571),x=n(568),w=n(565),S=n(563),E=n(609),A=n(584),O=n(588),T=n(586),C=n(595),P=n(593),M=n(579),I=n(589),k=n(603),R={line:o.adaptor,pie:a.adaptor,column:s.adaptor,bar:u.adaptor,area:l.adaptor,gauge:c.adaptor,"tiny-line":f.adaptor,"tiny-column":p.adaptor,"tiny-area":h.adaptor,"ring-progress":d.adaptor,progress:g.adaptor,scatter:v.adaptor,histogram:y.adaptor,funnel:m.adaptor},L={line:_.Line,pie:b.Pie,column:w.Column,bar:x.Bar,area:S.Area,gauge:E.Gauge,"tiny-line":A.TinyLine,"tiny-column":T.TinyColumn,"tiny-area":O.TinyArea,"ring-progress":C.RingProgress,progress:P.Progress,scatter:M.Scatter,histogram:I.Histogram,funnel:k.Funnel},D={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRangeData=e.getIndicatorData=e.processRangeData=void 0;var r=n(0),i=n(320);function o(t,e){return t.map((function(n,r){var o;return(o={})[i.RANGE_VALUE]=n-(t[r-1]||0),o[i.RANGE_TYPE]=""+r,o[i.PERCENT]=e,o})).filter((function(t){return!!t[i.RANGE_VALUE]}))}e.processRangeData=o,e.getIndicatorData=function(t){var e;return[(e={},e[i.PERCENT]=r.clamp(t,0,1),e)]},e.getRangeData=function(t,e){var n=r.get(e,["ticks"],[]);return o(r.size(n)?n:[0,r.clamp(t,0,1),1],t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DualAxesGeometry=e.AxisType=void 0,function(t){t.Left="Left",t.Right="Right"}(e.AxisType||(e.AxisType={})),function(t){t.Line="line",t.Column="column"}(e.DualAxesGeometry||(e.DualAxesGeometry={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RIGHT_YAXIS_CONFIG=e.DEFAULT_LEFT_YAXIS_CONFIG=e.DEFAULT_YAXIS_CONFIG=e.RIGHT_AXES_VIEW=e.LEFT_AXES_VIEW=void 0;var r=n(1);e.LEFT_AXES_VIEW="left-axes-view",e.RIGHT_AXES_VIEW="right-axes-view",e.DEFAULT_YAXIS_CONFIG={nice:!0,label:{autoHide:!0,autoRotate:!1}},e.DEFAULT_LEFT_YAXIS_CONFIG=r.__assign(r.__assign({},e.DEFAULT_YAXIS_CONFIG),{position:"left"}),e.DEFAULT_RIGHT_YAXIS_CONFIG=r.__assign(r.__assign({},e.DEFAULT_YAXIS_CONFIG),{position:"right",grid:null})},function(t,e,n){"use strict";n.d(e,"x",(function(){return f})),n.d(e,"B",(function(){return h})),n.d(e,"K",(function(){return _})),n.d(e,"J",(function(){return w})),n.d(e,"L",(function(){return O})),n.d(e,"q",(function(){return P})),n.d(e,"M",(function(){return L})),n.d(e,"I",(function(){return D})),n.d(e,"b",(function(){return B})),n.d(e,"F",(function(){return z})),n.d(e,"l",(function(){return G})),n.d(e,"t",(function(){return W})),n.d(e,"z",(function(){return H})),n.d(e,"a",(function(){return q})),n.d(e,"E",(function(){return Z})),n.d(e,"s",(function(){return K})),n.d(e,"f",(function(){return et})),n.d(e,"m",(function(){return rt})),n.d(e,"G",(function(){return it})),n.d(e,"A",(function(){return ot})),n.d(e,"u",(function(){return at})),n.d(e,"v",(function(){return ut})),n.d(e,"g",(function(){return ct})),n.d(e,"o",(function(){return pt})),n.d(e,"O",(function(){return vt})),n.d(e,"C",(function(){return _t})),n.d(e,"j",(function(){return xt})),n.d(e,"H",(function(){return St})),n.d(e,"n",(function(){return At})),n.d(e,"y",(function(){return Rt})),n.d(e,"r",(function(){return Nt})),n.d(e,"p",(function(){return jt})),n.d(e,"h",(function(){return Bt})),n.d(e,"N",(function(){return Ut})),n.d(e,"D",(function(){return Gt})),n.d(e,"c",(function(){return Wt})),n.d(e,"d",(function(){return qt})),n.d(e,"e",(function(){return Kt})),n.d(e,"k",(function(){return $t})),n.d(e,"i",(function(){return ee})),n.d(e,"w",(function(){return oe}));var r={};n.r(r),n.d(r,"ProgressChart",(function(){return f})),n.d(r,"RingProgressChart",(function(){return h})),n.d(r,"TinyColumnChart",(function(){return _})),n.d(r,"TinyAreaChart",(function(){return w})),n.d(r,"TinyLineChart",(function(){return O}));var i={};n.r(i),n.d(i,"LineChart",(function(){return P})),n.d(i,"TreemapChart",(function(){return L})),n.d(i,"StepLineChart",(function(){return D})),n.d(i,"BarChart",(function(){return B})),n.d(i,"StackedBarChart",(function(){return z})),n.d(i,"GroupedBarChart",(function(){return G})),n.d(i,"PercentStackedBarChart",(function(){return W})),n.d(i,"RangeBarChart",(function(){return H})),n.d(i,"AreaChart",(function(){return q})),n.d(i,"StackedAreaChart",(function(){return Z})),n.d(i,"PercentStackedAreaChart",(function(){return K})),n.d(i,"ColumnChart",(function(){return et})),n.d(i,"GroupedColumnChart",(function(){return rt})),n.d(i,"StackedColumnChart",(function(){return it})),n.d(i,"RangeColumnChart",(function(){return ot})),n.d(i,"PercentStackedColumnChart",(function(){return at})),n.d(i,"PieChart",(function(){return ut})),n.d(i,"DensityHeatmapChart",(function(){return ct})),n.d(i,"HeatmapChart",(function(){return pt})),n.d(i,"WordCloudChart",(function(){return vt})),n.d(i,"RoseChart",(function(){return _t})),n.d(i,"FunnelChart",(function(){return xt})),n.d(i,"StackedRoseChart",(function(){return St})),n.d(i,"GroupedRoseChart",(function(){return At})),n.d(i,"RadarChart",(function(){return Rt})),n.d(i,"LiquidChart",(function(){return Nt})),n.d(i,"HistogramChart",(function(){return jt})),n.d(i,"DonutChart",(function(){return Bt})),n.d(i,"WaterfallChart",(function(){return Ut})),n.d(i,"ScatterChart",(function(){return Gt})),n.d(i,"BubbleChart",(function(){return Wt})),n.d(i,"BulletChart",(function(){return qt})),n.d(i,"CalendarChart",(function(){return Kt})),n.d(i,"GaugeChart",(function(){return $t})),n.d(i,"DualAxesChart",(function(){return ee}));var o=n(4),a=n.n(o),s=n(3),u=n.n(s),l=n(644),c=n(10),f=Object(c.a)(l.Progress,"ProgressChart",(function(t){return a()({data:t.percent,color:"#5B8FF9"},t)})),p=n(645),h=Object(c.a)(p.RingProgress,"RingProgressChart",(function(t){return a()({data:t.percent,color:"#5B8FF9"},t)})),d=n(646),g=n(19),v=n.n(g),y=n(15),m=n(0),_=Object(c.a)(d.TinyColumn,"TinyColumnChart",(function(t){var e=Object(y.c)(t);if(!Object(m.isNil)(e.yField)){var n=e.data.map((function(t){return t[e.yField]})).filter((function(t){return!Object(m.isNil)(t)}));n&&n.length&&v()(e,"data",n)}return v()(e,"tooltip",!1),e})),b=n(647),x=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},w=Object(c.a)(b.TinyArea,"TinyAreaChart",(function(t){var e=Object(y.c)(t),n=e.xField,r=e.yField,i=e.data,o=x(e,["xField","yField","data"]);return n&&r&&i&&(o.data=i.map((function(t){return t[r]}))),a()({},o)})),S=n(648),E=n(17),A=n.n(E),O=Object(c.a)(S.TinyLine,"TinyLineChart",(function(t){var e=Object(y.c)(t);if(!Object(m.isNil)(e.yField)){var n=e.data.map((function(t){return t[e.yField]})).filter((function(t){return!Object(m.isNil)(t)}));n&&n.length&&v()(e,"data",n)}var r=A()(e,"size");if(!Object(m.isNil)(r)){var i=A()(e,"lineStyle",{});v()(e,"lineStyle",a()(a()({},i),{lineWidth:r}))}return v()(e,"tooltip",!1),e})),T=n(233),C=function(t){var e=Object(y.c)(t);return Object(y.e)(e,"point"),!0===e.point&&(e.point={}),e},P=Object(c.a)(T.Line,"LineChart",C),M=n(649),I=n(16),k=n.n(I),R=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(r>n)delete e.children;else{var i=e.children;i&&i.length&&i.forEach((function(e){t(e,n,r+1)}))}},L=Object(c.a)(M.Treemap,"TreemapChart",(function(t){var e=Object(y.c)(t),n=Object(m.get)(e,"maxLevel",2);if(!Object(m.isNil)(n))if(n<1)k()(!1,"maxLevel \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e1");else{var r=Object(m.get)(e,"data",{});R(r,n),Object(m.set)(e,"data",r),Object(m.set)(e,"maxLevel",n)}return e})),D=Object(c.a)(T.Line,"StepLineChart",(function(t){return k()(!1,"<StepLineChart />\u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<LineChart />\u66ff\u4ee3\u3002"),t.stepType=t.stepType||t.step||"hv",C(t)})),N=n(84),F=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},j=function(t){var e=Object(y.c)(t),n=e.barSize,r=F(e,["barSize"]);return Object(y.f)([{sourceKey:"stackField",targetKey:"seriesField",notice:"stackField\u662f\u65e7\u7248API\uff0c\u5373\u5c06\u5e9f\u5f03 \u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"},{sourceKey:"colorField",targetKey:"seriesField",notice:"colorField\u662f\u65e7\u7248API\uff0c\u5373\u5c06\u5e9f\u5f03 \u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"}],r),Object(m.isNil)(n)||(r.minBarWidth=n,r.maxBarWidth=n),r},B=Object(c.a)(N.Bar,"BarChart",j),z=Object(c.a)(N.Bar,"StackedBarChart",(function(t){return k()(!1,"<StackedBarChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<BarChart />\u66ff\u4ee3\uff0c"),Object(m.deepMix)(t,{isStack:!0}),j(t)})),U=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},V=[{sourceKey:"colorField",targetKey:"seriesField",notice:"colorField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"}],G=Object(c.a)(N.Bar,"GroupedBarChart",(function(t){k()(!1,"<GroupedBarChart /> \u57285.0\u540e\u5373\u5c06\u88ab\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<BarChart /> \u66ff\u4ee3");var e=Object(y.c)(t),n=e.barSize,r=U(e,["barSize"]);return Object(y.f)(V,r),Object(m.isNil)(n)||(r.minBarWidth=n,r.maxBarWidth=n),Object(m.deepMix)(t,{isGroup:!0}),r})),W=Object(c.a)(N.Bar,"PercentStackedBarChart",(function(t){return k()(!1,"<PercentStackedBarChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<BarChart />\u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isPercent:!0,isStack:!0}),j(t)})),H=Object(c.a)(N.Bar,"RangeBarChart",(function(t){return k()(!1,"<RangeBarChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<BarChart />\u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isRange:!0}),j(t)})),Y=n(135),X=function(t){var e=Object(y.c)(t);return Object(y.e)(e,"line"),Object(y.e)(e,"point"),e.isStack=!Object(m.isNil)(e.isStack)&&e.isStack,Object(y.f)([{sourceKey:"stackField",targetKey:"seriesField",notice:"stackField\u662f\u65e7\u7248api\uff0c\u5373\u5c06\u5e9f\u5f03 \u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"}],e),e},q=Object(c.a)(Y.Area,"AreaChart",X),Z=Object(c.a)(Y.Area,"StackedAreaChart",(function(t){return k()(!1,"<StackedAreaChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<AreaChart /> \u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isStack:!0}),X(t)})),K=Object(c.a)(Y.Area,"PercentStackedAreaChart",(function(t){return k()(!1,"<PercentStackedAreaChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<AreaChart /> \u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isPercent:!0}),X(t)})),Q=n(85),J=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},$=[{sourceKey:"colorField",targetKey:"seriesField",notice:"colorField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"},{sourceKey:"stackField",targetKey:"seriesField",notice:"colorField\u662f\u65e7\u7248API\uff0c\u5373\u5c06\u5e9f\u5f03 \u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"}],tt=function(t){var e=Object(y.c)(t),n=e.columnSize,r=J(e,["columnSize"]);return Object(y.f)($,r),Object(m.isNil)(n)||(r.minColumnWidth=n,r.maxColumnWidth=n),r},et=Object(c.a)(Q.Column,"ColumnChart",tt),nt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},rt=Object(c.a)(Q.Column,"GroupedColumnChart",(function(t){k()(!1,"<GroupedColumnChart /> \u57285.0\u540e\u5373\u5c06\u88ab\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<ColumnChart /> \u66ff\u4ee3");var e=Object(y.c)(t),n=e.columnSize,r=nt(e,["columnSize"]);return Object(m.isNil)(n)||(r.minColumnWidth=n,r.maxColumnWidth=n),Object(m.deepMix)(t,{isGroup:!0}),r})),it=Object(c.a)(Q.Column,"StackedColumnChart",(function(t){return k()(!1,"<StackedColumnChart />\u5373\u5c06\u57285.0\u4e2d\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<ColumnChart />\u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isStack:!0}),tt(t)})),ot=Object(c.a)(Q.Column,"RangeColumnChart",(function(t){return k()(!1,"<RangeColumnChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<ColumnChart />\u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isRange:!0}),tt(t)})),at=Object(c.a)(Q.Column,"PercentStackedColumnChart",(function(t){return k()(!1,"<PercentStackedColumnChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<ColumnChart />\u66ff\u4ee3\u3002"),Object(m.deepMix)(t,{isPercent:!0,isStack:!0}),tt(t)})),st=n(234),ut=Object(c.a)(st.Pie,"PieChart",y.c),lt=n(136),ct=Object(c.a)(lt.Heatmap,"DensityHeatmapChartChart",(function(t){var e=Object(y.c)(t);return Object(y.f)([{sourceKey:"radius",targetKey:"sizeRatio",notice:"radius \u8bf7\u4f7f\u7528sizeRatio\u66ff\u4ee3"}],e),Object(m.set)(e,"type","density"),e})),ft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},pt=Object(c.a)(lt.Heatmap,"HeatmapChart",(function(t){var e=Object(y.c)(t),n=e.shapeType,r=ft(e,["shapeType"]);return n&&(r.heatmapStyle=n,Object(I.warn)(!1,"shapeType\u662fg2plot@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 `heatmapStyle` \u66ff\u4ee3")),!r.shape&&r.sizeField&&(r.shape="square"),r})),ht=n(650),dt=n(13),gt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},vt=Object(c.a)(ht.WordCloud,"WordCloudChart",(function(t){var e=t.maskImage,n=t.wordField,r=void 0===n?"word":n,i=t.weightField,o=void 0===i?"weight":i,s=t.colorField,u=void 0===s?"word":s,l=t.selected,c=t.shuffle,f=t.interactions,p=void 0===f?[{type:"element-active"}]:f,h=t.onGetG2Instance,d=t.tooltip,g=t.wordStyle,v=t.onWordCloudHover,y=t.onWordCloudClick,m=gt(t,["maskImage","wordField","weightField","colorField","selected","shuffle","interactions","onGetG2Instance","tooltip","wordStyle","onWordCloudHover","onWordCloudClick"]),_=g.active,b=gt(g,["active"]);return a()({colorField:u,wordField:r,weightField:o,imageMask:e,random:c,interactions:p,wordStyle:b,tooltip:!(d&&!d.visible)&&d,onGetG2Instance:function(t){if(h&&h(t),l>=0){var e=t.chart,n=Object(dt.getTheme)();_&&a()(n.geometries.point["hollow-circle"].active.style,_),e.on("afterrender",(function(){e.geometries.length&&e.geometries[0].elements.forEach((function(t,e){e===l&&t.setState("active",!0)}))})),e.on("plot:mousemove",(function(t){if(t.data){var e=t.data.data,n=e.datum,r=e.x,i=e.y,o=e.width,a=e.height;v&&v(n,{x:r,y:i,w:o,h:a},t.event)}else v&&v(void 0,void 0,t.event)})),e.on("plot:click",(function(t){if(t.data){var e=t.data.data,n=e.datum,r=e.x,i=e.y,o=e.width,a=e.height;y&&y(n,{x:r,y:i,w:o,h:a},t.event)}else y&&y(void 0,void 0,t.event)}))}}},m)})),yt=n(137),mt=[{sourceKey:"colorField",targetKey:"seriesField",notice:"colorField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"},{sourceKey:"categoryField",targetKey:"xField",notice:"categoryField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528xField\u66ff\u4ee3"},{sourceKey:"radiusField",targetKey:"yField",notice:"radiusField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yFeild\u66ff\u4ee3"}],_t=Object(c.a)(yt.Rose,"RoseChart",(function(t){var e=Object(y.c)(t);return Object(y.f)(mt,e),!1===A()(e,"tooltip.visible")&&v()(e,"tooltip",!1),!1===A()(e,"label.visible")&&v()(e,"label",!1),"inner"===A()(e,"label.type")&&(e.label.offset=-15,delete e.label.type),"outer"===A()(e,"label.type")&&delete e.label.type,e})),bt=n(651),xt=Object(c.a)(bt.Funnel,"FunnelChart",(function(t){var e=Object(y.c)(t);return Object(y.f)([{sourceKey:"transpose",targetKey:"isTransposed",notice:"transpose \u5373\u5c06\u5e9f\u5f03 \u8bf7\u4f7f\u7528isTransposed\u66ff\u4ee3"}],e),e})),wt=[{sourceKey:"stackField",targetKey:"seriesField",notice:"stackField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"},{sourceKey:"categoryField",targetKey:"xField",notice:"categoryField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528xField\u66ff\u4ee3"},{sourceKey:"radiusField",targetKey:"yField",notice:"radiusField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yFeild\u66ff\u4ee3"}],St=Object(c.a)(yt.Rose,"StackedRoseChart",(function(t){k()(!1,"<StackedRoseChart /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<RoseChart />\u66ff\u4ee3\uff0c");var e=Object(y.c)(t);return Object(y.f)(wt,e),!1===A()(e,"tooltip.visible")&&v()(e,"tooltip",!1),!1===A()(e,"label.visible")&&v()(e,"label",!1),"inner"===A()(e,"label.type")&&(e.label.offset=-15,delete e.label.type),"outer"===A()(e,"label.type")&&delete e.label.type,a()(a()({},e),{isStack:!0})})),Et=[{sourceKey:"groupField",targetKey:"seriesField",notice:"groupField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528seriesField\u66ff\u4ee3"},{sourceKey:"categoryField",targetKey:"xField",notice:"categoryField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528xField\u66ff\u4ee3"},{sourceKey:"radiusField",targetKey:"yField",notice:"radiusField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yFeild\u66ff\u4ee3"}],At=Object(c.a)(yt.Rose,"GroupedRoseChart",(function(t){k()(!1,"<GroupedRose /> \u5373\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528<Rose />\u3002");var e=Object(y.c)(t);return Object(y.f)(Et,e),"inner"===Object(m.get)(e,"label.type")&&(e.label.offset=-15,delete e.label.type),"outer"===Object(m.get)(e,"label.type")&&delete e.label.type,a()(a()({},e),{isGroup:!0})})),Ot=n(38),Tt=n.n(Ot),Ct=n(61),Pt=n.n(Ct),Mt=n(652),It=[{sourceKey:"angleField",targetKey:"xField",notice:"angleField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528xField\u66ff\u4ee3"},{sourceKey:"radiusField",targetKey:"yField",notice:"radiusField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yFeild\u66ff\u4ee3"},{sourceKey:"angleAxis",targetKey:"xAxis",notice:"angleAxis \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528xAxis\u66ff\u4ee3"},{sourceKey:"radiusAxis",targetKey:"yAxis",notice:"radiusAxis \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yAxis\u66ff\u4ee3"}],kt=function(t){var e=A()(t,"line",{}),n=e.visible,r=e.size,i=e.style;v()(t,"lineStyle",a()(a()(a()({},i),{opacity:1,lineWidth:"number"===typeof r?r:2}),function(t){return Tt()(t)||t?{fillOpacity:1,strokeOpacity:1}:{fillOpacity:0,strokeOpacity:0}}(n)))},Rt=Object(c.a)(Mt.Radar,"RadarChart",(function(t){Object(y.f)(It,t);var e=Object(y.c)(t);return!1===A()(e,"area.visible")&&v()(e,"area",!1),!1===A()(e,"point.visible")&&v()(e,"point",!1),kt(e),(Pt()(e.angleAxis)||Pt()(e.radiusAxis))&&(e.angleAxis||(e.angleAxis={}),e.angleAxis.line=A()(e,"angleAxis.line",null),e.angleAxis.tickLine=A()(e,"angleAxis.tickLine",null)),!1===A()(e,"tooltip.visible")&&v()(e,"tooltip",!1),!1===A()(e,"label.visible")&&v()(e,"label",!1),"line"===A()(e,"yAxis.grid.line.type")&&Object(m.deepMix)(e,{xAxis:{line:null,tickLine:null}},e),e})),Lt=n(653),Dt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Nt=Object(c.a)(Lt.Liquid,"LiquidChart",(function(t){var e=Object(y.c)(t),n=(e.range,e.min),r=void 0===n?0:n,i=e.max,o=void 0===i?1:i,s=e.value,u=Dt(e,["range","min","max","value"]);if(!Object(m.isNil)(s)){u.percent=s/(o-r);var l=Object(m.get)(u,"statistic.content.formatter");null!==u.statistic&&!1!==u.statistic&&Object(m.deepMix)(u,{statistic:{content:{formatter:function(){return Object(m.isFunction)(l)&&l(s),s}}}})}Object(y.e)(u,"statistic"),Object(y.e)(u,"statistic.title"),Object(y.e)(u,"statistic.content");var c=u.percent;return a()({data:c},u)})),Ft=n(654),jt=Object(c.a)(Ft.Histogram,"HistogramChart"),Bt=Object(c.a)(st.Pie,"DonutChart",(function(t){var e=Object(y.c)(t);return Object(y.e)(e,"statistic"),Object(y.e)(e,"statistic.title"),Object(y.e)(e,"statistic.content"),a()({innerRadius:.8},e)})),zt=n(655),Ut=Object(c.a)(zt.Waterfall,"WaterfallChart"),Vt=n(235),Gt=Object(c.a)(Vt.Scatter,"ScatterChart",(function(t){var e=Object(y.c)(t);A()(e,"pointSize")&&v()(e,"size",A()(e,"pointSize")),Object(y.e)(e,"quadrant");var n=A()(e,"quadrant.label");if(!A()(e,"quadrant.labels")&&n){var r=n.text,i=n.style;if(r&&r.length&&i){var o=r.map((function(t){return{style:i,content:t}}));v()(e,"quadrant.labels",o)}}if(!A()(e,"regressionLine")){var a=A()(e,"trendline");Object(m.isObject)(a)&&!1===A()(a,"visible")?v()(e,"regressionLine",null):v()(e,"regressionLine",a)}return e})),Wt=Object(c.a)(Vt.Scatter,"BubbleChart",(function(t){var e=Object(y.c)(t);return Tt()(A()(e,"pointSize"))||v()(e,"size",A()(e,"pointSize")),k()(!1,"BubbleChart \u56fe\u8868\u7c7b\u578b\u547d\u540d\u5df2\u53d8\u66f4\u4e3aScatter\uff0c\u8bf7\u4fee\u6539\u4e3a<ScatterChart />"),e})),Ht=n(656),Yt=n(22),Xt=n.n(Yt),qt=Object(c.a)(Ht.Bullet,"BulletChart",(function(t){var e=Object(y.c)(t);return Tt()(A()(t,"measureSize"))||(k()(!1,"measureSize\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528size.measure\u66ff\u4ee3"),v()(e,"size.measure",A()(t,"measureSize"))),Tt()(A()(t,"rangeSize"))||(k()(!1,"rangeSize\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528size.range\u66ff\u4ee3"),v()(e,"size.range",A()(t,"rangeSize"))),Tt()(A()(t,"markerSize"))||(k()(!1,"markerSizee\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528size.target\u66ff\u4ee3"),v()(e,"size.target",A()(t,"markerSize"))),Tt()(A()(t,"measureColors"))||(k()(!1,"measureColors\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528color.measure\u66ff\u4ee3"),v()(e,"color.measure",A()(t,"measureColors"))),Tt()(A()(t,"rangeColors"))||(k()(!1,"rangeColors\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528color.range\u66ff\u4ee3"),v()(e,"color.range",A()(t,"rangeColors"))),Tt()(A()(t,"markerColors"))||(k()(!1,"markerColors\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528color.target\u66ff\u4ee3"),v()(e,"color.target",A()(t,"markerColors"))),Tt()(A()(t,"markerStyle"))||(k()(!1,"markerStyle\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528bulletStyle.target\u66ff\u4ee3"),v()(e,"bulletStyle.target",A()(t,"markerStyle"))),Tt()(A()(t,"xAxis.line"))&&v()(e,"xAxis.line",!1),Tt()(A()(t,"yAxis"))&&v()(e,"yAxis",!1),Tt()(A()(t,"measureField"))&&v()(e,"measureField","measures"),Tt()(A()(t,"rangeField"))&&v()(e,"rangeField","ranges"),Tt()(A()(t,"targetField"))&&v()(e,"targetField","target"),k()(!Tt()(A()(t,"rangeMax")),"\u8be5\u5c5e\u6027\u5df2\u5e9f\u5f03\uff0c\u8bf7\u5728\u6570\u636e\u4e2d\u914d\u7f6erange\uff0c\u5e76\u914d\u7f6erangeField"),Xt()(A()(t,"data"))&&v()(e,"data",t.data.map((function(e){var n={};return Tt()(A()(t,"rangeMax"))||(n={ranges:[A()(t,"rangeMax")]}),Xt()(e.targets)?a()(a()(a()({},n),{target:e.targets[0]}),e):a()(a()({},n),e)}))),e}));n(657).G2.registerShape("polygon","boundary-polygon",{draw:function(t,e){var n=e.addGroup(),r={stroke:"#fff",lineWidth:1,fill:t.color,paht:[]},i=t.points,o=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]];if(r.path=this.parsePath(o),n.addShape("path",{attrs:r}),Object(m.get)(t,"data.lastWeek")){var a=[["M",i[2].x,i[2].y],["L",i[3].x,i[3].y]];n.addShape("path",{attrs:{path:this.parsePath(a),lineWidth:4,stroke:"#404040"}}),Object(m.get)(t,"data.lastDay")&&n.addShape("path",{attrs:{path:this.parsePath([["M",i[1].x,i[1].y],["L",i[2].x,i[2].y]]),lineWidth:4,stroke:"#404040"}})}return n}});var Zt=[{sourceKey:"colors",targetKey:"color",notice:"colors \u662f g2Plot@1.0 \u7684\u5c5e\u6027\uff0c\u8bf7\u4f7f\u7528 color \u5c5e\u6027\u66ff\u4ee3"},{sourceKey:"valueField",targetKey:"colorField",notice:"valueField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528colorField\u66ff\u4ee3"},{sourceKey:"radiusField",targetKey:"yField",notice:"radiusField \u662f g2@1.0\u7684\u5c5e\u6027\uff0c\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528yFeild\u66ff\u4ee3"}],Kt=Object(c.a)(lt.Heatmap,"CalendarChart",(function(t){var e=Object(y.c)(t);return Object(y.f)(Zt,e),Object(m.isNil)(Object(m.get)(t,"shape"))&&Object(m.set)(e,"shape","boundary-polygon"),Object(m.isNil)(Object(m.get)(e,"xField"))&&Object(m.isNil)(Object(m.get)(e,"yField"))&&(Object(m.set)(e,"xField","week"),Object(m.set)(e,"meta.week",a()({type:"cat"},Object(m.get)(e,"meta.week",{}))),Object(m.set)(e,"yField","day"),Object(m.set)(e,"meta.day",{type:"cat",values:["Sun.","Mon.","Tues.","Wed.","Thur.","Fri.","Sat."]}),Object(m.set)(e,"reflect","y"),Object(m.set)(e,"xAxis",a()({tickLine:null,line:null,title:null,label:{offset:20,style:{fontSize:12,fill:"#bbb",textBaseline:"top"},formatter:function(t){return"2"==t?"MAY":"6"===t?"JUN":"10"==t?"JUL":"14"===t?"AUG":"18"==t?"SEP":"24"===t?"OCT":""}}},Object(m.get)(e,"xAxis",{})))),e})),Qt=n(658),Jt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},$t=Object(c.a)(Qt.Gauge,"GaugeChart",(function(t){var e=Object(y.c)(t),n=e.range,r=e.min,i=void 0===r?0:r,o=e.max,s=void 0===o?1:o,u=e.value,l=Jt(e,["range","min","max","value"]);Object(m.isArray)(n)?(k()(!1,"range \u5e94\u5f53\u662f\u4e2a\u5bf9\u8c61\uff0c\u8bf7\u4fee\u6539\u914d\u7f6e\u3002"),l.range={ticks:n.map((function(t){return t/(s-i)})),color:Object(dt.getTheme)().colors10}):l.range=n||{};var c=Object(m.get)(l,"color");if(Object(m.isNil)(c)||(k()(!1,"\u8bf7\u901a\u8fc7\u914d\u7f6e\u5c5e\u6027range.color\u6765\u914d\u7f6e\u989c\u8272"),l.range.color=c),Object(m.isNil)(Object(m.get)(l,"indicator"))&&Object(m.set)(l,"indicator",{pointer:{style:{stroke:"#D0D0D0"}},pin:{style:{stroke:"#D0D0D0"}}}),Object(m.get)(l,"statistic.visible")&&Object(m.set)(l,"statistic.title",Object(m.get)(l,"statistic")),!Object(m.isNil)(i)&&!Object(m.isNil)(s)&&!Object(m.isNil)(u)){l.percent=u/(s-i);var f=Object(m.get)(l,"axis.label.formatter");Object(m.set)(l,"axis",{label:{formatter:function(t){var e=t*(s-i);return Object(m.isFunction)(f)?f(e):e}}})}k()(!(Object(m.get)(l,"min")||Object(m.get)(l,"max")),"\u5c5e\u6027 `max` \u548c `min` \u4e0d\u63a8\u8350\u4f7f\u7528\uff0c \u8bf7\u76f4\u63a5\u914d\u7f6e\u5c5e\u6027range.ticks"),k()((Object(m.get)(l,"rangeSize")||Object(m.get)(l,"rangeStyle"),!1),"\u4e0d\u518d\u652f\u6301rangeSize\u3001rangeStyle\u3001rangeBackgroundStyle\u5c5e\u6027, \u8bf7\u67e5\u770b\u65b0\u7248\u4eea\u8868\u76d8\u914d\u7f6e\u6587\u6863\u3002");var p=Object(m.isNil)(l.percent)?u:l.percent;return a()({data:p},l)})),te=n(659),ee=Object(c.a)(te.DualAxes,"DualAxesChart"),ne=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},re=a()(a()({},i),r),ie=function(t){var e=t.chartName,n=(t.adapter||function(e){return{plotType:t.plotType||"Line",options:e}})(ne(t,["chartName","adapter"]))||{},r=n.plotType,i=n.options,o=re[r];return o.displayName=e,o?u.a.createElement(o,a()({},i)):u.a.createElement("div",{style:{color:"#aaa"}},"\u4e0d\u5b58\u5728plotName=\uff1a","".concat(r),"\u7684Plot\u7ec4\u4ef6")};ie.registerPlot=function(t,e){k()(!re[t],"%s\u7684plot\u5df2\u5b58\u5728",t),re[t]=e};var oe=ie},function(t,e,n){"use strict";n.r(e),n.d(e,"Canvas",(function(){return L})),n.d(e,"Group",(function(){return Q})),n.d(e,"Circle",(function(){return ut})),n.d(e,"Ellipse",(function(){return ft})),n.d(e,"Image",(function(){return dt})),n.d(e,"Line",(function(){return yt})),n.d(e,"Marker",(function(){return bt})),n.d(e,"Path",(function(){return St})),n.d(e,"Polygon",(function(){return Ot})),n.d(e,"Polyline",(function(){return Pt})),n.d(e,"Rect",(function(){return kt})),n.d(e,"Text",(function(){return Dt})),n.d(e,"render",(function(){return Nt}));var r=n(636),i=n.n(r),o=n(3),a=n.n(o),s=n(28),u={},l={getRootHostContext:function(){},getChildHostContext:function(){},createInstance:function(){},finalizeInitialChildren:function(){return!1},hideTextInstance:function(){},getPublicInstance:function(t){return t},hideInstance:function(){},unhideInstance:function(){},createTextInstance:function(){},prepareUpdate:function(){return u},shouldDeprioritizeSubtree:function(){return!1},appendInitialChild:function(){},appendChildToContainer:function(){},removeChildFromContainer:function(){},prepareForCommit:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},supportsMutation:!0,appendChild:function(){}},c=i()(l),f={render:function(t,e){e.clear&&e.clear();var n=c.createContainer(e,0,!1);return c.updateContainer(function(t,e){return a.a.createElement(s.a.Provider,{value:e},a.a.createElement(a.a.Fragment,null,t))}(t,e),n,null,(function(){})),c.getPublicRootInstance(n)}},p=n(11),h=n.n(p),d=n(12),g=n.n(d),v=n(5),y=n.n(v),m=n(4),_=n.n(m),b=n(9),x=n.n(b),w=n(25),S=n.n(w),E=n(206),A=n(327),O=n(133),T=n(67),C=a.a.createContext(null);C.displayName="CanvasContext";var P=C;function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var I=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},k=function(){function t(){x()(this,t)}return S()(t,[{key:"createInstance",value:function(t){t.children;var e=t.renderer,n=I(t,["children","renderer"]);this.instance="svg"===e?new A.Canvas(_()({},n)):new E.Canvas(_()({},n))}},{key:"update",value:function(t){this.instance||this.createInstance(t)}},{key:"draw",value:function(){this.instance&&this.instance.draw()}},{key:"destory",value:function(){this.instance&&(this.instance.remove(),this.instance=null)}}]),t}(),R=function(t){h()(n,t);var e=M(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new k,r}return S()(n,[{key:"componentDidMount",value:function(){this.helper.draw()}},{key:"componentWillUnmount",value:function(){this.helper.destory()}},{key:"getInstance",value:function(){return this.helper.instance}},{key:"render",value:function(){return this.helper.update(this.props),a.a.createElement(T.b,_()({},this.props.ErrorBoundaryProps),a.a.createElement(P.Provider,{value:this.helper},a.a.createElement(s.a.Provider,{value:this.helper.instance},a.a.createElement(a.a.Fragment,null,this.props.children))))}}]),n}(a.a.Component),L=Object(O.a)(R),D=n(45),N=n.n(D),F=n(77),j=n.n(F),B=n(27),z=n.n(B),U=n(229),V=n.n(U),G=n(22),W=n.n(G),H=n(93),Y=n.n(H),X={onClick:"click",onMousedown:"mousedown",onMouseup:"mouseup",onDblclick:"dblclick",onMouseout:"mouseout",onMouseover:"mouseover",onMousemove:"mousemove",onMouseleave:"mouseleave",onMouseenter:"mouseenter",onTouchstart:"touchstart",onTouchmove:"touchmove",onTouchend:"touchend",onDragenter:"dragenter",onDragover:"dragover",onDragleave:"dragleave",onDrop:"drop",onContextmenu:"contextmenu"};function q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var Z=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},K=function(t){h()(n,t);var e=q(n);function n(t){var r;x()(this,n),(r=e.call(this,t)).state={isReady:!1},r.handleRender=V()((function(){if(r.instance)r.forceUpdate();else{var t=r.props,e=t.group,n=t.zIndex,i=t.name;r.instance=e.chart.canvas.addGroup({zIndex:n,name:i}),e.chart.canvas.sort(),r.setState({isReady:!0})}}),300),r.configGroup=function(t){var e,n=t.rotate,i=t.animate,o=t.rotateAtPoint,a=t.scale,s=t.translate,u=t.move;if(n&&r.instance.rotate(n),W()(o)&&(e=r.instance).rotateAtPoint.apply(e,N()(o)),a&&r.instance.rotate(a),s&&r.instance.translate(s[0],s[1]),u&&r.instance.move(u.x,u.y),i){var l=i.toAttrs,c=Z(i,["toAttrs"]);r.instance.animate(l,c)}},r.bindEvents=function(){r.instance.off(),j()(X,(function(t,e){z()(r.props[e])&&r.instance.on(t,r.props[e])}))};var i=t.group,o=t.zIndex,a=t.name;return r.id=Y()("group"),i.isChartCanvas?i.chart.on("afterrender",r.handleRender):(r.instance=i.addGroup({zIndex:o,name:a}),r.configGroup(t)),r}return S()(n,[{key:"componentWillUnmount",value:function(){var t=this.props.group;t.isChartCanvas&&t.chart.off("afterrender",this.handleRender),this.instance&&this.instance.remove(!0)}},{key:"getInstance",value:function(){return this.instance}},{key:"render",value:function(){var t=this.props.group;return this.instance&&(this.instance.clear(),this.bindEvents()),t.isChartCanvas&&this.state.isReady||!t.isChartCanvas?a.a.createElement(s.a.Provider,{value:this.instance},a.a.createElement(a.a.Fragment,{key:Y()(this.id)},this.props.children)):a.a.createElement(a.a.Fragment,null)}}]),n}(a.a.Component);K.defaultProps={zIndex:3};var Q=Object(s.b)(K),J=n(78),$=n(94),tt=n(75),et=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},nt=function(){function t(e){x()(this,t),this.shape=e}return S()(t,[{key:"createInstance",value:function(t){this.instance=t.group.addShape(this.shape,Object(J.a)(t,["group","ctx"]))}},{key:"destroy",value:function(){this.instance&&(this.instance.remove(!0),this.instance=null)}},{key:"update",value:function(t){var e=this,n=Object(J.a)(t,N()($.a));this.destroy(),this.createInstance(n);var r=n.attrs,i=n.animate,o=n.isClipShape,a=n.visible,s=n.matrix,u=et(n,["attrs","animate","isClipShape","visible","matrix"]);if(this.instance.attr(r),i){var l=i.toAttrs,c=et(i,["toAttrs"]);this.instance.animate(l,c)}o&&this.instance.isClipShape(),!1===a&&this.instance.hide(),s&&this.instance.setMatrix(s),j()(X,(function(t,n){z()(u[n])&&e.instance.on(t,u[n])})),this.config=Object(tt.a)(n)}}]),t}();function rt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var it=function(t){h()(n,t);var e=rt(n);function n(){return x()(this,n),e.apply(this,arguments)}return S()(n,[{key:"componentWillUnmount",value:function(){this.helper.destroy()}},{key:"getInstance",value:function(){return this.helper.instance}},{key:"render",value:function(){return this.helper.update(this.props),null}}]),n}(a.a.Component),ot=it;function at(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var st=function(t){h()(n,t);var e=at(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("circle"),r}return n}(ot),ut=Object(s.b)(st);function lt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var ct=function(t){h()(n,t);var e=lt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("ellipse"),r}return n}(ot),ft=Object(s.b)(ct);function pt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var ht=function(t){h()(n,t);var e=pt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("image"),r}return n}(ot),dt=Object(s.b)(ht);function gt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var vt=function(t){h()(n,t);var e=gt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("line"),r}return n}(ot),yt=Object(s.b)(vt);function mt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var _t=function(t){h()(n,t);var e=mt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("marker"),r}return n}(ot),bt=Object(s.b)(_t);function xt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var wt=function(t){h()(n,t);var e=xt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("path"),r}return n}(ot),St=Object(s.b)(wt);function Et(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var At=function(t){h()(n,t);var e=Et(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("polygon"),r}return n}(ot),Ot=Object(s.b)(At);function Tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var Ct=function(t){h()(n,t);var e=Tt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("polyline"),r}return n}(ot),Pt=Object(s.b)(Ct);function Mt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var It=function(t){h()(n,t);var e=Mt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("rect"),r}return n}(ot),kt=Object(s.b)(It);function Rt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var i=y()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var Lt=function(t){h()(n,t);var e=Rt(n);function n(t){var r;return x()(this,n),(r=e.call(this,t)).helper=new nt("text"),r}return n}(ot),Dt=Object(s.b)(Lt),Nt=f.render},function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return r.a})),n.d(e,"Arc",(function(){return i.a})),n.d(e,"DataMarker",(function(){return o.a})),n.d(e,"DataRegion",(function(){return a.a})),n.d(e,"RegionFilter",(function(){return v})),n.d(e,"Html",(function(){return m})),n.d(e,"ReactElement",(function(){return b})),n.d(e,"Image",(function(){return x.a})),n.d(e,"Line",(function(){return w.a})),n.d(e,"Region",(function(){return S.a})),n.d(e,"Text",(function(){return E.a}));var r=n(36),i=n(208),o=n(209),a=n(210),s=n(9),u=n.n(s),l=n(11),c=n.n(l),f=n(12),p=n.n(f),h=n(5),d=n.n(h);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var v=function(t){c()(n,t);var e=g(n);function n(){var t;return u()(this,n),(t=e.apply(this,arguments)).annotationType="regionFilter",t}return n}(r.a);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var m=function(t){c()(n,t);var e=y(n);function n(){var t;return u()(this,n),(t=e.apply(this,arguments)).annotationType="html",t}return n}(r.a);function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var b=function(t){c()(n,t);var e=_(n);function n(){var t;return u()(this,n),(t=e.apply(this,arguments)).annotationType="ReactElement",t}return n}(r.a),x=n(211),w=n(212),S=n(213),E=n(214)},function(t,e,n){"use strict";n.d(e,"a",(function(){return $}));var r=n(4),i=n.n(r),o=n(3),a=n.n(o),s=n(27),u=n.n(s),l=n(205),c=n.n(l),f=n(93),p=n.n(f),h=n(22),d=n.n(h),g=n(50),v=n.n(g),y=n(8),m=n(40),_=n(9),b=n.n(_),x=n(25),w=n.n(x),S=n(11),E=n.n(S),A=n(12),O=n.n(A),T=n(5),C=n.n(T),P=n(222),M=n.n(P),I=n(17),k=n.n(I),R=n(640),L=n.n(R),D=n(47);function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C()(t);if(e){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var F=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},j="g2-tooltip",B=function(t){E()(n,t);var e=N(n);function n(){var t;return b()(this,n),(t=e.apply(this,arguments)).renderInnder=function(e){var n=e.data,r=n.title,i=n.items,o=n.x,a=n.y;M.a.render(t.props.children(r,i,o,a,e),t.getElement())},t}return w()(n,[{key:"componentWillUnmount",value:function(){var t=this.props.chartView;this.element&&this.element.remove(),t.getController("tooltip").clear(),t.off("tooltip:change",this.renderInnder)}},{key:"getElement",value:function(){return this.element||(this.element=document.createElement("div"),this.element.classList.add("bizcharts-tooltip"),this.element.classList.add("g2-tooltip"),this.element.style.width="auto",this.element.style.height="auto"),this.element}},{key:"overwriteCfg",value:function(){var t=this,e=this.props,n=e.chartView,r=(e.children,e.domStyles),o=void 0===r?{}:r,a=F(e,["chartView","children","domStyles"]);n.tooltip(i()(i()({inPlot:!1,domStyles:o},a),{customContent:function(){return t.getElement()}})),n.on("tooltip:change",this.renderInnder);var s=k()(Object(y.getTheme)(),["components","tooltip","domStyles",j],{});L()(this.element,i()(i()({},s),o["g2-tooltip"]))}},{key:"render",value:function(){return this.overwriteCfg(),null}}]),n}(a.a.Component),z=Object(D.b)(B),U=n(167),V=n(348),G=n.n(V),W=n(349),H=n.n(W),Y=n(128),X=n.n(Y),q=n(350),Z=n.n(q);Object(y.registerAction)("tooltip",X.a),Object(y.registerAction)("sibling-tooltip",H.a),Object(y.registerAction)("active-region",G.a),Object(y.registerAction)("ellipsis-text",Z.a),Object(y.registerInteraction)("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Object(y.registerInteraction)("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Object(y.registerInteraction)("tooltip-click",{start:[{trigger:"plot:click",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchstart",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:leave",action:"tooltip:hide"}]});var K=function(t){t.view.isTooltipLocked()?t.view.unlockTooltip():t.view.lockTooltip()};Object(y.registerInteraction)("tooltip-lock",{start:[{trigger:"plot:click",action:K},{trigger:"plot:touchstart",action:K},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mousemove",action:"tooltip:show"}],end:[{trigger:"plot:click",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Object(y.registerInteraction)("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Q=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object(y.registerComponentController)("tooltip",c.a);var J=function(t){var e=t.visible,n=void 0===e||e,r=(t.children,Q(t,["visible","children"])),o=Object(m.a)();return o.getController("tooltip").clear(),!0===n?o.tooltip(i()({customContent:null,showMarkers:!1},r)):o.tooltip(!1),null};function $(t){var e=t.children,n=t.triggerOn,r=t.onShow,s=t.onChange,l=t.onHide,c=t.lock,f=t.linkage,h=Q(t,["children","triggerOn","onShow","onChange","onHide","lock","linkage"]),g=Object(m.a)();g.removeInteraction("tooltip"),g.removeInteraction("tooltip-click"),g.removeInteraction("tooltip-lock"),"click"===n?g.interaction("tooltip-click"):c?g.interaction("tooltip-lock"):g.interaction("tooltip");var y=Object(o.useRef)(p()("tooltip"));Object(o.useEffect)((function(){d()(f)?Object(U.b)(f[0],y.current,g,h.shared,f[1]):v()(f)&&Object(U.b)(f,y.current,g,h.shared)}),[f,g]);var _=Object(o.useCallback)((function(t){u()(r)&&r(t,g)}),[]),b=Object(o.useCallback)((function(t){u()(s)&&s(t,g)}),[]),x=Object(o.useCallback)((function(t){u()(l)&&l(t,g)}),[]);return g.off("tooltip:show",_),g.on("tooltip:show",_),g.off("tooltip:change",b),g.on("tooltip:change",b),g.off("tooltip:hide",x),g.on("tooltip:hide",x),function(t){var e=t.visible,n=void 0===e||e,r=t.children;return n&&u()(r)}(t)?a.a.createElement(z,i()({},h),e):a.a.createElement(J,i()({},t))}$.defaultProps={showMarkers:!1,triggerOn:"hover"}},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(9),a=n.n(o),s=n(25),u=n.n(s),l=n(11),c=n.n(l),f=n(12),p=n.n(f),h=n(5),d=n.n(h),g=n(3),v=n.n(g),y=n(229),m=n.n(y),_=n(161),b=n(232),x=n(67),w=n(133),S=n(76),E=n(47),A=n(28),O=n(45),T=n.n(O),C=n(93),P=n.n(C),M=n(55),I=n.n(M),k=n(27),R=n.n(k),L=n(22),D=n.n(L),N=n(639),F=n.n(N),j=n(8),B=n(16),z=n.n(B),U=n(83),V=n(78),G=n(75),W=n(94),H=n(20),Y=n(107),X=n.n(Y),q=n(138);function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var K=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Q=function(t){c()(n,t);var e=Z(n);function n(){var t;return a()(this,n),(t=e.apply(this,arguments)).config={},t}return u()(n,[{key:"createInstance",value:function(t){this.chart=new j.Chart(i()({},t)),this.key=P()("bx-chart"),this.chart.emit("initialed"),this.isNewInstance=!0,this.extendGroup={isChartCanvas:!0,chart:this.chart}}},{key:"render",value:function(){if(this.chart)try{this.isNewInstance?(this.chart.render(),this.onGetG2Instance(),this.chart.unbindAutoFit(),this.isNewInstance=!1):this.chart.forceReRender?this.chart.render():this.chart.render(!0),this.chart.emit("processElemens")}catch(t){this.emit("renderError",t),this.destory(),console&&console.error(null===t||void 0===t?void 0:t.stack)}}},{key:"onGetG2Instance",value:function(){R()(this.config.onGetG2Instance)&&this.config.onGetG2Instance(this.chart)}},{key:"shouldReCreateInstance",value:function(t){if(!this.chart||t.forceUpdate)return!0;var e=this.config,n=e.data,r=K(e,["data"]),i=t.data,o=K(t,["data"]);if(D()(this.config.data)&&0===n.length&&D()(i)&&0!==i.length)return!0;var a=[].concat(T()(W.a),["scale","width","height","container","_container","_interactions","placeholder",/^on/,/^\_on/]);return!F()(Object(V.a)(r,T()(a)),Object(V.a)(o,T()(a)))}},{key:"update",value:function(t){var e=this,n=Object(G.a)(this.adapterOptions(t));this.shouldReCreateInstance(n)&&(this.destory(),this.createInstance(n)),n.pure&&(this.chart.axis(!1),this.chart.tooltip(!1),this.chart.legend(!1),this.chart.isPure=!0);var r=Object(q.a)(this.config),i=Object(q.a)(n),o=n.data,a=n.interactions,s=K(n,["data","interactions"]),u=this.config,l=u.data,c=u.interactions,f=void 0===c?[]:c;if(this.isNewInstance||r.forEach((function(t){e.chart.off(t[1],e.config["_".concat(t[0])])})),i.forEach((function(t){n["_".concat(t[0])]=function(r){n[t[0]](r,e.chart)},e.chart.on(t[1],n["_".concat(t[0])])})),D()(l)&&l.length){var p=!0;if(n.notCompareData&&(p=!1),l.length!==o.length?p=!1:l.forEach((function(t,e){Object(U.a)(t,o[e])||(p=!1)})),!p){this.chart.isDataChanged=!0,this.chart.emit(H.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA),this.chart.data(o);for(var h=this.chart.views,d=0,g=h.length;d<g;d++)h[d].changeData(o);this.chart.emit(H.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA)}}else this.chart.data(o);this.chart.scale(s.scale),!1===s.animate?this.chart.animate(!1):this.chart.animate(!0),f.forEach((function(t){e.chart.removeInteraction(t)})),a.forEach((function(t){e.chart.interaction(t)})),I()(this.config.filter,(function(t,n){D()(t)?e.chart.filter(t[0],null):e.chart.filter(n,null)})),I()(n.filter,(function(t,n){D()(t)?e.chart.filter(t[0],t[1]):e.chart.filter(n,t)})),this.chart.theme(n.theme),this.config=n}},{key:"adapterOptions",value:function(t){var e=t.data,n=K(t,["data"]),r=Object(V.a)(n,T()(W.a));return r.forceFit&&z()(!1,"forceFit \u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528`autoFit`\u66ff\u4ee3"),r.data=function(t){return t&&t.rows?t.rows:t}(e)||[],r}},{key:"destory",value:function(){if(this.chart){this.extendGroup=null;var t=this.chart;t.destroy(),t=null,this.chart=null,this.config={}}}}]),n}(X.a),J=Q,$=n(0);function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var et=function(t){c()(n,t);var e=tt(n);function n(t){var r;return a()(this,n),(r=e.call(this,t)).isRootView=!0,r.resize=m()((function(){var t=r.chartHelper.chart;if(r.props.autoFit&&r.chartHelper.chart){var e=Object(_.getChartSize)(r.props.container,r.props.autoFit,t.width,t.height),n=e.width,i=e.height;t.width===n&&t.height===i||(t.changeSize(n,i),t.emit("resize"))}}),300),r.resizeObserver=new b.ResizeObserver(r.resize),r.resizeObserver.observe(t.container),r.chartHelper=new J,r}return u()(n,[{key:"componentDidMount",value:function(){this.isError?this.chartHelper.destory():this.chartHelper.render()}},{key:"componentDidUpdate",value:function(){if(this.isError)this.chartHelper.destory();else{var t=this.props,e=t.width,n=t.height;if(!t.autoFit&&this.chartHelper.chart)if(e>=0&&e!==this.chartHelper.chart.width||n>=0&&n!==this.chartHelper.chart.height){var r=e||this.chartHelper.chart.width,i=n||this.chartHelper.chart.height;this.chartHelper.chart.changeSize(r,i),this.chartHelper.chart.emit("resize")}else this.chartHelper.render();else this.chartHelper.render()}}},{key:"componentWillUnmount",value:function(){this.chartHelper.destory(),this.resizeObserver.unobserve(this.props.container)}},{key:"getG2Instance",value:function(){return this.chartHelper.chart}},{key:"render",value:function(){var t=this,e=this.props,n=e.placeholder,r=e.data,o=e.errorContent,a=this.props.ErrorBoundaryProps;if((void 0===r||0===r.length)&&n){this.chartHelper.destory();var s=!0===n?v.a.createElement("div",{style:{position:"relative",top:"48%",color:"#aaa",textAlign:"center"}},"\u6682\u65e0\u6570\u636e"):n;return v.a.createElement(x.b,i()({},a),s)}return this.chartHelper.update(this.props),a=o?i()({fallback:o},a):{FallbackComponent:x.a},v.a.createElement(x.b,i()({},a,{key:this.chartHelper.key,onError:function(){var e;t.isError=!0,Object($.isFunction)(a.onError)&&(e=a).onError.apply(e,arguments)},onReset:function(){var e;t.isError=!1,Object($.isFunction)(a.onReset)&&(e=a).onReset.apply(e,arguments)},resetKeys:[this.chartHelper.key],fallback:o}),v.a.createElement(S.a.Provider,{value:this.chartHelper},v.a.createElement(E.a.Provider,{value:this.chartHelper.chart},v.a.createElement(A.a.Provider,{value:this.chartHelper.extendGroup},this.props.children))))}}]),n}(v.a.Component);et.defaultProps={placeholder:!1,visible:!0,interactions:[],filter:[]},e.a=Object(w.a)(et)},function(t,e,n){"use strict";var r=n(9),i=n.n(r),o=n(25),a=n.n(o),s=n(11),u=n.n(s),l=n(12),c=n.n(l),f=n(5),p=n.n(f),h=n(3),d=n.n(h),g=n(76),v=n(47),y=n(4),m=n.n(y),_=n(22),b=n.n(_),x=n(169),w=n.n(x),S=n(55),E=n.n(S),A=n(16),O=n.n(A),T=n(83),C=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},P=function(){function t(e){i()(this,t),this.config={},this.isRootView=!1,this.chart=e}return a()(t,[{key:"creatViewInstance",value:function(t){this.view=this.chart.createView(this.processOptions(t)),this.view.rootChart=this.chart}},{key:"getView",value:function(){return this.view}},{key:"update",value:function(t){var e=this,n=this.config.data,r=t.scale,i=t.animate,o=t.filter,a=t.visible,s=t.data,u=void 0===s?[]:s;if(u.rows&&(O()(!u.rows,"bizcharts@4\u4e0d\u652f\u6301 dataset\u6570\u636e\u683c\u5f0f\uff0c\u8bf7\u4f7f\u7528data={dv.rows}"),u=u.rows),(!this.view||b()(n)&&0===n.length)&&(this.destroy(),this.creatViewInstance(t)),b()(n)){this.view.changeData(u);var l=!0;n.length!==u.length?l=!1:n.forEach((function(t,e){Object(T.a)(t,u[e])||(l=!1)})),l||this.view.changeData(u)}else this.view.data(u);this.view.scale(r),this.view.animate(i),E()(this.config.filter,(function(t,n){b()(t)?e.view.filter(t[0],null):e.view.filter(n,null)})),E()(o,(function(t,n){b()(t)?e.view.filter(t[0],t[1]):e.view.filter(n,t)})),a?this.view.show():this.view.hide(),this.config=m()(m()({},t),{data:u})}},{key:"destroy",value:function(){this.view&&(this.view.destroy(),this.view=null),this.config={}}},{key:"processOptions",value:function(t){var e=t.region,n=t.start,r=t.end,i=C(t,["region","start","end"]);O()(!n,"start \u5c5e\u6027\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 region={{ start: {x:0,y:0}}} \u66ff\u4ee3"),O()(!r,"end \u5c5e\u6027\u5c06\u57285.0\u540e\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528 region={{ end: {x:0,y:0}}} \u66ff\u4ee3");var o=w()({start:{x:0,y:0},end:{x:1,y:1}},{start:n,end:r},e);return m()(m()({},i),{region:o})}}]),t}();function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c()(this,n)}}var I=function(t){u()(n,t);var e=M(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).name="view",t}return a()(n,[{key:"componentWillUnmount",value:function(){this.viewHelper.destroy(),this.viewHelper=null}},{key:"render",value:function(){return this.viewHelper||(this.viewHelper=new P(this.context.chart)),this.viewHelper.update(this.props),d.a.createElement(v.a.Provider,{value:this.viewHelper.view},d.a.createElement(d.a.Fragment,null,this.props.children))}}]),n}(d.a.Component);I.defaultProps={visible:!0,preInteractions:[],filter:[]},I.contextType=g.a,e.a=I},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(3),i=n(346),o=n.n(i),a=n(27),s=n.n(a),u=n(8),l=n(40),c=n(228),f=n.n(c),p=n(361),h=n.n(p),d=n(363),g=n.n(d),v=n(365),y=n.n(v),m=n(362),_=n.n(m);Object(u.registerAction)("list-active",h.a),Object(u.registerAction)("list-selected",_.a),Object(u.registerAction)("list-highlight",f.a),Object(u.registerAction)("list-unchecked",g.a),Object(u.registerAction)("data-filter",y.a),Object(u.registerAction)("legend-item-highlight",f.a,{componentNames:["legend"]}),Object(u.registerInteraction)("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Object(u.registerInteraction)("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Object(u.registerInteraction)("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:"list-unchecked:toggle"},{trigger:"legend-item:click",action:"data-filter:filter"}]});var b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function x(t){var e=t.name,n=t.visible,i=void 0===n||n,o=(t.onChange,t.filter),a=b(t,["name","visible","onChange","filter"]),u=Object(l.a)();return function(t){return void 0===t}(e)?i?u.legend(a):u.legend(!1):i?u.legend(e,a):u.legend(e,!1),s()(o)&&e&&u.filter(e,o),Object(r.useEffect)((function(){u.on("legend:valuechanged",(function(e){s()(t.onChange)&&t.onChange(e,u)})),u.on("legend-item:click",(function(e){if(s()(t.onChange)){var n=e.target.get("delegateObject").item;e.item=n,t.onChange(e,u)}}))}),[]),null}Object(u.registerComponentController)("legend",o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(345),i=n.n(r),o=n(40),a=n(641),s=n.n(a),u=n(8),l=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object(u.registerComponentController)("axis",i.a);var c=function(t){return void 0===t},f=function(t){return function(t,e){var n=s()(t);return e.forEach((function(t){!0===n[t]?n[t]={}:!1===n[t]&&(n[t]=null)})),n}(t,["title","line","tickLine","subTickLine","label","grid"])};function p(t){var e=t.name,n=t.visible,r=void 0===n||n,i=l(t,["name","visible"]),a=Object(o.a)(),s=f(i);return r?c(e)?a.axis(!0):a.axis(e,s):c(e)?a.axis(!1):a.axis(e,!1),null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(96),o=n(0),a=n(756),s=n(203),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.__assign(r.__assign({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");s.clearDom(t);var n=o.isFunction(e)?e(t):e;o.isElement(n)?t.appendChild(n):o.isString(n)&&t.appendChild(i.createDom(n)),this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,o=this.get("alignX"),a=this.get("alignY"),s=this.get("offsetX"),u=this.get("offsetY"),l=i.getOuterWidth(t),c=i.getOuterHeight(t),f={x:n,y:r};"middle"===o?f.x-=Math.round(l/2):"right"===o&&(f.x-=Math.round(l)),"middle"===a?f.y-=Math.round(c/2):"bottom"===a&&(f.y-=Math.round(c)),s&&(f.x+=s),u&&(f.y+=u),i.modifyCSS(t,{position:"absolute",left:f.x+"px",top:f.y+"px",zIndex:this.get("zIndex")})},e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.Shape=void 0;var r=n(1),i=n(185);e.Shape=i,r.__exportStar(n(30),e);var o=n(956);Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return o.default}});var a=n(265);Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return a.default}}),e.version="0.5.6"},function(t,e,n){"use strict";var r,i,o,a,s=n(2)(n(6));a=function(t,e){function n(t){return t&&"object"===(0,s.default)(t)&&"default"in t?t:{default:t}}var r=n(e),i={error:null},o=function(t){var e,n;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state=i,e.updatedWithError=!1,e.resetErrorBoundary=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==e.props.onReset||(t=e.props).onReset.apply(t,r),e.reset()},e}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.getDerivedStateFromError=function(t){return{error:t}};var a=o.prototype;return a.reset=function(){this.updatedWithError=!1,this.setState(i)},a.componentDidCatch=function(t,e){var n,r;null==(n=(r=this.props).onError)||n.call(r,t,e)},a.componentDidUpdate=function(t){var e,n,r,i,o=this.state.error,a=this.props.resetKeys;null===o||this.updatedWithError?null!==o&&(void 0===(r=t.resetKeys)&&(r=[]),void 0===(i=a)&&(i=[]),r.length!==i.length||r.some((function(t,e){return!Object.is(t,i[e])})))&&(null==(e=(n=this.props).onResetKeysChange)||e.call(n,t.resetKeys,a),this.reset()):this.updatedWithError=!0},a.render=function(){var t=this.state.error,e=this.props,n=e.fallbackRender,i=e.FallbackComponent,o=e.fallback;if(null!==t){var a={error:t,resetErrorBoundary:this.resetErrorBoundary};if(r.default.isValidElement(o))return o;if("function"===typeof n)return n(a);if(i)return r.default.createElement(i,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(r.default.Component);t.ErrorBoundary=o,t.useErrorHandler=function(t){var e=r.default.useState(null),n=e[0],i=e[1];if(t)throw t;if(n)throw n;return i},t.withErrorBoundary=function(t,e){function n(n){return r.default.createElement(o,e,r.default.createElement(t,n))}var i=t.displayName||t.name||"Unknown";return n.displayName="withErrorBoundary("+i+")",n},Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,s.default)(e)&&"undefined"!==typeof t?a(e,n(3)):(i=[e,n(3)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},function(t,e,n){"use strict";t.exports=n(1056)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),i=n(27),o=Object.prototype.hasOwnProperty;e.default=function(t,e){if(!e||!r.default(t))return{};for(var n,a={},s=i.default(e)?e:function(t){return t[e]},u=0;u<t.length;u++){var l=t[u];n=s(l),o.call(a,n)?a[n].push(l):a[n]=[l]}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119);e.default=function(t){return r.default(t,"Boolean")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(503),i=n(1080),o=n(50);e.default=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o.default(e)||o.default(n))return!1;if(i.default(e)||i.default(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(r.default(e)||r.default(n)){var u=Object.keys(e),l=Object.keys(n);if(u.length!==l.length)return!1;for(a=!0,s=0;s<u.length&&(a=t(e[u[s]],n[u[s]]));s++);return a}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);e.default=function t(e){if("object"!==(0,r.default)(e)||null===e)return e;var n;if(i.default(e)){n=[];for(var o=0,a=e.length;o<a;o++)"object"===(0,r.default)(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o]}else for(var s in n={},e)"object"===(0,r.default)(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EN_US_LOCALE=void 0,e.EN_US_LOCALE={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZH_CN_LOCALE=void 0,e.ZH_CN_LOCALE={locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Progress=void 0;var r=n(1),i=n(23),o=n(523),a=n(526),s=n(298),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(s.getProgressData(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Progress=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RingProgress=void 0;var r=n(1),i=n(13),o=n(23),a=n(298),s=n(1108),u=n(1109),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return r.__extends(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(a.getProgressData(t)),s.statistic({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e}(o.Plot);e.RingProgress=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyColumn=void 0;var r=n(1),i=n(23),o=n(120),a=n(1110),s=n(1111),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;a.meta({chart:e,options:n}),e.changeData(o.getTinyData(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.TinyColumn=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyArea=void 0;var r=n(1),i=n(23),o=n(120),a=n(299),s=n(1112),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;a.meta({chart:e,options:n}),e.changeData(o.getTinyData(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.TinyArea=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TinyLine=void 0;var r=n(1),i=n(23),o=n(1113),a=n(155),s=n(120),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;o.meta({chart:e,options:n}),e.changeData(s.getTinyData(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.TinyLine=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Treemap=void 0;var r=n(1),i=n(23),o=n(1117),a=n(1144),s=n(528);n(1145);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var o=s.transformData({data:t,colorField:n,enableDrillDown:s.enableInteraction(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(o),s.resetDrillDown(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Treemap=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCloud=void 0;var r=n(1),i=n(23),o=n(1163),a=n(545),s=n(544);n(1165);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(s.transform({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var i=e.options.imageMask;if(!i)return t.prototype.render.call(e),void n();var o=function(i){e.options=r.__assign(r.__assign({},e.options),{imageMask:i||null}),t.prototype.render.call(e),n()};s.processImageMask(i).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))},e}(i.Plot);e.WordCloud=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Funnel=e.FUNNEL_CONVERSATION_FIELD=void 0;var r=n(1),i=n(0),o=n(23),a=n(14),s=n(1168),u=n(122);Object.defineProperty(e,"FUNNEL_CONVERSATION_FIELD",{enumerable:!0,get:function(){return u.FUNNEL_CONVERSATION}});var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return r.__extends(e,t),e.getDefaultOptions=function(){return u.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=a.getAllElementsRecursively(this.chart);i.each(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=a.getAllElementsRecursively(this.chart),e=[];return i.each(t,(function(t){var n=t.getData(),r=t.getStates();i.each(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=u.FUNNEL_CONVERSATION,e.PERCENT_FIELD=u.FUNNEL_PERCENT,e.TOTAL_PERCENT_FIELD=u.FUNNEL_TOTAL_PERCENT,e}(o.Plot);e.Funnel=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Radar=void 0;var r=n(1),i=n(23),o=n(14),a=n(1172);n(1173);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return r.__extends(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return o.deepAssign({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Radar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Liquid=void 0;var r=n(1),i=n(13),o=n(23),a=n(1175),s=n(1176),u=n(547);n(1177);var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(u.getLiquidData(t)),a.statistic({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(o.Plot);e.Liquid=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Histogram=void 0;var r=n(1),i=n(23),o=n(548),a=n(1178),s=n(549),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,a=e.stackField;this.chart.changeData(o.binHistogram(t,n,i,r,a))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Histogram=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Waterfall=void 0;var r=n(1),i=n(23),o=n(1179),a=n(304),s=n(550),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}return r.__extends(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData(s.transformData(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Waterfall=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var r=n(1),i=n(23),o=n(1185),a=n(552),s=n(1186),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=a.transformData(this.options),n=e.min,r=e.max,i=e.ds;o.meta({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Bullet=u},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0});var i={version:!0,adaptors:!0,G2:!0,registerLocale:!0,setGlobal:!0,Plot:!0,Line:!0,Area:!0,Column:!0,Bar:!0,Pie:!0,Rose:!0,WordCloud:!0,Scatter:!0,Radar:!0,DualAxes:!0,TinyLine:!0,TinyColumn:!0,TinyArea:!0,Histogram:!0,Progress:!0,RingProgress:!0,Heatmap:!0,Box:!0,Violin:!0,Venn:!0,Stock:!0,Funnel:!0,FUNNEL_CONVERSATION_FIELD:!0,Liquid:!0,Bullet:!0,Sunburst:!0,Gauge:!0,Waterfall:!0,RadialBar:!0,BidirectionalBar:!0,Treemap:!0,Sankey:!0,Chord:!0,CirclePacking:!0,P:!0,getCanvasPattern:!0,MultiView:!0,Mix:!0,Facet:!0,flow:!0,measureTextWidth:!0,line:!0,interval:!0,area:!0,point:!0,polygon:!0,schema:!0,Lab:!0};Object.defineProperty(e,"Area",{enumerable:!0,get:function(){return h.Area}}),Object.defineProperty(e,"Bar",{enumerable:!0,get:function(){return g.Bar}}),Object.defineProperty(e,"BidirectionalBar",{enumerable:!0,get:function(){return z.BidirectionalBar}}),Object.defineProperty(e,"Box",{enumerable:!0,get:function(){return P.Box}}),Object.defineProperty(e,"Bullet",{enumerable:!0,get:function(){return D.Bullet}}),Object.defineProperty(e,"Chord",{enumerable:!0,get:function(){return G.Chord}}),Object.defineProperty(e,"CirclePacking",{enumerable:!0,get:function(){return W.CirclePacking}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return d.Column}}),Object.defineProperty(e,"DualAxes",{enumerable:!0,get:function(){return x.DualAxes}}),Object.defineProperty(e,"FUNNEL_CONVERSATION_FIELD",{enumerable:!0,get:function(){return R.FUNNEL_CONVERSATION_FIELD}}),Object.defineProperty(e,"Facet",{enumerable:!0,get:function(){return q.Facet}}),Object.defineProperty(e,"Funnel",{enumerable:!0,get:function(){return R.Funnel}}),e.G2=void 0,Object.defineProperty(e,"Gauge",{enumerable:!0,get:function(){return F.Gauge}}),Object.defineProperty(e,"Heatmap",{enumerable:!0,get:function(){return C.Heatmap}}),Object.defineProperty(e,"Histogram",{enumerable:!0,get:function(){return A.Histogram}}),Object.defineProperty(e,"Lab",{enumerable:!0,get:function(){return J.Lab}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return p.Line}}),Object.defineProperty(e,"Liquid",{enumerable:!0,get:function(){return L.Liquid}}),Object.defineProperty(e,"Mix",{enumerable:!0,get:function(){return X.Mix}}),Object.defineProperty(e,"MultiView",{enumerable:!0,get:function(){return X.Mix}}),Object.defineProperty(e,"P",{enumerable:!0,get:function(){return H.P}}),Object.defineProperty(e,"Pie",{enumerable:!0,get:function(){return v.Pie}}),Object.defineProperty(e,"Plot",{enumerable:!0,get:function(){return c.Plot}}),Object.defineProperty(e,"Progress",{enumerable:!0,get:function(){return O.Progress}}),Object.defineProperty(e,"Radar",{enumerable:!0,get:function(){return b.Radar}}),Object.defineProperty(e,"RadialBar",{enumerable:!0,get:function(){return B.RadialBar}}),Object.defineProperty(e,"RingProgress",{enumerable:!0,get:function(){return T.RingProgress}}),Object.defineProperty(e,"Rose",{enumerable:!0,get:function(){return y.Rose}}),Object.defineProperty(e,"Sankey",{enumerable:!0,get:function(){return V.Sankey}}),Object.defineProperty(e,"Scatter",{enumerable:!0,get:function(){return _.Scatter}}),Object.defineProperty(e,"Stock",{enumerable:!0,get:function(){return k.Stock}}),Object.defineProperty(e,"Sunburst",{enumerable:!0,get:function(){return N.Sunburst}}),Object.defineProperty(e,"TinyArea",{enumerable:!0,get:function(){return E.TinyArea}}),Object.defineProperty(e,"TinyColumn",{enumerable:!0,get:function(){return S.TinyColumn}}),Object.defineProperty(e,"TinyLine",{enumerable:!0,get:function(){return w.TinyLine}}),Object.defineProperty(e,"Treemap",{enumerable:!0,get:function(){return U.Treemap}}),Object.defineProperty(e,"Venn",{enumerable:!0,get:function(){return I.Venn}}),Object.defineProperty(e,"Violin",{enumerable:!0,get:function(){return M.Violin}}),Object.defineProperty(e,"Waterfall",{enumerable:!0,get:function(){return j.Waterfall}}),Object.defineProperty(e,"WordCloud",{enumerable:!0,get:function(){return m.WordCloud}}),e.adaptors=void 0,Object.defineProperty(e,"area",{enumerable:!0,get:function(){return K.area}}),Object.defineProperty(e,"flow",{enumerable:!0,get:function(){return Z.flow}}),Object.defineProperty(e,"getCanvasPattern",{enumerable:!0,get:function(){return Y.getCanvasPattern}}),Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return K.interval}}),Object.defineProperty(e,"line",{enumerable:!0,get:function(){return K.line}}),Object.defineProperty(e,"measureTextWidth",{enumerable:!0,get:function(){return Z.measureTextWidth}}),Object.defineProperty(e,"point",{enumerable:!0,get:function(){return K.point}}),Object.defineProperty(e,"polygon",{enumerable:!0,get:function(){return K.polygon}}),Object.defineProperty(e,"registerLocale",{enumerable:!0,get:function(){return a.registerLocale}}),Object.defineProperty(e,"schema",{enumerable:!0,get:function(){return K.schema}}),Object.defineProperty(e,"setGlobal",{enumerable:!0,get:function(){return l.setGlobal}}),e.version=void 0;var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=$(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(13));e.G2=o;var a=n(197),s=n(1196),u=n(1197),l=n(558),c=n(18),f=n(1198);Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))}));var p=n(559),h=n(563),d=n(565),g=n(568),v=n(571),y=n(1232),m=n(1235),_=n(579),b=n(1242),x=n(1246),w=n(584),S=n(586),E=n(588),A=n(589),O=n(593),T=n(595),C=n(1254),P=n(1259),M=n(1261),I=n(1266),k=n(1278),R=n(603),L=n(1283),D=n(1287),N=n(1290),F=n(609),j=n(1297),B=n(1300),z=n(1304),U=n(1306),V=n(1310),G=n(1320),W=n(1323),H=n(1328),Y=n(560),X=n(620),q=n(1333),Z=n(7),K=n(29),Q=n(21),J=n(1337);function $(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return($=function(t){return t?n:e})(t)}e.version="2.3.39",(0,a.registerLocale)("en-US",s.EN_US_LOCALE),(0,a.registerLocale)("zh-CN",u.ZH_CN_LOCALE);var tt={scale:Q.scale,legend:Q.legend,tooltip:Q.tooltip,annotation:Q.annotation,interaction:Q.interaction,theme:Q.theme,animation:Q.animation};e.adaptors=tt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gauge=void 0;var r=n(1),i=n(13),o=n(23),a=n(1338),s=n(320),u=n(622);n(1339),n(1340);var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return r.__extends(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===s.INDICATEOR_VIEW_ID}));e&&e.data(u.getIndicatorData(t));var n=this.chart.views.find((function(t){return t.id===s.RANGE_VIEW_ID}));n&&n.data(u.getRangeData(t,this.options.range)),a.statistic({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(o.Plot);e.Gauge=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DualAxes=void 0;var r=n(1),i=n(23),o=n(14),a=n(1341),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}return r.__extends(e,t),e.prototype.getDefaultOptions=function(){return o.deepAssign({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.DualAxes=s},function(t,e,n){"use strict";n.r(e),n.d(e,"fold",(function(){return s})),n.d(e,"percentage",(function(){return S})),n.d(e,"minifyNum",(function(){return E})),n.d(e,"splitBySeparator",(function(){return A})),n.d(e,"visibleHelper",(function(){return O.a})),n.d(e,"cloneDeep",(function(){return T.a})),n.d(e,"shallowEqual",(function(){return C.a}));var r=n(230),i=n.n(r),o=n(4),a=n.n(o),s=function(t,e,n,r){var o=[];return t.forEach((function(t){e.forEach((function(e){var s;o.push(a()(a()({},t),(s={},i()(s,n,e),i()(s,r,t[e]),s)))}))})),o},u=n(77),l=n.n(u),c=n(231),f=n(16),p=n.n(f),h=n(22),d=n.n(h),g=n(27),v=n.n(g),y=n(50),m=n.n(y),_=n(637),b=n.n(_);function x(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return v()(n)?e=n:d()(n)?e=function(t,e){for(var r=0;r<n.length;r++){var i=n[r];if(t[i]<e[i])return-1;if(t[i]>e[i])return 1}return 0}:m()(n)&&(e=function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}),t.sort(e)}var w=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t;r&&r.length&&(i=x(t,r)),v()(e)?n=e:d()(e)?n=function(t){return"_".concat(e.map((function(e){return t[e]})).join("-"))}:m()(e)&&(n=function(t){return"_".concat(t[e])});var o=b()(i,n);return o},S=function(t,e,n,r){var i=[],o=r?w(t,r):{_data:t};return l()(o,(function(t){var r=Object(c.a)(t.map((function(t){return t[e]})));p()(0!==r,"Invalid data: total sum of field ".concat(e," is 0!")),l()(t,(function(t){var o=a()({},t);o[n]=0===r?0:t[e]/r,i.push(o)}))})),i},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=1e4,r=1e8;return t>=r?"".concat((t/r).toFixed(e).replace(/\.?0*$/,""),"\u4ebf"):t>=n?"".concat((t/n).toFixed(e).replace(/\.?0*$/,""),"\u4e07"):t.toFixed(e).replace(/\.?0*$/,"")},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return"number"===typeof t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e):t},O=n(166),T=n(75),C=n(83)},function(t,e,n){t.exports=n(662)},function(t,e,n){"use strict";n.r(e),n.d(e,"Util",(function(){return H}));var r=n(4),i=n.n(r),o=n(0),a=n(627);n.d(e,"Annotation",(function(){return a}));var s=n(326);n.d(e,"G2",(function(){return s}));var u=n(626);n.d(e,"GComponents",(function(){return u}));var l=n(660),c=n(629);n.d(e,"Chart",(function(){return c.a}));var f=n(630);n.d(e,"View",(function(){return f.a}));var p=n(628);n.d(e,"Tooltip",(function(){return p.a}));var h=n(631);n.d(e,"Legend",(function(){return h.a}));var d=n(216);n.d(e,"Coordinate",(function(){return d.a}));var g=n(632);n.d(e,"Axis",(function(){return g.a}));var v=n(504);n.d(e,"Facet",(function(){return v.a}));var y=n(505);n.d(e,"Slider",(function(){return y.a}));var m=n(129);n.d(e,"Area",(function(){return m.a}));var _=n(217);n.d(e,"Edge",(function(){return _.a}));var b=n(218);n.d(e,"Heatmap",(function(){return b.a}));var x=n(219);n.d(e,"Interval",(function(){return x.a}));var w=n(130);n.d(e,"Line",(function(){return w.a}));var S=n(131);n.d(e,"Point",(function(){return S.a}));var E=n(220);n.d(e,"Polygon",(function(){return E.a}));var A=n(507);n.d(e,"Schema",(function(){return A.a}));var O=n(39);n.d(e,"BaseGeom",(function(){return O.a}));var T=n(293);n.d(e,"Label",(function(){return T.a}));var C=n(508);n.d(e,"Path",(function(){return C.a}));var P=n(221);n.d(e,"LineAdvance",(function(){return P.a}));var M=n(509);n.d(e,"Geom",(function(){return M.a}));var I=n(510);n.d(e,"Coord",(function(){return I.a}));var k=n(511);n.d(e,"Guide",(function(){return k.a}));var R=n(512);n.d(e,"Effects",(function(){return R.a}));var L=n(513);n.d(e,"Interaction",(function(){return L.a}));var D=n(10);n.d(e,"createPlot",(function(){return D.a}));var N=n(167);n.d(e,"createTooltipConnector",(function(){return N.a}));var F=n(40);n.d(e,"useView",(function(){return F.a}));var j=n(82);n.d(e,"useRootChart",(function(){return j.a})),n.d(e,"useChartInstance",(function(){return j.a}));var B=n(519);n.d(e,"useTheme",(function(){return B.a}));var z=n(47);n.d(e,"withView",(function(){return z.b}));var U=n(76);n.d(e,"withChartInstance",(function(){return U.b}));var V=n(8);for(var G in V)["default","Util","Annotation","G2","GComponents","Chart","View","Tooltip","Legend","Coordinate","Axis","Facet","Slider","Area","Edge","Heatmap","Interval","Line","Point","Polygon","Schema","BaseGeom","Label","Path","LineAdvance","Geom","Coord","Guide","Effects","Interaction","createPlot","createTooltipConnector","useView","useRootChart","useChartInstance","useTheme","withView","withChartInstance"].indexOf(G)<0&&function(t){n.d(e,t,(function(){return V[t]}))}(G);var W=n(625);n.d(e,"ProgressChart",(function(){return W.x})),n.d(e,"RingProgressChart",(function(){return W.B})),n.d(e,"TinyColumnChart",(function(){return W.K})),n.d(e,"TinyAreaChart",(function(){return W.J})),n.d(e,"TinyLineChart",(function(){return W.L})),n.d(e,"LineChart",(function(){return W.q})),n.d(e,"TreemapChart",(function(){return W.M})),n.d(e,"StepLineChart",(function(){return W.I})),n.d(e,"BarChart",(function(){return W.b})),n.d(e,"StackedBarChart",(function(){return W.F})),n.d(e,"GroupedBarChart",(function(){return W.l})),n.d(e,"PercentStackedBarChart",(function(){return W.t})),n.d(e,"RangeBarChart",(function(){return W.z})),n.d(e,"AreaChart",(function(){return W.a})),n.d(e,"StackedAreaChart",(function(){return W.E})),n.d(e,"PercentStackedAreaChart",(function(){return W.s})),n.d(e,"ColumnChart",(function(){return W.f})),n.d(e,"GroupedColumnChart",(function(){return W.m})),n.d(e,"StackedColumnChart",(function(){return W.G})),n.d(e,"RangeColumnChart",(function(){return W.A})),n.d(e,"PercentStackedColumnChart",(function(){return W.u})),n.d(e,"PieChart",(function(){return W.v})),n.d(e,"DensityHeatmapChart",(function(){return W.g})),n.d(e,"HeatmapChart",(function(){return W.o})),n.d(e,"WordCloudChart",(function(){return W.O})),n.d(e,"RoseChart",(function(){return W.C})),n.d(e,"FunnelChart",(function(){return W.j})),n.d(e,"StackedRoseChart",(function(){return W.H})),n.d(e,"GroupedRoseChart",(function(){return W.n})),n.d(e,"RadarChart",(function(){return W.y})),n.d(e,"LiquidChart",(function(){return W.r})),n.d(e,"HistogramChart",(function(){return W.p})),n.d(e,"DonutChart",(function(){return W.h})),n.d(e,"WaterfallChart",(function(){return W.N})),n.d(e,"ScatterChart",(function(){return W.D})),n.d(e,"BubbleChart",(function(){return W.c})),n.d(e,"BulletChart",(function(){return W.d})),n.d(e,"CalendarChart",(function(){return W.e})),n.d(e,"GaugeChart",(function(){return W.k})),n.d(e,"DualAxesChart",(function(){return W.i})),n.d(e,"PlotAdapter",(function(){return W.w}));var H=i()(i()(i()({},o),l),s.Util)},function(t,e,n){"use strict";var r,i=n(2)(n(6));if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=n(369),u=Object.prototype.propertyIsEnumerable,l=!u.call({toString:null},"toString"),c=u.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"===(0,i.default)(window[t]))try{p(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(t){var e=null!==t&&"object"===(0,i.default)(t),n="[object Function]"===a.call(t),r=s(t),u=e&&"[object String]"===a.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var g=c&&n;if(u&&t.length>0&&!o.call(t,0))for(var v=0;v<t.length;++v)h.push(String(v));if(r&&t.length>0)for(var y=0;y<t.length;++y)h.push(String(y));else for(var m in t)g&&"prototype"===m||!o.call(t,m)||h.push(String(m));if(l)for(var _=function(t){if("undefined"===typeof window||!d)return p(t);try{return p(t)}catch(e){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!o.call(t,f[b])||h.push(f[b]);return h}}t.exports=r},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!==typeof e||o.call(e)!==a)throw new TypeError(r+e);for(var n,s=i.call(arguments,1),u=function(){if(this instanceof n){var r=e.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(i.call(arguments)))},l=Math.max(0,e.length-s.length),c=[],f=0;f<l;f++)c.push("$"+f);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var p=function(){};p.prototype=e.prototype,n.prototype=new p,p.prototype=null}return n}},function(t,e,n){"use strict";var r=n(2)(n(6)),i="undefined"!==typeof Symbol&&Symbol,o=n(372);t.exports=function(){return"function"===typeof i&&"function"===typeof Symbol&&"symbol"===(0,r.default)(i("foo"))&&"symbol"===(0,r.default)(Symbol("bar"))&&o()}},function(t,e,n){"use strict";var r=n(237);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r=n(371),i=n(370),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")>-1?i(n):n}},function(t,e,n){"use strict";var r=n(367),i=n(374);t.exports=function(){var t=i();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(375)),o=r(n(238)),a=function(t,e){return void 0===e&&(e=[]),(0,i.default)(t,(function(t){return!(0,o.default)(e,t)}))};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(57)),o=r(n(376)),a=r(n(37)),s=r(n(139)),u=function(t,e){if(!(0,a.default)(t))return null;var n;if((0,i.default)(e)&&(n=e),(0,s.default)(e)&&(n=function(t){return(0,o.default)(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(95)),o=r(n(37)),a=function(t,e){for(var n=null,r=0;r<t.length;r++){var a=t[r][e];if(!(0,i.default)(a)){n=(0,o.default)(a)?a[0]:a;break}}return n};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=function(t){if(!(0,i.default)(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=function t(e,n){if(void 0===n&&(n=[]),(0,i.default)(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(378)),a=r(n(379)),s=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if((0,i.default)(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var s=(0,o.default)(e);return{min:(0,a.default)(e),max:s}};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=Array.prototype,i=r.splice,o=r.indexOf,a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var a=e[r],s=-1;(s=o.call(t,a))>-1;)i.call(t,s,1);return t};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=r(n(380)),a=function(t,e){var n=[];if(!(0,i.default)(t))return n;for(var r=-1,a=[],s=t.length;++r<s;){var u=t[r];e(u,r,t)&&(n.push(u),a.push(r))}return(0,o.default)(t,a),n};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(86)),a=r(n(57)),s=function(t,e){var n;if((0,a.default)(e))n=function(t,n){return e(t)-e(n)};else{var r=[];(0,o.default)(e)?r.push(e):(0,i.default)(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(382)),o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,i.default)([].concat.apply([],t))};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(95));e.default=function(t,e){for(var n=[],r={},a=0;a<t.length;a++){var s=t[a][e];if(!(0,o.default)(s)){(0,i.default)(s)||(s=[s]);for(var u=0;u<s.length;u++){var l=s[u];r[l]||(n.push(l),r[l]=!0)}}}return n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t))return t[0]};var i=r(n(56))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t))return t[t.length-1]};var i=r(n(56))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(86)),a=function(t,e){return!(!(0,i.default)(t)&&!(0,o.default)(t))&&t[0]===e};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(86)),a=function(t,e){return!(!(0,i.default)(t)&&!(0,o.default)(t))&&t[t.length-1]===e};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(383));e.default=function(t,e){if(!e)return[t];var n=(0,i.default)(t,e),r=[];for(var o in n)r.push(n[o]);return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){return t["_wrap_"+e]};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={},i=function(t){var e=r[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,r[t]=e}return e};e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=function(t){var e=0,n=0,r=0,o=0;return(0,i.default)(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,{r1:e,r2:n,r3:r,r4:o}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e,n){return t<e?e:t>n?n:t};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=function(t){return(0,i.default)(t)&&t%1!==0};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=function(t){return(0,i.default)(t)&&t%2===0};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=Number.isInteger?Number.isInteger:function(t){return(0,i.default)(t)&&t%1===0};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=function(t){return(0,i.default)(t)&&t<0};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=function(t){return(0,i.default)(t)&&t%2!==0};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(87)),o=function(t){return(0,i.default)(t)&&t>0};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(57));e.default=function(t,e){if((0,i.default)(t)){for(var n,r=-1/0,a=0;a<t.length;a++){var s=t[a],u=(0,o.default)(e)?e(s):s[e];u>r&&(n=s,r=u)}return n}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(57));e.default=function(t,e){if((0,i.default)(t)){for(var n,r=1/0,a=0;a<t.length;a++){var s=t[a],u=(0,o.default)(e)?e(s):s[e];u<r&&(n=s,r=u)}return n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){return(t%e+e)%e};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=180/Math.PI,i=function(t){return r*t};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=parseInt;e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=Math.PI/180,i=function(t){return r*t};e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(109)).default;e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(385)).default;e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(238)),o=r(n(240));e.default=function(t,e){return(0,i.default)((0,o.default)(t),e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(110)),o=function(t){return(0,i.default)(t).toLowerCase()};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(110)),o=function(t){var e=(0,i.default)(t);return e.charAt(0).toLowerCase()+e.substring(1)};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(110)),o=function(t){return(0,i.default)(t).toUpperCase()};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(110)),o=function(t){var e=(0,i.default)(t);return e.charAt(0).toUpperCase()+e.substring(1)};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"Arguments")};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"Boolean")};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"Date")};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"Error")};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)&&isFinite(t)};var i=r(n(87))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return null===t};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(68)),o=function(t){return(0,i.default)(t,"RegExp")};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return void 0===t};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t instanceof Element||t instanceof HTMLDocument};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(241)),o=r(n(57)),a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var a=t[r];(0,o.default)(a)&&(a=a.prototype),(0,i.default)(n.prototype,a)}};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(6)),o=r(n(37)),a=function t(e){if("object"!==(0,i.default)(e)||null===e)return e;var n;if((0,o.default)(e)){n=[];for(var r=0,a=e.length;r<a;r++)"object"===(0,i.default)(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var s in n={},e)"object"===(0,i.default)(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}};e.default=r},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(37)),o=r(n(139));function a(t,e,n,r){for(var s in n=n||0,r=r||5,e)if(e.hasOwnProperty(s)){var u=e[s];null!==u&&(0,o.default)(u)?((0,o.default)(t[s])||(t[s]={}),n<r?a(t[s],u,n+1,r):t[s]=e[s]):(0,i.default)(u)?(t[s]=[],t[s]=t[s].concat(u)):void 0!==u&&(t[s]=u)}}var s=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)a(t,e[r]);return t};e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(241)),o=r(n(57)),a=function(t,e,n,r){(0,o.default)(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=a(e.prototype,t);return t.prototype=(0,i.default)(s,t.prototype),t.superclass=a(e.prototype,e),(0,i.default)(s,n),(0,i.default)(t,r),t};e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=function(t,e){if(!(0,i.default)(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(95)),o=r(n(56)),a=r(n(386)),s=r(n(387)),u=Object.prototype.hasOwnProperty,l=function(t){if((0,i.default)(t))return!0;if((0,o.default)(t))return!t.length;var e=(0,a.default)(t);if("Map"===e||"Set"===e)return!t.size;if((0,s.default)(t))return!Object.keys(t).length;for(var n in t)if(u.call(t,n))return!1;return!0};e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(57)),o=r(n(389));e.default=function(t,e,n){return(0,i.default)(n)?!!n(t,e):(0,o.default)(t,e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56)),o=function(t,e){if(!(0,i.default)(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(95)),o=r(n(170)),a=function(t){return t};e.default=function(t,e){void 0===e&&(e=a);var n={};return(0,o.default)(t)&&!(0,i.default)(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(86));e.default=function(t,e,n){for(var r=0,o=(0,i.default)(e)?e.split("."):e;t&&r<o.length;)t=t[o[r++]];return void 0===t||r<o.length?n:t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(170)),o=r(n(86)),a=r(n(87));e.default=function(t,e,n){var r=t,s=(0,o.default)(e)?e.split("."):e;return s.forEach((function(t,e){e<s.length-1?((0,i.default)(r[t])||(r[t]=(0,a.default)(s[e+1])?[]:{}),r=r[t]):r[t]=n})),t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(109)),o=r(n(139)),a=Object.prototype.hasOwnProperty;e.default=function(t,e){if(null===t||!(0,o.default)(t))return{};var n={};return(0,i.default)(e,(function(e){a.call(t,e)&&(n[e]=t[e])})),n}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(381));e.default=function(t,e){return(0,i.default)(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(56));e.default=function(t){return(0,i.default)(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={};e.default=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){return t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)?0:(0,o.default)(t)?t.length:Object.keys(t).length};var i=r(n(95)),o=r(n(56))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(86)),o=r(n(110)),a=r(n(390));e.default=function(t,e,n,r){void 0===r&&(r="...");var s,u,l=(0,a.default)(r,n),c=(0,i.default)(t)?t:(0,o.default)(t),f=e,p=[];if((0,a.default)(t,n)<=e)return t;for(;s=c.substr(0,16),!((u=(0,a.default)(s,n))+l>f&&u>f);)if(p.push(s),f-=u,!(c=c.substr(16)))return p.join("");for(;s=c.substr(0,1),!((u=(0,a.default)(s,n))+l>f);)if(p.push(s),f-=u,!(c=c.substr(1)))return p.join("");return""+p.join("")+r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.default=r},function(t,e,n){"use strict";function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,r(e,n)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(t){if("function"===typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"===typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e,n){"use strict";var r,i,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){r||(r=document.createElement("table"),i=document.createElement("tr"),o=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:i,th:i,"*":document.createElement("div")});var e=o.test(t)&&RegExp.$1;e&&e in a||(e="*");var n=a[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var s=n.childNodes[0];return n.removeChild(s),s}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t,e),r=parseFloat((0,i.default)(t,"borderTopWidth"))||0,a=parseFloat((0,i.default)(t,"paddingTop"))||0,s=parseFloat((0,i.default)(t,"paddingBottom"))||0,u=parseFloat((0,i.default)(t,"borderBottomWidth"))||0,l=parseFloat((0,i.default)(t,"marginTop"))||0,c=parseFloat((0,i.default)(t,"marginBottom"))||0;return n+r+u+a+s+l+c};var i=r(n(140)),o=r(n(391))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t,e),r=parseFloat((0,i.default)(t,"borderLeftWidth"))||0,a=parseFloat((0,i.default)(t,"paddingLeft"))||0,s=parseFloat((0,i.default)(t,"paddingRight"))||0,u=parseFloat((0,i.default)(t,"borderRightWidth"))||0,l=parseFloat((0,i.default)(t,"marginRight"))||0,c=parseFloat((0,i.default)(t,"marginLeft"))||0;return n+r+u+a+s+c+l};var i=r(n(140)),o=r(n(392))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(96),o=n(0),a=n(203),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.__assign(r.__assign({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return a.createBBox(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");a.clearDom(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(o.isNil(t)){t=this.createDom();var e=this.get("parent");o.isString(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else o.isString(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?o.deepMix({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&a.hasClass(e,n)){var r=t[n];i.modifyCSS(e,r)}}},e.prototype.applyChildrenStyles=function(t,e){o.each(e,(function(e,n){var r=t.getElementsByClassName(n);o.each(r,(function(t){i.modifyCSS(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");i.modifyCSS(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return i.createDom(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){o.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(n(757).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(242),o=n(0),a={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},s=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return r.__extends(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg");o.each(t,(function(t,r){var i=t;e.get(r)!==t&&(o.isObject(t)&&n[r]&&(i=o.deepMix({},n[r],t)),e.set(r,i))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){o.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),o.hasKey(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=r.__assign({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=a[n];return o.each(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");o.each(e,(function(e,n){var r=t.get(n);if(o.isObject(r)){var i=o.deepMix({},e,r);t.set(n,i)}}))},e}(i.Base);e.default=s},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(171),a=r(n(396)),s=n(102),u=r(n(766)),l=r(n(795)),c=(0,o.detect)(),f=c&&"firefox"===c.name,p=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,s.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new l.default({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new u.default(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");s.isBrowser&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");s.isBrowser&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(f&&!(0,s.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,s.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(a.default);e.default=p},function(t,e,n){"use strict";var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,c=[],f=!1,p=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++p<e;)l&&l[p].run();p=-1,e=c.length}l=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new g(t,e)),1!==c.length||f||u(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.create=function(){var t=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.fromValues=function(t,e,n,r){var o=new i.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},e.mul=void 0,e.multiply=a,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.sub=void 0,e.subtract=s,e.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}var u=a;e.mul=u;var l=s;e.sub=l},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.clone=function(t){var e=new i.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.create=function(){var t=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],c=e[1],f=e[2],p=e[3],h=e[4],d=e[5];return Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-f)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-p)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-h)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(u-d)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.fromValues=function(t,e,n,r,o,a){var s=new i.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=o,s[5]=a,s},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},e.mul=void 0,e.multiply=a,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},e.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.sub=void 0,e.subtract=s,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(79));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],f=n[2],p=n[3],h=n[4],d=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*f+o*p,t[3]=i*f+a*p,t[4]=r*h+o*d+s,t[5]=i*h+a*d+u,t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}var u=a;e.mul=u;var l=s;e.sub=l},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t},e.clone=function(t){var e=new i.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t},e.copy=c,e.create=function(){var t=new i.ARRAY_TYPE(8);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},e.dot=void 0,e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=e[0],p=e[1],h=e[2],d=e[3],g=e[4],v=e[5],y=e[6],m=e[7];return Math.abs(n-f)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-p)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-h)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-d)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-g)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-v)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-y)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-m)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]},e.fromMat4=function(t,e){var n=o.create();a.getRotation(n,e);var r=new i.ARRAY_TYPE(3);return a.getTranslation(r,e),l(t,n,r),t},e.fromRotation=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.fromRotationTranslation=l,e.fromRotationTranslationValues=function(t,e,n,r,o,a,s){var u=new i.ARRAY_TYPE(8);u[0]=t,u[1]=e,u[2]=n,u[3]=r;var l=.5*o,c=.5*a,f=.5*s;return u[4]=l*r+c*n-f*e,u[5]=c*r+f*t-l*n,u[6]=f*r+l*e-c*t,u[7]=-l*t-c*e-f*n,u},e.fromTranslation=function(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t},e.fromValues=function(t,e,n,r,o,a,s,u){var l=new i.ARRAY_TYPE(8);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=o,l[5]=a,l[6]=s,l[7]=u,l},e.getDual=function(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t},e.getReal=void 0,e.getTranslation=function(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],u=-e[2],l=e[3];return t[0]=2*(n*l+o*a+r*u-i*s),t[1]=2*(r*l+o*s+i*a-n*u),t[2]=2*(i*l+o*u+n*s-r*a),t},e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.invert=function(t,e){var n=m(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t},e.length=e.len=void 0,e.lerp=function(t,e,n,r){var i=1-r;return g(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t},e.mul=void 0,e.multiply=h,e.normalize=function(t,e){var n=m(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],u=e[5],l=e[6],c=e[7],f=r*s+i*u+o*l+a*c;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-r*f)/n,t[5]=(u-i*f)/n,t[6]=(l-o*f)/n,t[7]=(c-a*f)/n}return t},e.rotateAroundAxis=function(t,e,n,r){if(Math.abs(r)<i.EPSILON)return c(t,e);var o=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),s=a*n[0]/o,u=a*n[1]/o,l=a*n[2]/o,f=Math.cos(r),p=e[0],h=e[1],d=e[2],g=e[3];t[0]=p*f+g*s+h*l-d*u,t[1]=h*f+g*u+d*s-p*l,t[2]=d*f+g*l+p*u-h*s,t[3]=g*f-p*s-h*u-d*l;var v=e[4],y=e[5],m=e[6],_=e[7];return t[4]=v*f+_*s+y*l-m*u,t[5]=y*f+_*u+m*s-v*l,t[6]=m*f+_*l+v*u-y*s,t[7]=_*f-v*s-y*u-m*l,t},e.rotateByQuatAppend=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=e[3];return t[0]=s*a+c*r+u*o-l*i,t[1]=u*a+c*i+l*r-s*o,t[2]=l*a+c*o+s*i-u*r,t[3]=c*a-s*r-u*i-l*o,s=e[4],u=e[5],l=e[6],c=e[7],t[4]=s*a+c*r+u*o-l*i,t[5]=u*a+c*i+l*r-s*o,t[6]=l*a+c*o+s*i-u*r,t[7]=c*a-s*r-u*i-l*o,t},e.rotateByQuatPrepend=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,s=n[4],u=n[5],l=n[6],c=n[7],t[4]=r*c+a*s+i*l-o*u,t[5]=i*c+a*u+o*s-r*l,t[6]=o*c+a*l+r*u-i*s,t[7]=a*c-r*s-i*u-o*l,t},e.rotateX=function(t,e,n){var r=-e[0],i=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],p=u*s+f*r+l*a-c*i,h=l*s+f*i+c*r-u*a,d=c*s+f*a+u*i-l*r,g=f*s-u*r-l*i-c*a;return o.rotateX(t,e,n),r=t[0],i=t[1],a=t[2],s=t[3],t[4]=p*s+g*r+h*a-d*i,t[5]=h*s+g*i+d*r-p*a,t[6]=d*s+g*a+p*i-h*r,t[7]=g*s-p*r-h*i-d*a,t},e.rotateY=function(t,e,n){var r=-e[0],i=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],p=u*s+f*r+l*a-c*i,h=l*s+f*i+c*r-u*a,d=c*s+f*a+u*i-l*r,g=f*s-u*r-l*i-c*a;return o.rotateY(t,e,n),r=t[0],i=t[1],a=t[2],s=t[3],t[4]=p*s+g*r+h*a-d*i,t[5]=h*s+g*i+d*r-p*a,t[6]=d*s+g*a+p*i-h*r,t[7]=g*s-p*r-h*i-d*a,t},e.rotateZ=function(t,e,n){var r=-e[0],i=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],p=u*s+f*r+l*a-c*i,h=l*s+f*i+c*r-u*a,d=c*s+f*a+u*i-l*r,g=f*s-u*r-l*i-c*a;return o.rotateZ(t,e,n),r=t[0],i=t[1],a=t[2],s=t[3],t[4]=p*s+g*r+h*a-d*i,t[5]=h*s+g*i+d*r-p*a,t[6]=d*s+g*a+p*i-h*r,t[7]=g*s-p*r-h*i-d*a,t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t},e.set=function(t,e,n,r,i,o,a,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t},e.setDual=function(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t},e.squaredLength=e.sqrLen=e.setReal=void 0,e.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],u=.5*n[1],l=.5*n[2],c=e[4],f=e[5],p=e[6],h=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*l-o*u+c,t[5]=a*u+o*s-r*l+f,t[6]=a*l+r*u-i*s+p,t[7]=-r*s-i*u-o*l+h,t};var i=u(n(79)),o=u(n(400)),a=u(n(399));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}function l(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],u=e[2],l=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=l,t[4]=r*l+i*u-o*s,t[5]=i*l+o*a-r*u,t[6]=o*l+r*s-i*a,t[7]=-r*a-i*s-o*u,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}var f=o.copy;e.getReal=f;var p=o.copy;function h(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],u=n[5],l=n[6],c=n[7],f=e[4],p=e[5],h=e[6],d=e[7],g=n[0],v=n[1],y=n[2],m=n[3];return t[0]=r*m+a*g+i*y-o*v,t[1]=i*m+a*v+o*g-r*y,t[2]=o*m+a*y+r*v-i*g,t[3]=a*m-r*g-i*v-o*y,t[4]=r*c+a*s+i*l-o*u+f*m+d*g+p*y-h*v,t[5]=i*c+a*u+o*s-r*l+p*m+d*v+h*g-f*y,t[6]=o*c+a*l+r*u-i*s+h*m+d*y+f*v-p*g,t[7]=a*c-r*s-i*u-o*l+d*m-f*g-p*v-h*y,t}e.setReal=p;var d=h;e.mul=d;var g=o.dot;e.dot=g;var v=o.length;e.length=v;var y=v;e.len=y;var m=o.squaredLength;e.squaredLength=m;var _=m;e.sqrLen=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.angleTo=function(t,e,n){var i=r.vec2.angle(t,e),o=s(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i},e.direction=s,e.leftRotate=o,e.leftScale=a,e.leftTranslate=i,e.transform=function(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,u=e.length;s<u;s++){var l=e[s];switch(l[0]){case"t":i(n,n,[l[1],l[2]]);break;case"s":a(n,n,[l[1],l[2]]);break;case"r":o(n,n,l[1]);break;case"m":c=n,f=n,p=l[1],r.mat3.multiply(c,p,f)}}var c,f,p;return n},e.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var r=n(172);function i(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(t,i,e)}function s(t,e){return t[0]*e[1]-e[0]*t[1]}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),o=f(n(403)),a=f(n(404)),s=n(406),u=f(n(393)),l=n(794);function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}var p=[1,0,0,0,1,0,0,0,1];function h(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var c=e.duration,f=e.easing;if(n=n-o-e.delay,e.repeat)r=n%c/c,r=a[f](r);else{if(!((r=n/c)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=a[f](r)}if(e.onFrame){var h=e.onFrame(r);t.attr(h)}else!function(t,e,n){var r={},o=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var c;for(var f in a)if(!(0,i.isEqual)(o[f],a[f]))if("path"===f){var h=a[f],d=o[f];h.length>d.length?(h=u.parsePathString(a[f]),d=u.parsePathString(o[f]),d=u.fillPathByDiff(d,h),d=u.formatPath(d,h),e.fromAttrs.path=d,e.toAttrs.path=h):e.pathFormatted||(h=u.parsePathString(a[f]),d=u.parsePathString(o[f]),d=u.formatPath(d,h),e.fromAttrs.path=d,e.toAttrs.path=h,e.pathFormatted=!0),r[f]=[];for(var g=0;g<h.length;g++){for(var v=h[g],y=d[g],m=[],_=0;_<v.length;_++)(0,i.isNumber)(v[_])&&y&&(0,i.isNumber)(y[_])?(c=(0,s.interpolate)(y[_],v[_]),m.push(c(n))):m.push(v[_]);r[f].push(m)}}else if("matrix"===f){var b=(0,s.interpolateArray)(o[f]||p,a[f]||p)(n);r[f]=b}else(0,l.isColorProp)(f)&&(0,l.isGradientColor)(a[f])?r[f]=a[f]:(0,i.isFunction)(a[f])||(c=(0,s.interpolate)(o[f],a[f]),r[f]=c(n));t.attr(r)}}(t,e,r);return!1}var d=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=o.timer((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],h(t,n,i)&&(e.splice(a,1),n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=new r.Timer;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i};var r=n(244)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=new r.Timer,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?(0,r.now)():+n,i.restart((function r(a){a+=o,i.restart(r,o+=e,n),t(a)}),e,n),i)};var r=n(244)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linear=function(t){return+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quadIn=function(t){return t*t},e.quadInOut=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2},e.quadOut=function(t){return t*(2-t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cubicIn=function(t){return t*t*t},e.cubicInOut=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},e.cubicOut=function(t){return--t*t*t+1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.polyOut=e.polyInOut=e.polyIn=void 0;var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3);e.polyIn=r;var i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3);e.polyOut=i;var o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3);e.polyInOut=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sinIn=function(t){return 1===+t?1:1-Math.cos(t*i)},e.sinInOut=function(t){return(1-Math.cos(r*t))/2},e.sinOut=function(t){return Math.sin(t*i)};var r=Math.PI,i=r/2},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.expIn=function(t){return(0,r.tpmt)(1-+t)},e.expInOut=function(t){return((t*=2)<=1?(0,r.tpmt)(1-t):2-(0,r.tpmt)(t-1))/2},e.expOut=function(t){return 1-(0,r.tpmt)(t)};var r=n(405)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circleIn=function(t){return 1-Math.sqrt(1-t*t)},e.circleInOut=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2},e.circleOut=function(t){return Math.sqrt(1- --t*t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bounceIn=function(t){return 1-o(1-t)},e.bounceInOut=function(t){return((t*=2)<=1?1-o(1-t):o(t-1)+1)/2},e.bounceOut=o;var r=4/11,i=7.5625;function o(t){return(t=+t)<r?i*t*t:t<.7272727272727273?i*(t-=.5454545454545454)*t+.75:t<.9090909090909091?i*(t-=.8181818181818182)*t+.9375:i*(t-=.9545454545454546)*t+.984375}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.backOut=e.backInOut=e.backIn=void 0;var r=1.70158,i=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(r);e.backIn=i;var o=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(r);e.backOut=o;var a=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(r);e.backInOut=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.elasticOut=e.elasticInOut=e.elasticIn=void 0;var r=n(405),i=2*Math.PI,o=function t(e,n){var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function a(t){return e*(0,r.tpmt)(- --t)*Math.sin((o-t)/n)}return a.amplitude=function(e){return t(e,n*i)},a.period=function(n){return t(e,n)},a}(1,.3);e.elasticIn=o;var a=function t(e,n){var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function a(t){return 1-e*(0,r.tpmt)(t=+t)*Math.sin((t+o)/n)}return a.amplitude=function(e){return t(e,n*i)},a.period=function(n){return t(e,n)},a}(1,.3);e.elasticOut=a;var s=function t(e,n){var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function a(t){return((t=2*t-1)<0?e*(0,r.tpmt)(-t)*Math.sin((o-t)/n):2-e*(0,r.tpmt)(t)*Math.sin((o+t)/n))/2}return a.amplitude=function(e){return t(e,n*i)},a.period=function(n){return t(e,n)},a}(1,.3);e.elasticInOut=s},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.Hcl=w,e.Lab=g,e.default=d,e.gray=function(t,e){return new g(t,0,0,null==e?1:e)},e.hcl=x,e.lch=function(t,e,n,r){return 1===arguments.length?b(t):new w(n,e,t,null==r?1:r)};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(247)),o=n(246),a=n(407);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u=.96422,l=.82521,c=4/29,f=6/29,p=3*f*f;function h(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof w)return S(t);t instanceof o.Rgb||(t=(0,o.rgbConvert)(t));var e,n,r=_(t.r),i=_(t.g),a=_(t.b),s=v((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?e=n=s:(e=v((.4360747*r+.3850649*i+.1430804*a)/u),n=v((.0139322*r+.0971045*i+.7141733*a)/l)),new g(116*s-16,500*(e-s),200*(s-n),t.opacity)}function d(t,e,n,r){return 1===arguments.length?h(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>.008856451679035631?Math.pow(t,1/3):t/p+c}function y(t){return t>f?t*t*t:p*(t-c)}function m(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function b(t){if(t instanceof w)return new w(t.h,t.c,t.l,t.opacity);if(t instanceof g||(t=h(t)),0===t.a&&0===t.b)return new w(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*a.rad2deg;return new w(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function x(t,e,n,r){return 1===arguments.length?b(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function S(t){if(isNaN(t.h))return new g(t.l,0,0,t.opacity);var e=t.h*a.deg2rad;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}(0,i.default)(g,d,(0,i.extend)(o.Color,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=u*y(e),t=1*y(t),n=l*y(n),new o.Rgb(m(3.1338561*e-1.6168667*t-.4906146*n),m(-.9787684*e+1.9161415*t+.033454*n),m(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),(0,i.default)(w,x,(0,i.extend)(o.Color,{brighter:function(t){return new w(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new w(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return S(this).rgb()}}))},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.Cubehelix=m,e.default=y;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(247)),o=n(246),a=n(407);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u=-.14861,l=1.78277,c=-.29227,f=-.90649,p=1.97294,h=p*f,d=p*l,g=l*c-f*u;function v(t){if(t instanceof m)return new m(t.h,t.s,t.l,t.opacity);t instanceof o.Rgb||(t=(0,o.rgbConvert)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(g*r+h*e-d*n)/(g+h-d),s=r-i,u=(p*(n-i)-c*s)/f,l=Math.sqrt(u*u+s*s)/(p*i*(1-i)),v=l?Math.atan2(u,s)*a.rad2deg-120:NaN;return new m(v<0?v+360:v,l,i,t.opacity)}function y(t,e,n,r){return 1===arguments.length?v(t):new m(t,e,n,null==r?1:r)}function m(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}(0,i.default)(m,y,(0,i.extend)(o.Color,{brighter:function(t){return t=null==t?o.brighter:Math.pow(o.brighter,t),new m(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o.darker:Math.pow(o.darker,t),new m(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*a.deg2rad,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new o.Rgb(255*(e+n*(u*r+l*i)),255*(e+n*(c*r+f*i)),255*(e+n*(p*r)),this.opacity)}}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.hue)(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}};var r=n(111)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.interpolateTransformSvg=e.interpolateTransformCss=void 0;var i=r(n(174)),o=n(785);function a(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],l=[];return a=t(a),s=t(s),function(t,r,o,a,s,u){if(t!==o||r!==a){var l=s.push("translate(",null,e,null,n);u.push({i:l-4,x:(0,i.default)(t,o)},{i:l-2,x:(0,i.default)(r,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:(0,i.default)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(a.rotate,s.rotate,u,l),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:(0,i.default)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(a.skewX,s.skewX,u,l),function(t,e,n,r,a,s){if(t!==n||e!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:(0,i.default)(t,n)},{i:u-2,x:(0,i.default)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,l),a=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var s=a(o.parseCss,"px, ","px)","deg)");e.interpolateTransformCss=s;var u=a(o.parseSvg,", ",")",")");e.interpolateTransformSvg=u},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.parseCss=function(t){return"none"===t?u.identity:(i||(i=document.createElement("DIV"),o=document.documentElement,a=document.defaultView),i.style.transform=t,t=a.getComputedStyle(o.appendChild(i),null).getPropertyValue("transform"),o.removeChild(i),t=t.slice(7,-1).split(","),(0,u.default)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.parseSvg=function(t){return null==t?u.identity:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",t),(t=s.transform.baseVal.consolidate())?(t=t.matrix,(0,u.default)(t.a,t.b,t.c,t.d,t.e,t.f)):u.identity)};var i,o,a,s,u=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(786));function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,o,a){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}},e.identity=void 0;var r=180/Math.PI;e.identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],l=e[0],c=e[1],f=e[2],p=l-a,h=c-s,d=p*p+h*h;if(d<1e-12)o=Math.log(f/u)/r,n=function(t){return[a+t*p,s+t*h,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(d),v=(f*f-u*u+4*d)/(2*u*2*g),y=(f*f-u*u-4*d)/(2*f*2*g),m=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(y*y+1)-y);o=(_-m)/r,n=function(t){var e,n=t*o,l=i(m),c=u/(2*g)*(l*(e=r*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+c*p,s+c*h,u*l/i(r*n+m)]}}return n.duration=1e3*o,n};var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.hslLong=e.default=void 0;var i=n(60),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(111));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t){return function(e,n){var r=t((e=(0,i.hsl)(e)).h,(n=(0,i.hsl)(n)).h),a=(0,o.default)(e.s,n.s),s=(0,o.default)(e.l,n.l),u=(0,o.default)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}var u=s(o.hue);e.default=u;var l=s(o.default);e.hslLong=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)((t=(0,i.lab)(t)).l,(e=(0,i.lab)(e)).l),r=(0,o.default)(t.a,e.a),a=(0,o.default)(t.b,e.b),s=(0,o.default)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=a(e),t.opacity=s(e),t+""}};var i=n(60),o=r(n(111))},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.hclLong=e.default=void 0;var i=n(60),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(111));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t){return function(e,n){var r=t((e=(0,i.hcl)(e)).h,(n=(0,i.hcl)(n)).h),a=(0,o.default)(e.c,n.c),s=(0,o.default)(e.l,n.l),u=(0,o.default)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}var u=s(o.hue);e.default=u;var l=s(o.default);e.hclLong=l},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.cubehelixLong=void 0;var i=n(60),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(111));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t){return function e(n){function r(e,r){var a=t((e=(0,i.cubehelix)(e)).h,(r=(0,i.cubehelix)(r)).h),s=(0,o.default)(e.s,r.s),u=(0,o.default)(e.l,r.l),l=(0,o.default)(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}var u=s(o.hue);e.default=u;var l=s(o.default);e.cubehelixLong=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isGradientColor=e.isColorProp=void 0,e.isColorProp=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},e.isGradientColor=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(394)),o=n(102),a=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function s(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function u(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&(0,o.isParent)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var l=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,o.each)(a,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,o.each)(a,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,o,a){var s=new i.default(t,e);return s.fromShape=o,s.toShape=a,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(r),s},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-t.clientX,c=a.clientY-t.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,s(r,t,a);for(var l=r.getParent();l;)l.emitDelegation(t,a),a.propagationStopped||u(l,t,a),a.propagationPath.push(l),l=l.getParent()}else s(this.canvas,t,a)},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}();e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(r(n(396)).default),a=o;e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(397)),a=n(243),s=function(t){function e(e){return t.call(this,e)||this}return(0,i.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var s=(0,a.multiplyVec2)(e,[t.minX,t.minY]),u=(0,a.multiplyVec2)(e,[t.maxX,t.minY]),l=(0,a.multiplyVec2)(e,[t.minX,t.maxY]),c=(0,a.multiplyVec2)(e,[t.maxX,t.maxY]);n=Math.min(s[0],u[0],l[0],c[0]),i=Math.max(s[0],u[0],l[0],c[0]),r=Math.min(s[1],u[1],l[1],c[1]),o=Math.max(s[1],u[1],l[1],c[1])}var f=this.attrs;if(f.shadowColor){var p=f.shadowBlur,h=void 0===p?0:p,d=f.shadowOffsetX,g=void 0===d?0:d,v=f.shadowOffsetY,y=void 0===v?0:v,m=n-h+g,_=i+h+g,b=r-h+y,x=o+h+y;n=Math.min(n,m),i=Math.max(i,_),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(o.default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getBBoxMethod",{enumerable:!0,get:function(){return i.getMethod}});var i=n(799),o=r(n(800)),a=r(n(801)),s=r(n(802)),u=r(n(808)),l=r(n(809)),c=r(n(810)),f=r(n(825)),p=r(n(826));(0,i.register)("rect",o.default),(0,i.register)("image",o.default),(0,i.register)("circle",a.default),(0,i.register)("marker",a.default),(0,i.register)("polyline",s.default),(0,i.register)("polygon",u.default),(0,i.register)("text",l.default),(0,i.register)("path",c.default),(0,i.register)("line",f.default),(0,i.register)("ellipse",p.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMethod=function(t){return r.get(t)},e.register=function(t,e){r.set(t,e)};var r=new Map},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.attr().points,n=[],o=[],a=0;a<e.length;a++){var s=e[a];n.push(s[0]),o.push(s[1])}var u=r.Util.getBBoxByArray(n,o),l=u.x,c=u.y,f=u.width,p=u.height,h={minX:l,minY:c,maxX:l+f,maxY:c+p};return{x:(h=(0,i.mergeArrowBBox)(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}};var r=n(33),i=n(250)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(175)),o=n(88),a=n(415);function s(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function u(t,e,n){var r=t+n-2*e;if((0,o.isNumberEqual)(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function l(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function c(t,e,n,r,o,a,u){var l=s(t,n,o,u),c=s(e,r,a,u),f=i.default.pointAt(t,e,n,r,u),p=i.default.pointAt(n,r,o,a,u);return[[t,e,f.x,f.y,l,c],[l,c,p.x,p.y,o,a]]}function f(t,e,n,r,i,a,s){if(0===s)return((0,o.distance)(t,e,n,r)+(0,o.distance)(n,r,i,a)+(0,o.distance)(t,e,i,a))/2;var u=c(t,e,n,r,i,a,.5),l=u[0],p=u[1];return l.push(s-1),p.push(s-1),f.apply(null,l)+f.apply(null,p)}var p={box:function(t,e,n,r,i,a){var l=u(t,n,i)[0],c=u(e,r,a)[0],f=[t,i],p=[e,a];return void 0!==l&&f.push(s(t,n,i,l)),void 0!==c&&p.push(s(e,r,a,c)),(0,o.getBBoxByArray)(f,p)},length:function(t,e,n,r,i,o){return f(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,u,l){return(0,a.nearestPoint)([t,n,i],[e,r,o],u,l,s)},pointDistance:function(t,e,n,r,i,a,s,u){var l=this.nearestPoint(t,e,n,r,i,a,s,u);return(0,o.distance)(l.x,l.y,s,u)},interpolationAt:s,pointAt:function(t,e,n,r,i,o,a){return{x:s(t,n,i,a),y:s(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return c(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,a,s){var u=l(t,n,i,s),c=l(e,r,a,s),f=Math.atan2(c,u);return(0,o.piMod)(f)}};e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(88),o=r(n(175)),a=n(415);function s(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function u(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function l(t,e,n,r){var o,a,s,u=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,f=[];if((0,i.isNumberEqual)(u,0))(0,i.isNumberEqual)(l,0)||(o=-c/l)>=0&&o<=1&&f.push(o);else{var p=l*l-4*u*c;(0,i.isNumberEqual)(p,0)?f.push(-l/(2*u)):p>0&&(a=(-l-(s=Math.sqrt(p)))/(2*u),(o=(-l+s)/(2*u))>=0&&o<=1&&f.push(o),a>=0&&a<=1&&f.push(a))}return f}function c(t,e,n,r,i,a,u,l,c){var f=s(t,n,i,u,c),p=s(e,r,a,l,c),h=o.default.pointAt(t,e,n,r,c),d=o.default.pointAt(n,r,i,a,c),g=o.default.pointAt(i,a,u,l,c),v=o.default.pointAt(h.x,h.y,d.x,d.y,c),y=o.default.pointAt(d.x,d.y,g.x,g.y,c);return[[t,e,h.x,h.y,v.x,v.y,f,p],[f,p,y.x,y.y,g.x,g.y,u,l]]}function f(t,e,n,r,i,o,s,u,l){if(0===l)return(0,a.snapLength)([t,n,i,s],[e,r,o,u]);var p=c(t,e,n,r,i,o,s,u,.5),h=p[0],d=p[1];return h.push(l-1),d.push(l-1),f.apply(null,h)+f.apply(null,d)}var p={extrema:l,box:function(t,e,n,r,o,a,u,c){for(var f=[t,u],p=[e,c],h=l(t,n,o,u),d=l(e,r,a,c),g=0;g<h.length;g++)f.push(s(t,n,o,u,h[g]));for(g=0;g<d.length;g++)p.push(s(e,r,a,c,d[g]));return(0,i.getBBoxByArray)(f,p)},length:function(t,e,n,r,i,o,a,s){return f(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,u,l,c,f,p){return(0,a.nearestPoint)([t,n,i,u],[e,r,o,l],c,f,s,p)},pointDistance:function(t,e,n,r,o,a,s,u,l,c,f){var p=this.nearestPoint(t,e,n,r,o,a,s,u,l,c,f);return(0,i.distance)(p.x,p.y,l,c)},interpolationAt:s,pointAt:function(t,e,n,r,i,o,a,u,l){return{x:s(t,n,i,a,l),y:s(e,r,o,u,l)}},divide:function(t,e,n,r,i,o,a,s,u){return c(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,o,a,s,l,c){var f=u(t,n,o,s,c),p=u(e,r,a,l,c);return(0,i.piMod)(Math.atan2(p,f))}};e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(88),o=r(n(806));function a(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function s(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function u(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function l(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var c={box:function(t,e,n,r,i,o,u){for(var l=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),c=1/0,f=-1/0,p=[o,u],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=l+h;o<u?o<d&&d<u&&p.push(d):u<d&&d<o&&p.push(d)}for(h=0;h<p.length;h++){var g=a(t,0,n,r,i,p[h]);g<c&&(c=g),g>f&&(f=g)}var v=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),y=1/0,m=-1/0,_=[o,u];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var b=v+h;o<u?o<b&&b<u&&_.push(b):u<b&&b<o&&_.push(b)}for(h=0;h<_.length;h++){var x=s(0,e,n,r,i,_[h]);x<y&&(y=x),x>m&&(m=x)}return{x:c,y:y,width:f-c,height:m-y}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,a,s,c,f){var p=l(c-t,f-e,-i),h=p[0],d=p[1],g=o.default.nearestPoint(0,0,n,r,h,d),v=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,g.x,g.y);v<a?g=u(n,r,a):v>s&&(g=u(n,r,s));var y=l(g.x,g.y,i);return{x:y[0]+t,y:y[1]+e}},pointDistance:function(t,e,n,r,o,a,s,u,l){var c=this.nearestPoint(t,e,n,r,u,l);return(0,i.distance)(c.x,c.y,u,l)},pointAt:function(t,e,n,r,i,o,u,l){var c=(u-o)*l+o;return{x:a(t,0,n,r,i,c),y:s(0,e,n,r,i,c)}},tangentAngle:function(t,e,n,r,o,a,s,u){var l=(s-a)*u+a,c=function(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}(0,0,n,r,o,0,0,l),f=function(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}(0,0,n,r,o,0,0,l);return(0,i.piMod)(Math.atan2(f,c))}};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(88);function i(t,e){var n=Math.abs(t);return e>0?n:-1*n}var o={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,o,a){var s=n,u=r;if(0===s||0===u)return{x:t,y:e};for(var l,c,f=o-t,p=a-e,h=Math.abs(f),d=Math.abs(p),g=s*s,v=u*u,y=Math.PI/4,m=0;m<4;m++){l=s*Math.cos(y),c=u*Math.sin(y);var _=(g-v)*Math.pow(Math.cos(y),3)/s,b=(v-g)*Math.pow(Math.sin(y),3)/u,x=l-_,w=c-b,S=h-_,E=d-b,A=Math.hypot(w,x),O=Math.hypot(E,S);y+=A*Math.asin((x*E-w*S)/(A*O))/Math.sqrt(g+v-l*l-c*c),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+i(l,f),y:e+i(c,p)}},pointDistance:function(t,e,n,i,o,a){var s=this.nearestPoint(t,e,n,i,o,a);return(0,r.distance)(s.x,s.y,o,a)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,i,o){var a=2*Math.PI*o,s=Math.atan2(i*Math.cos(a),-n*Math.sin(a));return(0,r.piMod)(s)}};e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(416),o=r(n(417));function a(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}var s={box:function(t){return o.default.box(t)},length:function(t){return(0,i.lengthOfSegment)(a(t))},pointAt:function(t,e){return(0,i.pointAtSegments)(a(t),e)},pointDistance:function(t,e,n){return(0,i.distanceAtSegment)(a(t),e,n)},tangentAngle:function(t,e){return(0,i.angleAtSegments)(a(t),e)}};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}return r.Util.getBBoxByArray(n,i)};var r=n(33)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,o=e.text,a=e.fontSize,s=e.lineHeight,u=e.font;u||(u=(0,r.assembleFont)(e));var l,c=(0,r.getTextWidth)(o,u);if(c){var f=e.textAlign,p=e.textBaseline,h=(0,r.getTextHeight)(o,a,s),d={x:n,y:i-h};f&&("end"===f||"right"===f?d.x-=c:"center"===f&&(d.x-=c/2)),p&&("top"===p?d.y+=h:"middle"===p&&(d.y+=h/2)),l={x:d.x,y:d.y,width:c,height:h}}else l={x:n,y:i,width:0,height:0};return l};var r=n(418)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.path,u=e.stroke?e.lineWidth:0,l=function(t,e){for(var n=[],i=[],a=[],u=0;u<t.length;u++){var l=(m=t[u]).currentPoint,c=m.params,f=m.prePoint,p=void 0;switch(m.command){case"Q":p=r.Quad.box(f[0],f[1],c[1],c[2],c[3],c[4]);break;case"C":p=r.Cubic.box(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var h=m.arcParams;p=r.Arc.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(l[0]),i.push(l[1])}p&&(m.box=p,n.push(p.x,p.x+p.width),i.push(p.y,p.y+p.height)),e&&("L"===m.command||"M"===m.command)&&m.prePoint&&m.nextPoint&&a.push(m)}n=n.filter((function(t){return!Number.isNaN(t)})),i=i.filter((function(t){return!Number.isNaN(t)}));var d=(0,o.min)(n),g=(0,o.min)(i),v=(0,o.max)(n),y=(0,o.max)(i);if(0===a.length)return{x:d,y:g,width:v-d,height:y-g};for(u=0;u<a.length;u++){var m;(l=(m=a[u]).currentPoint)[0]===d?d-=s(m,e).xExtra:l[0]===v&&(v+=s(m,e).xExtra),l[1]===g?g-=s(m,e).yExtra:l[1]===y&&(y+=s(m,e).yExtra)}return{x:d,y:g,width:v-d,height:y-g}}(t.get("segments")||(0,i.path2Segments)(n),u),c=l.x,f=l.y,p=l.width,h=l.height,d={minX:c,minY:f,maxX:c+p,maxY:f+h};return{x:(d=(0,a.mergeArrowBBox)(t,d)).minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}};var r=n(33),i=n(80),o=n(0),a=n(250);function s(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),u=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+s-u)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||0===Math.sin(l)||(0,o.isNumberEqual)(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),f=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,f=f>Math.PI/2?Math.PI-f:f,{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(f-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(812),i=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var i=!!e,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var u,l,c,f=function(t,e,n,i){var o,a,s,u,l,c,f,p=[],h=!!i;if(h){s=i[0],u=i[1];for(var d=0,g=t.length;d<g;d+=1){var v=t[d];s=r.vec2.min([0,0],s,v),u=r.vec2.max([0,0],u,v)}}d=0;for(var y=t.length;d<y;d+=1)if(v=t[d],0!==d||n)if(d!==y-1||n){o=t[[d?d-1:y-1,d-1][n?0:1]],a=t[n?(d+1)%y:d+1];var m=[0,0];m=r.vec2.sub(m,a,o),m=r.vec2.scale(m,m,e);var _=r.vec2.distance(v,o),b=r.vec2.distance(v,a),x=_+b;0!==x&&(_/=x,b/=x);var w=r.vec2.scale([0,0],m,-_),S=r.vec2.scale([0,0],m,b);c=r.vec2.add([0,0],v,w),l=r.vec2.add([0,0],v,S),l=r.vec2.min([0,0],l,r.vec2.max([0,0],a,v)),l=r.vec2.max([0,0],l,r.vec2.min([0,0],a,v)),w=r.vec2.sub([0,0],l,v),w=r.vec2.scale([0,0],w,-_/b),c=r.vec2.add([0,0],v,w),c=r.vec2.min([0,0],c,r.vec2.max([0,0],o,v)),c=r.vec2.max([0,0],c,r.vec2.min([0,0],o,v)),S=r.vec2.sub([0,0],v,c),S=r.vec2.scale([0,0],S,b/_),l=r.vec2.add([0,0],v,S),h&&(c=r.vec2.max([0,0],c,s),c=r.vec2.min([0,0],c,u),l=r.vec2.max([0,0],l,s),l=r.vec2.min([0,0],l,u)),p.push(f),p.push(c),f=l}else c=v,p.push(f),p.push(c);else f=v;return n&&p.push(p.shift()),p}(o,.4,i,n),p=o.length,h=[];for(a=0;a<p-1;a+=1)u=f[2*a],l=f[2*a+1],c=o[a+1],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return i&&(u=f[p],l=f[p+1],c=o[0],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),h};e.default=i},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.ext=void 0,Object.defineProperty(e,"mat3",{enumerable:!0,get:function(){return i.mat3}}),Object.defineProperty(e,"vec2",{enumerable:!0,get:function(){return i.vec2}}),Object.defineProperty(e,"vec3",{enumerable:!0,get:function(){return i.vec3}});var i=n(172),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(813));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}e.ext=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.angleTo=function(t,e,n){var i=r.vec2.angle(t,e),o=s(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i},e.direction=s,e.leftRotate=o,e.leftScale=a,e.leftTranslate=i,e.transform=function(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,u=e.length;s<u;s++){var l=e[s];switch(l[0]){case"t":i(n,n,[l[1],l[2]]);break;case"s":a(n,n,[l[1],l[2]]);break;case"r":o(n,n,l[1]);break;case"m":c=n,f=n,p=l[1],r.mat3.multiply(c,p,f)}}var c,f,p;return n},e.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};var r=n(172);function i(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(t,i,e)}function s(t,e){return t[0]*e[1]-e[0]*t[1]}},function(t,e,n){"use strict";function r(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,o=n/i,a=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<i-n;s++)t.push(t[0]);return t}for(s=0;s<i;s++){var u=Math.floor(o*s);a[u]=(a[u]||0)+1}var l=a.reduce((function(e,i,o){return o===n?e.concat(t[n]):e.concat(function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var o=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var a=i,s=1/n,u=0;u<n-1;u++){var l=r(a,s/(1-s*u));o.push(l.left),a=l.right}return o.push(a),o.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var o=[].concat(t);"M"===o[0]&&(o[0]="L");for(var a=0;a<=n-1;a++)i.push(o)}return i}(t[o],t[o+1],i))}),[]);return l.unshift(t[0]),("Z"===e[i]||"z"===e[i])&&l.push("Z"),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=function(t,e){var n,o,a=t.length,s=e.length,u=0;if(0===a||0===s)return null;for(var l=[],c=0;c<=a;c++)l[c]=[],l[c][0]={min:c};for(var f=0;f<=s;f++)l[0][f]={min:f};for(c=1;c<=a;c++)for(n=t[c-1],f=1;f<=s;f++){o=e[f-1],u=(0,r.isEqual)(n,o)?0:1;var p=l[c-1][f].min+1,h=l[c][f-1].min+1,d=l[c-1][f-1].min+u;l[c][f]=i(p,h,d)}return l}(t,e),o=t.length,a=e.length,s=[],u=1,l=1;if(n[o][a]!==o){for(var c=1;c<=o;c++){var f=n[c][c].min;l=c;for(var p=u;p<=a;p++)n[c][p].min<f&&(f=n[c][p].min,l=p);u=l,n[c][u].type&&s.push({index:c-1,type:n[c][u].type})}for(c=s.length-1;c>=0;c--)u=s[c].index,"add"===s[c].type?t.splice(u,0,[].concat(t[u])):t.splice(u,1)}if((o=t.length)<a)for(c=0;c<a-o;c++)"z"===t[o-1][0]||"Z"===t[o-1][0]?t.splice(o-2,0,t[o-2]):t.push(t[o-1]);return t};var r=n(0);function i(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}},function(t,e,n){"use strict";function r(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function i(t,e,n){for(var i,o=[].concat(t),a=1/(n+1),s=r(e)[0],u=1;u<=n;u++)a*=u,0===(i=Math.floor(t.length*a))?o.unshift([s[0]*a+t[i][0]*(1-a),s[1]*a+t[i][1]*(1-a)]):o.splice(i,0,[s[0]*a+t[i][0]*(1-a),s[1]*a+t[i][1]*(1-a)]);return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t.length<=1)return t;for(var n,o=0;o<e.length;o++)if(t[o][0]!==e[o][0])switch(n=r(t[o]),e[o][0]){case"M":t[o]=["M"].concat(n[0]);break;case"L":t[o]=["L"].concat(n[0]);break;case"A":t[o]=[].concat(e[o]),t[o][6]=n[0][0],t[o][7]=n[0][1];break;case"Q":if(n.length<2){if(!(o>0)){t[o]=e[o];break}n=i(n,t[o-1],1)}t[o]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[o]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(o>0)){t[o]=e[o];break}n=i(n,t[o-1],2)}t[o]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(o>0)){t[o]=e[o];break}n=i(n,t[o-1],1)}t[o]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[o]=e[o]}return t}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(t,e,n){var r,i,o,s,u,l,c,f,p,h;t=(0,a.default)(t),e=(0,a.default)(e);for(var d=n?0:[],v=0,y=t.length;v<y;v++){var m=t[v];if("M"===m[0])r=u=m[1],i=l=m[2];else{"C"===m[0]?(p=[r,i].concat(m.slice(1)),r=p[6],i=p[7]):(p=[r,i,r,i,u,l,u,l],r=u,i=l);for(var _=0,b=e.length;_<b;_++){var x=e[_];if("M"===x[0])o=c=x[1],s=f=x[2];else{"C"===x[0]?(h=[o,s].concat(x.slice(1)),o=h[6],s=h[7]):(h=[o,s,o,s,c,f,c,f],o=c,s=f);var w=g(p,h,n);if(n)d+=w;else{for(var S=0,E=w.length;S<E;S++)w[S].segment1=v,w[S].segment2=_,w[S].bez1=p,w[S].bez2=h;d=d.concat(w)}}}}}return d}(t,e)};var i=n(0),o=r(n(421)),a=r(n(422)),s=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},u=function(t,e,n,r,i,o,a,u,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=0;d<12;d++){var g=c*f[d]+c,v=s(g,t,n,i,a),y=s(g,e,r,o,u),m=v*v+y*y;h+=p[d]*Math.sqrt(m)}return c*h},l=function(t,e,n,r,i,o,a,s){for(var u,l,c,f,p=[],h=[[],[]],d=0;d<2;++d)if(0===d?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&p.push(f)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-l+v)/(2*u);y>0&&y<1&&p.push(y);var m=(-l-v)/(2*u);m>0&&m<1&&p.push(m)}}for(var _,b=p.length,x=b;b--;)_=1-(f=p[b]),h[0][b]=_*_*_*t+3*_*_*f*n+3*_*f*f*i+f*f*f*a,h[1][b]=_*_*_*e+3*_*_*f*r+3*_*f*f*o+f*f*f*s;return h[0][x]=t,h[1][x]=e,h[0][x+1]=a,h[1][x+1]=s,h[0].length=h[1].length=x+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},c=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,f=+l.toFixed(2),p=+c.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},f=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},p=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:(0,o.default)(t,e,n,r),vb:[t,e,n,r].join(" ")}},h=function(t,e,n,r,o,a,s,u){(0,i.isArray)(t)||(t=[t,e,n,r,o,a,s,u]);var c=l.apply(null,t);return p(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},d=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),p=u*u,h=p*u,d=t+2*u*(n-t)+p*(i-2*n+t),g=e+2*u*(r-e)+p*(o-2*r+e),v=n+2*u*(i-n)+p*(a-2*i+n),y=r+2*u*(o-r)+p*(s-2*o+r);return{x:c*t+3*f*u*n+3*l*u*u*i+h*a,y:c*e+3*f*u*r+3*l*u*u*o+h*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},g=function(t,e,n){if(!function(t,e){return t=p(t),e=p(e),f(e,t.x,t.y)||f(e,t.x2,t.y)||f(e,t.x,t.y2)||f(e,t.x2,t.y2)||f(t,e.x,e.y)||f(t,e.x2,e.y)||f(t,e.x,e.y2)||f(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(h(t),h(e)))return n?0:[];for(var r=~~(u.apply(0,t)/8),i=~~(u.apply(0,e)/8),o=[],a=[],s={},l=n?0:[],g=0;g<r+1;g++){var v=d.apply(0,t.concat(g/r));o.push({x:v.x,y:v.y,t:g/r})}for(g=0;g<i+1;g++)v=d.apply(0,e.concat(g/i)),a.push({x:v.x,y:v.y,t:g/i});for(g=0;g<r;g++)for(var y=0;y<i;y++){var m=o[g],_=o[g+1],b=a[y],x=a[y+1],w=Math.abs(_.x-m.x)<.001?"y":"x",S=Math.abs(x.x-b.x)<.001?"y":"x",E=c(m.x,m.y,_.x,_.y,b.x,b.y,x.x,x.y);if(E){if(s[E.x.toFixed(4)]===E.y.toFixed(4))continue;s[E.x.toFixed(4)]=E.y.toFixed(4);var A=m.t+Math.abs((E[w]-m[w])/(_[w]-m[w]))*(_.t-m.t),O=b.t+Math.abs((E[S]-b[S])/(x[S]-b[S]))*(x.t-b.t);A>=0&&A<=1&&O>=0&&O<=1&&(n?l++:l.push({x:E.x,y:E.y,t1:A,t2:O}))}}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.segmentToCubic=function(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);var n=t.slice(1),a=n[0],s=n[1];switch(t[0]){case"M":return e.x=a,e.y=s,t;case"A":return["C"].concat(r.arcToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=a,e.qy=s,["C"].concat(i.quadToCubic.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat((0,o.lineToCubic)(e.x1,e.y1,t[1],t[2]));case"H":return["C"].concat((0,o.lineToCubic)(e.x1,e.y1,t[1],e.y1));case"V":return["C"].concat((0,o.lineToCubic)(e.x1,e.y1,e.x1,t[1]));case"Z":return["C"].concat((0,o.lineToCubic)(e.x1,e.y1,e.x,e.y))}return t};var r=n(819),i=n(820),o=n(821)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arcToCubic=function(t,e,n,s,u,l,c,f,p){return function(t){var e=t.px,n=t.py,s=t.cx,u=t.cy,l=t.rx,c=t.ry,f=t.xAxisRotation,p=void 0===f?0:f,h=t.largeArcFlag,d=void 0===h?0:h,g=t.sweepFlag,v=void 0===g?0:g,y=[];if(0===l||0===c)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:u}];var m=Math.sin(p*r/360),_=Math.cos(p*r/360),b=_*(e-s)/2+m*(n-u)/2,x=-m*(e-s)/2+_*(n-u)/2;if(0===b&&0===x)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:u}];l=Math.abs(l),c=Math.abs(c);var w=Math.pow(b,2)/Math.pow(l,2)+Math.pow(x,2)/Math.pow(c,2);w>1&&(l*=Math.sqrt(w),c*=Math.sqrt(w));var S=function(t,e,n,i,o,s,u,l,c,f,p,h){var d=Math.pow(o,2),g=Math.pow(s,2),v=Math.pow(p,2),y=Math.pow(h,2),m=d*g-d*y-g*v;m<0&&(m=0),m/=d*y+g*v;var _=(m=Math.sqrt(m)*(u===l?-1:1))*o/s*h,b=m*-s/o*p,x=f*_-c*b+(t+n)/2,w=c*_+f*b+(e+i)/2,S=(p-_)/o,E=(h-b)/s,A=(-p-_)/o,O=(-h-b)/s,T=a(1,0,S,E),C=a(S,E,A,O);return 0===l&&C>0&&(C-=r),1===l&&C<0&&(C+=r),[x,w,T,C]}(e,n,s,u,l,c,d,v,m,_,b,x),E=S[0],A=S[1],O=S[2],T=S[3],C=Math.abs(T)/(r/4);Math.abs(1-C)<1e-7&&(C=1);var P=Math.max(Math.ceil(C),1);T/=P;for(var M=0;M<P;M++)y.push(o(O,T)),O+=T;return y.map((function(t){var e=i(t[0],l,c,_,m,E,A),n=e.x,r=e.y,o=i(t[1],l,c,_,m,E,A),a=o.x,s=o.y,u=i(t[2],l,c,_,m,E,A);return{x1:n,y1:r,x2:a,y2:s,x:u.x,y:u.y}}))}({px:t,py:e,cx:f,cy:p,rx:n,ry:s,xAxisRotation:u,largeArcFlag:l,sweepFlag:c}).reduce((function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.x,s=e.y;return t.push(n,r,i,o,a,s),t}),[])};var r=2*Math.PI,i=function(t,e,n,r,i,o,a){var s=t.x,u=t.y;return{x:r*(s*=e)-i*(u*=n)+o,y:i*s+r*u+a}},o=function(t,e){var n=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:r-i*n,y:i+r*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},a=function(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quadToCubic=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lineToCubic=function(t,e,n,r){return[t,e,n,r,n,r]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.join(",").replace(r,"$1")};var r=/,?([a-z]),?/gi},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=(0,a.default)(t);for(var e=[],n=null,r=null,i=null,s=0,l=t.length,c=0;c<l;c++){var f=t[c];r=t[c+1];var p=f[0],h={command:p,prePoint:n,params:f,startTangent:null,endTangent:null};switch(p){case"M":i=[f[1],f[2]],s=c;break;case"A":var d=(0,o.default)(n,f);h.arcParams=d}if("Z"===p)n=i,r=t[s+1];else{var g=f.length;n=[f[g-2],f[g-1]]}r&&"Z"===r[0]&&(r=t[s],e[s]&&(e[s].prePoint=n)),h.currentPoint=n,e[s]&&(0,o.isSamePoint)(n,e[s].currentPoint)&&(e[s].prePoint=h.prePoint);var v=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=v;var y=h.prePoint;if(["L","H","V"].includes(p))h.startTangent=[y[0]-n[0],y[1]-n[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]];else if("Q"===p){var m=[f[1],f[2]];h.startTangent=[y[0]-m[0],y[1]-m[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]]}else if("T"===p)m=u((x=e[c-1]).currentPoint,y),"Q"===x.command?(h.command="Q",h.startTangent=[y[0]-m[0],y[1]-m[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]]):(h.command="TL",h.startTangent=[y[0]-n[0],y[1]-n[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]);else if("C"===p){var _=[f[1],f[2]],b=[f[3],f[4]];h.startTangent=[y[0]-_[0],y[1]-_[1]],h.endTangent=[n[0]-b[0],n[1]-b[1]],0===h.startTangent[0]&&0===h.startTangent[1]&&(h.startTangent=[_[0]-b[0],_[1]-b[1]]),0===h.endTangent[0]&&0===h.endTangent[1]&&(h.endTangent=[b[0]-_[0],b[1]-_[1]])}else if("S"===p){var x;_=u((x=e[c-1]).currentPoint,y),b=[f[1],f[2]],"C"===x.command?(h.command="C",h.startTangent=[y[0]-_[0],y[1]-_[1]],h.endTangent=[n[0]-b[0],n[1]-b[1]]):(h.command="SQ",h.startTangent=[y[0]-b[0],y[1]-b[1]],h.endTangent=[n[0]-b[0],n[1]-b[1]])}else if("A"===p){var w=.001,S=h.arcParams||{},E=S.cx,A=void 0===E?0:E,O=S.cy,T=void 0===O?0:O,C=S.rx,P=void 0===C?0:C,M=S.ry,I=void 0===M?0:M,k=S.sweepFlag,R=void 0===k?0:k,L=S.startAngle,D=void 0===L?0:L,N=S.endAngle,F=void 0===N?0:N;0===R&&(w*=-1);var j=P*Math.cos(D-w)+A,B=I*Math.sin(D-w)+T;h.startTangent=[j-i[0],B-i[1]];var z=P*Math.cos(D+F+w)+A,U=I*Math.sin(D+F-w)+T;h.endTangent=[y[0]-z,y[1]-U]}e.push(h)}return e};var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(425)),a=r(n(420));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function u(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t.length<2||e.length<2)return!1;var n,r,l=u(t),c=u(e);if(n=l,(r=c).minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)return!1;var f=!1;if((0,a.each)(e,(function(e){if((0,i.default)(t,e[0],e[1]))return f=!0,!1})),f)return!0;if((0,a.each)(t,(function(t){if((0,i.default)(e,t[0],t[1]))return f=!0,!1})),f)return!0;var p=s(t),h=s(e),d=!1;return(0,a.each)(h,(function(t){if(function(t,e){var n=!1;return(0,a.each)(t,(function(t){if((0,o.default)(t.from,t.to,e.from,e.to))return n=!0,!1})),n}(p,t))return d=!0,!1})),d};var i=r(n(427)),o=r(n(426)),a=n(0);function s(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function u(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=Math.min(n,o),u=Math.max(n,o),l=Math.min(i,a),c=Math.max(i,a),f={minX:s,maxX:u,minY:l,maxY:c};return{x:(f=(0,r.mergeArrowBBox)(t,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}};var r=n(250)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(171),a=r(n(431)),s=n(103),u=r(n(830)),l=r(n(832)),c=(0,o.detect)(),f=c&&"firefox"===c.name,p=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,s.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new l.default({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new u.default(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");s.isBrowser&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");s.isBrowser&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(f&&!(0,s.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,s.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(a.default);e.default=p},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),o=f(n(403)),a=f(n(404)),s=n(406),u=f(n(428)),l=n(831);function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}var p=[1,0,0,0,1,0,0,0,1];function h(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var c=e.duration,f=e.easing;if(n=n-o-e.delay,e.repeat)r=n%c/c,r=a[f](r);else{if(!((r=n/c)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=a[f](r)}if(e.onFrame){var h=e.onFrame(r);t.attr(h)}else!function(t,e,n){var r={},o=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var c;for(var f in a)if(!(0,i.isEqual)(o[f],a[f]))if("path"===f){var h=a[f],d=o[f];h.length>d.length?(h=u.parsePathString(a[f]),d=u.parsePathString(o[f]),d=u.fillPathByDiff(d,h),d=u.formatPath(d,h),e.fromAttrs.path=d,e.toAttrs.path=h):e.pathFormatted||(h=u.parsePathString(a[f]),d=u.parsePathString(o[f]),d=u.formatPath(d,h),e.fromAttrs.path=d,e.toAttrs.path=h,e.pathFormatted=!0),r[f]=[];for(var g=0;g<h.length;g++){for(var v=h[g],y=d[g],m=[],_=0;_<v.length;_++)(0,i.isNumber)(v[_])&&y&&(0,i.isNumber)(y[_])?(c=(0,s.interpolate)(y[_],v[_]),m.push(c(n))):m.push(v[_]);r[f].push(m)}}else if("matrix"===f){var b=(0,s.interpolateArray)(o[f]||p,a[f]||p)(n);r[f]=b}else(0,l.isColorProp)(f)&&(0,l.isGradientColor)(a[f])?r[f]=a[f]:(0,i.isFunction)(a[f])||(c=(0,s.interpolate)(o[f],a[f]),r[f]=c(n));t.attr(r)}}(t,e,r);return!1}var d=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=o.timer((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],h(t,n,i)&&(e.splice(a,1),n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isGradientColor=e.isColorProp=void 0,e.isColorProp=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},e.isGradientColor=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(429)),o=n(103),a=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function s(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function u(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&(0,o.isParent)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var l=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,o.each)(a,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,o.each)(a,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,o,a){var s=new i.default(t,e);return s.fromShape=o,s.toShape=a,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(r),s},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-t.clientX,c=a.clientY-t.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,s(r,t,a);for(var l=r.getParent();l;)l.emitDelegation(t,a),a.propagationStopped||u(l,t,a),a.propagationPath.push(l),l=l.getParent()}else s(this.canvas,t,a)},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}();e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(r(n(431)).default),a=o;e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(432)),a=n(251),s=function(t){function e(e){return t.call(this,e)||this}return(0,i.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var s=(0,a.multiplyVec2)(e,[t.minX,t.minY]),u=(0,a.multiplyVec2)(e,[t.maxX,t.minY]),l=(0,a.multiplyVec2)(e,[t.minX,t.maxY]),c=(0,a.multiplyVec2)(e,[t.maxX,t.maxY]);n=Math.min(s[0],u[0],l[0],c[0]),i=Math.max(s[0],u[0],l[0],c[0]),r=Math.min(s[1],u[1],l[1],c[1]),o=Math.max(s[1],u[1],l[1],c[1])}var f=this.attrs;if(f.shadowColor){var p=f.shadowBlur,h=void 0===p?0:p,d=f.shadowOffsetX,g=void 0===d?0:d,v=f.shadowOffsetY,y=void 0===v?0:v,m=n-h+g,_=i+h+g,b=r-h+y,x=o+h+y;n=Math.min(n,m),i=Math.max(i,_),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(o.default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getBBoxMethod",{enumerable:!0,get:function(){return i.getMethod}});var i=n(836),o=r(n(837)),a=r(n(838)),s=r(n(839)),u=r(n(840)),l=r(n(841)),c=r(n(842)),f=r(n(843)),p=r(n(844));(0,i.register)("rect",o.default),(0,i.register)("image",o.default),(0,i.register)("circle",a.default),(0,i.register)("marker",a.default),(0,i.register)("polyline",s.default),(0,i.register)("polygon",u.default),(0,i.register)("text",l.default),(0,i.register)("path",c.default),(0,i.register)("line",f.default),(0,i.register)("ellipse",p.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMethod=function(t){return r.get(t)},e.register=function(t,e){r.set(t,e)};var r=new Map},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.attr().points,n=[],o=[],a=0;a<e.length;a++){var s=e[a];n.push(s[0]),o.push(s[1])}var u=r.Util.getBBoxByArray(n,o),l=u.x,c=u.y,f=u.width,p=u.height,h={minX:l,minY:c,maxX:l+f,maxY:c+p};return{x:(h=(0,i.mergeArrowBBox)(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}};var r=n(33),i=n(252)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}return r.Util.getBBoxByArray(n,i)};var r=n(33)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,o=e.text,a=e.fontSize,s=e.lineHeight,u=e.font;u||(u=(0,r.assembleFont)(e));var l,c=(0,r.getTextWidth)(o,u);if(c){var f=e.textAlign,p=e.textBaseline,h=(0,r.getTextHeight)(o,a,s),d={x:n,y:i-h};f&&("end"===f||"right"===f?d.x-=c:"center"===f&&(d.x-=c/2)),p&&("top"===p?d.y+=h:"middle"===p&&(d.y+=h/2)),l={x:d.x,y:d.y,width:c,height:h}}else l={x:n,y:i,width:0,height:0};return l};var r=n(433)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.path,u=e.stroke?e.lineWidth:0,l=function(t,e){for(var n=[],i=[],a=[],u=0;u<t.length;u++){var l=(m=t[u]).currentPoint,c=m.params,f=m.prePoint,p=void 0;switch(m.command){case"Q":p=r.Quad.box(f[0],f[1],c[1],c[2],c[3],c[4]);break;case"C":p=r.Cubic.box(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var h=m.arcParams;p=r.Arc.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(l[0]),i.push(l[1])}p&&(m.box=p,n.push(p.x,p.x+p.width),i.push(p.y,p.y+p.height)),e&&("L"===m.command||"M"===m.command)&&m.prePoint&&m.nextPoint&&a.push(m)}n=n.filter((function(t){return!Number.isNaN(t)})),i=i.filter((function(t){return!Number.isNaN(t)}));var d=(0,o.min)(n),g=(0,o.min)(i),v=(0,o.max)(n),y=(0,o.max)(i);if(0===a.length)return{x:d,y:g,width:v-d,height:y-g};for(u=0;u<a.length;u++){var m;(l=(m=a[u]).currentPoint)[0]===d?d-=s(m,e).xExtra:l[0]===v&&(v+=s(m,e).xExtra),l[1]===g?g-=s(m,e).yExtra:l[1]===y&&(y+=s(m,e).yExtra)}return{x:d,y:g,width:v-d,height:y-g}}(t.get("segments")||(0,i.path2Segments)(n),u),c=l.x,f=l.y,p=l.width,h=l.height,d={minX:c,minY:f,maxX:c+p,maxY:f+h};return{x:(d=(0,a.mergeArrowBBox)(t,d)).minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}};var r=n(33),i=n(80),o=n(0),a=n(252);function s(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),u=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+s-u)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||0===Math.sin(l)||(0,o.isNumberEqual)(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),f=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,f=f>Math.PI/2?Math.PI-f:f,{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(f-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=Math.min(n,o),u=Math.max(n,o),l=Math.min(i,a),c=Math.max(i,a),f={minX:s,maxX:u,minY:l,maxY:c};return{x:(f=(0,r.mergeArrowBBox)(t,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}};var r=n(252)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0});var i={getAdjust:!0,registerAdjust:!0,Adjust:!0};Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return o.default}}),e.registerAdjust=e.getAdjust=void 0;var o=r(n(112)),a=n(436);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var s={},u=function(t){return s[t.toLowerCase()]};e.getAdjust=u,e.registerAdjust=function(t,e){if(u(t))throw new Error("Adjust type '"+t+"' existed.");s[t.toLowerCase()]=e}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(89),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(0)),s=n(253);function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?s.MARGIN_RATIO:r,o=e.dodgeRatio,a=void 0===o?s.DODGE_RATIO:o,u=e.dodgeBy,l=e.intervalPadding,c=e.dodgePadding,f=e.xDimensionLength,p=e.groupNum,h=e.defaultSize,d=e.maxColumnWidth,g=e.minColumnWidth,v=e.columnWidthRatio;return n.marginRatio=i,n.dodgeRatio=a,n.dodgeBy=u,n.intervalPadding=l,n.dodgePadding=c,n.xDimensionLegenth=f,n.groupNum=p,n.defaultSize=h,n.maxColumnWidth=d,n.minColumnWidth=g,n.columnWidthRatio=v,n}return(0,o.__extends)(e,t),e.prototype.process=function(t){var e=a.clone(t),n=a.flatten(e),r=this.dodgeBy,i=r?a.group(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,o=this.getDistribution(t),s=this.groupData(n,t);return a.each(s,(function(n,s){var u;u=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(s),e),a.each(n,(function(e){var n=e[t],a=o[n],s=a.indexOf(r);e[t]=i.getDodgeOffset(u,s,a.length)}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,o=i.dodgeRatio,s=i.marginRatio,u=i.intervalPadding,l=i.dodgePadding,c=t.pre,f=t.next,p=f-c;if(!a.isNil(u)&&a.isNil(l)&&u>=0)r=c+this.getIntervalOnlyOffset(n,e);else if(!a.isNil(l)&&a.isNil(u)&&l>=0)r=c+this.getDodgeOnlyOffset(n,e);else if(!a.isNil(u)&&!a.isNil(l)&&u>=0&&l>=0)r=c+this.getIntervalAndDodgeOffset(n,e);else{var h=p*o/n,d=s*h;r=(c+f)/2+(.5*(p-n*h-(n-1)*d)+((e+1)*h+e*d)-.5*h-.5*p)}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,o=n.xDimensionLegenth,s=n.groupNum,u=n.dodgeRatio,l=n.maxColumnWidth,c=n.minColumnWidth,f=n.columnWidthRatio,p=i/o,h=(1-(s-1)*p)/s*u/(t-1),d=((1-p*(s-1))/s-h*(t-1))/t;if(d=a.isNil(f)?d:1/s/t*f,!a.isNil(l)){var g=l/o;d=Math.min(d,g)}if(!a.isNil(c)){var v=c/o;d=Math.max(d,v)}return((.5+e)*(d=r?r/o:d)+e*(h=((1-(s-1)*p)/s-t*d)/(t-1))+.5*p)*s-p/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,o=n.xDimensionLegenth,s=n.groupNum,u=n.marginRatio,l=n.maxColumnWidth,c=n.minColumnWidth,f=n.columnWidthRatio,p=i/o,h=1*u/(s-1),d=((1-h*(s-1))/s-p*(t-1))/t;if(d=f?1/s/t*f:d,!a.isNil(l)){var g=l/o;d=Math.min(d,g)}if(!a.isNil(c)){var v=c/o;d=Math.max(d,v)}return((.5+e)*(d=r?r/o:d)+e*p+.5*(h=(1-(d*t+p*(t-1))*s)/(s-1)))*s-h/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,s=r/o,u=i/o;return((.5+e)*(((1-s*(a-1))/a-u*(t-1))/t)+e*u+.5*s)*a-s/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},a.each(e,(function(e,n){var i=a.valuesOfKey(e,t);i.length||i.push(0),a.each(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(r(n(112)).default);e.default=l},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(89),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(0)),s=n(253);function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.process=function(t){var e=a.clone(t),n=a.flatten(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return a.each(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e,n=t.pre,r=t.next,i=(r-n)*s.GAP;return(r-i-(e=n+i))*Math.random()+e},e.prototype.adjustGroup=function(t,e,n,r){var i=this,o=this.getAdjustRange(e,n,r);return a.each(t,(function(t){t[e]=i.getAdjustOffset(o)})),t},e}(r(n(112)).default),c=l;e.default=c},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(89),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(0)),s=r(n(112));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=a.Cache,c=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,o=e.height,a=void 0===o?NaN:o,s=e.size,u=void 0===s?10:s,l=e.reverseOrder,c=void 0!==l&&l;return n.adjustNames=i,n.height=a,n.size=u,n.reverseOrder=c,n}return(0,o.__extends)(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,r=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder?this.reverse(t):t,s=new l,u=new l;return i.map((function(t){return t.map((function(t){var e,i=a.get(t,n,0),l=a.get(t,[r]),c=i.toString();if(l=a.isArray(l)?l[1]:l,!a.isNil(l)){var f=l>=0?s:u;f.has(c)||f.set(c,0);var p=f.get(c),h=l+p;return f.set(c,h),(0,o.__assign)((0,o.__assign)({},t),((e={})[r]=[p,h],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,a=n.reverseOrder,s=a?this.reverse(t):t,u=new l;return s.map((function(t){return t.map((function(t){var n,a=e.size,s=t[r],l=2*a/i;u.has(s)||u.set(s,l/2);var c=u.get(s);return u.set(s,c+l),(0,o.__assign)((0,o.__assign)({},t),((n={}).y=c,n))}))}))},e}(s.default);e.default=c},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(89),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(0));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.process=function(t){var e=a.flatten(t),n=this.xField,r=this.yField,i=this.getXValuesMaxMap(e),s=Math.max.apply(Math,Object.keys(i).map((function(t){return i[t]})));return a.map(t,(function(t){return a.map(t,(function(t){var e,u,l=t[r],c=t[n];if(a.isArray(l)){var f=(s-i[c])/2;return(0,o.__assign)((0,o.__assign)({},t),((e={})[r]=a.map(l,(function(t){return f+t})),e))}var p=(s-l)/2;return(0,o.__assign)((0,o.__assign)({},t),((u={})[r]=[p,l+p],u))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,i=a.groupBy(t,(function(t){return t[n]}));return a.mapValues(i,(function(t){return e.getDimMaxValue(t,r)}))},e.prototype.getDimMaxValue=function(t,e){var n=a.map(t,(function(t){return a.get(t,e,[])})),r=a.flatten(n);return Math.max.apply(Math,r)},e}(r(n(112)).default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(89),o=r(n(141)),a=n(0),s=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],(0,a.isString)(n.values)&&(n.linear=!0),n.gradient=o.default.gradient(n.values),n}return(0,i.__extends)(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(r(n(104)).default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(89),o=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return(0,i.__extends)(e,t),e}(r(n(104)).default);e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(89),o=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return(0,i.__extends)(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],i=n[1];return(0,o.isNil)(t)||(0,o.isNil)(e)?[]:[(0,o.isArray)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),(0,o.isArray)(e)?e.map((function(t){return i.scale(t)})):i.scale(e)]},e}(r(n(104)).default);e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(89),o=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return(0,i.__extends)(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(r(n(104)).default);e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(89),o=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return(0,i.__extends)(e,t),e}(r(n(104)).default);e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0});var i={getAttribute:!0,registerAttribute:!0,Attribute:!0};Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.default}}),e.registerAttribute=e.getAttribute=void 0;var o=r(n(104)),a=n(437);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var s={},u=function(t){return s[t.toLowerCase()]};e.getAttribute=u,e.registerAttribute=function(t,e){if(u(t))throw new Error("Attribute type '"+t+"' existed.");s[t.toLowerCase()]=e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(176),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,i.__extends)(e,t),e.prototype.translate=function(t){t=(0,a.toTimeStamp)(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,o.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):(0,a.timeFormat)(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,o.each)(e,(function(t,n){e[n]=(0,a.toTimeStamp)(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(r(n(439)).default),u=s;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assign=c,e.format=e.defaultI18n=e.default=void 0,e.parse=P,e.setGlobalDateMasks=e.setGlobalDateI18n=void 0;var r=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="[1-9]\\d?",o="\\d\\d",a="[^\\s]+",s=/\[([^]*?)\]/gm;function u(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var l=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],h=u(p,3),d={dayNamesShort:u(f,3),dayNames:f,monthNamesShort:h,monthNames:p,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}};e.defaultI18n=d;var g=c({},d),v=function(t){return g=c(g,t)};e.setGlobalDateI18n=v;var y=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},m=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},_={D:function(t){return String(t.getDate())},DD:function(t){return m(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return m(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return m(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return m(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return m(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return m(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return m(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return m(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return m(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return m(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return m(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+m(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+m(Math.floor(Math.abs(e)/60),2)+":"+m(Math.abs(e)%60,2)}},b=function(t){return+t-1},x=[null,i],w=[null,a],S=["isPm",a,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],E=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],A={D:["day",i],DD:["day",o],Do:["day","[1-9]\\d?[^\\s]+",function(t){return parseInt(t,10)}],M:["month",i,b],MM:["month",o,b],YY:["year",o,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",i,void 0,"isPm"],hh:["hour",o,void 0,"isPm"],H:["hour",i],HH:["hour",o],m:["minute",i],mm:["minute",o],s:["second",i],ss:["second",o],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",o,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:x,dd:x,ddd:w,dddd:w,MMM:["month",a,l("monthNamesShort")],MMMM:["month",a,l("monthNames")],a:S,A:S,ZZ:E,Z:E},O={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},T=function(t){return c(O,t)};e.setGlobalDateMasks=T;var C=function(t,e,n){if(void 0===e&&(e=O.default),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var i=[];e=(e=O[e]||e).replace(s,(function(t,e){return i.push(e),"@@@"}));var o=c(c({},g),n);return(e=e.replace(r,(function(e){return _[e](t,o)}))).replace(/@@@/g,(function(){return i.shift()}))};function P(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=O[e]||e,t.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],a=[],u=e.replace(s,(function(t,e){return a.push(y(e)),"@@@"})),l={},f={};u=y(u).replace(r,(function(t){var e=A[t],n=e[0],r=e[1],i=e[3];if(l[n])throw new Error("Invalid format. "+n+" specified twice in format");return l[n]=!0,i&&(f[i]=!0),o.push(e),"("+r+")"})),Object.keys(f).forEach((function(t){if(!l[t])throw new Error("Invalid format. "+t+" is required in specified format")})),u=u.replace(/@@@/g,(function(){return a.shift()}));var p=t.match(new RegExp(u,"i"));if(!p)return null;for(var h=c(c({},g),n),d=1;d<p.length;d++){var v=o[d-1],m=v[0],_=v[2],b=_?_(p[d],h):+p[d];if(null==b)return null;i[m]=b}1===i.isPm&&null!=i.hour&&12!==+i.hour?i.hour=+i.hour+12:0===i.isPm&&12===+i.hour&&(i.hour=0);for(var x=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),w=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],S=(d=0,w.length);d<S;d++)if(l[w[d][0]]&&i[w[d][0]]!==x[w[d][1]]())return null;return null==i.timezoneOffset?x:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}e.format=C;var M={format:C,parse:P,defaultI18n:d,setGlobalDateI18n:v,setGlobalDateMasks:T};e.default=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,n,i,o){for(var a=(0,r.isNil)(i)?0:i,s=(0,r.isNil)(o)?e.length:o;a<s;){var u=a+s>>>1;t(e[u])>n?s=u:a=u+1}return a}};var r=n(0)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(178),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,i.__extends)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=(0,o.log)(n,this.max),i=this.rangeMin(),a=this.rangeMax()-i,s=this.positiveMin;if(s){if(0===t)return 0;var u=1/(r-(e=(0,o.log)(n,s/n)))*a;if(t<u)return t/u*s}else e=(0,o.log)(n,this.min);var l=(t-i)/a*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=(0,o.getLogPositiveMin)(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/((0,o.log)(r,e)-(0,o.log)(r,n)):((0,o.log)(r,t)-(0,o.log)(r,n))/((0,o.log)(r,e)-(0,o.log)(r,n))},e}(r(n(177)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(178),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,i.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=(0,o.calBase)(n,this.max),i=(0,o.calBase)(n,this.min),a=e*(r-i)+i,s=a>=0?1:-1;return Math.pow(a,n)*s},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return((0,o.calBase)(r,t)-(0,o.calBase)(r,n))/((0,o.calBase)(r,e)-(0,o.calBase)(r,n))},e}(r(n(177)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(176),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,i.__extends)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):(0,a.timeFormat)(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,o.isString)(n)||(0,o.isDate)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return(0,a.toTimeStamp)(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,o.isNil)(e)&&(0,o.isNumber)(e)||(this.min=this.translate(this.min)),(0,o.isNil)(n)&&(0,o.isNumber)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,s=i,u=0;(0,o.each)(t,(function(t){var e=(0,a.toTimeStamp)(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(s=i,i=e):s>e&&(s=e),u<e&&(u=e),r.push(e)})),t.length>1&&(this.minTickInterval=s-i),(0,o.isNil)(e)&&(this.min=i),(0,o.isNil)(n)&&(this.max=u)}},e}(r(n(440)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,i.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(r(n(441)).default),a=o;e.default=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return i.default}}),e.getScale=a,e.registerScale=function(t,e){if(a(t))throw new Error("type '"+t+"' existed.");o[t]=e};var i=r(n(142)),o={};function a(t){return o[t]}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,i.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,o.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(r(n(142)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getTickMethod",{enumerable:!0,get:function(){return f.getTickMethod}}),Object.defineProperty(e,"registerTickMethod",{enumerable:!0,get:function(){return f.registerTickMethod}});var i=r(n(442)),o=r(n(866)),a=r(n(868)),s=r(n(869)),u=r(n(870)),l=r(n(871)),c=r(n(872)),f=n(438),p=r(n(873)),h=r(n(874)),d=r(n(875));(0,f.registerTickMethod)("cat",i.default),(0,f.registerTickMethod)("time-cat",h.default),(0,f.registerTickMethod)("wilkinson-extended",a.default),(0,f.registerTickMethod)("r-pretty",c.default),(0,f.registerTickMethod)("time",p.default),(0,f.registerTickMethod)("time-pretty",d.default),(0,f.registerTickMethod)("log",s.default),(0,f.registerTickMethod)("pow",u.default),(0,f.registerTickMethod)("quantile",l.default),(0,f.registerTickMethod)("d3-linear",o.default)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.min,n=t.max,r=t.tickInterval,u=t.minLimit,l=t.maxLimit,c=(0,o.default)(t);return(0,i.isNil)(u)&&(0,i.isNil)(l)?r?(0,a.default)(e,n,r).ticks:c:(0,s.default)(t,(0,i.head)(c),(0,i.last)(c))};var i=n(0),o=r(n(867)),a=r(n(255)),s=r(n(256))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.D3Linear=void 0,e.default=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new a;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)};var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2),a=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,u=this._domain[o],l=this._domain[a];return l<u&&(u=(e=[l,u])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),(r=s(u,l,t))>0?r=s(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,t):r<0&&(r=s(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,t)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(l/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(l*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=s(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function s(t,e,n){var a=(e-t)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=o?2:1)}e.D3Linear=a},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.min,n=t.max,r=t.tickCount,u=t.nice,l=t.tickInterval,c=t.minLimit,f=t.maxLimit,p=(0,o.default)(e,n,r,u).ticks;return(0,i.isNil)(c)&&(0,i.isNil)(f)?l?(0,a.default)(e,n,l).ticks:p:(0,s.default)(t,(0,i.head)(p),(0,i.last)(p))};var i=n(0),o=r(n(443)),a=r(n(255)),s=r(n(256))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.base,i=t.tickCount,o=t.min,a=t.max,s=t.values,u=(0,r.log)(n,a);if(o>0)e=Math.floor((0,r.log)(n,o));else{var l=(0,r.getLogPositiveMin)(s,n,a);e=Math.floor((0,r.log)(n,l))}for(var c=u-e,f=Math.ceil(c/i),p=[],h=e;h<u+f;h+=f)p.push(Math.pow(n,h));return o<=0&&p.unshift(0),p};var r=n(178)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil((0,i.calBase)(e,t.max)),a=Math.floor((0,i.calBase)(e,t.min));return(0,o.default)(a,r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))};var i=n(178),o=r(n(445))},function(t,e,n){"use strict";function r(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var i=n.slice().sort((function(t,e){return t-e})),o=[],a=0;a<e;a++){var s=a/(e-1);o.push(r(i,s))}return o}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.min,n=t.max,r=t.tickCount,u=t.tickInterval,l=t.minLimit,c=t.maxLimit,f=(0,a.default)(e,n,r).ticks;return(0,i.isNil)(l)&&(0,i.isNil)(c)?u?(0,o.default)(e,n,u).ticks:f:(0,s.default)(t,(0,i.head)(f),(0,i.last)(f))};var i=n(0),o=r(n(255)),a=r(n(445)),s=r(n(256))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.min,n=t.max,i=t.minTickInterval,o=t.tickInterval,a=t.tickCount;if(o)a=Math.ceil((n-e)/o);else{o=(0,r.getTickInterval)(e,n,a)[1];var s=(n-e)/o/a;s>1&&(o*=Math.ceil(s)),i&&o<i&&(o=i)}for(var u=[],l=e;l<n+o;l+=o)u.push(l);return u};var r=n(176)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,o.default)(t),n=(0,i.last)(t.values);return n!==(0,i.last)(e)&&e.push(n),e};var i=n(0),o=r(n(442))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.min,n=t.max,u=t.minTickInterval,l=t.tickCount,c=t.tickInterval,f=[];c||(c=(n-e)/l,u&&c<u&&(c=u));var p=i(e);if(c>r.YEAR)for(var h=i(n),d=Math.ceil(c/r.YEAR),g=p;g<=h+d;g+=d)f.push(o(g));else if(c>r.MONTH){var v=Math.ceil(c/r.MONTH),y=a(e),m=function(t,e){var n=i(t),r=i(e),o=a(t),s=a(e);return 12*(r-n)+(s-o)%12}(e,n);for(g=0;g<=m+v;g+=v)f.push(s(p,g+y))}else if(c>r.DAY){var _=(E=new Date(e)).getFullYear(),b=E.getMonth(),x=E.getDate(),w=Math.ceil(c/r.DAY),S=function(t,e){return Math.ceil((e-t)/r.DAY)}(e,n);for(g=0;g<S+w;g+=w)f.push(new Date(_,b,x+g).getTime())}else if(c>r.HOUR){_=(E=new Date(e)).getFullYear(),b=E.getMonth(),w=E.getDate();var E,A=E.getHours(),O=Math.ceil(c/r.HOUR),T=function(t,e){return Math.ceil((e-t)/r.HOUR)}(e,n);for(g=0;g<=T+O;g+=O)f.push(new Date(_,b,w,A+g).getTime())}else if(c>r.MINUTE){var C=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),P=Math.ceil(c/r.MINUTE);for(g=0;g<=C+P;g+=P)f.push(e+g*r.MINUTE)}else{var M=c;M<r.SECOND&&(M=r.SECOND);var I=Math.floor(e/r.SECOND)*r.SECOND,k=Math.ceil((n-e)/r.SECOND),R=Math.ceil(M/r.SECOND);for(g=0;g<k+R;g+=R)f.push(I+g*r.SECOND)}return f.length>=512&&console.warn("Notice: current ticks length("+f.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+c+") is too small, increase the value to solve the problem!"),f};var r=n(176);function i(t){return new Date(t).getFullYear()}function o(t){return new Date(t,0,1).getTime()}function a(t){return new Date(t).getMonth()}function s(t,e){return new Date(t,e,1).getTime()}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getCoordinate",{enumerable:!0,get:function(){return u.getCoordinate}}),Object.defineProperty(e,"registerCoordinate",{enumerable:!0,get:function(){return u.registerCoordinate}});var i=r(n(179)),o=r(n(877)),a=r(n(878)),s=r(n(879)),u=n(880);(0,u.registerCoordinate)("rect",o.default),(0,u.registerCoordinate)("cartesian",o.default),(0,u.registerCoordinate)("polar",s.default),(0,u.registerCoordinate)("helix",a.default)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return(0,i.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:n,y:r}},e}(r(n(179)).default);e.default=o},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(32),a=n(0),s=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var r=e.startAngle,i=void 0===r?1.25*Math.PI:r,o=e.endAngle,a=void 0===o?7.25*Math.PI:o,s=e.innerRadius,u=void 0===s?0:s,l=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=u,n.radius=l,n.initial(),n}return(0,i.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;this.isTransposed&&(n=(e=[r,n])[0],r=e[1]);var i=this.convertDim(n,"x"),o=this.a*i,a=this.convertDim(r,"y");return{x:this.center.x+Math.cos(i)*(o+a),y:this.center.y+Math.sin(i)*(o+a)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,r=o.vec2.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),i=o.ext.angleTo(r,[1,0],!0),s=i*this.a;o.vec2.length(r)<s&&(s=o.vec2.length(r)),i=2*Math.floor((o.vec2.length(r)-s)/n)*Math.PI+i;var u=this.a*i,l=o.vec2.length(r)-u;l=(0,a.isNumberEqual)(l,0)?0:l;var c=this.invertDim(i,"x"),f=this.invertDim(l,"y");return c=(0,a.isNumberEqual)(c,0)?0:c,f=(0,a.isNumberEqual)(f,0)?0:f,this.isTransposed&&(c=(e=[f,c])[0],f=e[1]),{x:c,y:f}},e}(r(n(179)).default);e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(32),a=n(0),s=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var r=e.startAngle,i=void 0===r?-Math.PI/2:r,o=e.endAngle,a=void 0===o?3*Math.PI/2:o,s=e.innerRadius,u=void 0===s?0:s,l=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=u,n.radius=l,n.initial(),n}return(0,i.__extends)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),r=n.maxX-n.minX,i=n.maxY-n.minY,o=Math.abs(n.minX)/r,a=Math.abs(n.minY)/i;this.height/i>this.width/r?(e=this.width/r,this.circleCenter={x:this.center.x-(.5-o)*this.width,y:this.center.y-(.5-a)*e*i}):(e=this.height/i,this.circleCenter={x:this.center.x-(.5-o)*e*r,y:this.center.y-(.5-a)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,i=t.y;return this.isTransposed&&(r=(e=[i,r])[0],i=e[1]),r=this.convertDim(r,"x"),i=this.convertDim(i,"y"),{x:n.x+Math.cos(r)*i,y:n.y+Math.sin(r)*i}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),r=[t.x-n.x,t.y-n.y],i=this.startAngle,s=this.endAngle;this.isReflect("x")&&(i=(e=[s,i])[0],s=e[1]);var u=[1,0,0,0,1,0,0,0,1];o.ext.leftRotate(u,u,i);var l=[1,0,0];o.vec3.transformMat3(l,l,u);var c=[l[0],l[1]],f=o.ext.angleTo(c,r,s<i);(0,a.isNumberEqual)(f,2*Math.PI)&&(f=0);var p=o.vec2.length(r),h=f/(s-i);h=s-i>0?h:-h;var d=this.invertDim(p,"y"),g={x:0,y:0};return g.x=this.isTransposed?d:h,g.y=this.isTransposed?h:d,g},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},e}(r(n(179)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={getCoordinate:!0,registerCoordinate:!0};e.registerCoordinate=e.getCoordinate=void 0;var i=n(881);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var o={};e.getCoordinate=function(t){return o[t.toLowerCase()]},e.registerCoordinate=function(t,e){o[t.toLowerCase()]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Arc",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"DataMarker",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"DataRegion",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Html",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Region",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"RegionFilter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Shape",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return o.default}});var i=r(n(883)),o=r(n(885)),a=r(n(886)),s=r(n(887)),u=r(n(888)),l=r(n(889)),c=r(n(890)),f=r(n(891)),p=r(n(892)),h=r(n(893))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=n(181),u=r(n(58)),l=n(42),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:u.default.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:u.default.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:u.default.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,i.__assign)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},e.prototype.getLabelPoint=function(t,e,n){var r;return((r="start"===n?0:"center"===n?.5:(0,o.isString)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,o.isNumber)(n)?n:1)>1||r<0)&&(r=1),{x:(0,l.getValueByPercent)(t.x,e.x,r),y:(0,l.getValueByPercent)(t.y,e.y,r)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),r=this.get("end"),i=e.position,o=e.content,a=e.style,u=e.offsetX,l=e.offsetY,c=e.autoRotate,f=e.maxLength,p=e.autoEllipsis,h=e.ellipsisPosition,d=e.background,g=e.isVertical,v=void 0!==g&&g,y=this.getLabelPoint(n,r,i),m=y.x+u,_=y.y+l,b={id:this.getElementId("line-text"),name:"annotation-line-text",x:m,y:_,content:o,style:a,maxLength:f,autoEllipsis:p,ellipsisPosition:h,background:d,isVertical:v};if(c){var x=[r.x-n.x,r.y-n.y];b.rotate=Math.atan2(x[1],x[0])}(0,s.renderTag)(t,b)},e}(a.default),f=c;e.default=f},function(t,e,n){"use strict";function r(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}Object.defineProperty(e,"__esModule",{value:!0}),e.charAtLength=r,e.ellipsisString=function(t,e,n){void 0===n&&(n="tail");var i=t.length,o="";if("tail"===n){for(var a=0,s=0;a<e;){var u=r(t,s);if(!(a+u<=e))break;o+=t[s],a+=r(t,s),s++}o+="\u2026"}else if("head"===n){for(a=0,s=i-1;a<e&&(u=r(t,s),a+u<=e);)o+=t[s],a+=r(t,s),s--;o="\u2026"+o}else{for(var l="",c="",f=(a=0,0),p=i-1;a<e;){var h=r(t,f),d=!1;h+a<=e&&(l+=t[f],f++,a+=h,d=!0);var g=r(t,p);if(g+a<=e&&(c=t[p]+c,a+=g,p--,d=!0),!d)break}o=l+"\u2026"+c}return o},e.strLen=function(t){for(var e=0,n=0;n<t.length;n++)e+=r(t,n);return e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(41)),a=n(181),s=n(90),u=r(n(58)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:u.default.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:u.default.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("content"),o=this.get("style"),s={id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:r,content:i,style:o,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")};(0,a.renderTag)(t,s)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("rotate");(0,s.applyTranslate)(t,n,r),(0,s.applyRotate)(t,i,n,r)}},e}(o.default),c=l;e.default=c},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(41)),a=n(42),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,o=(0,a.getCirclePoint)(e,n,r),s=(0,a.getCirclePoint)(e,n,i),u=i-r>Math.PI?1:0,l=[["M",o.x,o.y]];if(i-r===2*Math.PI){var c=(0,a.getCirclePoint)(e,n,r+Math.PI);l.push(["A",n,n,0,u,1,c.x,c.y]),l.push(["A",n,n,0,u,1,s.x,s.y])}else l.push(["A",n,n,0,u,1,s.x,s.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,i.__assign)({path:e},n)})},e}(o.default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(41)),a=r(n(58)),s=n(42),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:a.default.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),o=(0,s.regionToBBox)({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,i.__assign)({x:o.x,y:o.y,width:o.width,height:o.height},r)})},e}(o.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(41)),a=n(42),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),r=(0,a.regionToBBox)({start:t,end:e}),o=this.get("src");return(0,i.__assign)({x:r.x,y:r.y,img:o,width:r.width,height:r.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(o.default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=n(181),u=n(90),l=r(n(58)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:l.default.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:l.default.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:l.default.fontFamily}}}})},e.prototype.renderInner=function(t){(0,o.get)(this.get("line"),"display")&&this.renderLine(t),(0,o.get)(this.get("text"),"display")&&this.renderText(t),(0,o.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,o=e.text,a=(0,i.__rest)(e,["x","y","text"]),u=this.get("text"),l=u.background,c=u.maxLength,f=u.autoEllipsis,p=u.isVertival,h=u.ellipsisPosition,d={x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:o,style:a,background:l,maxLength:c,autoEllipsis:f,isVertival:p,ellipsisPosition:h};(0,s.renderTag)(t,d)},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),r=this.get("y"),i=(0,o.get)(this.get("line"),"length",0),a=this.get("coordinateBBox"),s=t.getBBox(),l=s.minX,c=s.maxX,f=s.minY,p=s.maxY,h=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),g=t.findById(this.getElementId("line"));if(a){if(h){if(n+l<=a.minX){var v=a.minX-(n+l);(0,u.applyTranslate)(h,h.attr("x")+v,h.attr("y"))}n+c>=a.maxX&&(v=n+c-a.maxX,(0,u.applyTranslate)(h,h.attr("x")-v,h.attr("y")))}if("upward"===e&&r+f<=a.minY||"upward"!==e&&r+p>=a.maxY){var y=void 0,m=void 0;"upward"===e&&r+f<=a.minY?(y="top",m=1):(y="bottom",m=-1),d.attr("textBaseline",y),g&&g.attr("path",[["M",0,0],["L",0,i*m]]),(0,u.applyTranslate)(h,h.attr("x"),(i+2)*m)}}},e.prototype.getShapeAttrs=function(){var t=(0,o.get)(this.get("line"),"display"),e=(0,o.get)(this.get("point"),"style",{}),n=(0,o.get)(this.get("line"),"style",{}),r=(0,o.get)(this.get("text"),"style",{}),a=this.get("direction"),s=t?(0,o.get)(this.get("line"),"length",0):0,u="upward"===a?-1:1;return{point:(0,i.__assign)({x:0,y:0},e),line:(0,i.__assign)({path:[["M",0,0],["L",0,s*u]]},n),text:(0,i.__assign)({x:0,y:(s+2)*u,text:(0,o.get)(this.get("text"),"content",""),textBaseline:"upward"===a?"bottom":"top"},r)}},e}(a.default),f=c;e.default=f},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=r(n(58)),u=n(42),l=n(181),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:s.default.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:s.default.textColor,fontFamily:s.default.fontFamily}}}})},e.prototype.renderInner=function(t){var e=(0,o.get)(this.get("region"),"style",{}),n=((0,o.get)(this.get("text"),"style",{}),this.get("lineLength")||0),r=this.get("points");if(r.length){var a=(0,u.pointsToBBox)(r),s=[];s.push(["M",r[0].x,a.minY-n]),r.forEach((function(t){s.push(["L",t.x,t.y])})),s.push(["L",r[r.length-1].x,r[r.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,i.__assign)({path:s},e)});var c=(0,i.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(a.minX+a.maxX)/2,y:a.minY-n},this.get("text"));(0,l.renderTag)(t,c)}},e}(a.default),f=c;e.default=f},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(41)),s=n(42),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),r=this.get("end"),i=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,o.each)(this.get("shapes"),(function(t,n){var r=t.get("type"),a=(0,o.clone)(t.attr());e.adjustShapeAttrs(a),e.addShape(i,{id:e.getElementId("shape-"+r+"-"+n),capture:!1,type:r,attrs:a})}));var a=(0,s.regionToBBox)({start:n,end:r});i.setClip({type:"rect",attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(a.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"shape",draw:o.noop})},e.prototype.renderInner=function(t){var e=this.get("render");(0,o.isFunction)(e)&&e(t)},e}(r(n(41)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(96),a=n(0),s=r(n(182)),u=n(42),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");(0,u.clearDom)(t);var n=(0,a.isFunction)(e)?e(t):e;(0,a.isElement)(n)?t.appendChild(n):(0,a.isString)(n)&&t.appendChild((0,o.createDom)(n)),this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,i=this.get("alignX"),a=this.get("alignY"),s=this.get("offsetX"),u=this.get("offsetY"),l=(0,o.getOuterWidth)(t),c=(0,o.getOuterHeight)(t),f={x:n,y:r};"middle"===i?f.x-=Math.round(l/2):"right"===i&&(f.x-=Math.round(l)),"middle"===a?f.y-=Math.round(c/2):"bottom"===a&&(f.y-=Math.round(c)),s&&(f.x+=s),u&&(f.y+=u),(0,o.modifyCSS)(t,{position:"absolute",left:f.x+"px",top:f.y+"px",zIndex:this.get("zIndex")})},e}(s.default),c=l;e.default=c},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return i.default}});var i=r(n(895)),o=r(n(899)),a=r(n(258))},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(32),s=n(0),u=r(n(258)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(448));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,o.__assign)((0,o.__assign)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),r=t.prototype.getInnerLayoutBBox.call(this),i=Math.min(e.x,n.x,r.x),o=Math.min(e.y,n.y,r.y),a=Math.max(e.x,n.x,r.maxX),s=Math.max(e.y,n.y,r.maxY);return{x:i,y:o,minX:i,minY:o,maxX:a,maxY:s,width:a-i,height:s-o}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,s.isNumberEqual)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,s.isNumberEqual)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=a.vec2.normalize([0,0],e),r=this.get("verticalFactor"),i=[n[1],-1*n[0]];return a.vec2.scale([0,0],i,t*r)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),r=this.isHorizontal();if(n||r){var i=this.get("label"),o=this.get("title"),a=this.get("verticalLimitLength"),u=i.offset,l=a,c=0,f=0;o&&(c=o.style.fontSize,f=o.spacing),l&&(l=l-u-f-c);var p=this.get("overlapOrder");if((0,s.each)(p,(function(n){i[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,i[n],t,l)})),o&&(0,s.isNil)(o.offset)){var h=t.getCanvasBBox(),d=n?h.width:h.height;o.offset=u+d+f+c/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,s.isNil)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=this.isVertical(),a=!1,u=l[t];if(!0===e)this.get("label"),a=u.getDefault()(o,n,r);else if((0,s.isFunction)(e))a=e(o,n,r);else if((0,s.isObject)(e)){var c=e;u[c.type]&&(a=u[c.type](o,n,r,c.cfg))}else u[e]&&(a=u[e](o,n,r));if("autoRotate"===t){if(a){var f=n.getChildren(),p=this.get("verticalFactor");(0,s.each)(f,(function(t){if("center"===t.attr("textAlign")){var e=p>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var h=n.getChildren().slice(0);(0,s.each)(h,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(u.default),p=f;e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsisHead=function(t,e,n){return o(t,e,n,"head")},e.ellipsisMiddle=function(t,e,n){return o(t,e,n,"middle")},e.ellipsisTail=a,e.getDefault=function(){return a};var r=n(0),i=n(143);function o(t,e,n,o){var a=e.getChildren(),s=!1;return(0,r.each)(a,(function(e){var r=(0,i.ellipsisLabel)(t,e,n,o);s=s||r})),s}function a(t,e,n){return o(t,e,n,"tail")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equidistance=c,e.equidistanceWithReverseBoth=function(t,e,n,r){var i=e.getChildren().slice(),o=l(t,e,r);if(i.length>2){var a=i[0],s=i[i.length-1];a.get("visible")||(a.show(),u(t,e,!1,r)&&(o=!0)),s.get("visible")||(s.show(),u(t,e,!0,r)&&(o=!0))}return o},e.getDefault=function(){return c},e.reserveBoth=function(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,o=e.getChildren().slice();if(o.length<=2)return!1;for(var a=!1,u=o.length,l=o[0],c=o[u-1],f=l,p=1;p<u-1;p++){var h=o[p];h.getBBox(),s(t,f,h,i)?(h.hide(),a=!0):f=h}return s(t,f,c,i)&&(f.hide(),a=!0),a},e.reserveFirst=function(t,e,n,r){return u(t,e,!1,r)},e.reserveLast=function(t,e,n,r){return u(t,e,!0,r)};var r=n(143),i=n(90),o=n(42);function a(t){var e=function(t){var e=t.attr("matrix");return e&&1!==e[0]}(t)?(0,i.getAngleByMatrix)(t.attr("matrix")):0;return e%360}function s(t,e,n,r){var i=!1,s=a(e),u=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),l=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var c=Math.abs(Math.cos(s));i=(0,o.near)(c,0,Math.PI/180)?l.width+r>u:l.height/c+r>u}else c=Math.abs(Math.sin(s)),i=(0,o.near)(c,0,Math.PI/180)?l.width+r>u:l.height/c+r>u;return i}function u(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,o=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!o.length)return!1;var a=!1;n&&o.reverse();for(var u=o.length,l=o[0],c=1;c<u;c++){var f=o[c];f.getBBox(),s(t,l,f,i)?(f.hide(),a=!0):l=f}return a}function l(t,e,n){var i=(null===n||void 0===n?void 0:n.minGap)||0,s=e.getChildren().slice();if(s.length<2)return!1;var u=!1,l=s[0],c=l.getBBox(),f=s[1],p=s.length,h=a(l),d=t?Math.abs(f.attr("y")-l.attr("y")):Math.abs(f.attr("x")-l.attr("x")),g=0;if(t){var v=Math.abs(Math.cos(h));g=(0,o.near)(v,0,Math.PI/180)?((0,r.getMaxLabelWidth)(s)+i)/d:(c.height/v+i)/d}else v=Math.abs(Math.sin(h)),g=(0,o.near)(v,0,Math.PI/180)?((0,r.getMaxLabelWidth)(s)+i)/d:(c.height/v+i)/d;if(g>1){g=Math.ceil(g);for(var y=0;y<p;y++)y%g!==0&&(s[y].hide(),u=!0)}return u}function c(t,e,n,r){var i=l(t,e,r);return u(t,e,!1)&&(i=!0),i}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.fixedAngle=l,e.getDefault=function(){return l},e.unfixedAngle=function(t,e,n){return u(t,e,n,(function(e,n){if(!e)return t?s.default.verticalAxisRotate:s.default.horizontalAxisRotate;if(t)return-Math.acos(e/n);var r=0;return(e>n||(r=Math.asin(e/n))>Math.PI/4)&&(r=Math.PI/4),r}))};var i=n(0),o=n(143),a=n(90),s=r(n(58));function u(t,e,n,r){var s=e.getChildren();if(!s.length)return!1;if(!t&&s.length<2)return!1;var u=(0,o.getMaxLabelWidth)(s),l=!1;return(l=t?!!n&&u>n:u>Math.abs(s[1].attr("x")-s[0].attr("x")))&&function(t,e){(0,i.each)(t,(function(t){var n=t.attr("x"),r=t.attr("y"),i=(0,a.getMatrixByAngle)({x:n,y:r},e);t.attr("matrix",i)}))}(s,r(n,u)),l}function l(t,e,n,r){return u(t,e,n,(function(){return(0,i.isNumber)(r)?r:t?s.default.verticalAxisRotate:s.default.horizontalAxisRotate}))}},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(0),s=n(32),u=r(n(258)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(448));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,o.__assign)((0,o.__assign)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,o=this.get("startAngle"),a=this.get("endAngle"),s=[];if(Math.abs(a-o)===2*Math.PI)s=[["M",e,n-i],["A",r,i,0,1,1,e,n+i],["A",r,i,0,1,1,e,n-i],["Z"]];else{var u=this.getCirclePoint(o),l=this.getCirclePoint(a),c=Math.abs(a-o)>Math.PI?1:0,f=o>a?0:1;s=[["M",e,n],["L",u.x,u.y],["A",r,i,0,c,f,l.x,l.y],["L",e,n]]}return s},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y],i=this.get("verticalFactor"),o=s.vec2.length(r);return s.vec2.scale(r,r,i*t/o),r},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,a.isNil)(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),r=this.get("title"),i=this.get("verticalLimitLength"),o=n.offset,s=i,u=0,l=0;r&&(u=r.style.fontSize,l=r.spacing),s&&(s=s-o-l-u);var c=this.get("overlapOrder");if((0,a.each)(c,(function(r){n[r]&&e.canProcessOverlap(r)&&e.autoProcessOverlap(r,n[r],t,s)})),r&&(0,a.isNil)(r.offset)){var f=t.getCanvasBBox().height;r.offset=o+f+l+u/2}},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=!1,s=l[t];if(r>0)if(!0===e)o=s.getDefault()(!1,n,r);else if((0,a.isFunction)(e))o=e(!1,n,r);else if((0,a.isObject)(e)){var u=e;s[u.type]&&(o=s[u.type](!1,n,r,u.cfg))}else s[e]&&(o=s[e](!1,n,r));if("autoRotate"===t){if(o){var c=n.getChildren(),f=this.get("verticalFactor");(0,a.each)(c,(function(t){if("center"===t.attr("textAlign")){var e=f>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var p=n.getChildren().slice(0);(0,a.each)(p,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(u.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Html",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return i.default}});var i=r(n(901)),o=r(n(902)),a=r(n(259)),s=r(n(903))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(42),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text").position,i=Math.atan2(n.y-e.y,n.x-e.x);return"start"===r?i-Math.PI/2:i+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text"),i=r.position,a=r.offset;return(0,o.getTextPoint)(e,n,i,a)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(r(n(259)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(42),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,r=this.getLocation(),i=r.center,a=r.radius,s=r.startAngle,u=r.endAngle,l="start"===e?s:u,c=this.getRotateAngle()-Math.PI,f=(0,o.getCirclePoint)(i,a,l),p=Math.cos(c)*n,h=Math.sin(c)*n;return{x:f.x+p,y:f.y+h}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,a=null;if(i-r===2*Math.PI){var s=e.x,u=e.y;a=[["M",s,u-n],["A",n,n,0,1,1,s,u+n],["A",n,n,0,1,1,s,u-n],["Z"]]}else{var l=(0,o.getCirclePoint)(e,n,r),c=(0,o.getCirclePoint)(e,n,i),f=Math.abs(i-r)>Math.PI?1:0,p=r>i?0:1;a=[["M",l.x,l.y],["A",n,n,0,f,p,c.x,c.y]]}return a},e}(r(n(259)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(96),s=n(0),u=n(42),l=r(n(182)),c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(449)),f=r(n(904));function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,o.__assign)((0,o.__assign)({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+c.CONTAINER_CLASS+'"></div>',crosshairTpl:'<div class="'+c.CROSSHAIR_LINE+'"></div>',textTpl:'<span class="'+c.CROSSHAIR_TEXT+'">{content}</span>',domStyles:null,containerClassName:c.CONTAINER_CLASS,defaultStyles:f.default,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),n=(0,a.createDom)(e);t.appendChild(n),this.applyStyle(c.CROSSHAIR_LINE,n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text"),i=r.position,o=r.offset;return(0,u.getTextPoint)(e,n,i,o)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var r=this.getContainer(),i=(0,s.substitute)(this.get("textTpl"),t);e=(0,a.createDom)(i),r.appendChild(e),this.applyStyle(c.CROSSHAIR_TEXT,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?(0,a.modifyCSS)(t,{width:"1px",height:(0,u.toPx)(Math.abs(n.y-e.y))}):(0,a.modifyCSS)(t,{height:"1px",width:(0,u.toPx)(Math.abs(n.x-e.x))}),(0,a.modifyCSS)(t,{top:(0,u.toPx)(i),left:(0,u.toPx)(r)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}(0,a.modifyCSS)(t,{top:(0,u.toPx)(r.y),left:(0,u.toPx)(r.x)})}},e.prototype.updateInner=function(e){(0,s.hasKey)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(l.default),d=h;e.default=d},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=r(n(58)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(449));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=((o={})[""+s.CONTAINER_CLASS]={position:"relative"},o[""+s.CROSSHAIR_LINE]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},o[""+s.CROSSHAIR_TEXT]={position:"absolute",color:a.default.textColor,fontFamily:a.default.fontFamily},o);e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return a.default}});var i=r(n(260)),o=r(n(906)),a=r(n(907))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n=this.getLineType(),r=this.get("closed"),i=[];if(t.length)if("circle"===n){var a=this.get("center"),s=t[0],u=function(t,e,n,r){var i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}(a.x,a.y,s.x,s.y),l=e?0:1;r?(i.push(["M",a.x,a.y-u]),i.push(["A",u,u,0,0,l,a.x,a.y+u]),i.push(["A",u,u,0,0,l,a.x,a.y-u]),i.push(["Z"])):(0,o.each)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["A",u,u,0,0,l,t.x,t.y])}))}else(0,o.each)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])})),r&&i.push(["Z"]);return i},e}(r(n(260)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return(0,o.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(r(n(260)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Category",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Continuous",{enumerable:!0,get:function(){return o.default}});var i=r(n(909)),o=r(n(910)),a=r(n(261))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(143),s=n(90),u=n(447),l=r(n(58)),c=r(n(261)),f={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},p={fill:l.default.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:l.default.fontFamily,fontWeight:"normal",lineHeight:12},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:l.default.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:l.default.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:f,itemName:{spacing:16,style:p},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:p},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:l.default.uncheckedColor},markerStyle:{fill:l.default.uncheckedColor,stroke:l.default.uncheckedColor}},inactive:{nameStyle:{fill:l.default.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){(0,o.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var r=this.getElementByLocalId("item-"+t.id);if(r){var i=this.getItems().indexOf(t),o=this.createOffScreenGroup(),a=this.drawItem(t,i,this.getItemHeight(),o);this.updateElements(a,r),this.clearUpdateStatus(r)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return(0,o.each)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,o.each)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,o.filter)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,o.each)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),r=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),i=this.getItemHeight(),a=this.get("itemWidth"),s=this.get("itemSpacing"),u=this.get("itemMarginBottom"),l=this.get("currentPoint"),c=l.x,f=l.y,p=this.get("layout"),h=this.get("items"),d=!1,g=0,v=this.get("maxWidth"),y=this.get("maxHeight");(0,o.each)(h,(function(t,n){var o=e.drawItem(t,n,i,r),h=o.getBBox(),m=a||h.width;m>g&&(g=m),"horizontal"===p?(v&&v<l.x+m-c&&(d=!0,l.x=c,l.y+=i+u),e.moveElementTo(o,l),l.x+=m+s):(y&&y<l.y+i+u-f&&(d=!0,l.x+=g+s,l.y=f,g=0),e.moveElementTo(o,l),l.y+=i+u)})),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=f,this.adjustNavigation(t,r))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,o.isFunction)(e)){var n=this.getItems();n.forEach((function(r,o){var a=(0,i.__assign)((0,i.__assign)({},p),e(r,o,n)).fontSize;t<a&&(t=a)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,r){var a=(0,i.__assign)((0,i.__assign)((0,i.__assign)({x:0,y:r/2},e.style),{symbol:(0,o.get)(n.marker,"symbol","circle")}),(0,o.get)(n.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:a}),u=s.getBBox();s.attr("x",u.width/2);var l=s.attr(),c=l.stroke,f=l.fill;return c&&s.set("isStroke",!0),f&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,e,n,r,a,s,u){var l=n.formatter,c=n.style,f=(0,i.__assign)((0,i.__assign)({x:s,y:a/2,text:l?l(r[e],r,u):r[e]},p),(0,o.isFunction)(c)?c(r,u,this.getItems()):c);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:f})},e.prototype.drawItem=function(t,e,n,r){var s="item-"+t.id,u=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+s),delegateObject:{item:t,index:e}}),l=this.addGroup(u,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),c=this.get("marker"),f=this.get("itemName"),p=this.get("itemValue"),h=this.get("itemBackground"),d=this.getLimitItemWidth(),g=0;if(c){var v=this.drawMarker(l,c,t,n),y=c.spacing,m=(0,o.get)(t,["marker","spacing"]);(0,o.isNumber)(m)&&(y=m),g=v.getBBox().maxX+y}if(f){var _=this.drawItemText(l,"name",f,t,n,g,e);d&&(0,a.ellipsisLabel)(!0,_,(0,o.clamp)(d-g,0,d)),g=_.getBBox().maxX+f.spacing}if(p){var b=this.drawItemText(l,"value",p,t,n,g,e);d&&(p.alignRight?(b.attr({textAlign:"right",x:d}),(0,a.ellipsisLabel)(!0,b,(0,o.clamp)(d-g,0,d),"head")):(0,a.ellipsisLabel)(!0,b,(0,o.clamp)(d-g,0,d)))}if(h){var x=l.getBBox();this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:(0,i.__assign)({x:0,y:0,width:x.width,height:n},h.style)}).toBack()}return this.applyItemStates(t,l),l},e.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,i=this.startY,a=this.get("layout"),s=e.findAll((function(t){return"legend-item"===t.get("name")})),u=this.get("maxWidth"),l=this.get("maxHeight"),c=this.get("itemWidth"),p=this.get("itemSpacing"),h=this.getItemHeight(),d=(0,o.deepMix)({},f,this.get("pageNavigator")),g=this.drawNavigation(t,a,"00/00",d),v=g.getBBox(),y={x:r,y:i},m=1,_=0,b=0,x=0,w=this.get("itemMarginBottom");if("horizontal"===a){var S=this.get("maxRow")||1,E=h+(1===S?0:w);this.pageHeight=E*S,(0,o.each)(s,(function(t){var e=t.getBBox(),i=c||e.width;(_&&_<y.x+i+p||u<y.x+i+p+v.width)&&(1===m&&(_=y.x+p,n.pageWidth=_,n.moveElementTo(g,{x:u-p-v.width-v.minX,y:y.y+h/2-v.height/2-v.minY})),m+=1,y.x=r,y.y+=E),n.moveElementTo(t,y),t.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:i+p,height:h}}),y.x+=i+p}))}else{(0,o.each)(s,(function(t){var e=t.getBBox();e.width>b&&(b=e.width)})),x=b,b+=p,u&&(b=Math.min(u,b),x=Math.min(u,x)),this.pageWidth=b,this.pageHeight=l-Math.max(v.height,h+w);var A=Math.floor(this.pageHeight/(h+w));(0,o.each)(s,(function(t,e){0!==e&&e%A===0&&(m+=1,y.x+=b,y.y=i),n.moveElementTo(t,y),t.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:b,height:h}}),y.y+=h+w})),this.totalPagesCnt=m,this.moveElementTo(g,{x:r+x/2-v.width/2-v.minX,y:l-v.height-v.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===a&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(m/this.get("maxRow")):this.totalPagesCnt=m,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(g),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,r){var a={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),u=(0,o.get)(r.marker,"style",{}),l=u.size,c=void 0===l?12:l,f=(0,i.__rest)(u,["size"]),p=this.drawArrow(s,a,"navigation-arrow-left","horizontal"===e?"up":"left",c,f);p.on("click",this.onNavigationBack);var h=p.getBBox();a.x+=h.width+2;var d=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,i.__assign)({x:a.x,y:a.y+c/2,text:n,textBaseline:"middle"},(0,o.get)(r.text,"style"))}).getBBox();return a.x+=d.width+2,this.drawArrow(s,a,"navigation-arrow-right","horizontal"===e?"down":"right",c,f).on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var e=(0,o.deepMix)({},f,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,i=e.inactiveFill,a=e.inactiveOpacity,s=this.currentPageIndex+"/"+this.totalPagesCnt,u=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),l=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),c=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),p=u.getBBox();u.attr("text",s);var h=u.getBBox();u.attr("x",u.attr("x")-(h.width-p.width)/2),l.attr("opacity",1===this.currentPageIndex?a:r),l.attr("fill",1===this.currentPageIndex?i:n),l.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),c.attr("opacity",this.currentPageIndex===this.totalPagesCnt?a:r),c.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:n),c.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},e.prototype.drawArrow=function(t,e,n,r,o,a){var u=e.x,l=e.y,c={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},f=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:(0,i.__assign)({path:[["M",u+o/2,l],["L",u,l+o],["L",u+o,l+o],["Z"]],cursor:"pointer"},a)});return f.attr("matrix",(0,s.getMatrixByAngle)({x:u+o/2,y:l+o/2},c[r])),f},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,r=t.pageHeight,i="horizontal"===this.get("layout")?{x:0,y:r*(1-e)}:{x:n*(1-e),y:0};return(0,s.getMatrixByTranslate)(i)},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),r=this.get("itemStates");(0,o.each)(n,(function(e){var n=e.get("name").split("-")[2],i=(0,u.getStatesStyle)(t,n,r);i&&(e.attr(i),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(c.default),d=h;e.default=d},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(58)),s=n(42),u=r(n(261)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:a.default.textColor,textBaseline:"middle",fontFamily:a.default.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:a.default.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var r=e.getValueByCanvasPoint(n.x,n.y),i=e.getValueByCanvasPoint(t.x,t.y),o=e.getCurrentValue(),a=o[1]-o[0],s=e.getRange(),u=i-r;u<0?o[0]+u>s.min?e.setValue([o[0]+u,o[1]+u]):e.setValue([s.min,s.min+a]):u>0&&(u>0&&o[1]+u<s.max?e.setValue([o[0]+u,o[1]+u]):e.setValue([s.max-a,s.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),r=n.style,a=n.align,s=n.formatter,u=this.get(t),l=this.getLabelAlignAttrs(t,a),c="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(c),name:"legend-label-"+t,attrs:(0,i.__assign)((0,i.__assign)({x:0,y:0,text:(0,o.isFunction)(s)?s(u):u},r),l)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,r){var i=this.get("rail"),o=i.size,a=i.defaultLength,s=i.type,u=this.isVertical(),l=n,c=r;l||(l=u?o:a),c||(c=u?a:o);var f=[];return"color"===s?(f.push(["M",t,e]),f.push(["L",t+l,e]),f.push(["L",t+l,e+c]),f.push(["L",t,e+c]),f.push(["Z"])):(f.push(["M",t+l,e]),f.push(["L",t+l,e+c]),f.push(["L",t,e+c]),f.push(["Z"])),f},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,i.__assign)({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var r=0;r<n;r++)e+=" "+r/(n-1)+":"+t[r];return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return(0,o.clone)(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,r,i,o=this.getCurrentValue(),a=o[0],s=o[1],u=this.getRailBBox(t),l=this.getPointByValue(a,t),c=this.getPointByValue(s,t);return this.isVertical()?(e=u.minX,n=l.y,r=u.width,i=c.y-l.y):(e=l.x,n=u.minY,r=c.x-l.x,i=u.height),{x:e,y:n,width:r,height:i}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),r=this.getTrackPath(t);return(0,o.mix)({path:r,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),r=e.findById(n),i=r.getClip(),o=this.getClipTrackAttrs(t);i?i.attr(o):r.setClip({type:"rect",attrs:o})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,i=(t-r)/(n.max-r),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=(0,s.getValueByPercent)(o.minY,o.maxY,i)):(a.x=(0,s.getValueByPercent)(o.minX,o.maxX,i),a.y=o.minY+o.height/2),a},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n,r=this.getRange(),i=r.min,o=r.max,a=this.getRailCanvasBBox(),u=this.isVertical(),l=this.get("step");n=u?(e-a.minY)/a.height:(t-a.minX)/a.width;var c=(0,s.getValueByPercent)(i,o,n);return l&&(c=i+Math.round((c-i)/l)*l),c>o&&(c=o),c<i&&(c=i),c},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,(0,i.__spreadArrays)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,i.__spreadArrays)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",r)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),r=[],i=t.size,o=e.x,a=e.y,s=1.4*i,u=i/2,l=i/6;if(n){var c=o+.4*s;r.push(["M",o,a]),r.push(["L",c,a+u]),r.push(["L",o+s,a+u]),r.push(["L",o+s,a-u]),r.push(["L",c,a-u]),r.push(["Z"]),r.push(["M",c,a+l]),r.push(["L",o+s-2,a+l]),r.push(["M",c,a-l]),r.push(["L",o+s-2,a-l])}else{var f=a+.4*s;r.push(["M",o,a]),r.push(["L",o-u,f]),r.push(["L",o-u,a+s]),r.push(["L",o+u,a+s]),r.push(["L",o+u,f]),r.push(["Z"]),r.push(["M",o-l,f]),r.push(["L",o-l,a+s-2]),r.push(["M",o+l,f]),r.push(["L",o+l,a+s-2])}return r},e.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),o=this.get("handler"),a=this.getHandlerPath(o,r),s=this.getElementId("handler-"+e),u=t.findById(s),l=this.isVertical();u?u.attr("path",a):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:s,attrs:(0,i.__assign)((0,i.__assign)({path:a},o.style),{cursor:l?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),r=t.findById(this.getElementId("label-max")),i=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,i):this.fixedHorizontal(n,r,e,i)},e.prototype.fitRailLength=function(t,e,n,r){var i=this.isVertical()?"height":"width",a=this.get("label"),s=a.align,u=a.spacing,l=this.get("max"+(0,o.upperFirst)(i));if(l){var c=("rail"===s?n[i]+t[i]+e[i]+2*u:n[i])-l;c>0&&this.changeRailLength(r,i,n[i]-c)}},e.prototype.changeRailLength=function(t,e,n){var r,i=t.getBBox();r="height"===e?this.getRailPath(i.x,i.y,i.width,n):this.getRailPath(i.x,i.y,n,i.height),t.attr("path",r)},e.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),i=this.getRailPath(e,n,r.width,r.height);t.attr("path",i)},e.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,s=n.getBBox(),u=t.getBBox(),l=e.getBBox(),c=s.height;this.fitRailLength(u,l,s,n),s=n.getBBox(),"rail"===o?(t.attr({x:r.x,y:r.y+c/2}),this.changeRailPosition(n,r.x+u.width+a,r.y),e.attr({x:r.x+u.width+s.width+2*a,y:r.y+c/2})):"top"===o?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+s.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+u.height+a)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+s.height+a}),e.attr({x:r.x+s.width,y:r.y+s.height+a}))},e.prototype.fixedVertail=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,s=n.getBBox(),u=t.getBBox(),l=e.getBBox();if(this.fitRailLength(u,l,s,n),s=n.getBBox(),"rail"===o)t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+u.height+a),e.attr({x:r.x,y:r.y+u.height+s.height+2*a});else if("right"===o)t.attr({x:r.x+s.width+a,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+s.width+a,y:r.y+s.height});else{var c=Math.max(u.width,l.width);t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+c+a,r.y),e.attr({x:r.x,y:r.y+s.height})}},e}(u.default),c=l;e.default=c},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Html",{enumerable:!0,get:function(){return i.default}});var i=r(n(912))},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=r(n(141)),s=n(96),u=n(0),l=r(n(182)),c=n(42),f=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(262)),p=r(n(913)),h=n(914);function d(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,o.__assign)((0,o.__assign)({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+f.CONTAINER_CLASS+'"><div class="'+f.TITLE_CLASS+'"></div><ul class="'+f.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+f.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+f.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+f.NAME_CLASS+'">{name}</span>:\n          <span class="'+f.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+f.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+f.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:f.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),(0,s.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),(0,s.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");n&&(0,s.modifyCSS)(n,{display:e}),r&&(0,s.modifyCSS)(r,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(function(t,e){var n=!1;return(0,u.each)(e,(function(e){if((0,u.hasKey)(t,e))return n=!0,!1})),n}(e,["title","showTitle"])&&this.resetTitle(),(0,u.hasKey)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),r=this.get("offset"),i=this.getOffset(),o=i.offsetX,a=i.offsetY,u=this.get("position"),l=this.get("region"),f=this.getContainer(),p=this.getBBox(),d=p.width,g=p.height;l&&(t=(0,c.regionToBBox)(l));var v=(0,h.getAlignPoint)(e,n,r,d,g,u,t);(0,s.modifyCSS)(f,{left:(0,c.toPx)(v.x+o),top:(0,c.toPx)(v.y+a)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=(0,u.isElement)(n)?n:(0,s.createDom)(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(f.TITLE_CLASS)[0],n=t.getElementsByClassName(f.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=(0,c.regionToBBox)(t),r=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),r&&(r.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);"x"===t?(0,s.modifyCSS)(n,{left:(0,c.toPx)(r),top:(0,c.toPx)(e.y),height:(0,c.toPx)(e.height)}):(0,s.modifyCSS)(n,{top:(0,c.toPx)(r),left:(0,c.toPx)(e.x),width:(0,c.toPx)(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",r="CROSSHAIR_"+t.toUpperCase(),i=f[r],o=this.get(e),a=this.get("parent");return o||(o=(0,s.createDom)(this.get(n)),this.applyStyle(i,o),a.appendChild(o),this.set(e,o)),o},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&((0,u.each)(t,(function(t){var r=a.default.toCSSGradient(t.color),i=(0,o.__assign)((0,o.__assign)({},t),{color:r}),l=(0,u.substitute)(e,i),c=(0,s.createDom)(l);n.appendChild(c)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&(0,c.clearDom)(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(l.default),v=g;e.default=v},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=r(n(58)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(262));function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=((o={})[""+s.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:a.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},o[""+s.TITLE_CLASS]={marginBottom:"4px"},o[""+s.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},o[""+s.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},o[""+s.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},o[""+s.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},o[""+s.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},o[""+s.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},o);e.default=l},function(t,e,n){"use strict";function r(t,e,n,r,i){return{left:t<i.x,right:t+n>i.x+i.width,top:e<i.y,bottom:e+r>i.y+i.height}}function i(t,e,n,r,i,o){var a=t,s=e;switch(o){case"left":a=t-r-n,s=e-i/2;break;case"right":a=t+n,s=e-i/2;break;case"top":a=t-r/2,s=e-i-n;break;case"bottom":a=t-r/2,s=e+n;break;default:a=t+n,s=e-i-n}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAlignPoint=function(t,e,n,o,a,s,u){var l=i(t,e,n,o,a,s);if(u){var c=r(l.x,l.y,o,a,u);"auto"===s?(c.right&&(l.x=Math.max(0,t-o-n)),c.top&&(l.y=Math.max(0,e-a-n))):"top"===s||"bottom"===s?(c.left&&(l.x=u.x),c.right&&(l.x=u.x+u.width-o),"top"===s&&c.top&&(l.y=e+n),"bottom"===s&&c.bottom&&(l.y=e-a-n)):(c.top&&(l.y=u.y),c.bottom&&(l.y=u.y+u.height-a),"left"===s&&c.left&&(l.x=t+n),"right"===s&&c.right&&(l.x=t-o-n))}return l},e.getOutSides=r,e.getPointByPosition=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return r.Slider}});var r=n(916)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Slider=void 0;var i=n(1),o=n(0),a=r(n(41)),s=n(917),u=n(920),l=n(921),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,o.get)(r,"touches.0.pageX",r.pageX),e.prevY=(0,o.get)(r,"touches.0.pageY",r.pageY);var i=e.getContainerDOM();i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,r=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var i=(0,o.get)(t,"touches.0.pageX",t.pageX),a=(0,o.get)(t,"touches.0.pageY",t.pageY),s=i-e.prevX,u=e.adjustOffsetRange(s/n);e.updateStartEnd(u),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=i,e.prevY=a,e.draw(),e.emit(l.SLIDER_CHANGE,[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:r,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return(0,i.__extends)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),i=(0,o.clamp)(n,t,e),a=(0,o.clamp)(r,t,e);this.get("isInit")||n===i&&r===a||this.setValue([i,a])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if((0,o.isArray)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:(0,o.clamp)(t[0],e.min,e.max),end:(0,o.clamp)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:l.BACKGROUND_STYLE,foregroundStyle:l.FOREGROUND_STYLE,handlerStyle:l.HANDLER_STYLE,textStyle:l.TEXT_STYLE}})},e.prototype.update=function(e){var n=e.start,r=e.end,a=(0,i.__assign)({},e);(0,o.isNil)(n)||(a.start=(0,o.clamp)(n,0,1)),(0,o.isNil)(r)||(a.end=(0,o.clamp)(r,0,1)),t.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,o.clamp)(this.get("start"),0,1)),this.set("end",(0,o.clamp)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,a=e.trendCfg,c=void 0===a?{}:a,f=e.minText,p=e.maxText,h=e.backgroundStyle,d=void 0===h?{}:h,g=e.foregroundStyle,v=void 0===g?{}:g,y=e.textStyle,m=void 0===y?{}:y,_=(0,o.deepMix)({},u.DEFAULT_HANDLER_STYLE,this.cfg.handlerStyle);(0,o.size)((0,o.get)(c,"data"))&&(this.trend=this.addComponent(t,(0,i.__assign)({component:s.Trend,id:this.getElementId("trend"),x:0,y:0,width:n,height:r},c))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,i.__assign)({x:0,y:0,width:n,height:r},d)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,i.__assign)({y:r/2,textAlign:"right",text:f,silent:!1},m)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,i.__assign)({y:r/2,textAlign:"left",text:p,silent:!1},m)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,i.__assign)({y:0,height:r},v)});var b=(0,o.get)(_,"width",l.DEFAULT_HANDLER_WIDTH),x=(0,o.get)(_,"height",24);this.minHandler=this.addComponent(t,{component:u.Handler,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(r-x)/2,width:b,height:x,cursor:"ew-resize",style:_}),this.maxHandler=this.addComponent(t,{component:u.Handler,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(r-x)/2,width:b,height:x,cursor:"ew-resize",style:_})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var r=this.cfg,i=r.start,a=r.end,s=r.width,u=r.minText,c=r.maxText,f=r.handlerStyle,p=r.height,h=i*s,d=a*s;this.trend&&(this.trend.update({width:s,height:p}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",h),t.attr("width",d-h);var g=(0,o.get)(f,"width",l.DEFAULT_HANDLER_WIDTH);e.attr("text",u),n.attr("text",c);var v=this._dodgeText([h,d],e,n),y=v[0],m=v[1];this.minHandler&&(this.minHandler.update({x:h-g/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,o.each)(y,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:d-g/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,o.each)(m,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var i=0-n,o=1-n;return Math.min(o,Math.max(i,t));case"maxHandler":return i=0-r,o=1-r,Math.min(o,Math.max(i,t));case"foreground":return i=0-n,o=1-r,Math.min(o,Math.max(i,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},e.prototype._dodgeText=function(t,e,n){var r,i,a=this.cfg,s=a.handlerStyle,u=a.width,c=(0,o.get)(s,"width",l.DEFAULT_HANDLER_WIDTH),f=t[0],p=t[1],h=!1;f>p&&(f=(r=[p,f])[0],p=r[1],e=(i=[n,e])[0],n=i[1],h=!0);var d=e.getBBox(),g=n.getBBox(),v=d.width>f-2?{x:f+c/2+2,textAlign:"left"}:{x:f-c/2-2,textAlign:"right"},y=g.width>u-p-2?{x:p-c/2-2,textAlign:"right"}:{x:p+c/2+2,textAlign:"left"};return h?[y,v]:[v,y]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(a.default);e.Slider=c;var f=c;e.default=f},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Trend=void 0;var i=n(1),o=r(n(41)),a=n(918),s=n(919),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:a.BACKGROUND_STYLE,lineStyle:a.LINE_STYLE,areaStyle:a.AREA_STYLE})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,o=e.data,a=e.smooth,u=e.isArea,l=e.backgroundStyle,c=e.lineStyle,f=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,i.__assign)({x:0,y:0,width:n,height:r},l)});var p=(0,s.dataToPath)(o,n,r,a);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,i.__assign)({path:p},c)}),u){var h=(0,s.linePathToAreaPath)(p,n,r,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,i.__assign)({path:h},f)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(o.default);e.Trend=u;var l=u;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LINE_STYLE=e.BACKGROUND_STYLE=e.AREA_STYLE=void 0,e.BACKGROUND_STYLE={opacity:0},e.LINE_STYLE={stroke:"#C5C5C5",strokeOpacity:.85},e.AREA_STYLE={fill:"#CACED4",opacity:.85}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataToPath=function(t,e,n,r){void 0===r&&(r=!0);var i=new o.Linear({values:t}),l=new o.Category({values:(0,a.map)(t,(function(t,e){return e}))}),c=(0,a.map)(t,(function(t,r){return[l.scale(r)*e,n-i.scale(t)*n]}));return r?u(c):s(c)},e.getAreaLineY=l,e.getLinePath=s,e.getSmoothLinePath=u,e.linePathToAreaPath=function(t,e,n,i){var o=(0,r.__spreadArrays)(t),a=l(i,n);return o.push(["L",e,a]),o.push(["L",0,a]),o.push(["Z"]),o};var r=n(1),i=n(80),o=n(66),a=n(0);function s(t){return function(t){return(0,a.map)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function u(t){if(t.length<=2)return s(t);var e=[];(0,a.each)(t,(function(t){(0,a.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=(0,i.catmullRom2Bezier)(e,!1),r=(0,a.head)(t),o=r[0],u=r[1];return n.unshift(["M",o,u]),n}function l(t,e){var n=new o.Linear({values:t}),r=Math.max(0,n.min);return e-n.scale(r)*e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Handler=e.DEFAULT_HANDLER_STYLE=void 0;var i=n(1),o=r(n(41)),a={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"};e.DEFAULT_HANDLER_STYLE=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"handler",x:0,y:0,width:10,height:24,style:a})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.style,o=i.fill,a=i.stroke,s=i.radius,u=i.opacity,l=i.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:o,stroke:a,radius:s,opacity:u,cursor:l}});var c=1/3*n,f=2/3*n,p=1/4*r,h=3/4*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:c,y1:p,x2:c,y2:h,stroke:a,cursor:l}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:f,y1:p,x2:f,y2:h,stroke:a,cursor:l}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(o.default);e.Handler=s;var u=s;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_STYLE=e.SLIDER_CHANGE=e.HANDLER_STYLE=e.FOREGROUND_STYLE=e.DEFAULT_HANDLER_WIDTH=e.BACKGROUND_STYLE=void 0,e.BACKGROUND_STYLE={fill:"#416180",opacity:.05},e.FOREGROUND_STYLE={fill:"#5B8FF9",opacity:.15,cursor:"move"},e.DEFAULT_HANDLER_WIDTH=10;var r={width:10,height:24};e.HANDLER_STYLE=r,e.TEXT_STYLE={textBaseline:"middle",fill:"#000",opacity:.45},e.SLIDER_CHANGE="sliderchange"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(923);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}}))}))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Scrollbar=e.DEFAULT_THEME=void 0;var i=n(1),o=n(96),a=n(0),s=r(n(41)),u={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}};e.DEFAULT_THEME=u;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=a.noop,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var r=t?(0,a.get)(n.originalEvent,"touches.0.clientX"):n.clientX,i=t?(0,a.get)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?r:i,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[(0,o.addEventListener)(t,"touchmove",e.onMouseMove),(0,o.addEventListener)(t,"touchend",e.onMouseUp),(0,o.addEventListener)(t,"touchcancel",e.onMouseUp)]:[(0,o.addEventListener)(t,"mousemove",e.onMouseMove),(0,o.addEventListener)(t,"mouseup",e.onMouseUp),(0,o.addEventListener)(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,r=n.isHorizontal,i=n.thumbOffset;t.preventDefault();var o=e.isMobile?(0,a.get)(t,"touches.0.clientX"):t.clientX,s=e.isMobile?(0,a.get)(t,"touches.0.clientY"):t.clientY,u=r?o:s,l=u-e.startPos;e.startPos=u,e.updateThumbOffset(i+l)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,r=n.isHorizontal,i=n.x,o=n.y,a=n.thumbLen,s=e.getContainerDOM().getBoundingClientRect(),u=t.clientX,l=t.clientY,c=r?u-s.left-i-a/2:l-s.top-o-a/2,f=e.validateRange(c);e.updateThumbOffset(f)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return(0,i.__extends)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),r=(0,a.clamp)(n,t,e);n===r||this.get("isInit")||this.setValue(r)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,a.clamp)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return(0,a.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,i.__assign)((0,i.__assign)({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:u})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,i=void 0===r?{default:{}}:r,o=(0,a.deepMix)({},u,i).default,s=o.lineCap,l=o.trackColor,c=o.size,f=(0,a.get)(this.cfg,"size",c),p=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:n-f/2,y2:f/2,lineWidth:f,stroke:l,lineCap:s}:{x1:f/2,y1:0+f/2,x2:f/2,y2:n-f/2,lineWidth:f,stroke:l,lineCap:s};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:p})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,i=e.theme,o=(0,a.deepMix)({},u,i).default,s=o.size,l=o.lineCap,c=o.thumbColor,f=(0,a.get)(this.cfg,"size",s),p=this.get("isHorizontal")?{x1:n+f/2,y1:f/2,x2:n+r-f/2,y2:f/2,lineWidth:f,stroke:c,lineCap:l,cursor:"default"}:{x1:f/2,y1:n+f/2,x2:f/2,y2:n+r-f/2,lineWidth:f,stroke:c,lineCap:l,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:p})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,i=t;return t+n>r?i=r-n:t+n<n&&(i=0),i},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,i=e.thumbLen,o=e.size,a=this.validateRange(t);if(a!==n){var s=this.getElementByLocalId("thumb");r?s.attr({x1:a+o/2,x2:a+i-o/2}):s.attr({y1:a+o/2,y2:a+i-o/2}),this.emitOffsetChange(a)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,i=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,a.clamp)(t/(r-i),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(s.default);e.Scrollbar=l},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNormalizedValue=void 0;var r=n(927);e.getNormalizedValue=function(t,e){if(!e)return null;var n;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?(0,r.getMedian)(e.values.map((function(t,e){return e}))):(0,r.getMedian)(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:(0,r.getMean)(e.values);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMean=e.getMedian=void 0;var r=n(1),i=n(0);e.getMedian=function(t){var e=(0,r.__spreadArray)([],t,!0);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2===1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2},e.getMean=function(t){var e=(0,i.reduce)(t,(function(t,e){return t+(isNaN(e)||!(0,i.isNumber)(e)?0:e)}),0);return 0===t.length?0:e/t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(71),o=n(51),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr(),s=a.x,u=a.y,l=a.r,c=i/2,f=o.distance(s,u,t,e);return r&&n?f<=l+c:r?f<=l:!!n&&f>=l-c&&f<=l+c},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(i.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);function i(t,e,n,r){return t/(n*n)+e/(r*r)}var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var a=this.attr(),s=o/2,u=a.x,l=a.y,c=a.rx,f=a.ry,p=(t-u)*(t-u),h=(e-l)*(e-l);return r&&n?i(p,h,c+s,f+s)<=1:r?i(p,h,c,f)<=1:!!n&&i(p,h,c-s,f-s)>=1&&i(p,h,c+s,f+s)<=1},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(n(71).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(71),o=n(51);function a(t){return t instanceof HTMLElement&&o.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(o.isString(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):a(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,s=e.height,u=e.sx,l=e.sy,c=e.swidth,f=e.sheight,p=e.img;(p instanceof Image||a(p))&&(o.isNil(u)||o.isNil(l)||o.isNil(c)||o.isNil(f)?t.drawImage(p,n,r,i,s):t.drawImage(p,u,l,c,f,n,r,i,s))},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(33),o=n(71),a=n(184),s=n(183),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&s.addStartArrow(this,t,r,i,e,n),a&&s.addEndArrow(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),s=o.x1,u=o.y1,l=o.x2,c=o.y2;return a.default(s,u,l,c,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,u=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(l=s.getShortenOffset(n,r,i,o,e.startArrow.d)),u&&u.d&&(c=s.getShortenOffset(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,o=t.y2;return i.Line.length(e,n,r,o)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,o=e.x2,a=e.y2;return i.Line.pointAt(n,r,o,a,t)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(80),a=n(71),s=n(51),u=n(145),l={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return i.isNil(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,a=r.y,u=r.symbol||"circle",l=this._getR(r);if(s.isFunction(u))n=(t=u)(i,a,l),n=o.path2Absolute(n);else{if(!(t=e.Symbols[u]))return console.warn(u+" marker is not supported."),null;n=t(i,a,l)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");u.drawPath(this,t,{path:e},n)},e.Symbols=l,e}(a.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(33),o=n(0),a=n(71),s=n(80),u=n(145),l=n(453),c=n(454),f=n(934),p=n(183);function h(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=c.default(o,e,n))break}return r}var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=s.path2Absolute(t);var e=f.default.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=s.path2Segments(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();p.addStartArrow(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}n&&(r=this.getEndTangent(),p.addEndArrow(this,t,r[0][0],r[0][1],r[1][0],r[1][1]))},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=f.default.isPointInStroke(o,i,t,e,u)}if(!s&&r)if(a)s=l.default(this,t,e);else{var c=this.attr("path"),p=f.default.extractPolygons(c);s=h(p.polygons,t,e)||h(p.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");u.drawPath(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return o.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var a=this.get("curve");if(!r||0===r.length)return a?{x:a[0][1],y:a[0][2]}:null;o.each(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var s=a[n];if(o.isNil(s)||o.isNil(n))return null;var u=s.length,l=a[n+1];return i.Cubic.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",f.default.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,a=0,s=0,u=[],l=this.get("curve");l&&(o.each(l,(function(t,e){n=l[e+1],r=t.length,n&&(a+=i.Cubic.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",a),0!==a?(o.each(l,(function(o,c){n=l[c+1],r=o.length,n&&((t=[])[0]=s/a,e=i.Cubic.length(o[r-2],o[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),s+=e||0,t[1]=s/a,u.push(t))})),this.set("tCache",u)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(a.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(33),a=n(33),s=n(32),u=n(173),l=n(51),c=n(184),f=n(455),p=s.ext.transform;e.default=r.__assign({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var s=!1,h=e/2,d=0;d<t.length;d++){var g=t[d],v=g.currentPoint,y=g.params,m=g.prePoint,_=g.box;if(!_||l.inBox(_.x-h,_.y-h,_.width+e,_.height+e,n,r)){switch(g.command){case"L":case"Z":s=c.default(m[0],m[1],v[0],v[1],e,n,r);break;case"Q":s=o.Quad.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],n,r)<=e/2;break;case"C":s=a.Cubic.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],y[5],y[6],n,r,i)<=e/2;break;case"A":var b=g.arcParams,x=b.cx,w=b.cy,S=b.rx,E=b.ry,A=b.startAngle,O=b.endAngle,T=b.xRotation,C=[n,r,1],P=S>E?S:E,M=p(null,[["t",-x,-w],["r",-T],["s",1/(S>E?1:S/E),1/(S>E?E/S:1)]]);u.transformMat3(C,C,M),s=f.default(0,0,P,A,O,e,C[0],C[1])}if(s)break}}return s}},i.PathUtil)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(71),o=n(456),a=n(454),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var s=this.attr().points,u=!1;return n&&(u=o.default(s,i,t,e,!0)),!u&&r&&(u=a.default(s,t,e)),u},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(33),o=n(33),a=n(0),s=n(71),u=n(456),l=n(183),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&l.addStartArrow(this,t,n[1][0],n[1][1],a,s),i&&l.addEndArrow(this,t,n[o-2][0],n[o-2][1],u,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return u.default(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],f=n[o-1][1];r&&r.d&&(s+=(a=l.getShortenOffset(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy),i&&i.d&&(c-=(a=l.getShortenOffset(n[o-2][0],n[o-2][1],c,f,i.d)).dx,f-=a.dy),t.beginPath(),t.moveTo(s,u);for(var p=0;p<o-1;p++){var h=n[p];t.lineTo(h[0],h[1])}t.lineTo(c,f)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return a.isNil(e)?(this.set("totalLength",o.Polyline.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),a.each(o,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),i.Line.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,o=0,s=[];a.each(t,(function(a,u){t[u+1]&&((n=[])[0]=o/e,r=i.Line.length(a[0],a[1],t[u+1][0],t[u+1][1]),o+=r,n[1]=o/e,s.push(n))})),this.set("tCache",s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(s.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(71),o=n(451),a=n(51),s=n(938),u=n(939),l=n(453),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),c=o.x,f=o.y,p=o.width,h=o.height,d=o.radius;if(d){var g=!1;return n&&(g=u.default(c,f,p,h,d,i,t,e)),!g&&r&&(g=l.default(this,t,e)),g}var v=i/2;return r&&n?a.inBox(c-v,f-v,p+v,h+v,t,e):r?a.inBox(c,f,p,h,t,e):n?s.default(c,f,p,h,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,a=e.height,s=e.radius;if(t.beginPath(),0===s)t.rect(n,r,i,a);else{var u=o.parseRadius(s),l=u[0],c=u[1],f=u[2],p=u[3];t.moveTo(n+l,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+a-f),0!==f&&t.arc(n+i-f,r+a-f,f,0,Math.PI/2),t.lineTo(n+p,r+a),0!==p&&t.arc(n+p,r+a-p,p,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51);e.default=function(t,e,n,i,o,a,s){var u=o/2;return r.inBox(t-u,e-u,n,o,a,s)||r.inBox(t+n-u,e-u,o,i,a,s)||r.inBox(t+u,e+i-u,n,o,a,s)||r.inBox(t-u,e+u,o,i,a,s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(184),i=n(455);e.default=function(t,e,n,o,a,s,u,l){return r.default(t+a,e,t+n-a,e,s,u,l)||r.default(t+n,e+a,t+n,e+o-a,s,u,l)||r.default(t+n-a,e+o,t+a,e+o,s,u,l)||r.default(t,e+o-a,t,e+a,s,u,l)||i.default(t+n-a,e+a,a,1.5*Math.PI,2*Math.PI,s,u,l)||i.default(t+n-a,e+o-a,a,0,.5*Math.PI,s,u,l)||i.default(t+a,e+o-a,a,.5*Math.PI,Math.PI,s,u,l)||i.default(t+a,e+a,a,Math.PI,1.5*Math.PI,s,u,l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(71),o=n(51),a=n(30),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=a.assembleFont(t)},e.prototype._setText=function(t){var e=null;o.isString(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,s=i.textBaseline,u=i.x,l=i.y,c=1*i.fontSize,f=this._getSpaceingY(),p=a.getTextHeight(i.text,i.fontSize,i.lineHeight);o.each(e,(function(e,i){r=l+i*(f+c)-p+c,"middle"===s&&(r+=p-c-(p-c)/2),"top"===s&&(r+=p-c),o.isNil(e)||(n?t.fillText(e,u,r):t.strokeText(e,u,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,a=this.get("textArr");if(a)this._drawTextArr(t,a,e);else{var s=n.text;o.isNil(s)||(e?t.fillText(s,r,i):t.strokeText(s,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isStroke()&&n>0&&(o.isNil(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(o.isNil(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(942),a=n(144),s=n(263),u=n(51),l=n(145),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return s.default},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||u.getPixelRatio();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?o.getShape(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=l.getMergedRegion(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=l.mergeView(t,n))),t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(u.clearAnimationFrame(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),l.applyAttrsToContext(t,this),l.drawChildren(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),l.applyAttrsToContext(t,this),l.checkRefresh(this,n,r),l.drawChildren(t,n,r),t.restore()):e.length&&l.clearChanged(e),u.each(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=u.requestAnimationFrame((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(i.AbstractCanvas);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShape=void 0;var r=n(30);function i(t,e,n){var i=t.getTotalMatrix();if(i){var o=function(t,e){if(e){var n=r.invert(e);return r.multiplyVec2(n,t)}return t}([e,n,1],i);return[o[0],o[1]]}return[e,n]}function o(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!r.isAllowCapture(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var o=i(t,e,n),a=o[0],s=o[1];if(t.isClipped(a,s))return!1}var u=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=u.minX&&e<=u.maxX&&n>=u.minY&&n<=u.maxY}e.getShape=function t(e,n,r){if(!o(e,n,r))return null;for(var a=null,s=e.getChildren(),u=s.length-1;u>=0;u--){var l=s[u];if(l.isGroup())a=t(l,n,r);else if(o(l,n,r)){var c=l,f=i(l,n,r),p=f[0],h=f[1];c.isInShape(p,h)&&(a=l)}if(a)break}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):o.SVG_ATTR_MAP[e]&&r.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if(i.each(e||n,(function(t,e){o.SVG_ATTR_MAP[e]&&r.setAttribute(o.SVG_ATTR_MAP[e],t)})),"function"===typeof n.html){var a=n.html.call(this,n);if(a instanceof Element||a instanceof HTMLDocument){for(var s=r.childNodes,u=s.length-1;u>=0;u--)r.removeChild(s[u]);r.appendChild(a)}else r.innerHTML=a}else r.innerHTML=n.html},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):o.SVG_ATTR_MAP[e]&&r.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),a=this.get("el");i.each(e||r,(function(t,e){"img"===e?n._setImage(r.img):o.SVG_ATTR_MAP[e]&&a.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(i.isString(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&i.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(33),o=n(0),a=n(52),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");o.each(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var s=o.isObject(e)?t.addArrow(n,a.SVG_ATTR_MAP[i]):t.getDefaultArrow(n,a.SVG_ATTR_MAP[i]);r.setAttribute(a.SVG_ATTR_MAP[i],"url(#"+s+")")}else r.removeAttribute(a.SVG_ATTR_MAP[i]);else a.SVG_ATTR_MAP[i]&&r.setAttribute(a.SVG_ATTR_MAP[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,o=t.y2;return i.Line.length(e,n,r,o)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,o=e.x2,a=e.y2;return i.Line.pointAt(n,r,o,a,t)},e}(n(62).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(62),a=n(949),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return i.isArray(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,o=e.r||e.radius,s=e.symbol||"circle";return(t=i.isFunction(s)?s:a.default.get(s))?t(n,r,o):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=a.default,e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}};e.default={get:function(t){return r[t]},register:function(t,e){r[t]=e},remove:function(t){delete r[t]},getAll:function(){return r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),a=this.get("el");i.each(e||r,(function(e,s){if("path"===s&&i.isArray(e))a.setAttribute("d",n._formatPath(e));else if("startArrow"===s||"endArrow"===s)if(e){var u=i.isObject(e)?t.addArrow(r,o.SVG_ATTR_MAP[s]):t.getDefaultArrow(r,o.SVG_ATTR_MAP[s]);a.setAttribute(o.SVG_ATTR_MAP[s],"url(#"+u+")")}else a.removeAttribute(o.SVG_ATTR_MAP[s]);else o.SVG_ATTR_MAP[s]&&a.setAttribute(o.SVG_ATTR_MAP[s],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(52),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");i.each(e||n,(function(t,e){"points"===e&&i.isArray(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):o.SVG_ATTR_MAP[e]&&r.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(n(62).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(33),o=n(33),a=n(0),s=n(52),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");a.each(e||n,(function(t,e){"points"===e&&a.isArray(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):s.SVG_ATTR_MAP[e]&&r.setAttribute(s.SVG_ATTR_MAP[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return a.isNil(e)?(this.set("totalLength",i.Polyline.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),a.each(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),o.Line.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,s=[];a.each(t,(function(a,u){t[u+1]&&((n=[])[0]=i/e,r=o.Line.length(a[0],a[1],t[u+1][0],t[u+1][1]),i+=r,n[1]=i/e,s.push(n))})),this.set("tCache",s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(n(62).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(62),a=n(52),s=n(954),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];i.each(e||r,(function(t,e){-1===u.indexOf(e)||s?-1===u.indexOf(e)&&a.SVG_ATTR_MAP[e]&&o.setAttribute(a.SVG_ATTR_MAP[e],t):(o.setAttribute("d",n._assembleRect(r)),s=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,a=t.radius;if(!a)return"M "+e+","+n+" l "+r+",0 l 0,"+o+" l"+-r+" 0 z";var u=s.parseRadius(a);return i.isArray(a)?1===a.length?u.r1=u.r2=u.r3=u.r4=a[0]:2===a.length?(u.r1=u.r3=a[0],u.r2=u.r4=a[1]):3===a.length?(u.r1=a[0],u.r2=u.r4=a[1],u.r3=a[2]):(u.r1=a[0],u.r2=a[1],u.r3=a[2],u.r4=a[3]):u.r1=u.r2=u.r3=u.r4=a,[["M "+(e+u.r1)+","+n],["l "+(r-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-r)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePath=e.parseRadius=void 0;var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s,]+/gi;e.parseRadius=function(t){var e=0,n=0,i=0,o=0;return r.isArray(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}},e.parsePath=function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(171),a=n(146),s=n(52),u=n(62),l={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},f={left:"left",start:"left",center:"middle",right:"end",end:"end"},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return r.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");this._setFont(),i.each(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?a.setTransform(n):s.SVG_ATTR_MAP[e]&&o.setAttribute(s.SVG_ATTR_MAP[e],t)})),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=o.detect();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",c[n]||"alphabetic"):t.setAttribute("alignment-baseline",l[n]||"baseline"),t.setAttribute("text-anchor",f[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,o=n.textBaseline,a=void 0===o?"bottom":o;if(t)if(~t.indexOf("\n")){var s=t.split("\n"),u=s.length-1,l="";i.each(s,(function(t,e){0===e?"alphabetic"===a?l+='<tspan x="'+r+'" dy="'+-u+'em">'+t+"</tspan>":"top"===a?l+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===a?l+='<tspan x="'+r+'" dy="'+-(u-1)/2+'em">'+t+"</tspan>":"bottom"===a?l+='<tspan x="'+r+'" dy="-'+(u+.3)+'em">'+t+"</tspan>":"hanging"===a&&(l+='<tspan x="'+r+'" dy="'+(-(u-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(u.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(30),o=n(52),a=n(264),s=n(146),u=n(72),l=n(185),c=n(265),f=n(957),p=function(t){function e(e){return t.call(this,r.__assign(r.__assign({},e),{autoDraw:!0,renderer:"svg"}))||this}return r.__extends(e,t),e.prototype.getShapeBase=function(){return l},e.prototype.getGroupBase=function(){return c.default},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!o.SHAPE_TO_TAGS[r.tagName]){for(var i=r.parentNode;i&&!o.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=u.createSVGElement("svg"),e=new f.default(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&u.sortDom(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?s.setTransform(this):"clip"===t?s.setClip(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();s.setClip(this,t),e.length&&a.drawChildren(t,e)},e}(i.AbstractCanvas);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(958),o=n(959),a=n(960),s=n(961),u=n(962),l=n(72),c=function(){function t(t){var e=l.createSVGElement("defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new a.default(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new i.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new a.default(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(72),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function u(t){var e=t.match(s);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),r.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var l=function(){function t(t){this.cfg={};var e=null,n=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,i,a=o.exec(t),s=r.mod(r.toRadian(parseFloat(a[1])),2*Math.PI),l=a[2];s>=0&&s<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=s&&s<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=s&&s<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var c=Math.tan(s),f=c*c,p=(i.x-n.x+c*(i.y-n.y))/(f+1)+n.x,h=c*(i.x-n.x+c*(i.y-n.y))/(f+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",p),e.setAttribute("y2",h),e.innerHTML=u(l)}(t,e=i.createSVGElement("linearGradient")):function(t,e){var n=a.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=u(s)}(t,e=i.createSVGElement("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(72),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},s=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=i.createSVGElement("filter");return r.each(a,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return r.each(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[o[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(72),o=function(){function t(t,e){this.cfg={};var n=i.createSVGElement("marker"),o=r.uniqueId("marker_");n.setAttribute("id",o);var a=i.createSVGElement("path");a.setAttribute("stroke",t.stroke||"none"),a.setAttribute("fill",t.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=o;var s=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===s?this._setDefaultPath(e,a):(this.cfg=s,this._setMarker(t.lineWidth,a)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,o=this.cfg.d;r.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),o&&n.setAttribute("refX",""+o/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(72),o=function(){function t(t){this.type="clip",this.cfg={};var e=i.createSVGElement("clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(72),o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){this.cfg={};var e=i.createSVGElement("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=i.createSVGElement("image");e.appendChild(n);var a=r.uniqueId("pattern_");e.id=a,this.el=e,this.id=a,this.cfg=t;var s=o.exec(t)[2];n.setAttribute("href",s);var u=new Image;function l(){e.setAttribute("width",""+u.width),e.setAttribute("height",""+u.height)}return s.match(/^data:/i)||(u.crossOrigin="Anonymous"),u.src=s,u.complete?l():(u.onload=l,u.src=u.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(457),s=n(161),u=function(t){function e(e){var n=this,u=e.container,l=e.width,c=e.height,f=e.autoFit,p=void 0!==f&&f,h=e.padding,d=e.appendPadding,g=e.renderer,v=void 0===g?"canvas":g,y=e.pixelRatio,m=e.localRefresh,_=void 0===m||m,b=e.visible,x=void 0===b||b,w=e.supportCSSTransform,S=void 0!==w&&w,E=e.defaultInteractions,A=void 0===E?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:E,O=e.options,T=e.limitInPlot,C=e.theme,P=e.syncViewPadding,M=(0,i.isString)(u)?document.getElementById(u):u,I=(0,s.createDom)('<div style="position:relative;"></div>');M.appendChild(I);var k=(0,s.getChartSize)(M,p,l,c),R=new((0,a.getEngine)(v).Canvas)((0,r.__assign)({container:I,pixelRatio:y,localRefresh:_,supportCSSTransform:S},k));return(n=t.call(this,{parent:null,canvas:R,backgroundGroup:R.addGroup({zIndex:o.GROUP_Z_INDEX.BG}),middleGroup:R.addGroup({zIndex:o.GROUP_Z_INDEX.MID}),foregroundGroup:R.addGroup({zIndex:o.GROUP_Z_INDEX.FORE}),padding:h,appendPadding:d,visible:x,options:O,limitInPlot:T,theme:C,syncViewPadding:P})||this).onResize=(0,i.debounce)((function(){n.forceFit()}),300),n.ele=M,n.canvas=R,n.width=k.width,n.height=k.height,n.autoFit=p,n.localRefresh=_,n.renderer=v,n.wrapperElement=I,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(A),n}return(0,r.__extends)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;(0,i.each)(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(o.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(o.VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(0,s.removeDom)(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=(0,s.getChartSize)(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){(0,s.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}((0,r.__importDefault)(n(458)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAction=void 0;var r=n(1),i=n(0),o=n(204),a=(0,r.__importDefault)(n(966)),s=(0,r.__importDefault)(n(459));function u(t,e,n){var r=t.split(":"),i=r[0],a=e.getAction(i)||(0,o.createAction)(i,e);if(!a)throw new Error("There is no action named "+i);return{action:a,methodName:r[1],arg:n}}function l(t){var e=t.action,n=t.methodName,r=t.arg;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n](r)}e.parseAction=u;var c="start",f="showEnable",p="end",h="rollback",d="processing",g=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.callbackCaches={},r.emitCaches={},r.steps=n,r}return(0,r.__extends)(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,i.each)(this.steps,(function(e,n){(0,i.each)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.bindEvent(e.trigger,r)}))}))},e.prototype.clearEvents=function(){var t=this;(0,i.each)(this.steps,(function(e,n){(0,i.each)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.offEvent(e.trigger,r)}))}))},e.prototype.initContext=function(){var t=this.view,e=new a.default(t);this.context=e;var n=this.steps;(0,i.each)(n,(function(t){(0,i.each)(t,(function(t){if((0,i.isFunction)(t.action))t.actionObject={action:(0,o.createCallbackAction)(t.action,e),methodName:"execute"};else if((0,i.isString)(t.action))t.actionObject=u(t.action,e,t.arg);else if((0,i.isArray)(t.action)){var n=t.action,r=(0,i.isArray)(t.arg)?t.arg:[t.arg];t.actionObject=[],(0,i.each)(n,(function(n,i){t.actionObject.push(u(n,e,r[i]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===f)return!0;if(t===d)return e===c;if(t===c)return e!==d;if(t===p)return e===d||e===c;if(t===h){if(n[p])return e===p;if(e===c)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==f&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,r=this.context,o=this.callbackCaches,a=e.actionObject;if(e.action&&a){var s=this.getKey(t,e);if(!o[s]){var u=function(o){r.event=o,n.isAllowExecute(t,e)?((0,i.isArray)(a)?(0,i.each)(a,(function(t){r.event=o,l(t)})):(r.event=o,l(a)),n.afterExecute(t,e),e.callback&&(r.event=o,e.callback(r))):r.event=null};e.debounce?o[s]=(0,i.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[s]=(0,i.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[s]=u}return o[s]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(s.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}((0,r.__importDefault)(n(44)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(31),o=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return(0,r.get)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=(0,i.getComponents)(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var r=e.getBBox();return t?e.get("name")===t&&(0,i.isInBox)(r,n):(0,i.isInBox)(r,n)}))},t.prototype.destroy=function(){(0,r.each)(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=void 0;var r=n(1),i=n(0),o=n(108),a=n(162);e.createTheme=function(t){var e=t.styleSheet,n=void 0===e?{}:e,s=(0,r.__rest)(t,["styleSheet"]),u=(0,a.createLightStyleSheet)(n);return(0,i.deepMix)({},(0,o.createThemeByStyleSheet)(u),s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(69),a=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return(0,i.some)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,i=n.type,a=n.cfg,s="theta"===i,u=(0,r.__assign)({start:t,end:e},a),l=(0,o.getCoordinate)(s?"polar":i);return this.coordinate=new l(u),this.coordinate.type=i,s&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return(0,r.__assign)({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;(0,i.each)(n,(function(n){var r,o=n[0],a=n.slice(1);((0,i.isNil)(t)||t.includes(o))&&(r=e.coordinate)[o].apply(r,a)}))},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getController("axis"),n=t.getController("legend"),r=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,r].forEach((function(t){t&&t.layout()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScalePool=void 0;var r=n(0),i=n(113),o=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,o){var a=n,s=this.getScaleMeta(o);if(0===e.length&&s){var u=s.scale,l={type:u.type};u.isCategory&&(l.values=u.values),a=(0,r.deepMix)(l,s.scaleDef,n)}var c=(0,i.createScaleByField)(t,e,a);return this.cacheScale(c,n,o),c},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(o,a){var s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,l=[];(0,r.each)(o,(function(t){var e=n.getScale(t);u=(0,r.isNumber)(e.max)?Math.max(u,e.max):u,s=(0,r.isNumber)(e.min)?Math.min(s,e.min):s,(0,r.each)(e.values,(function(t){l.includes(t)||l.push(t)}))})),(0,r.each)(o,(function(o){var a=n.getScale(o);if(a.isContinuous)a.change({min:s,max:u,values:l});else if(a.isCategory){var c=a.range,f=n.getScaleMeta(o);l&&!(0,r.get)(f,["scaleDef","range"])&&(c=(0,i.getDefaultCategoryScaleRange)((0,r.deepMix)({},a,{values:l}),t,e)),a.change({values:l,range:c})}}))}))},t.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);r&&r.scale.type===t.type?((0,i.syncScale)(r.scale,t),r.scaleDef=e):(r={key:n,scale:t,scaleDef:e},this.scales.set(n,r));var o=this.getSyncKey(r);if(r.syncKey=o,this.removeFromSyncScales(n),o){var a=this.syncScales.get(o);a||(a=[],this.syncScales.set(o,a)),a.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=(0,r.last)(t.split("-")),i=this.syncScales.get(n);i&&i.length&&(e=this.getScaleMeta(i[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,r=this.syncScales.get(n);if(r&&r.length){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,r){var i=n.indexOf(t);if(-1!==i)return n.splice(i,1),0===n.length&&e.syncScales.delete(r),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,i=e.field,o=(0,r.get)(n,["sync"]);return!0===o?i:!1===o?void 0:o},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}();e.ScalePool=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePadding=void 0;var r=n(1),i=n(0),o=n(20),a=n(81),s=n(270),u=n(462);e.calculatePadding=function(t){var e=t.padding;if(!(0,s.isAutoPadding)(e))return new(u.PaddingCal.bind.apply(u.PaddingCal,(0,r.__spreadArray)([void 0],(0,s.parsePadding)(e),!1)));var n=t.viewBBox,l=new u.PaddingCal,c=[],f=[],p=[];return(0,i.each)(t.getComponents(),(function(t){var e=t.type;e===o.COMPONENT_TYPE.AXIS?c.push(t):[o.COMPONENT_TYPE.LEGEND,o.COMPONENT_TYPE.SLIDER,o.COMPONENT_TYPE.SCROLLBAR].includes(e)?f.push(t):e!==o.COMPONENT_TYPE.GRID&&e!==o.COMPONENT_TYPE.TOOLTIP&&p.push(t)})),(0,i.each)(c,(function(t){var e=t.component.getLayoutBBox(),r=new a.BBox(e.x,e.y,e.width,e.height).exceed(n);l.max(r)})),(0,i.each)(f,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),i=e.get("padding"),o=new a.BBox(r.x,r.y,r.width,r.height).expand(i);l.inc(o,n)})),(0,i.each)(p,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),i=new a.BBox(r.x,r.y,r.width,r.height);l.inc(i,n)})),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSyncViewPadding=void 0,e.defaultSyncViewPadding=function(t,e,n){var r=n.instance();e.forEach((function(t){t.autoPadding=r.max(t.autoPadding.getPadding())}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.group=void 0;var r=n(0);e.group=function(t,e,n){if(void 0===n&&(n={}),!e)return[t];var i=(0,r.groupToMap)(t,e),o=[];if(1===e.length&&n[e[0]])for(var a=0,s=n[e[0]];a<s.length;a++){var u=i["_"+s[a]];u&&o.push(u)}else for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];o.push(c)}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFields=void 0;var r=n(0);e.parseFields=function(t){return(0,r.isArray)(t)?t:t.split("*")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(97),a=n(274),s=n(115),u=n(46),l=n(116),c=n(20),f=n(976),p=function(){function t(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){var a=this;void 0===n&&(n=!1),this.shapesMap={};var s=this.container,u=this.createOffscreenGroup();if(t.length){for(var l=0,c=t;l<c.length;l++){var p=c[l];p&&this.renderLabel(p,u)}this.doLayout(t,e),this.renderLabelLine(t),this.renderLabelBackground(t),this.adjustLabel(t)}var h=this.lastShapesMap,d=this.shapesMap;(0,i.each)(d,(function(t,e){if(t.destroyed)delete d[e];else{if(h[e]){var u=t.get("data"),l=t.get("origin"),c=t.get("coordinate"),p=t.get("animateCfg"),g=h[e];(0,f.updateLabel)(g,d[e],{data:u,origin:l,animateCfg:p,coordinate:c}),a.shapesMap[e]=g}else{s.add(t);var v=(0,i.get)(t.get("animateCfg"),n?"enter":"appear");v&&(0,o.doAnimate)(t,v,{toAttrs:(0,r.__assign)({},t.attr()),coordinate:t.get("coordinate")})}delete h[e]}})),(0,i.each)(h,(function(t){var e=(0,i.get)(t.get("animateCfg"),"leave");e?(0,o.doAnimate)(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.lastShapesMap=d,u.destroy()},t.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},t.prototype.renderLabel=function(t,e){var n,o=t.id,a=t.elementId,s=t.data,u=t.mappingData,f=t.coordinate,p=t.animate,h=t.content,d={id:o,elementId:a,data:s,origin:(0,r.__assign)((0,r.__assign)({},u),{data:u[c.FIELD_ORIGIN]}),coordinate:f},g=e.addGroup((0,r.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==p&&!1!==p&&(0,i.deepMix)({},this.animate,p)},d));if(h.isGroup&&h.isGroup()||h.isShape&&h.isShape()){var v=h.getCanvasBBox(),y=v.width,m=v.height,_=(0,i.get)(t,"textAlign","left"),b=t.x,x=t.y-m/2;"center"===_?b-=y/2:"right"!==_&&"end"!==_||(b-=y),(0,l.translate)(h,b,x),n=h,g.add(h)}else{var w=(0,i.get)(t,["style","fill"]);n=g.addShape("text",(0,r.__assign)({attrs:(0,r.__assign)((0,r.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:(0,i.get)(t,"textBaseline","middle"),text:t.content},t.style),{fill:(0,i.isNull)(w)?t.color:w})},d))}t.rotate&&(0,l.rotate)(n,t.rotate),this.shapesMap[o]=g},t.prototype.doLayout=function(t,e){var n=this;if(this.layout){var r=(0,i.isArray)(this.layout)?this.layout:[this.layout];(0,i.each)(r,(function(r){var o=(0,a.getGeometryLabelLayout)((0,i.get)(r,"type",""));if(o){var s=[],u=[];(0,i.each)(n.shapesMap,(function(t,n){s.push(t),u.push(e[t.get("elementId")])})),o(t,s,u,n.region,r.cfg)}}))}},t.prototype.renderLabelLine=function(t){var e=this;(0,i.each)(t,(function(t){var n=(0,i.get)(t,"coordinate");if(t&&n){var o=n.getCenter(),a=n.getRadius();if(t.labelLine){var s=(0,i.get)(t,"labelLine",{}),l=t.id,c=s.path;if(!c){var f=(0,u.polarToCartesian)(o.x,o.y,a,t.angle);c=[["M",f.x,f.y],["L",t.x,t.y]]}var p=e.shapesMap[l];p.destroyed||p.addShape("path",{capture:!1,attrs:(0,r.__assign)({path:c,stroke:t.color?t.color:(0,i.get)(t,["style","fill"],"#000"),fill:null},s.style),id:l,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t){var e=this;(0,i.each)(t,(function(t){var n=(0,i.get)(t,"coordinate"),o=(0,i.get)(t,"background");if(o&&n){var a=t.id,u=e.shapesMap[a];if(!u.destroyed){var l=u.getChildren()[0];if(l){var c=(0,s.getlLabelBackgroundInfo)(u,t,o.padding),f=c.rotation,p=(0,r.__rest)(c,["rotation"]),h=u.addShape("rect",{attrs:(0,r.__assign)((0,r.__assign)({},p),o.style||{}),id:a,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(h.setZIndex(-1),f){var d=l.getMatrix();h.setMatrix(d)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t){var e=this;(0,i.each)(t,(function(t){if(t){var n=t.id,r=e.shapesMap[n];if(!r.destroyed){var o=r.findAll((function(t){return"path"!==t.get("type")}));(0,i.each)(o,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateLabel=void 0;var r=n(0),i=n(97),o=n(46);e.updateLabel=function t(e,n,a){var s=a.data,u=a.origin,l=a.animateCfg,c=a.coordinate,f=(0,r.get)(l,"update");e.set("data",s),e.set("origin",u),e.set("animateCfg",l),e.set("coordinate",c),e.set("visible",n.get("visible")),e.getChildren().forEach((function(r,p){var h=n.getChildByIndex(p);if(h){r.set("data",s),r.set("origin",u),r.set("animateCfg",l),r.set("coordinate",c);var d=(0,o.getReplaceAttrs)(r,h);f?(0,i.doAnimate)(r,f,{toAttrs:d,coordinate:c}):r.attr(d),h.isGroup()&&t(r,h,a)}else e.removeChild(r),r.remove(!0)})),(0,r.each)(n.getChildren(),(function(t,n){n>=e.getCount()&&(t.destroyed||e.add(t))}))}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(223),i=n(168),o=n(163),a=n(323),s=n(224),u=n(324),l=n(325),c=n(225),f=n(24);Object(f.registerAnimation)("fade-in",r.fadeIn),Object(f.registerAnimation)("fade-out",r.fadeOut),Object(f.registerAnimation)("grow-in-x",i.growInX),Object(f.registerAnimation)("grow-in-xy",i.growInXY),Object(f.registerAnimation)("grow-in-y",i.growInY),Object(f.registerAnimation)("scale-in-x",s.scaleInX),Object(f.registerAnimation)("scale-in-y",s.scaleInY),Object(f.registerAnimation)("wave-in",l.waveIn),Object(f.registerAnimation)("zoom-in",c.zoomIn),Object(f.registerAnimation)("zoom-out",c.zoomOut),Object(f.registerAnimation)("position-update",a.positionUpdate),Object(f.registerAnimation)("sector-path-update",u.sectorPathUpdate),Object(f.registerAnimation)("path-in",o.pathIn)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doScaleAnimate=e.transformShape=void 0;var r=n(32);function i(t,e,n){var i,o=e[0],a=e[1];return t.applyToMatrix([o,a,1]),"x"===n?(t.setMatrix(r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]])),i=r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])):"y"===n?(t.setMatrix(r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",1,.01],["t",o,a]])),i=r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",1,100],["t",o,a]])):"xy"===n&&(t.setMatrix(r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",.01,.01],["t",o,a]])),i=r.ext.transform(t.getMatrix(),[["t",-o,-a],["s",100,100],["t",o,a]])),i}e.transformShape=i,e.doScaleAnimate=function(t,e,n,r,o){var a,s,u=n.start,l=n.end,c=n.getWidth(),f=n.getHeight();"y"===o?(a=u.x+c/2,s=r.y<u.y?r.y:u.y):"x"===o?(a=r.x>u.x?r.x:u.x,s=u.y+f/2):"xy"===o&&(n.isPolar?(a=n.getCenter().x,s=n.getCenter().y):(a=(u.x+l.x)/2,s=(u.y+l.y)/2));var p=i(t,[a,s],o);t.animate({matrix:p},e)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(73)),a=n(53),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=o.x,u=o.y,l=o.r,c=i/2,f=(0,a.distance)(s,u,t,e);return r&&n?f<=l+c:r?f<=l:!!n&&f>=l-c&&f<=l+c},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(o.default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1);function o(t,e,n,r){return t/(n*n)+e/(r*r)}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr(),s=i/2,u=a.x,l=a.y,c=a.rx,f=a.ry,p=(t-u)*(t-u),h=(e-l)*(e-l);return r&&n?o(p,h,c+s,f+s)<=1:r?o(p,h,c,f)<=1:!!n&&o(p,h,c-s,f-s)>=1&&o(p,h,c+s,f+s)<=1},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(r(n(73)).default),s=a;e.default=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(73)),a=n(53);function s(t){return t instanceof HTMLElement&&(0,a.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,a.isString)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):s(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,u=e.sx,l=e.sy,c=e.swidth,f=e.sheight,p=e.img;(p instanceof Image||s(p))&&((0,a.isNil)(u)||(0,a.isNil)(l)||(0,a.isNil)(c)||(0,a.isNil)(f)?t.drawImage(p,n,r,i,o):t.drawImage(p,u,l,c,f,n,r,i,o))},e}(o.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(33),s=r(n(73)),u=r(n(190)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(189));function c(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,o.__assign)((0,o.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&l.addStartArrow(this,t,r,i,e,n),a&&l.addEndArrow(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),a=o.x1,s=o.y1,l=o.x2,c=o.y2;return(0,u.default)(a,s,l,c,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=l.getShortenOffset(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=l.getShortenOffset(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return a.Line.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return a.Line.pointAt(n,r,i,o,t)},e}(s.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(80),s=r(n(73)),u=n(53),l=n(149),c={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,o.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,s=r.symbol||"circle",l=this._getR(r);if((0,u.isFunction)(s))n=(t=s)(i,o,l),n=(0,a.path2Absolute)(n);else{if(!(t=e.Symbols[s]))return console.warn(s+" marker is not supported."),null;n=t(i,o,l)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");(0,l.drawPath)(this,t,{path:e},n)},e.Symbols=c,e}(s.default),p=f;e.default=p},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(33),s=n(0),u=r(n(73)),l=n(80),c=n(149),f=r(n(469)),p=r(n(470)),h=r(n(986)),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=g(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(189));function g(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(g=function(t){return t?n:e})(t)}function v(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=(0,p.default)(o,e,n))break}return r}var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,o.__assign)((0,o.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,l.path2Absolute)(t);var e=h.default.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,l.path2Segments)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();d.addStartArrow(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}n&&(r=this.getEndTangent(),d.addEndArrow(this,t,r[0][0],r[0][1],r[1][0],r[1][1]))},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=h.default.isPointInStroke(o,i,t,e,u)}if(!s&&r)if(a)s=(0,f.default)(this,t,e);else{var l=this.attr("path"),c=h.default.extractPolygons(l);s=v(c.polygons,t,e)||v(c.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");(0,c.drawPath)(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,s.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,s.each)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,s.isNil)(o)||(0,s.isNil)(n))return null;var u=o.length,l=i[n+1];return a.Cubic.pointAt(o[u-2],o[u-1],l[1],l[2],l[3],l[4],l[5],l[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",h.default.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,u=[],l=this.get("curve");l&&((0,s.each)(l,(function(t,e){n=l[e+1],r=t.length,n&&(i+=a.Cubic.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,s.each)(l,(function(s,c){n=l[c+1],r=s.length,n&&((t=[])[0]=o/i,e=a.Cubic.length(s[r-2],s[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,u.push(t))})),this.set("tCache",u)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(u.default),m=y;e.default=m},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(30),s=n(33),u=n(32),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(173)),c=n(53),f=r(n(190)),p=r(n(471));function h(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}var d=u.ext.transform,g=(0,o.__assign)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,u=0;u<t.length;u++){var h=t[u],g=h.currentPoint,v=h.params,y=h.prePoint,m=h.box;if(!m||(0,c.inBox)(m.x-a,m.y-a,m.width+e,m.height+e,n,r)){switch(h.command){case"L":case"Z":o=(0,f.default)(y[0],y[1],g[0],g[1],e,n,r);break;case"Q":o=s.Quad.pointDistance(y[0],y[1],v[1],v[2],v[3],v[4],n,r)<=e/2;break;case"C":o=s.Cubic.pointDistance(y[0],y[1],v[1],v[2],v[3],v[4],v[5],v[6],n,r,i)<=e/2;break;case"A":var _=h.arcParams,b=_.cx,x=_.cy,w=_.rx,S=_.ry,E=_.startAngle,A=_.endAngle,O=_.xRotation,T=[n,r,1],C=w>S?w:S,P=d(null,[["t",-b,-x],["r",-O],["s",1/(w>S?1:w/S),1/(w>S?S/w:1)]]);l.transformMat3(T,T,P),o=(0,p.default)(0,0,C,E,A,e,T[0],T[1])}if(o)break}}return o}},a.PathUtil);e.default=g},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(73)),a=r(n(472)),s=r(n(470)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,u=!1;return n&&(u=(0,a.default)(o,i,t,e,!0)),!u&&r&&(u=(0,s.default)(o,t,e)),u},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(o.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(33),s=n(0),u=r(n(73)),l=r(n(472)),c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(189));function f(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,o.__assign)((0,o.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],l=n[o-1][1];r&&c.addStartArrow(this,t,n[1][0],n[1][1],a,s),i&&c.addEndArrow(this,t,n[o-2][0],n[o-2][1],u,l)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return(0,l.default)(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],l=n[o-1][0],f=n[o-1][1];r&&r.d&&(s+=(a=c.getShortenOffset(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy),i&&i.d&&(l-=(a=c.getShortenOffset(n[o-2][0],n[o-2][1],l,f,i.d)).dx,f-=a.dy),t.beginPath(),t.moveTo(s,u);for(var p=0;p<o-1;p++){var h=n[p];t.lineTo(h[0],h[1])}t.lineTo(l,f)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,s.isNil)(e)?(this.set("totalLength",a.Polyline.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,s.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),a.Line.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,s.each)(t,(function(s,u){t[u+1]&&((n=[])[0]=i/e,r=a.Line.length(s[0],s[1],t[u+1][0],t[u+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(u.default),h=p;e.default=h},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(73)),a=n(467),s=n(53),u=r(n(990)),l=r(n(991)),c=r(n(469)),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,f=o.y,p=o.width,h=o.height,d=o.radius;if(d){var g=!1;return n&&(g=(0,l.default)(a,f,p,h,d,i,t,e)),!g&&r&&(g=(0,c.default)(this,t,e)),g}var v=i/2;return r&&n?(0,s.inBox)(a-v,f-v,p+v,h+v,t,e):r?(0,s.inBox)(a,f,p,h,t,e):n?(0,u.default)(a,f,p,h,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,s=e.radius;if(t.beginPath(),0===s)t.rect(n,r,i,o);else{var u=(0,a.parseRadius)(s),l=u[0],c=u[1],f=u[2],p=u[3];t.moveTo(n+l,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+o-f),0!==f&&t.arc(n+i-f,r+o-f,f,0,Math.PI/2),t.lineTo(n+p,r+o),0!==p&&t.arc(n+p,r+o-p,p,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(o.default),p=f;e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i,o,a,s){var u=o/2;return(0,r.inBox)(t-u,e-u,n,o,a,s)||(0,r.inBox)(t+n-u,e-u,o,i,a,s)||(0,r.inBox)(t+u,e+i-u,n,o,a,s)||(0,r.inBox)(t-u,e+u,o,i,a,s)};var r=n(53)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,a,s,u,l){return(0,i.default)(t+a,e,t+n-a,e,s,u,l)||(0,i.default)(t+n,e+a,t+n,e+r-a,s,u,l)||(0,i.default)(t+n-a,e+r,t+a,e+r,s,u,l)||(0,i.default)(t,e+r-a,t,e+a,s,u,l)||(0,o.default)(t+n-a,e+a,a,1.5*Math.PI,2*Math.PI,s,u,l)||(0,o.default)(t+n-a,e+r-a,a,0,.5*Math.PI,s,u,l)||(0,o.default)(t+a,e+r-a,a,.5*Math.PI,Math.PI,s,u,l)||(0,o.default)(t+a,e+a,a,Math.PI,1.5*Math.PI,s,u,l)};var i=r(n(190)),o=r(n(471))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=r(n(73)),a=n(53),s=n(30),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,s.assembleFont)(t)},e.prototype._setText=function(t){var e=null;(0,a.isString)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,u=i.x,l=i.y,c=1*i.fontSize,f=this._getSpaceingY(),p=(0,s.getTextHeight)(i.text,i.fontSize,i.lineHeight);(0,a.each)(e,(function(e,i){r=l+i*(f+c)-p+c,"middle"===o&&(r+=p-c-(p-c)/2),"top"===o&&(r+=p-c),(0,a.isNil)(e)||(n?t.fillText(e,u,r):t.strokeText(e,u,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var s=n.text;(0,a.isNil)(s)||(e?t.fillText(s,r,i):t.strokeText(s,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&((0,a.isNil)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,a.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(o.default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(30),s=n(994),u=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(148)),l=r(n(276)),c=n(53),f=n(149);function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return u},e.prototype.getGroupBase=function(){return l.default},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(0,c.getPixelRatio)();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?(0,s.getShape)(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=(0,f.getMergedRegion)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=(0,f.mergeView)(t,n))),t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,c.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),(0,f.applyAttrsToContext)(t,this),(0,f.drawChildren)(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),(0,f.applyAttrsToContext)(t,this),(0,f.checkRefresh)(this,n,r),(0,f.drawChildren)(t,n,r),t.restore()):e.length&&(0,f.clearChanged)(e),(0,c.each)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,c.requestAnimationFrame)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(a.AbstractCanvas),d=h;e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShape=function t(e,n,r){if(!o(e,n,r))return null;for(var a=null,s=e.getChildren(),u=s.length-1;u>=0;u--){var l=s[u];if(l.isGroup())a=t(l,n,r);else if(o(l,n,r)){var c=l,f=i(l,n,r),p=f[0],h=f[1];c.isInShape(p,h)&&(a=l)}if(a)break}return a};var r=n(30);function i(t,e,n){var i=t.getTotalMatrix();if(i){var o=function(t,e){if(e){var n=(0,r.invert)(e);return(0,r.multiplyVec2)(n,t)}return t}([e,n,1],i);return[o[0],o[1]]}return[e,n]}function o(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!(0,r.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var o=i(t,e,n),a=o[0],s=o[1];if(t.isClipped(a,s))return!1}var u=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=u.minX&&e<=u.maxX&&n>=u.minY&&n<=u.maxY}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,o.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,i.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,o.each)(e||n,(function(t,e){a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var s=r.childNodes,u=s.length-1;u>=0;u--)r.removeChild(s[u]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,o.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,o.each)(e||r,(function(t,e){"img"===e?n._setImage(r.img):a.SVG_ATTR_MAP[e]&&i.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,o.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,o.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(33),a=n(0),s=n(54),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,a.each)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=(0,a.isObject)(e)?t.addArrow(n,s.SVG_ATTR_MAP[i]):t.getDefaultArrow(n,s.SVG_ATTR_MAP[i]);r.setAttribute(s.SVG_ATTR_MAP[i],"url(#"+o+")")}else r.removeAttribute(s.SVG_ATTR_MAP[i]);else s.SVG_ATTR_MAP[i]&&r.setAttribute(s.SVG_ATTR_MAP[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return o.Line.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2;return o.Line.pointAt(n,r,i,a,t)},e}(r(n(63)).default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(63)),s=r(n(1001)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,o.isArray)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,a=e.symbol||"circle";return(t=(0,o.isFunction)(a)?a:s.default.get(a))?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=s.default,e}(a.default),l=u;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},i={get:function(t){return r[t]},register:function(t,e){r[t]=e},remove:function(t){delete r[t]},getAll:function(){return r}};e.default=i},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,o.each)(e||r,(function(e,s){if("path"===s&&(0,o.isArray)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===s||"endArrow"===s)if(e){var u=(0,o.isObject)(e)?t.addArrow(r,a.SVG_ATTR_MAP[s]):t.getDefaultArrow(r,a.SVG_ATTR_MAP[s]);i.setAttribute(a.SVG_ATTR_MAP[s],"url(#"+u+")")}else i.removeAttribute(a.SVG_ATTR_MAP[s]);else a.SVG_ATTR_MAP[s]&&i.setAttribute(a.SVG_ATTR_MAP[s],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(54),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,o.each)(e||n,(function(t,e){"points"===e&&(0,o.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)}))},e}(r(n(63)).default),u=s;e.default=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(33),a=n(0),s=n(54),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,a.each)(e||n,(function(t,e){"points"===e&&(0,a.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):s.SVG_ATTR_MAP[e]&&r.setAttribute(s.SVG_ATTR_MAP[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,a.isNil)(e)?(this.set("totalLength",o.Polyline.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,a.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),o.Line.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,s=[];(0,a.each)(t,(function(a,u){t[u+1]&&((n=[])[0]=i/e,r=o.Line.length(a[0],a[1],t[u+1][0],t[u+1][1]),i+=r,n[1]=i/e,s.push(n))})),this.set("tCache",s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(r(n(63)).default),l=u;e.default=l},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=r(n(63)),s=n(54),u=n(1006),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),a=!1,u=["x","y","width","height","radius"];(0,o.each)(e||r,(function(t,e){-1===u.indexOf(e)||a?-1===u.indexOf(e)&&s.SVG_ATTR_MAP[e]&&i.setAttribute(s.SVG_ATTR_MAP[e],t):(i.setAttribute("d",n._assembleRect(r)),a=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.radius;if(!a)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var s=(0,u.parseRadius)(a);return(0,o.isArray)(a)?1===a.length?s.r1=s.r2=s.r3=s.r4=a[0]:2===a.length?(s.r1=s.r3=a[0],s.r2=s.r4=a[1]):3===a.length?(s.r1=a[0],s.r2=s.r4=a[1],s.r3=a[2]):(s.r1=a[0],s.r2=a[1],s.r3=a[2],s.r4=a[3]):s.r1=s.r2=s.r3=s.r4=a,[["M "+(e+s.r1)+","+n],["l "+(r-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(i-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-r)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-i)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]].join(" ")},e}(a.default),c=l;e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePath=function(t){return t=t||[],(0,r.isArray)(t)?t:(0,r.isString)(t)?(t=t.match(i),(0,r.each)(t,(function(e,n){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}(0,r.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0},e.parseRadius=function(t){var e=0,n=0,i=0,o=0;return(0,r.isArray)(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}};var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s,]+/gi},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(1),o=n(0),a=n(171),s=n(150),u=n(54),l=r(n(63)),c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},f={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},p={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,i.__assign)((0,i.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,o.each)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?(0,s.setTransform)(n):u.SVG_ATTR_MAP[e]&&i.setAttribute(u.SVG_ATTR_MAP[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=(0,a.detect)();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",f[n]||"alphabetic"):t.setAttribute("alignment-baseline",c[n]||"baseline"),t.setAttribute("text-anchor",p[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,a=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var s=t.split("\n"),u=s.length-1,l="";(0,o.each)(s,(function(t,e){0===e?"alphabetic"===a?l+='<tspan x="'+r+'" dy="'+-u+'em">'+t+"</tspan>":"top"===a?l+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===a?l+='<tspan x="'+r+'" dy="'+-(u-1)/2+'em">'+t+"</tspan>":"bottom"===a?l+='<tspan x="'+r+'" dy="-'+(u+.3)+'em">'+t+"</tspan>":"hanging"===a&&(l+='<tspan x="'+r+'" dy="'+(-(u-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(l.default),d=h;e.default=d},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1),a=n(30),s=n(54),u=n(277),l=n(150),c=n(74),f=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(191)),p=r(n(278)),h=r(n(1009));function d(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}var g=function(t){function e(e){return t.call(this,(0,o.__assign)((0,o.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,o.__extends)(e,t),e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return p.default},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!s.SHAPE_TO_TAGS[r.tagName]){for(var i=r.parentNode;i&&!s.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=(0,c.createSVGElement)("svg"),e=new h.default(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&(0,c.sortDom)(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?(0,l.setTransform)(this):"clip"===t?(0,l.setClip)(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();(0,l.setClip)(this,t),e.length&&(0,u.drawChildren)(t,e)},e}(a.AbstractCanvas);e.default=g},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(0),o=r(n(1010)),a=r(n(1011)),s=r(n(1012)),u=r(n(1013)),l=r(n(1014)),c=n(74),f=function(){function t(t){var e=(0,c.createSVGElement)("defs"),n=(0,i.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new s.default(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new s.default(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new a.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new l.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(74),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function u(t){var e=t.match(s);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,r.each)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var l=function(){function t(t){this.cfg={};var e=null,n=(0,r.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,i,a=o.exec(t),s=(0,r.mod)((0,r.toRadian)(parseFloat(a[1])),2*Math.PI),l=a[2];s>=0&&s<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=s&&s<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=s&&s<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var c=Math.tan(s),f=c*c,p=(i.x-n.x+c*(i.y-n.y))/(f+1)+n.x,h=c*(i.x-n.x+c*(i.y-n.y))/(f+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",p),e.setAttribute("y2",h),e.innerHTML=u(l)}(t,e=(0,i.createSVGElement)("linearGradient")):function(t,e){var n=a.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=u(s)}(t,e=(0,i.createSVGElement)("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(74),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},s=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=(0,i.createSVGElement)("filter");return(0,r.each)(a,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,r.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return(0,r.each)(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[o[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(74),o=function(){function t(t,e){this.cfg={};var n=(0,i.createSVGElement)("marker"),o=(0,r.uniqueId)("marker_");n.setAttribute("id",o);var a=(0,i.createSVGElement)("path");a.setAttribute("stroke",t.stroke||"none"),a.setAttribute("fill",t.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=o;var s=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===s?this._setDefaultPath(e,a):(this.cfg=s,this._setMarker(t.lineWidth,a)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,o=this.cfg.d;(0,r.isArray)(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),o&&n.setAttribute("refX",""+o/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(74),o=function(){function t(t){this.type="clip",this.cfg={};var e=(0,i.createSVGElement)("clipPath");this.el=e,this.id=(0,r.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),i=n(74),o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){this.cfg={};var e=(0,i.createSVGElement)("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=(0,i.createSVGElement)("image");e.appendChild(n);var a=(0,r.uniqueId)("pattern_");e.id=a,this.el=e,this.id=a,this.cfg=t;var s=o.exec(t)[2];n.setAttribute("href",s);var u=new Image;function l(){e.setAttribute("width",""+u.width),e.setAttribute("height",""+u.height)}return s.match(/^data:/i)||(u.crossOrigin="Anonymous"),u.src=s,u.complete?l():(u.onload=l,u.src=u.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(273),a=n(34),s=n(151),u=(0,i.registerShapeFactory)("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return(0,s.getRectPoints)(t)}});(0,i.registerShape)("interval","rect",{draw:function(t,e){var n,i=(0,a.getStyle)(t,!1,!0),u=e,l=null===t||void 0===t?void 0:t.background;if(l){u=e.addGroup();var c=(0,a.getBackgroundRectStyle)(t),f=(0,s.getBackgroundRectPath)(t,this.parsePoints(t.points),this.coordinate);u.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},c),{path:f}),zIndex:-1,name:o.BACKGROUND_SHAPE})}n=i.radius&&this.coordinate.isRect?(0,s.getRectWithCornerRadius)(this.parsePoints(t.points),this.coordinate,i.radius):this.parsePath((0,s.getIntervalRectPath)(t.points,i.lineCap,this.coordinate));var p=u.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},i),{path:n}),name:"interval"});return l?u:p},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}}),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(147),o=n(26),a=n(280),s=n(283),u=(0,o.registerShapeFactory)("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return(0,a.splitPoints)(t)}});(0,r.each)(s.SHAPES,(function(t){(0,o.registerShape)("point","hollow-"+t,{draw:function(e,n){return(0,s.drawPoints)(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:i.MarkerSymbols[t]||t,style:{r:4.5,stroke:n,fill:null}}}})})),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(20),a=n(48),s=n(282),u=(0,r.__importDefault)(n(91));n(1018);var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return(0,r.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),u=this.getAttribute("size");if(u){n=this.getAttributeValues(u,e)[0];var l=this.coordinate;n/=(0,a.getXDimensionLength)(l)}else this.defaultSize||(this.defaultSize=(0,s.getDefaultSize)(this)),n=this.defaultSize;return r.size=n,r._size=(0,i.get)(e[o.FIELD_ORIGIN],[this._sizeField]),r},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(u.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(117),s=n(34),u=(0,o.registerShapeFactory)("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){if(!(0,i.isArray)(t))return[];var e=(0,i.max)(t);return(0,i.map)(t,(function(t){return t/e}))}(t._size);return(0,i.each)(t.y,(function(i,o){var a=r[o]*e,s=0===o,u=o===t.y.length-1;n.push({isMin:s,isMax:u,x:t.x-a,y:i}),n.unshift({isMin:s,isMax:u,x:t.x+a,y:i})})),n}});(0,o.registerShape)("violin","violin",{draw:function(t,e){var n=(0,s.getStyle)(t,!0,!0),i=this.parsePath((0,a.getViolinPath)(t.points));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}}),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=n(101);(0,r.registerShape)("area","line",{draw:function(t,e){var n=(0,i.getShapeAttrs)(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=n(101);(0,r.registerShape)("area","smooth",{draw:function(t,e){var n=this.coordinate,r=(0,i.getShapeAttrs)(t,!1,!0,this,(0,i.getConstraint)(n));return e.addShape({type:"path",attrs:r,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=n(101);(0,r.registerShape)("area","smooth-line",{draw:function(t,e){var n=this.coordinate,r=(0,i.getShapeAttrs)(t,!0,!0,this,(0,i.getConstraint)(n));return e.addShape({type:"path",attrs:r,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(46),o=n(26),a=n(34),s=n(478);(0,o.registerShape)("edge","arc",{draw:function(t,e){var n,o=(0,a.getStyle)(t,!0,!1,"lineWidth"),u=t.points,l=u.length>2?"weight":"normal";if(t.isInCircle){var c={x:0,y:1};return"normal"===l?n=function(t,e,n){var r=(0,s.getQPath)(e,n),i=[["M",t.x,t.y]];return i.push(r),i}(u[0],u[1],c):(o.fill=o.stroke,n=function(t,e){var n=(0,s.getQPath)(t[1],e),r=(0,s.getQPath)(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(u,c)),n=this.parsePath(n),e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},o),{path:n})})}if("normal"===l)return u=this.parsePoints(u),n=(0,i.getArcPath)((u[1].x+u[0].x)/2,u[0].y,Math.abs(u[1].x-u[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},o),{path:n})});var f=(0,s.getCPath)(u[1],u[3]),p=(0,s.getCPath)(u[2],u[0]);return n=[["M",u[0].x,u[0].y],["L",u[1].x,u[1].y],f,["L",u[3].x,u[3].y],["L",u[2].x,u[2].y],p,["Z"]],n=this.parsePath(n),o.fill=o.stroke,e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},o),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(34),a=n(478);(0,i.registerShape)("edge","smooth",{draw:function(t,e){var n=(0,o.getStyle)(t,!0,!1,"lineWidth"),i=t.points,s=this.parsePath(function(t,e){var n=(0,a.getCPath)(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(i[0],i[1]));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:s})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(26),a=n(34),s=1/3;(0,o.registerShape)("edge","vhv",{draw:function(t,e){var n=(0,a.getStyle)(t,!0,!1,"lineWidth"),o=t.points,u=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-s)+e.y*s}),n.push({x:e.x,y:t.y*(1-s)+e.y*s}),n.push(e);var r=[["M",t.x,t.y]];return(0,i.each)(n,(function(t){r.push(["L",t.x,t.y])})),r}(o[0],o[1]));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:u})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(117),a=n(34);(0,i.registerShape)("violin","smooth",{draw:function(t,e){var n=(0,a.getStyle)(t,!0,!0),i=this.parsePath((0,o.getSmoothViolinPath)(t.points));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(26),o=n(117),a=n(34);(0,i.registerShape)("violin","hollow",{draw:function(t,e){var n=(0,a.getStyle)(t,!0,!1),i=this.parsePath((0,o.getViolinPath)(t.points));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),(0,i.registerShape)("violin","hollow-smooth",{draw:function(t,e){var n=(0,a.getStyle)(t,!0,!1),i=this.parsePath((0,o.getSmoothViolinPath)(t.points));return e.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieOuterLabelLayout=void 0;var r=n(0),i=n(46),o=n(490);e.pieOuterLabelLayout=function(t,e,n,a){var s=(0,r.filter)(t,(function(t){return!(0,r.isNil)(t)})),u=e[0]&&e[0].get("coordinate");if(u){for(var l=u.getCenter(),c=u.getRadius(),f={},p=0,h=e;p<h.length;p++){var d=h[p];f[d.get("id")]=d}var g=(0,r.get)(s[0],"labelHeight",14),v=(0,r.get)(s[0],"offset",0);if(!(v<=0)){var y="right",m=(0,r.groupBy)(s,(function(t){return t.x<l.x?"left":y})),_=u.start,b=u.end,x=Math.min(2*(c+v+g),u.getHeight()),w=x/2,S={minX:_.x,maxX:b.x,minY:l.y-w,maxY:l.y+w};(0,r.each)(m,(function(t,e){var n=Math.floor(x/g);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,r.each)(t,(function(t,e){e+1>n&&(f[t.id].set("visible",!1),t.invisible=!0)}))),(0,o.antiCollision)(t,g,S)})),(0,r.each)(m,(function(t,e){(0,r.each)(t,(function(t){var n=e===y,o=f[t.id].getChildByIndex(0);if(o){var a=c+v,s=t.y-l.y,p=Math.pow(a,2),h=Math.pow(s,2),d=p-h>0?p-h:0,g=Math.sqrt(d),m=Math.abs(Math.cos(t.angle)*a);t.x=n?l.x+Math.max(g,m):l.x-Math.max(g,m)}o&&(o.attr("y",t.y),o.attr("x",t.x)),function(t,e){var n=e.getCenter(),o=e.getRadius();if(t&&t.labelLine){var a=t.angle,s=t.offset,u=(0,i.polarToCartesian)(n.x,n.y,o,a),l=t.x+(0,r.get)(t,"offsetX",0)*(Math.cos(a)>0?1:-1),c=t.y+(0,r.get)(t,"offsetY",0)*(Math.sin(a)>0?1:-1),f={x:l-4*Math.cos(a),y:c-4*Math.sin(a)},p=t.labelLine.smooth,h=[],d=f.x-n.x,g=f.y-n.y,v=Math.atan(g/d);if(d<0&&(v+=Math.PI),!1===p){(0,r.isObject)(t.labelLine)||(t.labelLine={});var y=0;(a<0&&a>-Math.PI/2||a>1.5*Math.PI)&&f.y>u.y&&(y=1),a>=0&&a<Math.PI/2&&f.y>u.y&&(y=1),a>=Math.PI/2&&a<Math.PI&&u.y>f.y&&(y=1),(a<-Math.PI/2||a>=Math.PI&&a<1.5*Math.PI)&&u.y>f.y&&(y=1);var m=s/2>4?4:Math.max(s/2-1,0),_=(0,i.polarToCartesian)(n.x,n.y,o+m,a),b=(0,i.polarToCartesian)(n.x,n.y,o+s/2,v);h.push("M "+u.x+" "+u.y),h.push("L "+_.x+" "+_.y),h.push("A "+n.x+" "+n.y+" 0 0 "+y+" "+b.x+" "+b.y),h.push("L "+f.x+" "+f.y)}else{_=(0,i.polarToCartesian)(n.x,n.y,o+(s/2>4?4:Math.max(s/2-1,0)),a);var x=u.x<n.x?1:-1;h.push("M "+f.x+" "+f.y);var w=(u.y-n.y)/(u.x-n.x),S=(f.y-n.y)/(f.x-n.x);Math.abs(w-S)>Math.pow(Math.E,-16)&&h.push.apply(h,["C",f.x+4*x,f.y,2*_.x-u.x,2*_.y-u.y,u.x,u.y]),h.push("L "+u.x+" "+u.y)}t.labelLine.path=h.join(" ")}}(t,u)}))}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieSpiderLabelLayout=void 0;var r=n(0),i=n(46),o=n(490),a=n(116);e.pieSpiderLabelLayout=function(t,e,n,s){var u=e[0]&&e[0].get("coordinate");if(u){for(var l=u.getCenter(),c=u.getRadius(),f={},p=0,h=e;p<h.length;p++){var d=h[p];f[d.get("id")]=d}var g=(0,r.get)(t[0],"labelHeight",14),v=Math.max((0,r.get)(t[0],"offset",0),4);(0,r.each)(t,(function(t){if((0,r.get)(f,[t.id])){var e=t.x>l.x||t.x===l.x&&t.y>l.y,n=(0,r.isNil)(t.offsetX)?4:t.offsetX,o=(0,i.polarToCartesian)(l.x,l.y,c+4,t.angle),a=v+n;t.x=l.x+(e?1:-1)*(c+a),t.y=o.y}}));var y=u.start,m=u.end,_="right",b=(0,r.groupBy)(t,(function(t){return t.x<l.x?"left":_})),x=2*(c+v)+g;(0,r.each)(b,(function(t){var e=t.length*g;e>x&&(x=Math.min(e,Math.abs(y.y-m.y)))}));var w={minX:y.x,maxX:m.x,minY:l.y-x/2,maxY:l.y+x/2};(0,r.each)(b,(function(t,e){var n=x/g;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,r.each)(t,(function(t,e){e>n&&(f[t.id].set("visible",!1),t.invisible=!0)}))),(0,o.antiCollision)(t,g,w)}));var S=w.minY,E=w.maxY;(0,r.each)(b,(function(t,e){var n=e===_;(0,r.each)(t,(function(t){var e=(0,r.get)(f,t&&[t.id]);if(e)if(t.y<S||t.y>E)e.set("visible",!1);else{var o=e.getChildByIndex(0),s=o.getCanvasBBox(),l=n?s.x:s.maxX,c=s.y+s.height/2;(0,a.translate)(o,t.x-l,t.y-c),t.labelLine&&function(t,e,n){var o,a=e.getCenter(),s=e.getRadius(),u={x:t.x-(n?4:-4),y:t.y},l=(0,i.polarToCartesian)(a.x,a.y,s+4,t.angle),c={x:u.x,y:u.y},f={x:l.x,y:l.y},p=(0,i.polarToCartesian)(a.x,a.y,s,t.angle);if(u.y!==l.y){var h=n?4:-4;c.y=u.y,t.angle<0&&t.angle>=-Math.PI/2&&(c.x=Math.max(l.x,u.x-h),u.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-h))),t.angle>0&&t.angle<Math.PI/2&&(c.x=Math.max(l.x,u.x-h),u.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-h))),t.angle>Math.PI/2&&(c.x=Math.min(l.x,u.x-h),u.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-h))),t.angle<-Math.PI/2&&(c.x=Math.min(l.x,u.x-h),u.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-h)))}o=["M "+u.x+","+u.y,"L "+c.x+","+c.y,"L "+f.x+","+f.y,"L "+l.x+","+l.y,"L "+p.x+","+p.y].join(" "),t.labelLine=(0,r.deepMix)({},t.labelLine,{path:o})}(t,u,n)}}))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hideOverlap=void 0;var r=n(0),i=n(1030),o=n(115);e.hideOverlap=function(t,e,n,a){for(var s=0;s<e.length;s++){var u=e[s];if(e[s].get("visible"))for(var l=s+1;l<e.length;l++){var c=e[l];if(u&&c&&u!==c&&c.get("visible")){var f=(0,o.getlLabelBackgroundInfo)(u,t[s],(0,r.get)(t[s],"background.padding")),p=(0,o.getlLabelBackgroundInfo)(c,t[l],(0,r.get)(t[l],"background.padding"));(0,i.isIntersect)(f,p)&&e[l].set("visible",!1)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIntersect=e.isIntersectRect=void 0;var r=n(1),i=n(0),o=n(32).vec2.dot;function a(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function s(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function u(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[s(e[0],n,e[0]),s(e[1],n,e[0]),s(e[2],n,e[0]),s(e[3],n,e[0])]:e}function l(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(o([t.x,t.y],e))})),{min:Math.min.apply(Math,n),max:Math.max.apply(Math,n)}}function c(t,e){return t.max>e.min&&t.min<e.max}function f(t){return(0,i.isNumber)(t)&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function p(t){return Object.values(t).every(f)}function h(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}e.isIntersectRect=h,e.isIntersect=function(t,e){if(!p(t)||!p(e))return!1;if(!t.rotation&&!e.rotation)return h(t,e);for(var n=u(t),i=u(e),o=(0,r.__spreadArray)((0,r.__spreadArray)([],a(n),!0),a(i),!0),s=0;s<o.length;s++){var f=o[s];if(!c(l(n,f),l(i,f)))return!1}return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adjustColor=void 0;var r=n(81),i=n(1032);e.adjustColor=function(t,e,n){if(0!==n.length){var o=n[0].get("element").geometry.theme,a=o.labels||{},s=a.fillColorLight,u=a.fillColorDark;n.forEach((function(t,n){var a=e[n].find((function(t){return"text"===t.get("type")})),l=r.BBox.fromObject(t.getBBox()),c=r.BBox.fromObject(a.getCanvasBBox()),f=!l.contains(c),p=t.attr("fill"),h=(0,i.isContrastColorWhite)(p);f?a.attr(o.overflowLabels.style):h?s&&a.attr("fill",s):u&&a.attr("fill",u)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isContrastColorWhite=void 0;var r=(0,n(1).__importDefault)(n(141)),i={"#5B8FF9":!0};e.isContrastColorWhite=function(t){var e=r.default.toRGB(t).toUpperCase();if(i[e])return i[e];var n=r.default.rgb2arr(e);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalAdjustPosition=void 0;var r=n(81),i=n(115);function o(t,e,n){return!!t.getAdjust("stack")||e.every((function(e,o){var a=n[o];return function(t,e,n){var o=t.coordinate,a=(0,i.findLabelTextShape)(e),s=r.BBox.fromObject(a.getCanvasBBox()),u=r.BBox.fromObject(n.getBBox());return o.isTransposed?u.height>=s.height:u.width>=s.width}(t,e,a)}))}e.intervalAdjustPosition=function(t,e,n){var a;if(0!==n.length){var s=null===(a=n[0])||void 0===a?void 0:a.get("element"),u=null===s||void 0===s?void 0:s.geometry;u&&"interval"===u.type&&o(u,e,n)&&n.forEach((function(t,n){var o=e[n];!function(t,e,n){var o=t.coordinate,a=r.BBox.fromObject(n.getBBox()),s=(0,i.findLabelTextShape)(e);o.isTransposed?s.attr({x:a.minX+a.width/2,textAlign:"center"}):s.attr({y:a.minY+a.height/2,textBaseline:"middle"})}(u,o,t)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalHideOverlap=void 0;var r=n(0),i=n(115);e.intervalHideOverlap=function(t,e,n){var o;if(0!==n.length){var a=null===(o=n[0])||void 0===o?void 0:o.get("element"),s=null===a||void 0===a?void 0:a.geometry;if(s&&"interval"===s.type){var u,l=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return(0,r.each)(t,(function(t,r){r%n===0?e.push(t):t.set("visible",!1)})),e}(e),c=s.getXYFields()[0],f=[],p=[],h=(0,r.groupBy)(l,(function(t){return t.get("data")[c]})),d=(0,r.uniq)((0,r.map)(l,(function(t){return t.get("data")[c]})));l.forEach((function(t){t.set("visible",!0)}));var g=function(t){t&&(t.length&&p.push(t.pop()),p.push.apply(p,t))};for((0,r.size)(d)>0&&(u=d.shift(),g(h[u])),(0,r.size)(d)>0&&(u=d.pop(),g(h[u])),(0,r.each)(d.reverse(),(function(t){g(h[t])}));p.length>0;){var v=p.shift();v.get("visible")&&((0,i.checkShapeOverlap)(v,f)?v.set("visible",!1):f.push(v))}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pointAdjustPosition=void 0;var r=n(0),i=n(115);function o(t,e,n){return t.some((function(t){return n(t,e)}))}function a(t,e){return o(t,e,(function(t,e){var n,r,o,a=(0,i.findLabelTextShape)(t),s=(0,i.findLabelTextShape)(e);return n=a.getCanvasBBox(),r=s.getCanvasBBox(),void 0===(o=2)&&(o=0),Math.max(0,Math.min(n.x+n.width+o,r.x+r.width+o)-Math.max(n.x-o,r.x-o))*Math.max(0,Math.min(n.y+n.height+o,r.y+r.height+o)-Math.max(n.y-o,r.y-o))>0}))}e.pointAdjustPosition=function(t,e,n,s,u){var l,c;if(0!==n.length){var f=null===(l=n[0])||void 0===l?void 0:l.get("element"),p=null===f||void 0===f?void 0:f.geometry;if(p&&"point"===p.type){var h=p.getXYFields(),d=h[0],g=h[1],v=(0,r.groupBy)(e,(function(t){return t.get("data")[d]})),y=[],m=u&&u.offset||(null===(c=t[0])||void 0===c?void 0:c.offset)||12;(0,r.map)((0,r.keys)(v).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,i),r}(p,v[t]);e.length;){var n=e.shift(),r=(0,i.findLabelTextShape)(n);if(o(y,n,(function(t,e){return t.get("data")[d]===e.get("data")[d]&&t.get("data")[g]===e.get("data")[g]})))r.set("visible",!1);else{var s=!1;a(y,n)&&(r.attr("y",r.attr("y")+2*m),s=a(y,n)),s?r.set("visible",!1):y.push(n)}}}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pathAdjustPosition=void 0;var r=n(0),i=n(115);function o(t,e,n){return t.some((function(t){return n(t,e)}))}function a(t,e){return o(t,e,(function(t,e){var n,r,o,a=(0,i.findLabelTextShape)(t),s=(0,i.findLabelTextShape)(e);return n=a.getCanvasBBox(),r=s.getCanvasBBox(),void 0===(o=2)&&(o=0),Math.max(0,Math.min(n.x+n.width+o,r.x+r.width+o)-Math.max(n.x-o,r.x-o))*Math.max(0,Math.min(n.y+n.height+o,r.y+r.height+o)-Math.max(n.y-o,r.y-o))>0}))}e.pathAdjustPosition=function(t,e,n,s,u){var l,c;if(0!==n.length){var f=null===(l=n[0])||void 0===l?void 0:l.get("element"),p=null===f||void 0===f?void 0:f.geometry;if(p&&!(["path","line","area"].indexOf(p.type)<0)){var h=p.getXYFields(),d=h[0],g=h[1],v=(0,r.groupBy)(e,(function(t){return t.get("data")[d]})),y=[],m=u&&u.offset||(null===(c=t[0])||void 0===c?void 0:c.offset)||12;(0,r.map)((0,r.keys)(v).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,i),r}(p,v[t]);e.length;){var n=e.shift(),r=(0,i.findLabelTextShape)(n);if(o(y,n,(function(t,e){return t.get("data")[d]===e.get("data")[d]&&t.get("data")[g]===e.get("data")[g]})))r.set("visible",!1);else{var s=!1;a(y,n)&&(r.attr("y",r.attr("y")+2*m),s=a(y,n)),s?r.set("visible",!1):y.push(n)}}}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.limitInPlot=void 0;var r=n(0),i=n(48),o=n(1038),a=n(116);e.limitInPlot=function(t,e,n,s,u){if(!(e.length<=0)){var l=(null===u||void 0===u?void 0:u.direction)||["top","right","bottom","left"],c=(null===u||void 0===u?void 0:u.action)||"translate",f=(null===u||void 0===u?void 0:u.margin)||0,p=e[0].get("coordinate");if(p){var h=(0,i.getCoordinateBBox)(p,f),d=h.minX,g=h.minY,v=h.maxX,y=h.maxY;(0,r.each)(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,i=e.minY,s=e.maxX,u=e.maxY,f=e.x,p=e.y,h=e.width,m=e.height,_=f,b=p;if(l.indexOf("left")>=0&&(n<d||s<d)&&(_=d),l.indexOf("top")>=0&&(i<g||u<g)&&(b=g),l.indexOf("right")>=0&&(n>v?_=v-h:s>v&&(_-=s-v)),l.indexOf("bottom")>=0&&(i>y?b=y-m:u>y&&(b-=u-y)),_!==f||b!==p){var x=_-f;"translate"===c?(0,a.translate)(t,x,b-p):"ellipsis"===c?t.findAll((function(t){return"text"===t.get("type")})).forEach((function(t){var e=(0,r.pick)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),i=(0,o.getEllipsisText)(t.attr("text"),n.width-Math.abs(x),e);t.attr("text",i)})):t.hide()}}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEllipsisText=e.measureTextWidth=void 0;var r=n(1),i=n(0),o=n(1039);e.measureTextWidth=(0,i.memoize)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,a=e.fontWeight,s=e.fontStyle,u=e.fontVariant,l=(0,o.getCanvasContext)();return l.font=[s,u,a,n+"px",r].join(" "),l.measureText((0,i.isString)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,r.__spreadArray)([t],(0,i.values)(e),!0).join("")})),e.getEllipsisText=function(t,n,r){var o,a=(0,e.measureTextWidth)("...",r);o=(0,i.isString)(t)?t:(0,i.toString)(t);var s,u,l=n,c=[];if((0,e.measureTextWidth)(t,r)<=n)return t;for(;s=o.substr(0,16),!((u=(0,e.measureTextWidth)(s,r))+a>l&&u>l);)if(c.push(s),l-=u,!(o=o.substr(16)))return c.join("");for(;s=o.substr(0,1),!((u=(0,e.measureTextWidth)(s,r))+a>l);)if(c.push(s),l-=u,!(o=o.substr(1)))return c.join("");return c.join("")+"..."}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasContext=void 0,e.getCanvasContext=function(){return r||(r=document.createElement("canvas").getContext("2d")),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGrid=e.getCircleGridItems=e.getLineGridItems=e.getGridThemeCfg=void 0;var r=n(0);e.getGridThemeCfg=function(t,e){var n=(0,r.deepMix)({},(0,r.get)(t,["components","axis","common"]),(0,r.get)(t,["components","axis",e]));return(0,r.get)(n,["grid"],{})},e.getLineGridItems=function(t,e,n,r){var i=[],o=e.getTicks();return t.isPolar&&o.push({value:1,text:"",tickValue:""}),o.reduce((function(e,o,a){var s=o.value;if(r)i.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]});else if(a){var u=(e.value+s)/2;i.push({points:[t.convert("y"===n?{x:0,y:u}:{x:u,y:0}),t.convert("y"===n?{x:1,y:u}:{x:u,y:1})]})}return o}),o[0]),i},e.getCircleGridItems=function(t,e,n,i,o){var a=e.values.length,s=[],u=n.getTicks();return u.reduce((function(e,n){var u=e?e.value:n.value,l=n.value,c=(u+l)/2;return"x"===o?s.push({points:[t.convert({x:i?l:c,y:0}),t.convert({x:i?l:c,y:1})]}):s.push({points:(0,r.map)(Array(a+1),(function(e,n){return t.convert({x:n/a,y:i?l:c})}))}),n}),u[0]),s},e.showGrid=function(t,e){var n=(0,r.get)(e,"grid");if(null===n)return!1;var i=(0,r.get)(t,"grid");return!(void 0===n&&null===i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(105),o=n(69),a=n(81),s=n(285),u=n(20),l=n(0),c=n(70),f=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=l.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,r=n.getValidScrollbarCfg().animate;n.ratio=(0,l.clamp)(e,0,1);var i=n.view.getOptions().animate;r||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(i)},n.container=n.view.getLayer(u.LAYER.FORE).addGroup(),n.onChangeFn=(0,l.throttle)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(u.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(u.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(u.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(u.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),i=this.scrollbar.component.getLayoutBBox(),o=new a.BBox(i.x,i.y,Math.min(i.width,e),i.height).expand(n),l=this.getScrollbarComponentCfg(),c=void 0,f=void 0;if(l.isHorizontal){var p=(0,s.directionToPosition)(this.view.viewBBox,o,u.DIRECTION.BOTTOM),h=(p[0],p[1]),d=(0,s.directionToPosition)(this.view.coordinateBBox,o,u.DIRECTION.BOTTOM),g=d[0];d[1],c=g,f=h}else{var v=(0,s.directionToPosition)(this.view.viewBBox,o,u.DIRECTION.RIGHT),y=(v[0],h=v[1],(0,s.directionToPosition)(this.view.viewBBox,o,u.DIRECTION.RIGHT));g=y[0],y[1],c=g,f=h}c+=n[3],f+=n[0],this.trackLen?this.scrollbar.component.update((0,r.__assign)((0,r.__assign)({},l),{x:c,y:f,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,r.__assign)((0,r.__assign)({},l),{x:c,y:f})),this.view.viewBBox=this.view.viewBBox.cut(o,l.isHorizontal?u.DIRECTION.BOTTOM:u.DIRECTION.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,l.get)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=(0,l.get)(this.view.getTheme(),["components","scrollbar"]),n=t||{},i=n.thumbHighlightColor,o=(0,r.__rest)(n,["thumbHighlightColor"]);return{default:(0,l.deepMix)({},(0,l.get)(e,["default","style"],{}),o),hover:(0,l.deepMix)({},(0,l.get)(e,["hover","style"],{}),{thumbColor:i})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),r=n.trackLen,i=n.thumbLen;this.trackLen=r,this.thumbLen=i,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,l.clamp)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,r=t[0],i=t[1],o="vertical"!==this.getValidScrollbarCfg().type,a=(0,l.valuesOfKey)(this.data,this.xScaleCfg.field),s=o?a:a.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=s.indexOf(t);return!(e>-1)||(0,c.isBetween)(e,r,i)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new o.Scrollbar((0,r.__assign)((0,r.__assign)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:u.LAYER.FORE,direction:t?u.DIRECTION.BOTTOM:u.DIRECTION.RIGHT,type:u.COMPONENT_TYPE.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,r.__assign)((0,r.__assign)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,r.__assign)({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,r=e.categorySize,i="vertical"!==n;return Math.floor((i?t.width:t.height)/r)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=(0,l.valuesOfKey)(e,t.field);return(0,l.size)(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,i=this.getValidScrollbarCfg(),o=i.type,a=i.padding,s=i.width,u=i.height,c=i.style,f="vertical"!==o,p=a[0],h=a[1],d=a[2],g=a[3],v=f?{x:e.minX+g,y:n.maxY-u-d}:{x:n.maxX-s-h,y:e.minY+p},y=this.getStep(),m=this.getCnt(),_=f?e.width-g-h:e.height-p-d,b=Math.max(_*(0,l.clamp)(y/m,0,1),20);return(0,r.__assign)((0,r.__assign)({},this.getThemeOptions()),{x:v.x,y:v.y,size:f?u:s,isHorizontal:f,trackLen:_,thumbLen:b,thumbOffset:0,theme:this.getScrollbarTheme(c)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,l.isObject)(this.option)&&(t=(0,r.__assign)((0,r.__assign)({},t),this.option)),(0,l.isObject)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=(0,r.__spreadArray)([],n,!0).reverse()),n},e}(i.Controller);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearList=void 0;var r=n(0),i="inactive",o="active";e.clearList=function(t){var e=t.getItems();(0,r.each)(e,(function(e){t.hasState(e,o)&&t.setItemState(e,o,!1),t.hasState(e,i)&&t.setItemState(e,i,!1)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(152)),a="unchecked",s="checked",u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=s,e}return(0,r.__extends)(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var r=t.getItems();n&&(0,i.each)(r,(function(n){e(n)?(t.hasState(n,a)&&t.setItemState(n,a,!1),t.setItemState(n,s,!0)):t.hasState(n,s)||t.setItemState(n,a,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item;!(0,i.some)(e.getItems(),(function(t){return e.hasState(t,a)}))||e.hasState(n,a)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,i.each)(t,(function(t){t.clearItemsState(s),t.clearItemsState(a)}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(31),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return(0,r.__extends)(e,t),e.prototype.getMaskAttrs=function(){var t=this.points,e=(0,i.last)(this.points),n=0,r=0,a=0;if(t.length){var s=t[0];n=(0,o.distance)(s,e)/2,r=(e.x+s.x)/2,a=(e.y+s.y)/2}return{x:r,y:a,r:n}},e}((0,r.__importDefault)(n(291)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0);function o(t){t.x=(0,i.clamp)(t.x,0,1),t.y=(0,i.clamp)(t.y,0,1)}var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return(0,r.__extends)(e,t),e.prototype.getRegion=function(){var t=null,e=null,n=this.points,r=this.dim,a=this.context.view.getCoordinate(),s=a.invert((0,i.head)(n)),u=a.invert((0,i.last)(n));return this.inPlot&&(o(s),o(u)),"x"===r?(t=a.convert({x:s.x,y:0}),e=a.convert({x:u.x,y:1})):(t=a.convert({x:0,y:s.y}),e=a.convert({x:1,y:u.y})),{start:t,end:e}},e}((0,r.__importDefault)(n(491)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(31),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getMaskPath=function(){var t=this.points;return(0,i.getSpline)(t,!0)},e}((0,r.__importDefault)(n(492)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(493)),a=n(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.filterView=function(t,e,n){var r=(0,a.getSilbings)(t);(0,i.each)(r,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=(0,a.getSilbings)(t);(0,i.each)(e,(function(t){t.render(!0)}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(44)),a=n(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.filter=function(){var t=(0,a.getDelegationObject)(this.context),e=this.context.view,n=(0,a.getElements)(e);if((0,a.isMask)(this.context)){var r=(0,a.getMaskedElements)(this.context,10);r&&(0,i.each)(n,(function(t){r.includes(t)?t.show():t.hide()}))}else if(t){var o=t.component,s=o.get("field");if((0,a.isList)(t)){if(s){var u=o.getItemsByState("unchecked"),l=(0,a.getScaleByField)(e,s),c=u.map((function(t){return t.name}));(0,i.each)(n,(function(t){var e=(0,a.getElementValue)(t,s),n=l.getText(e);c.indexOf(n)>=0?t.hide():t.show()}))}}else if((0,a.isSlider)(t)){var f=o.getValue(),p=f[0],h=f[1];(0,i.each)(n,(function(t){var e=(0,a.getElementValue)(t,s);e>=p&&e<=h?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=(0,a.getElements)(this.context.view);(0,i.each)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=(0,r.__importDefault)(n(44)),a=n(31),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return(0,r.__extends)(e,t),e.prototype.filter=function(){(0,a.isMask)(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=(0,a.getMaskedElements)(this.context,10);if(e){var n=t.getXScale().field,r=t.getYScales()[0].field,o=e.map((function(t){return t.getModel().data})),s=(0,a.getSilbings)(t);(0,i.each)(s,(function(t){var e=(0,a.getElements)(t);(0,i.each)(e,(function(t){var e=t.getModel().data;(0,a.isInRecords)(o,e,n,r)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=(0,a.getSilbings)(e);(0,i.each)(n,(function(e){var n=(0,a.getSiblingMaskElements)(t.context,e,10),r=(0,a.getElements)(e);n&&(0,i.each)(r,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=(0,a.getSilbings)(this.context.view);(0,i.each)(t,(function(t){var e=(0,a.getElements)(t);(0,i.each)(e,(function(t){t.show()}))}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(32),o=n(0),a=n(270),s=(0,r.__importDefault)(n(44)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return(0,r.__extends)(e,t),e.prototype.getButtonCfg=function(){return(0,o.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,r.__assign)({text:t.text},t.textStyle)}).getBBox(),i=(0,a.parsePadding)(t.padding),o=e.addShape({type:"rect",name:"button-rect",attrs:(0,r.__assign)({x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},t.style)});o.toBack(),e.on("mouseenter",(function(){o.attr(t.activeStyle)})),e.on("mouseleave",(function(){o.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=i.ext.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(s.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(0,r.__importDefault)(n(44)),o=n(31),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return(0,r.__extends)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):(0,o.distance)(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(i.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(32),o=n(186),a=n(31),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return(0,r.__extends)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if((0,a.distance)(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,r=i.ext.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(r),n.foregroundGroup.setMatrix(r),n.middleGroup.setMatrix(r)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(o.Action);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return(0,r.__extends)(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,i.each)(e,(function(e){var n=t.getScale(e),r=n.min,i=n.max,o=n.values;t.startCache[e]={min:r,max:i,values:o}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),o=n.invert(e),a=n.invert(r),s=a.x-o.x,u=a.y-o.y,l=this.context.view,c=this.dims;(0,i.each)(c,(function(e){t.translateDim(e,{x:-1*s,y:-1*u})})),l.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var r=this.context.view,i=this.startCache[t],o=i.min,a=i.max,s=a-o,u=n[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),r.scale(e.field,{nice:!1,min:o+u,max:a+u})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}((0,r.__importDefault)(n(494)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return(0,r.__extends)(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;(0,i.each)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var r=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var i=this.cacheScaleDefs[t],o=i.max-i.min,a=e.min,s=e.max,u=n*o,l=a-u,c=s+u,f=(c-l)/o;c>l&&f<100&&f>.01&&r.scale(e.field,{nice:!1,min:a-u,max:s+u})},e}((0,r.__importDefault)(n(494)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(186),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,r=e.event;if(n.getOptions().scrollbar){var o=(null===t||void 0===t?void 0:t.wheelDelta)||1,a=n.getController("scrollbar"),s=n.getXScale(),u=n.getOptions().data,l=(0,i.size)((0,i.valuesOfKey)(u,s.field)),c=(0,i.size)(s.values),f=a.getValue(),p=Math.floor((l-c)*f)+(function(t){return t.gEvent.originalEvent.deltaY>0}(r)?o:-o),h=o/(l-c)/1e4,d=(0,i.clamp)(p/(l-c)+h,0,1);a.setValue(d)}},e}(o.Action);e.default=a},function(t,e,n){"use strict";(function(t){var e=n(2)(n(6));t.exports=function r(i){var o=n(1057),a=n(3),s=n(1058);function u(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null}),l.hasOwnProperty("ReactCurrentBatchConfig")||(l.ReactCurrentBatchConfig={suspense:null});var c="function"===typeof Symbol&&Symbol.for,f=c?Symbol.for("react.element"):60103,p=c?Symbol.for("react.portal"):60106,h=c?Symbol.for("react.fragment"):60107,d=c?Symbol.for("react.strict_mode"):60108,g=c?Symbol.for("react.profiler"):60114,v=c?Symbol.for("react.provider"):60109,y=c?Symbol.for("react.context"):60110,m=c?Symbol.for("react.concurrent_mode"):60111,_=c?Symbol.for("react.forward_ref"):60112,b=c?Symbol.for("react.suspense"):60113,x=c?Symbol.for("react.suspense_list"):60120,w=c?Symbol.for("react.memo"):60115,S=c?Symbol.for("react.lazy"):60116,E=c?Symbol.for("react.block"):60121,A="function"===typeof Symbol&&Symbol.iterator;function O(t){return null===t||"object"!==(0,e.default)(t)?null:"function"===typeof(t=A&&t[A]||t["@@iterator"])?t:null}function T(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case h:return"Fragment";case p:return"Portal";case g:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case x:return"SuspenseList"}if("object"===(0,e.default)(t))switch(t.$$typeof){case y:return"Context.Consumer";case v:return"Context.Provider";case _:var n=t.render;return n=n.displayName||n.name||"",t.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case w:return T(t.type);case E:return T(t.render);case S:if(t=1===t._status?t._result:null)return T(t)}return null}function C(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function P(t){if(C(t)!==t)throw Error(u(188))}function M(t){var e=t.alternate;if(!e){if(null===(e=C(t)))throw Error(u(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return P(i),t;if(o===r)return P(i),e;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?t:e}function I(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var k=i.getPublicInstance,R=i.getRootHostContext,L=i.getChildHostContext,D=i.prepareForCommit,N=i.resetAfterCommit,F=i.createInstance,j=i.appendInitialChild,B=i.finalizeInitialChildren,z=i.prepareUpdate,U=i.shouldSetTextContent,V=i.shouldDeprioritizeSubtree,G=i.createTextInstance,W=i.setTimeout,H=i.clearTimeout,Y=i.noTimeout,X=i.isPrimaryRenderer,q=i.supportsMutation,Z=i.supportsPersistence,K=i.supportsHydration,Q=i.appendChild,J=i.appendChildToContainer,$=i.commitTextUpdate,tt=i.commitMount,et=i.commitUpdate,nt=i.insertBefore,rt=i.insertInContainerBefore,it=i.removeChild,ot=i.removeChildFromContainer,at=i.resetTextContent,st=i.hideInstance,ut=i.hideTextInstance,lt=i.unhideInstance,ct=i.unhideTextInstance,ft=i.cloneInstance,pt=i.createContainerChildSet,ht=i.appendChildToContainerChildSet,dt=i.finalizeContainerChildren,gt=i.replaceContainerChildren,vt=i.cloneHiddenInstance,yt=i.cloneHiddenTextInstance,mt=i.canHydrateInstance,_t=i.canHydrateTextInstance,bt=i.isSuspenseInstancePending,xt=i.isSuspenseInstanceFallback,wt=i.getNextHydratableSibling,St=i.getFirstHydratableChild,Et=i.hydrateInstance,At=i.hydrateTextInstance,Ot=i.getNextHydratableInstanceAfterSuspenseInstance,Tt=i.commitHydratedContainer,Ct=i.commitHydratedSuspenseInstance,Pt=/^(.*)[\\\/]/;function Mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=T(t.type);n=null,r&&(n=T(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Pt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var It=[],kt=-1;function Rt(t){0>kt||(t.current=It[kt],It[kt]=null,kt--)}function Lt(t,e){kt++,It[kt]=t.current,t.current=e}var Dt={},Nt={current:Dt},Ft={current:!1},jt=Dt;function Bt(t,e){var n=t.type.contextTypes;if(!n)return Dt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function zt(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ut(){Rt(Ft),Rt(Nt)}function Vt(t,e,n){if(Nt.current!==Dt)throw Error(u(168));Lt(Nt,e),Lt(Ft,n)}function Gt(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(u(108,T(e)||"Unknown",i));return o({},n,{},r)}function Wt(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dt,jt=Nt.current,Lt(Nt,t),Lt(Ft,Ft.current),!0}function Ht(t,e,n){var r=t.stateNode;if(!r)throw Error(u(169));n?(t=Gt(t,e,jt),r.__reactInternalMemoizedMergedChildContext=t,Rt(Ft),Rt(Nt),Lt(Nt,t)):Rt(Ft),Lt(Ft,n)}var Yt=s.unstable_runWithPriority,Xt=s.unstable_scheduleCallback,qt=s.unstable_cancelCallback,Zt=s.unstable_requestPaint,Kt=s.unstable_now,Qt=s.unstable_getCurrentPriorityLevel,Jt=s.unstable_ImmediatePriority,$t=s.unstable_UserBlockingPriority,te=s.unstable_NormalPriority,ee=s.unstable_LowPriority,ne=s.unstable_IdlePriority,re={},ie=s.unstable_shouldYield,oe=void 0!==Zt?Zt:function(){},ae=null,se=null,ue=!1,le=Kt(),ce=1e4>le?Kt:function(){return Kt()-le};function fe(){switch(Qt()){case Jt:return 99;case $t:return 98;case te:return 97;case ee:return 96;case ne:return 95;default:throw Error(u(332))}}function pe(t){switch(t){case 99:return Jt;case 98:return $t;case 97:return te;case 96:return ee;case 95:return ne;default:throw Error(u(332))}}function he(t,e){return t=pe(t),Yt(t,e)}function de(t,e,n){return t=pe(t),Xt(t,e,n)}function ge(t){return null===ae?(ae=[t],se=Xt(Jt,ye)):ae.push(t),re}function ve(){if(null!==se){var t=se;se=null,qt(t)}ye()}function ye(){if(!ue&&null!==ae){ue=!0;var t=0;try{var e=ae;he(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ae=null}catch(n){throw null!==ae&&(ae=ae.slice(t+1)),Xt(Jt,ve),n}finally{ue=!1}}}function me(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}var _e="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},be=Object.prototype.hasOwnProperty;function xe(t,n){if(_e(t,n))return!0;if("object"!==(0,e.default)(t)||null===t||"object"!==(0,e.default)(n)||null===n)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++)if(!be.call(n,r[i])||!_e(t[r[i]],n[r[i]]))return!1;return!0}function we(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Se={current:null},Ee=null,Ae=null,Oe=null;function Te(){Oe=Ae=Ee=null}function Ce(t,e){t=t.type._context,X?(Lt(Se,t._currentValue),t._currentValue=e):(Lt(Se,t._currentValue2),t._currentValue2=e)}function Pe(t){var e=Se.current;Rt(Se),t=t.type._context,X?t._currentValue=e:t._currentValue2=e}function Me(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function Ie(t,e){Ee=t,Oe=Ae=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(or=!0),t.firstContext=null)}function ke(t,e){if(Oe!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Oe=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ae){if(null===Ee)throw Error(u(308));Ae=e,Ee.dependencies={expirationTime:0,firstContext:e,responders:null}}else Ae=Ae.next=e;return X?t._currentValue:t._currentValue2}var Re=!1;function Le(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function De(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function Ne(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function Fe(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function je(t,e){var n=t.alternate;null!==n&&De(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function Be(t,e,n,r){var i=t.updateQueue;Re=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,i.shared.pending=null,null!==(u=t.alternate)&&null!==(u=u.updateQueue)&&(u.baseQueue=s)}if(null!==a){u=a.next;var l=i.baseState,c=0,f=null,p=null,h=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var g={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===h?(p=h=g,f=l):h=h.next=g,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),Gi(s,d.suspenseConfig);t:{var v=t,y=d;switch(s=e,g=n,y.tag){case 1:if("function"===typeof(v=y.payload)){l=v.call(g,l,s);break t}l=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=y.payload)?v.call(g,l,s):v)||void 0===s)break t;l=o({},l,s);break t;case 2:Re=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=i.effects)?i.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=i.shared.pending))break;d=a.next=s.next,s.next=u,i.baseQueue=a=s,i.shared.pending=null}}null===h?f=l:h.next=p,i.baseState=f,i.baseQueue=h,Wi(c),t.expirationTime=c,t.memoizedState=l}}function ze(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(u(191,r));r.call(i)}}}var Ue=l.ReactCurrentBatchConfig,Ve=(new a.Component).refs;function Ge(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:o({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var We={isMounted:function(t){return!!(t=t._reactInternalFiber)&&C(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Mi(),i=Ue.suspense;(i=Ne(r=Ii(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),Fe(t,i),ki(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Mi(),i=Ue.suspense;(i=Ne(r=Ii(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Fe(t,i),ki(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Mi(),r=Ue.suspense;(r=Ne(n=Ii(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),Fe(t,r),ki(t,n)}};function He(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||!xe(n,r)||!xe(i,o)}function Ye(t,n,r){var i=!1,o=Dt,a=n.contextType;return"object"===(0,e.default)(a)&&null!==a?a=ke(a):(o=zt(n)?jt:Nt.current,a=(i=null!==(i=n.contextTypes)&&void 0!==i)?Bt(t,o):Dt),n=new n(r,a),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=We,t.stateNode=n,n._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),n}function Xe(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&We.enqueueReplaceState(e,e.state,null)}function qe(t,n,r,i){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs=Ve,Le(t);var a=n.contextType;"object"===(0,e.default)(a)&&null!==a?o.context=ke(a):(a=zt(n)?jt:Nt.current,o.context=Bt(t,a)),Be(t,r,o,i),o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ge(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(n=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&We.enqueueReplaceState(o,o.state,null),Be(t,r,o,i),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var Ze=Array.isArray;function Ke(t,n,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==(0,e.default)(t)){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(u(309));var i=r.stateNode}if(!i)throw Error(u(147,t));var o=""+t;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===o?n.ref:(n=function(t){var e=i.refs;e===Ve&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},n._stringRef=o,n)}if("string"!==typeof t)throw Error(u(284));if(!r._owner)throw Error(u(290,t))}return t}function Qe(t,e){if("textarea"!==t.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Je(t){function n(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function r(e,r){if(!t)return null;for(;null!==r;)n(e,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=fo(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=go(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=Ke(t,e,n),r.return=t,r):((r=po(n.type,n.key,n.props,null,t.mode,r)).ref=Ke(t,e,n),r.return=t,r)}function d(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=vo(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function g(t,e,n,r,i){return null===e||7!==e.tag?((e=ho(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function v(t,n,r){if("string"===typeof n||"number"===typeof n)return(n=go(""+n,t.mode,r)).return=t,n;if("object"===(0,e.default)(n)&&null!==n){switch(n.$$typeof){case f:return(r=po(n.type,n.key,n.props,null,t.mode,r)).ref=Ke(t,null,n),r.return=t,r;case p:return(n=vo(n,t.mode,r)).return=t,n}if(Ze(n)||O(n))return(n=ho(n,t.mode,r,null)).return=t,n;Qe(t,n)}return null}function y(t,n,r,i){var o=null!==n?n.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:l(t,n,""+r,i);if("object"===(0,e.default)(r)&&null!==r){switch(r.$$typeof){case f:return r.key===o?r.type===h?g(t,n,r.props.children,i,o):c(t,n,r,i):null;case p:return r.key===o?d(t,n,r,i):null}if(Ze(r)||O(r))return null!==o?null:g(t,n,r,i,null);Qe(t,r)}return null}function m(t,n,r,i,o){if("string"===typeof i||"number"===typeof i)return l(n,t=t.get(r)||null,""+i,o);if("object"===(0,e.default)(i)&&null!==i){switch(i.$$typeof){case f:return t=t.get(null===i.key?r:i.key)||null,i.type===h?g(n,t,i.props.children,o,i.key):c(n,t,i,o);case p:return d(n,t=t.get(null===i.key?r:i.key)||null,i,o)}if(Ze(i)||O(i))return g(n,t=t.get(r)||null,i,o,null);Qe(n,i)}return null}function _(e,o,s,u){for(var l=null,c=null,f=o,p=o=0,h=null;null!==f&&p<s.length;p++){f.index>p?(h=f,f=null):h=f.sibling;var d=y(e,f,s[p],u);if(null===d){null===f&&(f=h);break}t&&f&&null===d.alternate&&n(e,f),o=a(d,o,p),null===c?l=d:c.sibling=d,c=d,f=h}if(p===s.length)return r(e,f),l;if(null===f){for(;p<s.length;p++)null!==(f=v(e,s[p],u))&&(o=a(f,o,p),null===c?l=f:c.sibling=f,c=f);return l}for(f=i(e,f);p<s.length;p++)null!==(h=m(f,e,p,s[p],u))&&(t&&null!==h.alternate&&f.delete(null===h.key?p:h.key),o=a(h,o,p),null===c?l=h:c.sibling=h,c=h);return t&&f.forEach((function(t){return n(e,t)})),l}function b(e,o,s,l){var c=O(s);if("function"!==typeof c)throw Error(u(150));if(null==(s=c.call(s)))throw Error(u(151));for(var f=c=null,p=o,h=o=0,d=null,g=s.next();null!==p&&!g.done;h++,g=s.next()){p.index>h?(d=p,p=null):d=p.sibling;var _=y(e,p,g.value,l);if(null===_){null===p&&(p=d);break}t&&p&&null===_.alternate&&n(e,p),o=a(_,o,h),null===f?c=_:f.sibling=_,f=_,p=d}if(g.done)return r(e,p),c;if(null===p){for(;!g.done;h++,g=s.next())null!==(g=v(e,g.value,l))&&(o=a(g,o,h),null===f?c=g:f.sibling=g,f=g);return c}for(p=i(e,p);!g.done;h++,g=s.next())null!==(g=m(p,e,h,g.value,l))&&(t&&null!==g.alternate&&p.delete(null===g.key?h:g.key),o=a(g,o,h),null===f?c=g:f.sibling=g,f=g);return t&&p.forEach((function(t){return n(e,t)})),c}return function(t,i,a,l){var c="object"===(0,e.default)(a)&&null!==a&&a.type===h&&null===a.key;c&&(a=a.props.children);var d="object"===(0,e.default)(a)&&null!==a;if(d)switch(a.$$typeof){case f:t:{for(d=a.key,c=i;null!==c;){if(c.key===d){if(7===c.tag){if(a.type===h){r(t,c.sibling),(i=o(c,a.props.children)).return=t,t=i;break t}}else if(c.elementType===a.type){r(t,c.sibling),(i=o(c,a.props)).ref=Ke(t,c,a),i.return=t,t=i;break t}r(t,c);break}n(t,c),c=c.sibling}a.type===h?((i=ho(a.props.children,t.mode,l,a.key)).return=t,t=i):((l=po(a.type,a.key,a.props,null,t.mode,l)).ref=Ke(t,i,a),l.return=t,t=l)}return s(t);case p:t:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(t,i.sibling),(i=o(i,a.children||[])).return=t,t=i;break t}r(t,i);break}n(t,i),i=i.sibling}(i=vo(a,t.mode,l)).return=t,t=i}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(r(t,i.sibling),(i=o(i,a)).return=t,t=i):(r(t,i),(i=go(a,t.mode,l)).return=t,t=i),s(t);if(Ze(a))return _(t,i,a,l);if(O(a))return b(t,i,a,l);if(d&&Qe(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(u(152,t.displayName||t.name||"Component"))}return r(t,i)}}var $e=Je(!0),tn=Je(!1),en={},nn={current:en},rn={current:en},on={current:en};function an(t){if(t===en)throw Error(u(174));return t}function sn(t,e){Lt(on,e),Lt(rn,t),Lt(nn,en),t=R(e),Rt(nn),Lt(nn,t)}function un(){Rt(nn),Rt(rn),Rt(on)}function ln(t){var e=an(on.current),n=an(nn.current);n!==(e=L(n,t.type,e))&&(Lt(rn,t),Lt(nn,e))}function cn(t){rn.current===t&&(Rt(nn),Rt(rn))}var fn={current:0};function pn(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||bt(n)||xt(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hn(t,e){return{responder:t,props:e}}var dn=l.ReactCurrentDispatcher,gn=l.ReactCurrentBatchConfig,vn=0,yn=null,mn=null,_n=null,bn=!1;function xn(){throw Error(u(321))}function wn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_e(t[n],e[n]))return!1;return!0}function Sn(t,e,n,r,i,o){if(vn=o,yn=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,dn.current=null===t||null===t.memoizedState?Yn:Xn,t=n(r,i),e.expirationTime===vn){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(u(301));o+=1,_n=mn=null,e.updateQueue=null,dn.current=qn,t=n(r,i)}while(e.expirationTime===vn)}if(dn.current=Hn,e=null!==mn&&null!==mn.next,vn=0,_n=mn=yn=null,bn=!1,e)throw Error(u(300));return t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_n?yn.memoizedState=_n=t:_n=_n.next=t,_n}function An(){if(null===mn){var t=yn.alternate;t=null!==t?t.memoizedState:null}else t=mn.next;var e=null===_n?yn.memoizedState:_n.next;if(null!==e)_n=e,mn=t;else{if(null===t)throw Error(u(310));t={memoizedState:(mn=t).memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},null===_n?yn.memoizedState=_n=t:_n=_n.next=t}return _n}function On(t,e){return"function"===typeof e?e(t):e}function Tn(t){var e=An(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var c=l.expirationTime;if(c<vn){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,c>yn.expirationTime&&(yn.expirationTime=c,Wi(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Gi(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,_e(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Cn(t){var e=An(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);_e(o,e.memoizedState)||(or=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Pn(t){var e=En();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:On,lastRenderedState:t}).dispatch=Wn.bind(null,yn,t),[e.memoizedState,t]}function Mn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=yn.updateQueue)?(e={lastEffect:null},yn.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function In(){return An().memoizedState}function kn(t,e,n,r){var i=En();yn.effectTag|=t,i.memoizedState=Mn(1|e,n,void 0,void 0===r?null:r)}function Rn(t,e,n,r){var i=An();r=void 0===r?null:r;var o=void 0;if(null!==mn){var a=mn.memoizedState;if(o=a.destroy,null!==r&&wn(r,a.deps))return void Mn(e,n,o,r)}yn.effectTag|=t,i.memoizedState=Mn(1|e,n,o,r)}function Ln(t,e){return kn(516,4,t,e)}function Dn(t,e){return Rn(516,4,t,e)}function Nn(t,e){return Rn(4,2,t,e)}function Fn(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function jn(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Rn(4,2,Fn.bind(null,e,t),n)}function Bn(){}function zn(t,e){return En().memoizedState=[t,void 0===e?null:e],t}function Un(t,e){var n=An();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&wn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vn(t,e){var n=An();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&wn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gn(t,e,n){var r=fe();he(98>r?98:r,(function(){t(!0)})),he(97<r?97:r,(function(){var r=gn.suspense;gn.suspense=void 0===e?null:e;try{t(!1),n()}finally{gn.suspense=r}}))}function Wn(t,e,n){var r=Mi(),i=Ue.suspense;i={expirationTime:r=Ii(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===yn||null!==o&&o===yn)bn=!0,i.expirationTime=vn,yn.expirationTime=vn;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,_e(s,a))return}catch(u){}ki(t,r)}}var Hn={readContext:ke,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useResponder:xn,useDeferredValue:xn,useTransition:xn},Yn={readContext:ke,useCallback:zn,useContext:ke,useEffect:Ln,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,kn(4,2,Fn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kn(4,2,t,e)},useMemo:function(t,e){var n=En();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Wn.bind(null,yn,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},En().memoizedState=t},useState:Pn,useDebugValue:Bn,useResponder:hn,useDeferredValue:function(t,e){var n=Pn(t),r=n[0],i=n[1];return Ln((function(){var n=gn.suspense;gn.suspense=void 0===e?null:e;try{i(t)}finally{gn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Pn(!1),n=e[0];return e=e[1],[zn(Gn.bind(null,e,t),[e,t]),n]}},Xn={readContext:ke,useCallback:Un,useContext:ke,useEffect:Dn,useImperativeHandle:jn,useLayoutEffect:Nn,useMemo:Vn,useReducer:Tn,useRef:In,useState:function(){return Tn(On)},useDebugValue:Bn,useResponder:hn,useDeferredValue:function(t,e){var n=Tn(On),r=n[0],i=n[1];return Dn((function(){var n=gn.suspense;gn.suspense=void 0===e?null:e;try{i(t)}finally{gn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Tn(On),n=e[0];return e=e[1],[Un(Gn.bind(null,e,t),[e,t]),n]}},qn={readContext:ke,useCallback:Un,useContext:ke,useEffect:Dn,useImperativeHandle:jn,useLayoutEffect:Nn,useMemo:Vn,useReducer:Cn,useRef:In,useState:function(){return Cn(On)},useDebugValue:Bn,useResponder:hn,useDeferredValue:function(t,e){var n=Cn(On),r=n[0],i=n[1];return Dn((function(){var n=gn.suspense;gn.suspense=void 0===e?null:e;try{i(t)}finally{gn.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Cn(On),n=e[0];return e=e[1],[Un(Gn.bind(null,e,t),[e,t]),n]}},Zn=null,Kn=null,Qn=!1;function Jn(t,e){var n=lo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function $n(t,e){switch(t.tag){case 5:return null!==(e=mt(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=_t(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function tr(t){if(Qn){var e=Kn;if(e){var n=e;if(!$n(t,e)){if(!(e=wt(n))||!$n(t,e))return t.effectTag=-1025&t.effectTag|2,Qn=!1,void(Zn=t);Jn(Zn,n)}Zn=t,Kn=St(e)}else t.effectTag=-1025&t.effectTag|2,Qn=!1,Zn=t}}function er(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Zn=t}function nr(t){if(!K||t!==Zn)return!1;if(!Qn)return er(t),Qn=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!U(e,t.memoizedProps))for(e=Kn;e;)Jn(t,e),e=wt(e);if(er(t),13===t.tag){if(!K)throw Error(u(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(u(317));Kn=Ot(t)}else Kn=Zn?wt(t.stateNode):null;return!0}function rr(){K&&(Kn=Zn=null,Qn=!1)}var ir=l.ReactCurrentOwner,or=!1;function ar(t,e,n,r){e.child=null===t?tn(e,null,n,r):$e(e,t.child,n,r)}function sr(t,e,n,r,i){n=n.render;var o=e.ref;return Ie(e,i),r=Sn(t,e,n,r,o,i),null===t||or?(e.effectTag|=1,ar(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function ur(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||co(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=po(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,lr(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:xe)(i,r)&&t.ref===e.ref)?Er(t,e,o):(e.effectTag|=1,(t=fo(a,r)).ref=e.ref,t.return=e,e.child=t)}function lr(t,e,n,r,i,o){return null!==t&&xe(t.memoizedProps,r)&&t.ref===e.ref&&(or=!1,i<o)?(e.expirationTime=t.expirationTime,Er(t,e,o)):fr(t,e,n,r,o)}function cr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function fr(t,e,n,r,i){var o=zt(n)?jt:Nt.current;return o=Bt(e,o),Ie(e,i),n=Sn(t,e,n,r,o,i),null===t||or?(e.effectTag|=1,ar(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Er(t,e,i))}function pr(t,n,r,i,o){if(zt(r)){var a=!0;Wt(n)}else a=!1;if(Ie(n,o),null===n.stateNode)null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),Ye(n,r,i),qe(n,r,i,o),i=!0;else if(null===t){var s=n.stateNode,u=n.memoizedProps;s.props=u;var l=s.context,c=r.contextType;c="object"===(0,e.default)(c)&&null!==c?ke(c):Bt(n,c=zt(r)?jt:Nt.current);var f=r.getDerivedStateFromProps,p="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==i||l!==c)&&Xe(n,s,i,c),Re=!1;var h=n.memoizedState;s.state=h,Be(n,i,s,o),l=n.memoizedState,u!==i||h!==l||Ft.current||Re?("function"===typeof f&&(Ge(n,r,f,i),l=n.memoizedState),(u=Re||He(n,r,u,i,h,l,c))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(n.effectTag|=4)):("function"===typeof s.componentDidMount&&(n.effectTag|=4),n.memoizedProps=i,n.memoizedState=l),s.props=i,s.state=l,s.context=c,i=u):("function"===typeof s.componentDidMount&&(n.effectTag|=4),i=!1)}else s=n.stateNode,De(t,n),u=n.memoizedProps,s.props=n.type===n.elementType?u:we(n.type,u),l=s.context,c=r.contextType,c="object"===(0,e.default)(c)&&null!==c?ke(c):Bt(n,c=zt(r)?jt:Nt.current),(p="function"===typeof(f=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==i||l!==c)&&Xe(n,s,i,c),Re=!1,l=n.memoizedState,s.state=l,Be(n,i,s,o),h=n.memoizedState,u!==i||l!==h||Ft.current||Re?("function"===typeof f&&(Ge(n,r,f,i),h=n.memoizedState),(f=Re||He(n,r,u,i,l,h,c))?(p||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,h,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,h,c)),"function"===typeof s.componentDidUpdate&&(n.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(n.effectTag|=256)):("function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(n.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||u===t.memoizedProps&&l===t.memoizedState||(n.effectTag|=256),n.memoizedProps=i,n.memoizedState=h),s.props=i,s.state=h,s.context=c,i=f):("function"!==typeof s.componentDidUpdate||u===t.memoizedProps&&l===t.memoizedState||(n.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||u===t.memoizedProps&&l===t.memoizedState||(n.effectTag|=256),i=!1);return hr(t,n,r,i,a,o)}function hr(t,e,n,r,i,o){cr(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Ht(e,n,!1),Er(t,e,o);r=e.stateNode,ir.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=$e(e,t.child,null,o),e.child=$e(e,null,s,o)):ar(t,e,s,o),e.memoizedState=r.state,i&&Ht(e,n,!0),e.child}function dr(t){var e=t.stateNode;e.pendingContext?Vt(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Vt(0,e.context,!1),sn(t,e.containerInfo)}var gr,vr,yr,mr,_r={dehydrated:null,retryTime:0};function br(t,e,n){var r,i=e.mode,o=e.pendingProps,a=fn.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Lt(fn,1&a),null===t){if(void 0!==o.fallback&&tr(e),s){if(s=o.fallback,(o=ho(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ho(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=_r,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=tn(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=fo(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=fo(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=_r,e.child=n,i}return n=$e(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=ho(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ho(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=_r,e.child=o,n}return e.memoizedState=null,e.child=$e(e,t,o.children,n)}function xr(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),Me(t.return,e)}function wr(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Sr(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ar(t,e,r.children,n),0!==(2&(r=fn.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&xr(t,n);else if(19===t.tag)xr(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(fn,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===pn(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wr(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===pn(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wr(e,!0,n,null,o,e.lastEffect);break;case"together":wr(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Er(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&Wi(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(u(153));if(null!==e.child){for(n=fo(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=fo(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ar(t){t.effectTag|=4}if(q)gr=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)j(t,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vr=function(){},yr=function(t,e,n,r,i){if((t=t.memoizedProps)!==r){var o=e.stateNode,a=an(nn.current);n=z(o,n,t,r,i,a),(e.updateQueue=n)&&Ar(e)}},mr=function(t,e,n,r){n!==r&&Ar(e)};else if(Z){gr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=vt(o,i.type,i.memoizedProps,i)),j(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=yt(o,i.memoizedProps,i)),j(t,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,gr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Or=function t(e,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=vt(a,o.type,o.memoizedProps,o)),ht(e,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=yt(a,o.memoizedProps,o)),ht(e,a);else if(4!==o.tag){if(13===o.tag&&0!==(4&o.effectTag)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&(s.child.return=s,t(e,s,!0,a)),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};vr=function(t){var e=t.stateNode;if(null!==t.firstEffect){var n=e.containerInfo,r=pt(n);Or(r,t,!1,!1),e.pendingChildren=r,Ar(t),dt(n,r)}},yr=function(t,e,n,r,i){var o=t.stateNode,a=t.memoizedProps;if((t=null===e.firstEffect)&&a===r)e.stateNode=o;else{var s=e.stateNode,u=an(nn.current),l=null;a!==r&&(l=z(s,n,a,r,i,u)),t&&null===l?e.stateNode=o:(o=ft(o,l,n,a,r,e,t,s),B(o,n,r,i,u)&&Ar(e),e.stateNode=o,t?Ar(e):gr(o,e,!1,!1))}},mr=function(t,e,n,r){n!==r?(t=an(on.current),n=an(nn.current),e.stateNode=G(r,t,n,e),Ar(e)):e.stateNode=t.stateNode}}else vr=function(){},yr=function(){},mr=function(){};function Tr(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return zt(e.type)&&Ut(),null;case 3:return un(),Rt(Ft),Rt(Nt),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===t||null===t.child)&&nr(e)&&Ar(e),vr(e),null;case 5:cn(e);var i=an(on.current);if(n=e.type,null!==t&&null!=e.stateNode)yr(t,e,n,r,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(u(166));return null}if(t=an(nn.current),nr(e)){if(!K)throw Error(u(175));t=Et(e.stateNode,e.type,e.memoizedProps,i,t,e),e.updateQueue=t,null!==t&&Ar(e)}else{var o=F(n,r,i,t,e);gr(o,e,!1,!1),e.stateNode=o,B(o,n,r,i,t)&&Ar(e)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)mr(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(u(166));if(t=an(on.current),i=an(nn.current),nr(e)){if(!K)throw Error(u(176));At(e.stateNode,e.memoizedProps,e)&&Ar(e)}else e.stateNode=G(r,t,i,e)}return null;case 13:return Rt(fn),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&nr(e):(i=null!==(n=t.memoizedState),r||null===n||null!==(n=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=n,n.nextEffect=o):(e.firstEffect=e.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&fn.current)?fi===ii&&(fi=oi):(fi!==ii&&fi!==oi||(fi=ai),0!==vi&&null!==ui&&(_o(ui,ci),bo(ui,vi)))),Z&&r&&(e.effectTag|=4),q&&(r||i)&&(e.effectTag|=4),null);case 4:return un(),vr(e),null;case 10:return Pe(e),null;case 19:if(Rt(fn),null===(r=e.memoizedState))return null;if(i=0!==(64&e.effectTag),null===(o=r.rendering)){if(i)Tr(r,!1);else if(fi!==ii||null!==t&&0!==(64&t.effectTag))for(t=e.child;null!==t;){if(null!==(o=pn(t))){for(e.effectTag|=64,Tr(r,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,t=n,r=e.child;null!==r;)n=t,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=o.childExpirationTime,i.expirationTime=o.expirationTime,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,n=o.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return Lt(fn,1&fn.current|2),e.child}t=t.sibling}}else{if(!i)if(null!==(t=pn(o))){if(e.effectTag|=64,i=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.effectTag|=4),Tr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*ce()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Tr(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=r.last)?t.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ce()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ce(),t.sibling=null,e=fn.current,Lt(fn,i?1&e|2:1&e),t):null}throw Error(u(156,e.tag))}function Pr(t){switch(t.tag){case 1:zt(t.type)&&Ut();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(un(),Rt(Ft),Rt(Nt),0!==(64&(e=t.effectTag)))throw Error(u(285));return t.effectTag=-4097&e|64,t;case 5:return cn(t),null;case 13:return Rt(fn),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return Rt(fn),null;case 4:return un(),null;case 10:return Pe(t),null;default:return null}}function Mr(t,e){return{value:t,source:e,stack:Mt(e)}}var Ir="function"===typeof WeakSet?WeakSet:Set;function kr(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=Mt(n)),null!==n&&T(n.type),e=e.value,null!==t&&1===t.tag&&T(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function Rr(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){no(t,n)}else e.current=null}function Lr(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:we(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(u(163))}function Dr(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function Nr(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fr(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Nr(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:we(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ze(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=k(n.child.stateNode);break;case 1:t=n.child.stateNode}ze(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&tt(t,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(K&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))))}throw Error(u(163))}function jr(t,e,n){switch("function"===typeof so&&so(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;he(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){no(i,o)}}t=t.next}while(t!==r)}))}break;case 1:Rr(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){no(t,n)}}(e,n);break;case 5:Rr(e);break;case 4:q?Hr(t,e,n):Z&&function(t){if(Z){t=t.stateNode.containerInfo;var e=pt(t);gt(t,e)}}(e)}}function Br(t,e,n){for(var r=e;;)if(jr(t,r,n),null===r.child||q&&4===r.tag){if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function zr(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&zr(e)}function Ur(t){return 5===t.tag||3===t.tag||4===t.tag}function Vr(t){if(q){t:{for(var e=t.return;null!==e;){if(Ur(e)){var n=e;break t}e=e.return}throw Error(u(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.effectTag&&(at(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Ur(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?Gr(t,n,e):Wr(t,n,e)}}function Gr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?rt(n,t,e):J(n,t);else if(4!==r&&null!==(t=t.child))for(Gr(t,e,n),t=t.sibling;null!==t;)Gr(t,e,n),t=t.sibling}function Wr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?nt(n,t,e):Q(n,t);else if(4!==r&&null!==(t=t.child))for(Wr(t,e,n),t=t.sibling;null!==t;)Wr(t,e,n),t=t.sibling}function Hr(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(u(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag)Br(t,o,n),i?ot(r,o.stateNode):it(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(jr(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Yr(t,e){if(q){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&et(n,o,i,t,r,e)}return;case 6:if(null===e.stateNode)throw Error(u(162));return n=e.memoizedProps,void $(e.stateNode,null!==t?t.memoizedProps:n,n);case 3:return void(K&&(e=e.stateNode,e.hydrate&&(e.hydrate=!1,Tt(e.containerInfo))));case 13:return Xr(e),void qr(e);case 19:return void qr(e)}throw Error(u(163))}switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,e);case 12:return;case 13:return Xr(e),void qr(e);case 19:return void qr(e);case 3:K&&(n=e.stateNode).hydrate&&(n.hydrate=!1,Tt(n.containerInfo))}t:if(Z){switch(e.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:e=e.stateNode,gt(e.containerInfo,e.pendingChildren);break t}throw Error(u(163))}}function Xr(t){var e=t;if(null===t.memoizedState)var n=!1;else n=!0,e=t.child,mi=ce();if(q&&null!==e)t:if(t=e,q)for(e=t;;){if(5===e.tag){var r=e.stateNode;n?st(r):lt(e.stateNode,e.memoizedProps)}else if(6===e.tag)r=e.stateNode,n?ut(r):ct(r,e.memoizedProps);else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}}function qr(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ir),e.forEach((function(e){var r=io.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var Zr="function"===typeof WeakMap?WeakMap:Map;function Kr(t,e,n){(n=Ne(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bi||(bi=!0,xi=r),kr(t,e)},n}function Qr(t,e,n){(n=Ne(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return kr(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===wi?wi=new Set([this]):wi.add(this),kr(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Jr,$r=Math.ceil,ti=l.ReactCurrentDispatcher,ei=l.ReactCurrentOwner,ni=16,ri=32,ii=0,oi=3,ai=4,si=0,ui=null,li=null,ci=0,fi=ii,pi=null,hi=1073741823,di=1073741823,gi=null,vi=0,yi=!1,mi=0,_i=null,bi=!1,xi=null,wi=null,Si=!1,Ei=null,Ai=90,Oi=null,Ti=0,Ci=null,Pi=0;function Mi(){return 0!==(48&si)?1073741821-(ce()/10|0):0!==Pi?Pi:Pi=1073741821-(ce()/10|0)}function Ii(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=fe();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(si&ni))return ci;if(null!==n)t=me(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=me(t,150,100);break;case 97:case 96:t=me(t,5e3,250);break;case 95:t=2;break;default:throw Error(u(326))}return null!==ui&&t===ci&&--t,t}function ki(t,e){if(50<Ti)throw Ti=0,Ci=null,Error(u(185));if(null!==(t=Ri(t,e))){var n=fe();1073741823===e?0!==(8&si)&&0===(48&si)?Fi(t):(Di(t),0===si&&ve()):Di(t),0===(4&si)||98!==n&&99!==n||(null===Oi?Oi=new Map([[t,e]]):(void 0===(n=Oi.get(t))||n>e)&&Oi.set(t,e))}}function Ri(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ui===i&&(Wi(e),fi===ai&&_o(i,ci)),bo(i,e)),i}function Li(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!mo(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Di(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=ge(Fi.bind(null,t));else{var e=Li(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Mi();if(r=1073741823===e?99:1===e||2===e?95:0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==re&&qt(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?ge(Fi.bind(null,t)):de(r,Ni.bind(null,t),{timeout:10*(1073741821-e)-ce()}),t.callbackNode=e}}}function Ni(t,e){if(Pi=0,e)return xo(t,e=Mi()),Di(t),null;var n=Li(t);if(0!==n){if(e=t.callbackNode,0!==(48&si))throw Error(u(327));if($i(),t===ui&&n===ci||zi(t,n),null!==li){var r=si;si|=ni;for(var i=Vi();;)try{Yi();break}catch(s){Ui(t,s)}if(Te(),si=r,ti.current=i,1===fi)throw e=pi,zi(t,n),_o(t,n),Di(t),e;if(null===li)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=fi,ui=null,r){case ii:case 1:throw Error(u(345));case 2:xo(t,2<n?2:n);break;case oi:if(_o(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Zi(i)),1073741823===hi&&10<(i=mi+500-ce())){if(yi){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,zi(t,n);break}}if(0!==(o=Li(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=W(Ki.bind(null,t),i);break}Ki(t);break;case ai:if(_o(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Zi(i)),yi&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,zi(t,n);break}if(0!==(i=Li(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==di?r=10*(1073741821-di)-ce():1073741823===hi?r=0:(r=10*(1073741821-hi)-5e3,0>(r=(i=ce())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$r(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=W(Ki.bind(null,t),r);break}Ki(t);break;case 5:if(1073741823!==hi&&null!==gi){o=hi;var a=gi;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=ce()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){_o(t,n),t.timeoutHandle=W(Ki.bind(null,t),r);break}}Ki(t);break;default:throw Error(u(329))}if(Di(t),t.callbackNode===e)return Ni.bind(null,t)}}return null}function Fi(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&si))throw Error(u(327));if($i(),t===ui&&e===ci||zi(t,e),null!==li){var n=si;si|=ni;for(var r=Vi();;)try{Hi();break}catch(i){Ui(t,i)}if(Te(),si=n,ti.current=r,1===fi)throw n=pi,zi(t,e),_o(t,e),Di(t),n;if(null!==li)throw Error(u(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,ui=null,Ki(t),Di(t)}return null}function ji(t,e){var n=si;si|=1;try{return t(e)}finally{0===(si=n)&&ve()}}function Bi(t,e){if(0!==(48&si))throw Error(u(187));var n=si;si|=1;try{return he(99,t.bind(null,e))}finally{si=n,ve()}}function zi(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(n!==Y&&(t.timeoutHandle=Y,H(n)),null!==li)for(n=li.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ut();break;case 3:un(),Rt(Ft),Rt(Nt);break;case 5:cn(r);break;case 4:un();break;case 13:case 19:Rt(fn);break;case 10:Pe(r)}n=n.return}ui=t,li=fo(t.current,null),ci=e,fi=ii,pi=null,di=hi=1073741823,gi=null,vi=0,yi=!1}function Ui(t,n){for(;;){try{if(Te(),dn.current=Hn,bn)for(var r=yn.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}if(vn=0,_n=mn=yn=null,bn=!1,null===li||null===li.return)return fi=1,pi=n,li=null;t:{var o=t,a=li.return,s=li,u=n;if(n=ci,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===(0,e.default)(u)&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&fn.current),p=a;do{var h;if(h=13===p.tag){var d=p.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var g=p.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=p.updateQueue;if(null===v){var y=new Set;y.add(l),p.updateQueue=y}else v.add(l);if(0===(2&p.mode)){if(p.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=Ne(1073741823,null);m.tag=2,Fe(s,m)}s.expirationTime=1073741823;break t}u=void 0,s=n;var _=o.pingCache;if(null===_?(_=o.pingCache=new Zr,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var b=ro.bind(null,o,l,s);l.then(b,b)}p.effectTag|=4096,p.expirationTime=n;break t}p=p.return}while(null!==p);u=Error((T(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Mt(s))}5!==fi&&(fi=2),u=Mr(u,s),p=a;do{switch(p.tag){case 3:l=u,p.effectTag|=4096,p.expirationTime=n,je(p,Kr(p,l,n));break t;case 1:l=u;var x=p.type,w=p.stateNode;if(0===(64&p.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===wi||!wi.has(w)))){p.effectTag|=4096,p.expirationTime=n,je(p,Qr(p,l,n));break t}}p=p.return}while(null!==p)}li=qi(li)}catch(S){n=S;continue}break}}function Vi(){var t=ti.current;return ti.current=Hn,null===t?Hn:t}function Gi(t,e){t<hi&&2<t&&(hi=t),null!==e&&t<di&&2<t&&(di=t,gi=e)}function Wi(t){t>vi&&(vi=t)}function Hi(){for(;null!==li;)li=Xi(li)}function Yi(){for(;null!==li&&!ie();)li=Xi(li)}function Xi(t){var e=Jr(t.alternate,t,ci);return t.memoizedProps=t.pendingProps,null===e&&(e=qi(t)),ei.current=null,e}function qi(t){li=t;do{var e=li.alternate;if(t=li.return,0===(2048&li.effectTag)){if(e=Cr(e,li,ci),1===ci||1!==li.childExpirationTime){for(var n=0,r=li.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}li.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=li.firstEffect),null!==li.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=li.firstEffect),t.lastEffect=li.lastEffect),1<li.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=li:t.firstEffect=li,t.lastEffect=li))}else{if(null!==(e=Pr(li)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=li.sibling))return e;li=t}while(null!==li);return fi===ii&&(fi=5),null}function Zi(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Ki(t){var e=fe();return he(99,Qi.bind(null,t,e)),null}function Qi(t,e){do{$i()}while(null!==Ei);if(0!==(48&si))throw Error(u(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(u(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=Zi(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===ui&&(li=ui=null,ci=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=si;si|=ri,ei.current=null,D(t.containerInfo),_i=i;do{try{Ji()}catch(m){if(null===_i)throw Error(u(330));no(_i,m),_i=_i.nextEffect}}while(null!==_i);_i=i;do{try{for(var a=t,s=e;null!==_i;){var l=_i.effectTag;if(16&l&&q&&at(_i.stateNode),128&l){var c=_i.alternate;if(null!==c){var f=c.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&l){case 2:Vr(_i),_i.effectTag&=-3;break;case 6:Vr(_i),_i.effectTag&=-3,Yr(_i.alternate,_i);break;case 1024:_i.effectTag&=-1025;break;case 1028:_i.effectTag&=-1025,Yr(_i.alternate,_i);break;case 4:Yr(_i.alternate,_i);break;case 8:var p=a,h=_i,d=s;q?Hr(p,h,d):Br(p,h,d),zr(h)}_i=_i.nextEffect}}catch(m){if(null===_i)throw Error(u(330));no(_i,m),_i=_i.nextEffect}}while(null!==_i);N(t.containerInfo),t.current=n,_i=i;do{try{for(l=t;null!==_i;){var g=_i.effectTag;if(36&g&&Fr(l,_i.alternate,_i),128&g){c=void 0;var v=_i.ref;if(null!==v){var y=_i.stateNode;c=5===_i.tag?k(y):y,"function"===typeof v?v(c):v.current=c}}_i=_i.nextEffect}}catch(m){if(null===_i)throw Error(u(330));no(_i,m),_i=_i.nextEffect}}while(null!==_i);_i=null,oe(),si=o}else t.current=n;if(Si)Si=!1,Ei=t,Ai=e;else for(_i=i;null!==_i;)e=_i.nextEffect,_i.nextEffect=null,_i=e;if(0===(e=t.firstPendingTime)&&(wi=null),1073741823===e?t===Ci?Ti++:(Ti=0,Ci=t):Ti=0,"function"===typeof ao&&ao(n.stateNode,r),Di(t),bi)throw bi=!1,t=xi,xi=null,t;return 0!==(8&si)||ve(),null}function Ji(){for(;null!==_i;){var t=_i.effectTag;0!==(256&t)&&Lr(_i.alternate,_i),0===(512&t)||Si||(Si=!0,de(97,(function(){return $i(),null}))),_i=_i.nextEffect}}function $i(){if(90!==Ai){var t=97<Ai?97:Ai;return Ai=90,he(t,to)}}function to(){if(null===Ei)return!1;var t=Ei;if(Ei=null,0!==(48&si))throw Error(u(331));var e=si;for(si|=ri,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Dr(5,n),Nr(5,n)}}catch(r){if(null===t)throw Error(u(330));no(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return si=e,ve(),!0}function eo(t,e,n){Fe(t,e=Kr(t,e=Mr(n,e),1073741823)),null!==(t=Ri(t,1073741823))&&Di(t)}function no(t,e){if(3===t.tag)eo(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){eo(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===wi||!wi.has(r))){Fe(n,t=Qr(n,t=Mr(e,t),1073741823)),null!==(n=Ri(n,1073741823))&&Di(n);break}}n=n.return}}function ro(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),ui===t&&ci===n?fi===ai||fi===oi&&1073741823===hi&&ce()-mi<500?zi(t,ci):yi=!0:mo(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Di(t)))}function io(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ii(e=Mi(),t,null)),null!==(t=Ri(t,e))&&Di(t)}Jr=function(t,n,r){var i=n.expirationTime;if(null!==t){var o=n.pendingProps;if(t.memoizedProps!==o||Ft.current)or=!0;else{if(i<r){switch(or=!1,n.tag){case 3:dr(n),rr();break;case 5:if(ln(n),4&n.mode&&1!==r&&V(n.type,o))return n.expirationTime=n.childExpirationTime=1,null;break;case 1:zt(n.type)&&Wt(n);break;case 4:sn(n,n.stateNode.containerInfo);break;case 10:Ce(n,n.memoizedProps.value);break;case 13:if(null!==n.memoizedState)return 0!==(i=n.child.childExpirationTime)&&i>=r?br(t,n,r):(Lt(fn,1&fn.current),null!==(n=Er(t,n,r))?n.sibling:null);Lt(fn,1&fn.current);break;case 19:if(i=n.childExpirationTime>=r,0!==(64&t.effectTag)){if(i)return Sr(t,n,r);n.effectTag|=64}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null),Lt(fn,fn.current),!i)return null}return Er(t,n,r)}or=!1}}else or=!1;switch(n.expirationTime=0,n.tag){case 2:if(i=n.type,null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),t=n.pendingProps,o=Bt(n,Nt.current),Ie(n,r),o=Sn(null,n,i,t,o,r),n.effectTag|=1,"object"===(0,e.default)(o)&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,zt(i)){var a=!0;Wt(n)}else a=!1;n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Le(n);var s=i.getDerivedStateFromProps;"function"===typeof s&&Ge(n,i,s,t),o.updater=We,n.stateNode=o,o._reactInternalFiber=n,qe(n,i,t,r),n=hr(null,n,i,!0,a,r)}else n.tag=0,ar(null,n,o,r),n=n.child;return n;case 16:t:{if(o=n.elementType,null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),t=n.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,n.type=o,a=n.tag=function(t){if("function"===typeof t)return co(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===_)return 11;if(t===w)return 14}return 2}(o),t=we(o,t),a){case 0:n=fr(null,n,o,t,r);break t;case 1:n=pr(null,n,o,t,r);break t;case 11:n=sr(null,n,o,t,r);break t;case 14:n=ur(null,n,o,we(o.type,t),i,r);break t}throw Error(u(306,o,""))}return n;case 0:return i=n.type,o=n.pendingProps,fr(t,n,i,o=n.elementType===i?o:we(i,o),r);case 1:return i=n.type,o=n.pendingProps,pr(t,n,i,o=n.elementType===i?o:we(i,o),r);case 3:if(dr(n),i=n.updateQueue,null===t||null===i)throw Error(u(282));if(i=n.pendingProps,o=null!==(o=n.memoizedState)?o.element:null,De(t,n),Be(n,i,null,r),(i=n.memoizedState.element)===o)rr(),n=Er(t,n,r);else{if((o=n.stateNode.hydrate)&&(K?(Kn=St(n.stateNode.containerInfo),Zn=n,o=Qn=!0):o=!1),o)for(r=tn(n,null,i,r),n.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else ar(t,n,i,r),rr();n=n.child}return n;case 5:return ln(n),null===t&&tr(n),i=n.type,o=n.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,U(i,o)?s=null:null!==a&&U(i,a)&&(n.effectTag|=16),cr(t,n),4&n.mode&&1!==r&&V(i,o)?(n.expirationTime=n.childExpirationTime=1,n=null):(ar(t,n,s,r),n=n.child),n;case 6:return null===t&&tr(n),null;case 13:return br(t,n,r);case 4:return sn(n,n.stateNode.containerInfo),i=n.pendingProps,null===t?n.child=$e(n,null,i,r):ar(t,n,i,r),n.child;case 11:return i=n.type,o=n.pendingProps,sr(t,n,i,o=n.elementType===i?o:we(i,o),r);case 7:return ar(t,n,n.pendingProps,r),n.child;case 8:case 12:return ar(t,n,n.pendingProps.children,r),n.child;case 10:t:{if(i=n.type._context,o=n.pendingProps,s=n.memoizedProps,Ce(n,a=o.value),null!==s){var l=s.value;if(0===(a=_e(l,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===o.children&&!Ft.current){n=Er(t,n,r);break t}}else for(null!==(l=n.child)&&(l.return=n);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var f=c.firstContext;null!==f;){if(f.context===i&&0!==(f.observedBits&a)){1===l.tag&&((f=Ne(r,null)).tag=2,Fe(l,f)),l.expirationTime<r&&(l.expirationTime=r),null!==(f=l.alternate)&&f.expirationTime<r&&(f.expirationTime=r),Me(l.return,r),c.expirationTime<r&&(c.expirationTime=r);break}f=f.next}}else s=10===l.tag&&l.type===n.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===n){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}ar(t,n,o.children,r),n=n.child}return n;case 9:return o=n.type,i=(a=n.pendingProps).children,Ie(n,r),i=i(o=ke(o,a.unstable_observedBits)),n.effectTag|=1,ar(t,n,i,r),n.child;case 14:return a=we(o=n.type,n.pendingProps),ur(t,n,o,a=we(o.type,a),i,r);case 15:return lr(t,n,n.type,n.pendingProps,i,r);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:we(i,o),null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,zt(i)?(t=!0,Wt(n)):t=!1,Ie(n,r),Ye(n,i,o),qe(n,i,o,r),hr(null,n,i,!0,t,r);case 19:return Sr(t,n,r)}throw Error(u(156,n.tag))};var oo={current:!1},ao=null,so=null;function uo(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function lo(t,e,n,r){return new uo(t,e,n,r)}function co(t){return!(!(t=t.prototype)||!t.isReactComponent)}function fo(t,e){var n=t.alternate;return null===n?((n=lo(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function po(t,n,r,i,o,a){var s=2;if(i=t,"function"===typeof t)co(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case h:return ho(r.children,o,a,n);case m:s=8,o|=7;break;case d:s=8,o|=1;break;case g:return(t=lo(12,r,n,8|o)).elementType=g,t.type=g,t.expirationTime=a,t;case b:return(t=lo(13,r,n,o)).type=b,t.elementType=b,t.expirationTime=a,t;case x:return(t=lo(19,r,n,o)).elementType=x,t.expirationTime=a,t;default:if("object"===(0,e.default)(t)&&null!==t)switch(t.$$typeof){case v:s=10;break t;case y:s=9;break t;case _:s=11;break t;case w:s=14;break t;case S:s=16,i=null;break t;case E:s=22;break t}throw Error(u(130,null==t?t:(0,e.default)(t),""))}return(n=lo(s,r,n,o)).elementType=t,n.type=i,n.expirationTime=a,n}function ho(t,e,n,r){return(t=lo(7,t,r,e)).expirationTime=n,t}function go(t,e,n){return(t=lo(6,t,null,e)).expirationTime=n,t}function vo(t,e,n){return(e=lo(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yo(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=Y,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function mo(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function _o(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function bo(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function xo(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}var wo=null;function So(t){var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(u(188));throw Error(u(268,Object.keys(t)))}return null===(t=I(e))?null:t.stateNode}function Eo(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ao(t,e){Eo(t,e),(t=t.alternate)&&Eo(t,e)}var Oo=l.IsSomeRendererActing,To="function"===typeof s.unstable_flushAllWithoutAsserting,Co=s.unstable_flushAllWithoutAsserting||function(){for(var t=!1;$i();)t=!0;return t};function Po(e){try{Co(),function(e){if(null===wo)try{var n=("require"+Math.random()).slice(0,7);wo=(t&&t[n])("timers").setImmediate}catch(r){wo=function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}}wo(e)}((function(){Co()?Po(e):e()}))}catch(n){e(n)}}var Mo=0,Io=!1,ko={__proto__:null,createContainer:function(t,e,n){return t=new yo(t,e,n),e=lo(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t,Le(e),t},updateContainer:function(t,e,n,r){var i=e.current,o=Mi(),a=Ue.suspense;o=Ii(o,i,a);t:if(n){e:{if(C(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var l=n.type;if(zt(l)){n=Gt(n,l,s);break t}}n=s}else n=Dt;return null===e.context?e.context=n:e.pendingContext=n,(e=Ne(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),Fe(i,e),ki(i,o),o},batchedEventUpdates:function(t,e){var n=si;si|=2;try{return t(e)}finally{0===(si=n)&&ve()}},batchedUpdates:ji,unbatchedUpdates:function(t,e){var n=si;si&=-2,si|=8;try{return t(e)}finally{0===(si=n)&&ve()}},deferredUpdates:function(t){return he(97,t)},syncUpdates:function(t,e,n,r){return he(99,t.bind(null,e,n,r))},discreteUpdates:function(t,e,n,r,i){var o=si;si|=4;try{return he(98,t.bind(null,e,n,r,i))}finally{0===(si=o)&&ve()}},flushDiscreteUpdates:function(){0===(49&si)&&(function(){if(null!==Oi){var t=Oi;Oi=null,t.forEach((function(t,e){xo(e,t),Di(e)})),ve()}}(),$i())},flushControlled:function(t){var e=si;si|=1;try{he(99,t)}finally{0===(si=e)&&ve()}},flushSync:Bi,flushPassiveEffects:$i,IsThisRendererActing:oo,getPublicRootInstance:function(t){return(t=t.current).child?5===t.child.tag?k(t.child.stateNode):t.child.stateNode:null},attemptSynchronousHydration:function(t){switch(t.tag){case 3:var e=t.stateNode;e.hydrate&&function(t,e){xo(t,e),Di(t),0===(48&si)&&ve()}(e,e.firstPendingTime);break;case 13:Bi((function(){return ki(t,1073741823)})),e=me(Mi(),150,100),Ao(t,e)}},attemptUserBlockingHydration:function(t){if(13===t.tag){var e=me(Mi(),150,100);ki(t,e),Ao(t,e)}},attemptContinuousHydration:function(t){13===t.tag&&(ki(t,3),Ao(t,3))},attemptHydrationAtCurrentPriority:function(t){if(13===t.tag){var e=Mi();ki(t,e=Ii(e,t,null)),Ao(t,e)}},findHostInstance:So,findHostInstanceWithWarning:function(t){return So(t)},findHostInstanceWithNoPortals:function(t){return null===(t=function(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:20===t.tag?t.stateNode.instance:t.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ao=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},so=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}return!0}(o({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=I(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(t){function n(){Mo--,Oo.current=r,oo.current=i}!1===Io&&(Io=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Mo++;var r=Oo.current,i=oo.current;Oo.current=!0,oo.current=!0;try{var o=ji(t)}catch(a){throw n(),a}if(null!==o&&"object"===(0,e.default)(o)&&"function"===typeof o.then)return{then:function(t,e){o.then((function(){1<Mo||!0===To&&!0===r?(n(),t()):Po((function(r){n(),r?e(r):t()}))}),(function(t){n(),e(t)}))}};try{1!==Mo||!1!==To&&!1!==r||Co(),n()}catch(a){throw n(),a}return{then:function(t){t()}}}},Ro=ko&&ko.default||ko;t.exports=Ro.default||Ro;var Lo=t.exports;return t.exports=r,Lo}}).call(this,n(495)(t))},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){"use strict";t.exports=n(1059)},function(t,e,n){"use strict";var r,i,o,a,s,u=n(2)(n(6));if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}},p=Date.now();e.unstable_now=function(){return Date.now()-p},r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(f,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,g=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===(0,u.default)(h)&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var _=!1,b=null,x=-1,w=5,S=0;a=function(){return e.unstable_now()>=S},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,A=E.port2;E.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();S=t+w;try{b(!0,t)?A.postMessage(null):(_=!1,b=null)}catch(n){throw A.postMessage(null),n}}else _=!1},r=function(t){b=t,_||(_=!0,A.postMessage(null))},i=function(t,n){x=g((function(){t(e.unstable_now())}),n)},o=function(){v(x),x=-1}}function O(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<P(i,e)))break t;t[r]=e,t[n]=i,n=r}}function T(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>P(a,n))void 0!==u&&0>P(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>P(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var M=[],I=[],k=1,R=null,L=3,D=!1,N=!1,F=!1;function j(t){for(var e=T(I);null!==e;){if(null===e.callback)C(I);else{if(!(e.startTime<=t))break;C(I),e.sortIndex=e.expirationTime,O(M,e)}e=T(I)}}function B(t){if(F=!1,j(t),!N)if(null!==T(M))N=!0,r(z);else{var e=T(I);null!==e&&i(B,e.startTime-t)}}function z(t,n){N=!1,F&&(F=!1,o()),D=!0;var r=L;try{for(j(n),R=T(M);null!==R&&(!(R.expirationTime>n)||t&&!a());){var s=R.callback;if(null!==s){R.callback=null,L=R.priorityLevel;var u=s(R.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?R.callback=u:R===T(M)&&C(M),j(n)}else C(M);R=T(M)}if(null!==R)var l=!0;else{var c=T(I);null!==c&&i(B,c.startTime-n),l=!1}return l}finally{R=null,L=r,D=!1}}function U(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||D||(N=!0,r(z))},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return T(M)},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===(0,u.default)(a)&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:U(t)}else a=U(t),l=s;return t={id:k++,callback:n,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,O(I,t),null===T(M)&&t===T(I)&&(F?o():F=!0,i(B,l-s))):(t.sortIndex=a,O(M,t),N||D||(N=!0,r(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();j(t);var n=T(M);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<R.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}}},function(t,e,n){"use strict";t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var r=n(497);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserver=void 0;var r=n(1067),i=n(193),o=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");r.ResizeObserverController.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!(0,i.isElement)(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");r.ResizeObserverController.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!(0,i.isElement)(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");r.ResizeObserverController.unobserve(this,t)},t.prototype.disconnect=function(){r.ResizeObserverController.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();e.ResizeObserver=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverController=void 0;var r=n(1068),i=n(1078),o=n(1079),a=n(153),s=new WeakMap,u=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},l=function(){function t(){}return t.connect=function(t,e){var n=new o.ResizeObserverDetail(t,e);s.set(t,n)},t.observe=function(t,e,n){var o=s.get(t),l=0===o.observationTargets.length;u(o.observationTargets,e)<0&&(l&&a.resizeObservers.push(o),o.observationTargets.push(new i.ResizeObservation(e,n&&n.box)),(0,r.updateCount)(1),r.scheduler.schedule())},t.unobserve=function(t,e){var n=s.get(t),i=u(n.observationTargets,e),o=1===n.observationTargets.length;i>=0&&(o&&a.resizeObservers.splice(a.resizeObservers.indexOf(n),1),n.observationTargets.splice(i,1),(0,r.updateCount)(-1))},t.disconnect=function(t){var e=this,n=s.get(t);n.observationTargets.slice().forEach((function(n){return e.unobserve(t,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},t}();e.ResizeObserverController=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateCount=e.scheduler=void 0;var r=n(1069),i=n(501),o=n(1076),a=0,s={attributes:!0,characterData:!0,childList:!0,subtree:!0},u=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],l=function(t){return void 0===t&&(t=0),Date.now()+t},c=!1,f=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!c){c=!0;var n=l(t);(0,o.queueResizeObserver)((function(){var i=!1;try{i=(0,r.process)()}finally{if(c=!1,t=n-l(),!a)return;i?e.run(1e3):t>0?e.run(t):e.start()}}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,s)};document.body?e():i.global.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),u.forEach((function(e){return i.global.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),u.forEach((function(e){return i.global.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}());e.scheduler=f,e.updateCount=function(t){!a&&t>0&&f.start(),!(a+=t)&&f.stop()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.process=void 0;var r=n(1070),i=n(1071),o=n(1072),a=n(1073),s=n(1075);e.process=function(){var t=0;for((0,s.gatherActiveObservationsAtDepth)(t);(0,r.hasActiveObservations)();)t=(0,a.broadcastActiveObservations)(),(0,s.gatherActiveObservationsAtDepth)(t);return(0,i.hasSkippedObservations)()&&(0,o.deliverResizeLoopError)(),t>0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasActiveObservations=void 0;var r=n(153);e.hasActiveObservations=function(){return r.resizeObservers.some((function(t){return t.activeTargets.length>0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasSkippedObservations=void 0;var r=n(153);e.hasSkippedObservations=function(){return r.resizeObservers.some((function(t){return t.skippedTargets.length>0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deliverResizeLoopError=void 0;var r="ResizeObserver loop completed with undelivered notifications.";e.deliverResizeLoopError=function(){var t;"function"===typeof ErrorEvent?t=new ErrorEvent("error",{message:r}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=r),window.dispatchEvent(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.broadcastActiveObservations=void 0;var r=n(153),i=n(498),o=n(502),a=n(292);e.broadcastActiveObservations=function(){var t=1/0,e=[];r.resizeObservers.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(e){var n=new i.ResizeObserverEntry(e.target),s=(0,o.calculateDepthForNode)(e.target);r.push(n),e.lastReportedSize=(0,a.calculateBoxSize)(e.target,e.observedBox),s<t&&(t=s)})),e.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,s=e;n<s.length;n++)(0,s[n])();return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMRectReadOnly=void 0;var r=n(192),i=function(){function t(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,(0,r.freeze)(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}();e.DOMRectReadOnly=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gatherActiveObservationsAtDepth=void 0;var r=n(153),i=n(502);e.gatherActiveObservationsAtDepth=function(t){r.resizeObservers.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(n){n.isActive()&&((0,i.calculateDepthForNode)(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.queueResizeObserver=void 0;var r=n(1077);e.queueResizeObserver=function(t){(0,r.queueMicroTask)((function(){requestAnimationFrame(t)}))}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.queueMicroTask=void 0;var i=[];e.queueMicroTask=function(t){if(!r){var e=0,n=document.createTextNode("");new MutationObserver((function(){return i.splice(0).forEach((function(t){return t()}))})).observe(n,{characterData:!0}),r=function(){n.textContent=""+(e?e--:e++)}}i.push(t),r()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObservation=void 0;var r=n(499),i=n(292),o=n(193),a=function(){function t(t,e){this.target=t,this.observedBox=e||r.ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=(0,i.calculateBoxSize)(this.target,this.observedBox,!0);return t=this.target,(0,o.isSVG)(t)||(0,o.isReplacedElement)(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}();e.ResizeObservation=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverDetail=void 0;var r=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e};e.ResizeObserverDetail=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(503),i=n(119);e.default=function(t){if(!r.default(t)||!i.default(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119);e.default=function(t){return r.default(t,"Number")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flow=void 0,e.flow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=void 0;var r=n(0);e.template=function(t,e){return e?r.reduce(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContainerSize=void 0,e.getContainerSize=function(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAllGeometriesRecursively=e.getAllElementsRecursively=e.getAllElements=e.findGeometry=void 0;var r=n(0);function i(t){return r.reduce(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}e.findGeometry=function(t,e){return t.geometries.find((function(t){return t.type===e}))},e.getAllElements=i,e.getAllElementsRecursively=function t(e){return r.get(e,["views","length"],0)<=0?i(e):r.reduce(e.views,(function(e,n){return e.concat(t(n))}),i(e))},e.getAllGeometriesRecursively=function(t){return r.get(t,["views","length"],0)<=0?t.geometries:r.reduce(t.views,(function(t,e){return t.concat(e.geometries)}),t.geometries)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformLabel=void 0;var r=n(1),i=n(0);e.transformLabel=function(t){if(!i.isType(t,"Object"))return t;var e=r.__assign({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSplinePath=e.catmullRom2bezier=e.smoothBezier=e.points2Path=void 0;var r=n(32);function i(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}function o(t,n,r){for(var i=!!n,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var u,l,c,f=e.smoothBezier(o,.4,i,r),p=o.length,h=[];for(a=0;a<p-1;a++)u=f[2*a],l=f[2*a+1],c=o[a+1],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return i&&(u=f[p],l=f[p+1],c=o[0],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),h}e.points2Path=i,e.smoothBezier=function(t,e,n,i){var o,a,s,u,l=[],c=!!i;if(c){s=[1/0,1/0],u=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++){var h=t[f];s=r.vec2.min([0,0],s,h),u=r.vec2.max([0,0],u,h)}s=r.vec2.min([0,0],s,i[0]),u=r.vec2.max([0,0],u,i[1])}f=0;for(var d=t.length;f<d;f++){if(h=t[f],n)o=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){l.push(h);continue}o=t[f-1],a=t[f+1]}var g=[0,0];g=r.vec2.sub(g,a,o),g=r.vec2.scale(g,g,e);var v=r.vec2.distance(h,o),y=r.vec2.distance(h,a),m=v+y;0!==m&&(v/=m,y/=m);var _=r.vec2.scale([0,0],g,-v),b=r.vec2.scale([0,0],g,y),x=r.vec2.add([0,0],h,_),w=r.vec2.add([0,0],h,b);c&&(x=r.vec2.max([0,0],x,s),x=r.vec2.min([0,0],x,u),w=r.vec2.max([0,0],w,s),w=r.vec2.min([0,0],w,u)),l.push(x),l.push(w)}return n&&l.push(l.shift()),l},e.catmullRom2bezier=o,e.getSplinePath=function(t,e,n){var r=[],a=t[0],s=null;if(t.length<=2)return i(t,e);for(var u=0,l=t.length;u<l;u++){var c=t[u];s&&s.x===c.x&&s.y===c.y||(r.push(c.x),r.push(c.y),s=c)}var f=o(r,e,n||[[0,0],[1,1]]);return f.unshift(["M",a.x,a.y]),f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.kebabCase=void 0,e.kebabCase=function(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.measureTextWidth=void 0;var r=n(1),i=n(0),o=n(1091);e.measureTextWidth=i.memoize((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,a=void 0===r?"sans-serif":r,s=e.fontWeight,u=e.fontStyle,l=e.fontVariant,c=o.getCanvasContext();return c.font=[u,s,l,n+"px",a].join(" "),c.measureText(i.isString(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),r.__spreadArrays([t],i.values(e)).join("")}))},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasContext=void 0,e.getCanvasContext=function(){return r||(r=document.createElement("canvas").getContext("2d")),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=void 0;var r,i=(r=n(1093))&&r.__esModule?r:{default:r},o=n(1094),a=n(522),s={};e.getSensor=function(t){var e=t.getAttribute(a.SizeSensorId);if(e&&s[e])return s[e];var n=(0,i.default)();t.setAttribute(a.SizeSensorId,n);var r=(0,o.createSensor)(t);return s[n]=r,r},e.removeSensor=function(t){var e=t.element.getAttribute(a.SizeSensorId);t.element.removeAttribute(a.SizeSensorId),t.destroy(),e&&s[e]&&delete s[e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=1;e.default=function(){return"".concat(r++)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r=n(1095),i=n(1096),o="undefined"!==typeof ResizeObserver?i.createSensor:r.createSensor;e.createSensor=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(521))&&r.__esModule?r:{default:r},o=n(522);e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),a=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",r),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(i){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",r),r()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",o.SensorClassName),e.setAttribute("tabindex",o.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(i)&&n.push(i)},destroy:a,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&a()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(521))&&r.__esModule?r:{default:r};e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),o=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(i){e||(e=function(){var e=new ResizeObserver(r);return e.observe(t),r(),e}()),-1===n.indexOf(i)&&n.push(i)},destroy:o,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&o()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasPattern=void 0;var r=n(1098),i=n(1099),o=n(1100);e.getCanvasPattern=function(t){var e,n=t.type,a=t.cfg;switch(n){case"dot":e=r.createDotPattern(a);break;case"line":e=i.createLinePattern(a);break;case"square":e=o.createSquarePattern(a)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDotPattern=e.drawDot=e.defaultDotPatternCfg=void 0;var r=n(14),i=n(297);function o(t,e,n,r){var i=e.size,o=e.fill,a=e.lineWidth,s=e.stroke,u=e.fillOpacity;t.beginPath(),t.globalAlpha=u,t.fillStyle=o,t.strokeStyle=s,t.lineWidth=a,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}e.defaultDotPatternCfg={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0},e.drawDot=o,e.createDotPattern=function(t){var n=r.deepAssign({},e.defaultDotPatternCfg,t),a=n.size,s=n.padding,u=n.isStagger,l=n.rotation,c=i.getUnitPatternSize(a,s,u),f=i.getSymbolsPosition(c,u),p=i.initCanvas(c,c),h=p.getContext("2d");i.drawBackground(h,n,c);for(var d=0,g=f;d<g.length;d++){var v=g[d];o(h,n,v[0],v[1])}var y=h.createPattern(p,"repeat");if(y){var m=i.getPixelRatio(),_=i.transformMatrix(m,l);y.setTransform(_)}return y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLinePattern=e.drawLine=e.defaultLinePatternCfg=void 0;var r=n(14),i=n(297);function o(t,e,n){var r=e.stroke,i=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(a)}e.defaultLinePatternCfg={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2},e.drawLine=o,e.createLinePattern=function(t){var n=r.deepAssign({},e.defaultLinePatternCfg,t),a=n.spacing,s=n.rotation,u=n.lineWidth,l=a+u||1,c=a+u||1,f="\n            M 0 0 L "+l+" 0\n            M 0 "+c+" L "+l+" "+c+"\n            ",p=i.initCanvas(l,c),h=p.getContext("2d");i.drawBackground(h,n,l,c),o(h,n,f);var d=h.createPattern(p,"repeat");if(d){var g=i.getPixelRatio(),v=i.transformMatrix(g,s);d.setTransform(v)}return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSquarePattern=e.drawSquare=e.defaultSquarePatternCfg=void 0;var r=n(14),i=n(297);function o(t,e,n,r){var i=e.stroke,o=e.size,a=e.fill,s=e.lineWidth,u=e.fillOpacity;t.globalAlpha=u,t.strokeStyle=i,t.lineWidth=s,t.fillStyle=a,t.strokeRect(n-o/2,r-o/2,o,o),t.fillRect(n-o/2,r-o/2,o,o)}e.defaultSquarePatternCfg={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0},e.drawSquare=o,e.createSquarePattern=function(t){var n=r.deepAssign({},e.defaultSquarePatternCfg,t),a=n.size,s=n.padding,u=n.isStagger,l=n.rotation,c=i.getUnitPatternSize(a,s,u),f=i.getSymbolsPosition(c,u),p=i.initCanvas(c,c),h=p.getContext("2d");i.drawBackground(h,n,c);for(var d=0,g=f;d<g.length;d++){var v=g[d];o(h,n,v[0],v[1])}var y=h.createPattern(p,"repeat");if(y){var m=i.getPixelRatio(),_=i.transformMatrix(m,l);y.setTransform(_)}return y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.area=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.area=function(t){var e=t.options,n=e.area,s=e.xField,u=e.yField,l=e.seriesField,c=e.smooth,f=e.tooltip,p=i.getTooltipMapping(f,[s,u,l]),h=p.fields,d=p.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"area",colorField:l,tooltipFields:h,mapping:r.__assign({shape:c?"smooth":"area",tooltip:d},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.line=void 0;var r=n(0),i=n(64),o=n(14),a=n(59);e.line=function(t){var e=t.options,n=e.line,s=e.stepType,u=e.xField,l=e.yField,c=e.seriesField,f=e.smooth,p=e.connectNulls,h=e.tooltip,d=i.getTooltipMapping(h,[u,l,c]),g=d.fields,v=d.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"line",colorField:c,tooltipFields:g,mapping:r.deepMix({shape:s||(f?"smooth":"line"),tooltip:v},n),args:{connectNulls:p}}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.point=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.point=function(t){var e=t.options,n=e.point,s=e.xField,u=e.yField,l=e.seriesField,c=e.sizeField,f=e.shapeField,p=e.tooltip,h=i.getTooltipMapping(p,[s,u,l,c,f]),d=h.fields,g=h.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"point",colorField:l,shapeField:f,tooltipFields:d,mapping:r.__assign({tooltip:g},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var r=n(1),i=n(13),o=n(0),a=n(14),s=n(64),u=n(59);e.interval=function(t){var e=t.options,n=e.xField,l=e.yField,c=e.interval,f=e.seriesField,p=e.tooltip,h=e.minColumnWidth,d=e.maxColumnWidth,g=e.columnBackground,v=e.dodgePadding,y=e.intervalPadding,m=s.getTooltipMapping(p,[n,l,f]),_=m.fields,b=m.formatter,x=(c?u.geometry(a.deepAssign({},t,{options:{type:"interval",colorField:f,tooltipFields:_,mapping:r.__assign({tooltip:b},c),args:{dodgePadding:v,intervalPadding:y,minColumnWidth:h,maxColumnWidth:d,background:g}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,s=n.seriesField,u=n.isGroup,l=n.isStack,c=n.marginRatio,f=n.widthRatio,p=n.groupField,h=n.theme,d=[];return s&&(u&&d.push({type:"dodge",dodgeBy:p||s,marginRatio:c}),l&&d.push({type:"stack",marginRatio:c})),d.length&&(null===r||void 0===r?void 0:r.geometry)&&(null===r||void 0===r?void 0:r.geometry).adjust(d),o.isNil(f)||e.theme(a.deepAssign({},o.isObject(h)?h:i.getTheme(h),{columnWidthRatio:f})),t}(r.__assign(r.__assign({},t),{ext:x}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.edge=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.edge=function(t){var e=t.options,n=e.edge,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=i.getTooltipMapping(c,[s,u,l]),p=f.fields,h=f.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"edge",colorField:l,tooltipFields:p,mapping:r.__assign({tooltip:h},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schema=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.schema=function(t){var e=t.options,n=e.schema,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=i.getTooltipMapping(c,[s,u,l]),p=f.fields,h=f.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"schema",colorField:l,tooltipFields:p,mapping:r.__assign({tooltip:h},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.violin=void 0;var r=n(1),i=n(64),o=n(14),a=n(59);e.violin=function(t){var e=t.options,n=e.violin,s=e.xField,u=e.yField,l=e.seriesField,c=e.sizeField,f=e.tooltip,p=i.getTooltipMapping(f,[s,u,l,c]),h=p.fields,d=p.formatter;return n?a.geometry(o.deepAssign({},t,{options:{type:"violin",colorField:l,tooltipFields:h,mapping:r.__assign({tooltip:d},n)}})):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.statistic=void 0;var r=n(1),i=n(0),o=n(14),a=n(35),s=n(523);function u(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function l(t,e){var n=t.chart,a=t.options,s=a.innerRadius,u=a.statistic,l=a.percent,c=a.meta;if(n.getController("annotation").clear(!0),s&&u){var f=i.get(c,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},p=u.content;p&&(p=o.deepAssign({},p,{content:i.isNil(p.content)?f(l):p.content})),o.renderStatistic(n,{statistic:r.__assign(r.__assign({},u),{content:p}),plotType:"ring-progress"},{percent:l})}return e&&n.render(!0),t}e.statistic=l,e.adaptor=function(t){return o.flow(s.geometry,a.scale({}),u,l,a.animation,a.theme,a.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(35),i=n(14),o=n(43),a=n(155),s=n(120),u=n(299);function l(t){var e=t.chart,n=t.options,r=n.data,u=n.color,l=n.columnStyle,c=n.columnWidthRatio,f=s.getTinyData(r);e.data(f);var p=i.deepAssign({},t,{options:{xField:a.X_FIELD,yField:a.Y_FIELD,widthRatio:c,interval:{style:l,color:u}}});return o.interval(p),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return u.meta}}),e.adaptor=function(t){return i.flow(r.theme,r.pattern("columnStyle"),l,u.meta,r.tooltip,r.animation,r.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.DEFAULT_TOOLTIP_OPTIONS=void 0;var r=n(1),i=n(0);e.DEFAULT_TOOLTIP_OPTIONS={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+i.get(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},e.DEFAULT_OPTIONS={appendPadding:2,tooltip:r.__assign({},e.DEFAULT_TOOLTIP_OPTIONS),animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(1),i=n(155);e.DEFAULT_OPTIONS={appendPadding:2,tooltip:r.__assign({},i.DEFAULT_TOOLTIP_OPTIONS),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(14),i=n(35),o=n(43),a=n(299);Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return a.meta}});var s=n(120),u=n(155);function l(t){var e=t.chart,n=t.options,i=n.data,a=n.color,l=n.lineStyle,c=n.point,f=null===c||void 0===c?void 0:c.state,p=s.getTinyData(i);e.data(p);var h=r.deepAssign({},t,{options:{xField:u.X_FIELD,yField:u.Y_FIELD,line:{color:a,style:l},point:c}}),d=r.deepAssign({},h,{options:{tooltip:!1,state:f}});return o.line(h),o.point(d),e.axis(!1),e.legend(!1),t}e.adaptor=function(t){return r.flow(l,a.meta,i.theme,i.tooltip,i.animation,i.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=n(1116);r.registerAction("marker-active",i.MarkerActiveAction),r.registerInteraction("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerActiveAction=void 0;var r=n(1),i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));i.each(r,(function(t){i.each(t.elements,(function(t){var e=-1!==i.findIndex(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));i.each(t,(function(t){i.each(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(n(13).InteractionAction);e.MarkerActiveAction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.interaction=void 0;var r=n(1),i=n(0),o=n(525),a=n(35),s=n(154),u=n(14),l=n(296),c=n(528);function f(t){var e=t.options.colorField;return u.deepAssign({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function p(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,a=n.rectStyle,s=n.hierarchyConfig,l=n.rawFields,f=c.transformData({data:n.data,colorField:n.colorField,enableDrillDown:c.enableDrillInteraction(n),hierarchyConfig:s});return e.data(f),o.polygon(u.deepAssign({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:l,polygon:{color:r,style:a}}})),e.coordinate().reflect("y"),t}function h(t){return t.chart.axis(!1),t}function d(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return c.enableDrillInteraction(t)?u.deepAssign({},t,{interactions:r.__spreadArrays(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:c.transformData}}])}):t}function g(t){var e=t.chart,n=t.options,r=n.interactions,o=n.drilldown;a.interaction({chart:e,options:d(n)});var s=c.findInteraction(r,"view-zoom");return s&&(!1!==s.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),c.enableDrillInteraction(n)&&(e.appendPadding=l.getAdjustAppendPadding(e.appendPadding,i.get(o,["breadCrumb","position"]))),t}e.interaction=g,e.adaptor=function(t){return u.flow(f,a.theme,s.pattern("rectStyle"),p,h,a.legend,a.tooltip,g,a.animation,a.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treemap=e.getTileMethod=void 0;var r=n(1).__importStar(n(194)),i=n(0),o=n(1143),a={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function s(t,e){return"treemapSquarify"===t?r[t].ratio(e):r[t]}e.getTileMethod=s,e.treemap=function(t,e){var n,u=(e=i.assign({},a,e)).as;if(!i.isArray(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=o.getField(e)}catch(h){console.warn(h)}var l=s(e.tile,e.ratio),c=function(t){return r.treemap().tile(l).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(r.hierarchy(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),f=u[0],p=u[1];return c.each((function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===u.indexOf(e)&&delete t[e]}))})),o.getAllNodes(c)}},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function o(t,e){return Math.max(t,e.y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=r,e=1,n=1,a=!1;function s(r){var s,u=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(i,0)/t.length}(n),e.y=function(t){return 1+t.reduce(o,0)}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(r),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),f=l.x-t(l,c)/2,p=c.x+t(c,l)/2;return r.eachAfter(a?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-f)/(p-f)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(a=!1,e=+t[0],n=+t[1],s):a?null:[e,n]},s.nodeSize=function(t){return arguments.length?(a=!0,e=+t[0],n=+t[1],s):a?[e,n]:null},s}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return this.eachAfter(r)}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=-1,o=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this);try{for(o.s();!(n=o.n()).done;){var a=n.value;t.call(e,a,++i,this)}}catch(s){o.e(s)}finally{o.f()}return this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n,r,i,o=this,a=[o],s=[],u=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++u,this);return this}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i=-1,o=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(t.call(e,a,++i,this))return a}}catch(s){o.e(s)}finally{o.f()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return Array.from(this)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=r(n(1133)),o=i.default.mark(a);function a(){var t,e,n,r,a,s;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){i.next=8;break}return i.next=5,t;case 5:if(r=t.children)for(a=0,s=r.length;a<s;++a)n.push(r[a]);i.next=2;break;case 8:if(n.length){i.next=1;break}case 9:case"end":return i.stop()}}),o,this)}},function(t,e,n){"use strict";t.exports=n(1134)},function(t,e,n){"use strict";(function(t){var e=n(2)(n(6)),r=function(t){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(k){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=p;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?g:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=c;var p="suspendedStart",h="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function _(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(M([])));w&&w!==r&&i.call(w,a)&&(b=w);var S=_.prototype=y.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,n){function r(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"===(0,e.default)(p)&&i.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):n.resolve(p).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,u)}))}u(l.arg)}var o;this._invoke=function(t,e){function i(){return new n((function(n,i){r(t,e,n,i)}))}return o=o?o.then(i,i):i()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}return m.prototype=_,l(S,"constructor",_),l(_,"constructor",m),m.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},E(A.prototype),l(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),l(S,u,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}},t}("object"===(0,e.default)(t)?t.exports:{});try{regeneratorRuntime=r}catch(i){"object"===("undefined"===typeof globalThis?"undefined":(0,e.default)(globalThis))?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}).call(this,n(495)(t))},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=null,e=1,n=1,r=a.constantZero;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(l(t)).eachAfter(c(r,.5)).eachBefore(f(1)):i.eachBefore(l(u)).eachAfter(c(a.constantZero,1)).eachAfter(c(r,i.r/Math.min(e,n))).eachBefore(f(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=(0,o.optional)(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:(0,a.default)(+t),i):r},i};var i=n(530),o=n(301),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(533));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function u(t){return Math.sqrt(t.value)}function l(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function c(t,e){return function(n){if(r=n.children){var r,o,a,s=r.length,u=t(n)*e||0;if(u)for(o=0;o<s;++o)r[o].r+=u;if(a=(0,i.packEnclose)(r),u)for(o=0;o<s;++o)r[o].r-=u;n.r=a+u}}}function f(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=1,e=1,n=0,r=!1;function a(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(function(t,e){return function(r){r.children&&(0,o.default)(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,s=r.x1-n,u=r.y1-n;s<i&&(i=s=(i+s)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=u}}(e,s)),r&&a.eachBefore(i.default),a}return a.round=function(t){return arguments.length?(r=!!t,a):r},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a};var i=r(n(534)),o=r(n(156))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=s,e=u;function n(n){var r,s,u,l,c,f,p,h=Array.from(n),d=h.length,g=new Map;for(s=0;s<d;++s)r=h[s],c=h[s]=new i.Node(r),null!=(f=t(r,s,n))&&(f+="")&&(p=c.id=f,g.set(p,g.has(p)?a:c)),null!=(f=e(r,s,n))&&(f+="")&&(c.parent=f);for(s=0;s<d;++s)if(f=(c=h[s]).parent){if(!(l=g.get(f)))throw new Error("missing: "+f);if(l===a)throw new Error("ambiguous: "+f);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(u)throw new Error("multiple roots");u=c}if(!u)throw new Error("no root");if(u.parent=o,u.eachBefore((function(t){t.depth=t.parent.depth+1,--d})).eachBefore(i.computeHeight),u.parent=null,d>0)throw new Error("cycle");return u}return n.id=function(e){return arguments.length?(t=(0,r.required)(e),n):t},n.parentId=function(t){return arguments.length?(e=(0,r.required)(t),n):e},n};var r=n(301),i=n(300),o={depth:-1},a={};function s(t){return t.id}function u(t){return t.parentId}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=i,e=1,n=1,r=null;function c(i){var o=function(t){for(var e,n,r,i,o,a=new l(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new l(r[i],i)),n.parent=e;return(a.parent=new l(null,0)).children=[a],a}(i);if(o.eachAfter(f),o.parent.m=-o.z,o.eachBefore(p),r)i.eachBefore(h);else{var a=i,s=i,u=i;i.eachBefore((function(t){t.x<a.x&&(a=t),t.x>s.x&&(s=t),t.depth>u.depth&&(u=t)}));var c=a===s?1:t(a,s)/2,d=c-a.x,g=e/(s.x+c+d),v=n/(u.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*g,t.y=t.depth*v}))}return i}function f(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var l=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-l):e.z=l}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,l=e,c=e,f=n,p=l.parent.children[0],h=l.m,d=c.m,g=f.m,v=p.m;f=a(f),l=o(l),f&&l;)p=o(p),(c=a(c)).a=e,(i=f.z+g-l.z-h+t(f._,l._))>0&&(s(u(f,e,r),e,i),h+=i,d+=i),g+=f.m,h+=l.m,v+=p.m,d+=c.m;f&&!a(c)&&(c.t=f,c.m+=g-d),l&&!o(p)&&(p.t=l,p.m+=h-v,r=e)}return r}(e,i,e.parent.A||r[0])}function p(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function h(t){t.x*=e,t.y=t.depth*n}return c.separation=function(e){return arguments.length?(t=e,c):t},c.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],c):r?null:[e,n]},c.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],c):r?[e,n]:null},c};var r=n(300);function i(t,e){return t.parent===e.parent?1:2}function o(t){var e=t.children;return e?e[0]:t.t}function a(t){var e=t.children;return e?e[e.length-1]:t.t}function s(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function u(t,e,n){return t.a.parent===e.parent?t.a:n}function l(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}l.prototype=Object.create(r.Node.prototype)},function(t,e,n){"use strict";var r=n(2),i=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=a.default,e=!1,n=1,r=1,i=[0],l=u.constantZero,c=u.constantZero,f=u.constantZero,p=u.constantZero,h=u.constantZero;function d(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(g),i=[0],e&&t.eachBefore(o.default),t}function g(e){var n=i[e.depth],r=e.x0+n,o=e.y0+n,a=e.x1-n,s=e.y1-n;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),e.x0=r,e.y0=o,e.x1=a,e.y1=s,e.children&&(n=i[e.depth+1]=l(e)/2,r+=h(e)-n,o+=c(e)-n,(a-=f(e)-n)<r&&(r=a=(r+a)/2),(s-=p(e)-n)<o&&(o=s=(o+s)/2),t(e,r,o,a,s))}return d.round=function(t){return arguments.length?(e=!!t,d):e},d.size=function(t){return arguments.length?(n=+t[0],r=+t[1],d):[n,r]},d.tile=function(e){return arguments.length?(t=(0,s.required)(e),d):t},d.padding=function(t){return arguments.length?d.paddingInner(t).paddingOuter(t):d.paddingInner()},d.paddingInner=function(t){return arguments.length?(l="function"===typeof t?t:(0,u.default)(+t),d):l},d.paddingOuter=function(t){return arguments.length?d.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):d.paddingTop()},d.paddingTop=function(t){return arguments.length?(c="function"===typeof t?t:(0,u.default)(+t),d):c},d.paddingRight=function(t){return arguments.length?(f="function"===typeof t?t:(0,u.default)(+t),d):f},d.paddingBottom=function(t){return arguments.length?(p="function"===typeof t?t:(0,u.default)(+t),d):p},d.paddingLeft=function(t){return arguments.length?(h="function"===typeof t?t:(0,u.default)(+t),d):h},d};var o=r(n(534)),a=r(n(302)),s=n(301),u=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(n(533));function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}for(var f=l[e],p=r/2+f,h=e+1,d=n-1;h<d;){var g=h+d>>>1;l[g]<p?h=g+1:d=g}p-l[h-1]<l[h]-p&&e+1<h&&--h;var v=l[h]-f,y=r-v;if(a-i>u-o){var m=r?(i*y+a*v)/r:a;t(e,h,v,i,o,m,u),t(h,n,y,m,o,a,u)}else{var _=r?(o*y+u*v)/r:u;t(e,h,v,i,o,a,_),t(h,n,y,i,_,a,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,a){(1&t.depth?o.default:i.default)(t,e,n,r,a)};var i=r(n(156)),o=r(n(195))},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(156)),o=r(n(195)),a=n(302),s=function t(e){function n(t,n,r,s,u){if((l=t._squarify)&&l.ratio===e)for(var l,c,f,p,h,d=-1,g=l.length,v=t.value;++d<g;){for(f=(c=l[d]).children,p=c.value=0,h=f.length;p<h;++p)c.value+=f[p].value;c.dice?(0,i.default)(c,n,r,s,v?r+=(u-r)*c.value/v:u):(0,o.default)(c,n,r,v?n+=(s-n)*c.value/v:s,u),v-=c.value}else t._squarify=l=(0,a.squarifyRatio)(e,t,n,r,s,u),l.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a.phi);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAllNodes=e.getField=e.NODE_ANCESTORS_FIELD=e.CHILD_NODE_COUNT=e.NODE_INDEX_FIELD=void 0;var r=n(0);e.NODE_INDEX_FIELD="nodeIndex",e.CHILD_NODE_COUNT="childNodeCount",e.NODE_ANCESTORS_FIELD="nodeAncestor";var i="Invalid field: it must be a string!";e.getField=function(t,e){var n=t.field,o=t.fields;if(r.isString(n))return n;if(r.isArray(n))return console.warn(i),n[0];if(console.warn(i+" will try to get fields instead."),r.isString(o))return o;if(r.isArray(o)&&o.length)return o[0];if(e)return e;throw new TypeError(i)},e.getAllNodes=function(t){var n,i,o=[];return t&&t.each?t.each((function(t){var a,s;t.parent!==n?(n=t.parent,i=0):i+=1;var u=r.filter(((null===(a=t.ancestors)||void 0===a?void 0:a.call(t))||[]).map((function(t){return o.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t[e.NODE_ANCESTORS_FIELD]=u,t[e.CHILD_NODE_COUNT]=(null===(s=t.children)||void 0===s?void 0:s.length)||0,t[e.NODE_INDEX_FIELD]=i,o.push(t)})):t&&t.eachNode&&t.eachNode((function(t){o.push(t)})),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(535),n(1146)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isParentNode=void 0;var r=n(13),i=n(0),o=n(529);function a(t){var e=i.get(t,["event","data","data"],{});return i.isArray(e.children)&&e.children.length>0}function s(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,o=r.y,a=e.center,s=a.x,u=a.y,l=e.getRadius()*n;return Math.sqrt(Math.pow(s-i,2)+Math.pow(u-o,2))<l}return!1}e.isParentNode=a,r.registerAction("drill-down-action",o.DrillDownAction),r.registerInteraction("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:a},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:s}],start:[{trigger:"element:click",isEnable:a,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:s,action:["drill-down-action:back"]}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=void 0;var r=n(1),i=n(196),o=n(539),a=n(196);Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return a.meta}}),e.adaptor=function(t){var e=t.chart,n=t.options,a=n.xField,s=n.yField,u=n.xAxis,l=n.yAxis,c=n.barStyle,f=n.barWidthRatio,p=n.label,h=n.data,d=n.seriesField,g=n.isStack,v=n.minBarWidth,y=n.maxBarWidth;p&&!p.position&&(p.position="left",p.layout||(p.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var m=n.legend;d?!1!==m&&(m=r.__assign({position:g?"top-left":"right-top",reversed:!g},m||{})):m=!1,t.options.legend=m;var _=n.tooltip;return d&&!1!==_&&(_=r.__assign({reversed:!g},_||{})),t.options.tooltip=_,e.coordinate().transpose(),i.adaptor({chart:e,options:r.__assign(r.__assign({},n),{label:p,xField:s,yField:a,xAxis:l,yAxis:u,columnStyle:c,columnWidthRatio:f,minColumnWidth:v,maxColumnWidth:y,columnBackground:n.barBackground,data:o.transformBarData(h)})},!0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTag=void 0;var r=n(1),i=n(0),o=n(13),a=n(14),s=n(536);function u(t,e){return a.deepAssign({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:s.conversionTagFormatter}},t)}function l(t,e){return i.map(e.getModel().points,(function(e){return t.convertPoint(e)}))}function c(t,e,n){!function(t,e,n){var i=t.view,o=t.geometry,a=t.group,s=t.options,u=t.horizontal,c=s.offset,f=s.size,p=s.arrow,h=i.getCoordinate(),d=l(h,e)[u?3:0],g=l(h,n)[u?0:3],v=g.y-d.y,y=g.x-d.x;if("boolean"!==typeof p){var m,_=p.headSize,b=s.spacing;u?(y-_)/2<b?(b=Math.max(1,(y-_)/2),m=[[d.x+b,d.y-c],[d.x+b,d.y-c-f],[g.x-b,g.y-c-f/2]]):m=[[d.x+b,d.y-c],[d.x+b,d.y-c-f],[g.x-b-_,g.y-c-f],[g.x-b,g.y-c-f/2],[g.x-b-_,g.y-c]]:(v-_)/2<b?(b=Math.max(1,(v-_)/2),m=[[d.x+c,d.y+b],[d.x+c+f,d.y+b],[g.x+c+f/2,g.y-b]]):m=[[d.x+c,d.y+b],[d.x+c+f,d.y+b],[g.x+c+f,g.y-b-_],[g.x+c+f/2,g.y-b],[g.x+c,g.y-b-_]],a.addShape("polygon",{id:i.id+"-conversion-tag-arrow-"+o.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:r.__assign(r.__assign({},p.style||{}),{points:m})})}}(t,e,n),function(t,e,n){var i,o,a,s=t.view,u=t.geometry,c=t.group,f=t.options,p=t.field,h=t.horizontal,d=f.offset,g=f.size;if("boolean"!==typeof f.text){var v=s.getCoordinate(),y=(null===(i=f.text)||void 0===i?void 0:i.formatter)&&(null===(o=f.text)||void 0===o?void 0:o.formatter(e.getData()[p],n.getData()[p])),m=l(v,e)[h?3:0],_=l(v,n)[h?0:3],b=c.addShape("text",{id:s.id+"-conversion-tag-text-"+u.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:r.__assign(r.__assign({},(null===(a=f.text)||void 0===a?void 0:a.style)||{}),{text:y,x:h?(m.x+_.x)/2:m.x+d+g/2,y:h?m.y-d-g/2:(m.y+_.y)/2})});if(h){var x=_.x-m.x,w=b.getBBox().width;if(w>x){var S=w/y.length,E=Math.max(1,Math.ceil(x/S)-1),A=y.slice(0,E)+"...";b.attr("text",A)}}}}(t,e,n)}e.conversionTag=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(r){var s=r.options,l=r.chart,f=s.conversionTag,p=s.theme;return f&&!n&&(l.theme(a.deepAssign({},i.isObject(p)?p:o.getTheme(p),{columnWidthRatio:1/3})),l.annotation().shape({render:function(n,r){var o=n.addGroup({id:l.id+"-conversion-tag-group",name:"conversion-tag-group"}),a=i.find(l.geometries,(function(t){return"interval"===t.type})),s={view:r,geometry:a,group:o,field:t,horizontal:e,options:u(f,e)},p=e?a.elements:a.elements.slice().reverse();i.each(p,(function(t,e){e>0&&c(s,p[e-1],t)}))}})),r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connectedArea=void 0;var r=n(13),i={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},o=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};r.registerInteraction(i.hover,{start:o(i.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),r.registerInteraction(i.click,{start:o(i.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]}),e.connectedArea=function(t){return void 0===t&&(t=!1),function(e){var n=e.chart,r=e.options.connectedArea,a=function(){n.removeInteraction(i.hover),n.removeInteraction(i.click)};if(!t&&r){var s=r.trigger||"hover";a(),n.interaction(i[s],{start:o(s,r.style)})}else a();return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonAction=e.BUTTON_ACTION_CONFIG=void 0;var r=n(1),i=n(13),o=n(0),a=n(14);e.BUTTON_ACTION_CONFIG={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}};var s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.buttonGroup=null,n.buttonCfg=r.__assign({name:"button"},e.BUTTON_ACTION_CONFIG),n}return r.__extends(n,t),n.prototype.getButtonCfg=function(){var t=this.context.view,e=o.get(t,["interactions","filter-action","cfg","buttonConfig"]);return a.deepAssign(this.buttonCfg,e,this.cfg)},n.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},n.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:r.__assign({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},n.prototype.drawBackground=function(t,e){var n,i=this.getButtonCfg(),o=a.normalPadding(i.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:r.__assign({x:e.x-o[3],y:e.y-o[0],width:e.width+o[1]+o[3],height:e.height+o[0]+o[2]},null===(n=i.buttonStyle)||void 0===n?void 0:n.default)});return s.toBack(),t.on("mouseenter",(function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.default)})),s},n.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=i.Util.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},n.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},n.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},n.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},n}(i.Action);e.ButtonAction=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(1),i=n(0),o=n(35),a=n(14),s=n(43),u=n(14),l=n(121),c=n(527);function f(t){var e=t.chart,n=t.options,i=n.data,o=n.areaStyle,a=n.color,c=n.point,f=n.line,p=n.isPercent,h=n.xField,d=n.yField,g=n.tooltip,v=n.seriesField,y=n.startOnZero,m=null===c||void 0===c?void 0:c.state,_=l.getDataWhetherPecentage(i,d,h,d,p);e.data(_);var b=p?r.__assign({formatter:function(t){return{name:t[v]||t[h],value:(100*Number(t[d])).toFixed(2)+"%"}}},g):g,x=u.deepAssign({},t,{options:{area:{color:a,style:o},line:f&&r.__assign({color:a},f),point:c&&r.__assign({color:a},c),tooltip:b,label:void 0,args:{startOnZero:y}}}),w=u.deepAssign({options:{line:{size:2}}},x,{options:{sizeField:v,tooltip:!1}}),S=u.deepAssign({},x,{options:{tooltip:!1,state:m}});return s.area(x),s.line(w),s.point(S),t}function p(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=a.findGeometry(e,"area");if(i){var l=i.callback,c=r.__rest(i,["callback"]);s.label({fields:[o],callback:l,cfg:r.__assign({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},u.transformLabel(c))})}else s.label(!1);return t}function h(t){var e=t.chart,n=t.options,r=n.isStack,o=n.isPercent,a=n.seriesField;return(o||r)&&a&&i.each(e.geometries,(function(t){t.adjust("stack")})),t}Object.defineProperty(e,"meta",{enumerable:!0,get:function(){return c.meta}}),e.adaptor=function(t){return u.flow(o.theme,o.pattern("areaStyle"),f,c.meta,h,c.axis,c.legend,o.tooltip,p,o.slider,o.annotation(),o.interaction,o.animation,o.limitInPlot)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.interaction=e.pieAnnotation=e.transformStatisticOptions=void 0;var r=n(1),i=n(0),o=n(35),a=n(59),s=n(43),u=n(154),l=n(132),c=n(14),f=n(540),p=n(541),h=n(542);function d(t){var e=t.chart,n=t.options,i=n.data,o=n.angleField,a=n.colorField,u=n.color,l=n.pieStyle,f=c.processIllegalData(i,o);if(p.isAllZero(f,o)){var h="$$percentage$$";f=f.map((function(t){var e;return r.__assign(r.__assign({},t),((e={}).$$percentage$$=1/f.length,e))})),e.data(f);var d=c.deepAssign({},t,{options:{xField:"1",yField:h,seriesField:a,isStack:!0,interval:{color:u,style:l},args:{zIndexReversed:!0}}});s.interval(d)}else e.data(f),d=c.deepAssign({},t,{options:{xField:"1",yField:o,seriesField:a,isStack:!0,interval:{color:u,style:l},args:{zIndexReversed:!0}}}),s.interval(d);return t}function g(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.colorField,a=c.deepAssign({},i);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function v(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function y(t){var e=t.chart,n=t.options,o=n.label,a=n.colorField,s=n.angleField,u=e.geometries[0];if(o){var l=o.callback,f=r.__rest(o,["callback"]),h=c.transformLabel(f);if(h.content){var d=h.content;h.content=function(t,n,o){var u=t[a],l=t[s],f=e.getScaleByField(s),p=null===f||void 0===f?void 0:f.scale(l);return i.isFunction(d)?d(r.__assign(r.__assign({},t),{percent:p}),n,o):i.isString(d)?c.template(d,{value:l,name:u,percentage:i.isNumber(p)&&!i.isNil(l)?(100*p).toFixed(2)+"%":null}):d}}var g=h.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[h.type]:"pie-outer",v=h.layout?i.isArray(h.layout)?h.layout:[h.layout]:[];h.layout=(g?[{type:g}]:[]).concat(v),u.label({fields:a?[s,a]:[s],callback:l,cfg:r.__assign(r.__assign({},h),{offset:p.adaptOffset(h.type,h.offset),type:"pie"})})}else u.label(!1);return t}function m(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,o=t.colorField,a=t.meta,s=t.locale,u=l.getLocale(s);if(e&&n){var h=c.deepAssign({},f.DEFAULT_OPTIONS.statistic,n),d=h.title,g=h.content;return!1!==d&&(d=c.deepAssign({},{formatter:function(t){return t?t[o]:i.isNil(d.content)?u.get(["statistic","total"]):d.content}},d)),!1!==g&&(g=c.deepAssign({},{formatter:function(t,e){var n=t?t[r]:p.getTotalValue(e,r),o=i.get(a,[r,"formatter"])||function(t){return t};return t||i.isNil(g.content)?o(n):g.content}},g)),c.deepAssign({},{statistic:{title:d,content:g}},t)}return t}function _(t){var e=t.chart,n=m(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),c.flow(o.annotation())(t),r&&i&&c.renderStatistic(e,{statistic:i,plotType:"pie"}),t}function b(t){var e=t.chart,n=t.options,r=n.tooltip,o=n.colorField,s=n.angleField,u=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip(c.deepAssign({},r,{shared:!1})),p.isAllZero(u,s)){var l=i.get(r,"fields"),f=i.get(r,"formatter");i.isEmpty(i.get(r,"fields"))&&(l=[o,s],f=f||function(t){return{name:t[o],value:i.toString(t[s])}}),e.geometries[0].tooltip(l.join("*"),a.getMappingFunction(l,f))}return t}function x(t){var e=t.chart,n=m(t.options),o=n.interactions,a=n.statistic,s=n.annotations;return i.each(o,(function(t){var n,o;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var u=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(u=[{trigger:"element:mouseenter",action:h.PIE_STATISTIC+":change",arg:{statistic:a,annotations:s}}]),i.each(null===(o=t.cfg)||void 0===o?void 0:o.start,(function(t){u.push(r.__assign(r.__assign({},t),{arg:{statistic:a,annotations:s}}))})),e.interaction(t.type,c.deepAssign({},t.cfg,{start:u}))}else e.interaction(t.type,t.cfg||{})})),t}e.transformStatisticOptions=m,e.pieAnnotation=_,e.interaction=x,e.adaptor=function(t){return c.flow(u.pattern("pieStyle"),d,g,o.theme,v,o.legend,b,y,o.state,_,x,o.animation)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieLegendAction=void 0;var r=n(1),i=n(13),o=n(0),a=n(543),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getActiveElements=function(){var t=i.Util.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,o=n.get("field");if(o)return e.geometries[0].elements.filter((function(t){return t.getModel().data[o]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return o.isEqual(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var o=n[r],s=e.geometry.coordinate;if(s.isPolar&&s.isTransposed){var u=i.Util.getAngle(e.getModel(),s),l=(u.startAngle+u.endAngle)/2,c=t,f=c*Math.cos(l),p=c*Math.sin(l);e.shape.setMatrix(a.transform([["t",f,p]])),o.setMatrix(a.transform([["t",f,p]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(i.Action);e.PieLegendAction=s},function(t,e,n){"use strict";var r=n(2)(n(6));Object.defineProperty(e,"__esModule",{value:!0}),e.StatisticAction=void 0;var i=n(1),o=n(13),a=n(0),s=n(518),u=n(1158),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,i=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var l=a.get(i,["data","data"]);if(i.type.match("legend-item")){var c=o.Util.getDelegationObject(this.context),f=n.getGroupedFields()[0];if(c&&f){var p=c.item;l=n.getData().find((function(t){return t[f]===p.value}))}}if(l){var h=a.get(t,"annotations",[]),d=a.get(t,"statistic",{});n.getController("annotation").clear(!0),a.each(h,(function(t){"object"===(0,r.default)(t)&&n.annotation()[t.type](t)})),s.renderStatistic(n,{statistic:d,plotType:"pie"},l),n.render(!0)}var g=u.getCurrentElement(this.context);g&&g.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();a.each(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(o.Action);e.StatisticAction=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentElement=void 0,e.getCurrentElement=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=void 0;var r=n(1),i=n(0),o=n(14),a=n(14),s=n(35),u=n(59),l=n(64);function c(t){var e=t.chart,n=t.options,r=n.data,a=n.type,s=n.xField,c=n.yField,f=n.colorField,p=n.sizeField,h=n.sizeRatio,d=n.shape,g=n.color,v=n.tooltip,y=n.heatmapStyle;e.data(r);var m="polygon";"density"===a&&(m="heatmap");var _=l.getTooltipMapping(v,[s,c,f]),b=_.fields,x=_.formatter,w=1;return(h||0===h)&&(d||p?h<0||h>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):w=h:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),u.geometry(o.deepAssign({},t,{options:{type:m,colorField:f,tooltipFields:b,shapeField:p||"",label:void 0,mapping:{tooltip:x,shape:d&&(p?function(t){var e=r.map((function(t){return t[p]})),n=Math.min.apply(Math,e),o=Math.max.apply(Math,e);return[d,(i.get(t,p)-n)/(o-n),w]}:function(){return[d,1,w]}),color:g||f&&e.getTheme().sequenceColors.join("-"),style:y}}})),t}function f(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,u=n.yField;return a.flow(s.scale(((e={})[o]=r,e[u]=i,e)))(t)}function p(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function h(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,a=n.sizeLegend,s=!1!==r;return i&&e.legend(i,!!s&&r),o&&e.legend(o,void 0===a?r:a),s||a||e.legend(!1),t}function d(t){var e=t.chart,n=t.options,i=n.label,s=n.colorField,u=n.type,l=o.findGeometry(e,"density"===u?"heatmap":"polygon");if(i){if(s){var c=i.callback,f=r.__rest(i,["callback"]);l.label({fields:[s],callback:c,cfg:a.transformLabel(f)})}}else l.label(!1);return t}function g(t){var e=t.chart,n=t.options,r=n.coordinate,i=n.reflect;return r&&e.coordinate({type:r.type||"rect",cfg:r.cfg}),i&&e.coordinate().reflect(i),t}e.adaptor=function(t){return a.flow(s.theme,s.pattern("heatmapStyle"),f,g,c,p,h,s.tooltip,d,s.annotation(),s.interaction,s.animation,s.state)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);n(13).registerShape("polygon","circle",{draw:function(t,e){var n,i,o=t.x,a=t.y,s=this.parsePoints(t.points),u=Math.abs(s[2].x-s[1].x),l=Math.abs(s[1].y-s[0].y),c=Math.min(u,l)/2,f=Number(t.shape[1]),p=Number(t.shape[2]),h=c*Math.sqrt(p)*Math.sqrt(f),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("circle",{attrs:r.__assign(r.__assign(r.__assign({x:o,y:a,r:h},t.defaultStyle),t.style),{fill:d})})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);n(13).registerShape("polygon","square",{draw:function(t,e){var n,i,o=t.x,a=t.y,s=this.parsePoints(t.points),u=Math.abs(s[2].x-s[1].x),l=Math.abs(s[1].y-s[0].y),c=Math.min(u,l),f=Number(t.shape[1]),p=Number(t.shape[2]),h=c*Math.sqrt(p)*Math.sqrt(f),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("rect",{attrs:r.__assign(r.__assign(r.__assign({x:o-h/2,y:a-h/2,width:h,height:h},t.defaultStyle),t.style),{fill:d})})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.legend=void 0;var r=n(1),i=n(0),o=n(35),a=n(14),s=n(43),u=n(544),l=n(545);function c(t){var e=t.chart,n=t.options,o=n.colorField,c=n.color,f=u.transform(t);e.data(f);var p=a.deepAssign({},t,{options:{xField:"x",yField:"y",seriesField:o&&l.WORD_CLOUD_COLOR_FIELD,rawFields:i.isFunction(c)&&r.__spreadArrays(i.get(n,"rawFields",[]),["datum"]),point:{color:c,shape:"word-cloud"}}});return s.point(p).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function f(t){return a.flow(o.scale({x:{nice:!1},y:{nice:!1}}))(t)}function p(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(l.WORD_CLOUD_COLOR_FIELD,r),t}e.legend=p,e.adaptor=function(t){a.flow(c,f,o.tooltip,p,o.interaction,o.animation,o.theme,o.state)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.functor=e.transform=e.wordCloud=void 0;var r=n(0),i={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function o(t,e){var n=function(){var t=[256,256],e=l,n=f,r=c,i=p,o=h,a=m,S=Math.random,E=[],A=1/0,O=u,T=c,C=b,P={};function M(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=s/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function I(e,n,r){for(var i,o,s,u=n.x,l=n.y,c=Math.sqrt(t[0]*t[0]+t[1]*t[1]),f=a(t),p=S()<.5?1:-1,h=-p;(i=f(h+=p))&&(o=~~i[0],s=~~i[1],!(Math.min(Math.abs(o),Math.abs(s))>=c));)if(n.x=u+o,n.y=l+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!g(n,e,t[0]))&&(!r||y(n,r))){for(var d=n.sprite,v=n.width>>5,m=t[0]>>5,_=n.x-(v<<4),b=127&_,x=32-b,w=n.y1-n.y0,E=void 0,A=(n.y+n.y0)*m+(_>>5),O=0;O<w;O++){E=0;for(var T=0;T<=v;T++)e[A+T]|=E<<x|(T<v?(E=d[O*v+T])>>>b:0);A+=m}return delete n.sprite,!0}return!1}return P.start=function(){var a=t[0],s=t[1],u=M(C()),l=P.board?P.board:_((t[0]>>5)*t[1]),c=E.length,f=[],p=E.map((function(t,a,s){return t.text=O.call(this,t,a,s),t.font=e.call(this,t,a,s),t.style=T.call(this,t,a,s),t.weight=r.call(this,t,a,s),t.rotate=i.call(this,t,a,s),t.size=~~n.call(this,t,a,s),t.padding=o.call(this,t,a,s),t})).sort((function(t,e){return e.size-t.size})),h=-1,g=P.board?[{x:0,y:0},{x:a,y:s}]:null;function y(){for(var e=Date.now();Date.now()-e<A&&++h<c;){var n=p[h];n.x=a*(S()+.5)>>1,n.y=s*(S()+.5)>>1,d(u,n,p,h),n.hasText&&I(l,n,g)&&(f.push(n),g?P.hasImage||v(g,n):g=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}P._tags=f,P._bounds=g}return y(),P},P.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var o=r>>5,a=_((r>>5)*i);n.width=r,n.height=i;var s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var u=s.getImageData(0,0,r,i).data,l=0;l<i;l++)for(var c=0;c<r;c++){var f=o*l+(c>>5),p=l*r+c<<2,h=u[p]>=250&&u[p+1]>=250&&u[p+2]>=250?1<<31-c%32:0;a[f]|=h}P.board=a,P.hasImage=!0}},P.timeInterval=function(t){A=null==t?1/0:t},P.words=function(t){E=t},P.size=function(e){t=[+e[0],+e[1]]},P.font=function(t){e=x(t)},P.fontWeight=function(t){r=x(t)},P.rotate=function(t){i=x(t)},P.spiral=function(t){a=w[t]||t},P.fontSize=function(t){n=x(t)},P.padding=function(t){o=x(t)},P.random=function(t){S=x(t)},P}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){r.isNil(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var i=n.start()._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var o=e.size,a=o[0],S=o[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:a,y:S,opacity:0}),i}e.wordCloud=function(t,e){return o(t,e=r.assign({},i,e))},e.transform=o;var a=Math.PI/180,s=2048;function u(t){return t.text}function l(){return"serif"}function c(){return"normal"}function f(t){return t.value}function p(){return 90*~~(2*Math.random())}function h(){return 1}function d(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,s/o);var u=0,l=0,c=0,f=n.length;for(--r;++r<f;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var p=i.measureText(e.text+"m").width*o,h=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*a),g=Math.cos(e.rotate*a),v=p*g,y=p*d,m=h*g,_=h*d;p=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,h=~~Math.max(Math.abs(y+m),Math.abs(y-m))}else p=p+31>>5<<5;if(h>c&&(c=h),u+p>=2048&&(u=0,l+=c,c=0),l+h>=s)break;i.translate((u+(p>>1))/o,(l+(h>>1))/o),e.rotate&&i.rotate(e.rotate*a),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=p,e.height=h,e.xoff=u,e.yoff=l,e.x1=p>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,u+=p}for(var b=i.getImageData(0,0,2048/o,s/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var w=(p=e.width)>>5,S=(h=e.y1-e.y0,0);S<h*w;S++)x[S]=0;if(null==(u=e.xoff))return;l=e.yoff;for(var E=0,A=-1,O=0;O<h;O++){for(S=0;S<p;S++){var T=w*O+(S>>5),C=b[2048*(l+O)+(u+S)<<2]?1<<31-S%32:0;x[T]|=C,E|=C}E?A=O:(e.y0++,h--,O--,l++)}e.y1=e.y0+A,e.sprite=x.slice(0,(e.y1-e.y0)*w)}}}function g(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var p=0;p<=o;p++)if((r<<u|(p<o?(r=i[f*o+p])>>>s:0))&e[c+p])return!0;c+=n}return!1}function v(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function y(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function m(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function b(){return document.createElement("canvas")}function x(t){return r.isFunction(t)?t:function(){return t}}e.functor=x;var w={archimedean:m,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(13);function o(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}i.registerShape("point","word-cloud",{draw:function(t,e){var n=t.x,a=t.y,s=e.addShape("text",{attrs:r.__assign(r.__assign({},o(t)),{x:n,y:a})}),u=t.data.rotate;return"number"===typeof u&&i.Util.rotate(s,u*Math.PI/180),s}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.legend=void 0;var r=n(1),i=n(0),o=n(14),a=n(35),s=n(43);function u(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,a=n.color;return e.data(r),o.flow(s.interval)(o.deepAssign({},t,{options:{marginRatio:1,interval:{style:i,color:a}}})),t}function l(t){var e=t.chart,n=t.options,a=n.label,s=n.xField,u=o.findGeometry(e,"interval");if(!1===a)u.label(!1);else if(i.isObject(a)){var l=a.callback,c=a.fields,f=r.__rest(a,["callback","fields"]),p=f.offset,h=f.layout;(void 0===p||p>=0)&&(h=h?i.isArray(h)?h:[h]:[],f.layout=i.filter(h,(function(t){return"limit-in-shape"!==t.type})),f.layout.length||delete f.layout),u.label({fields:c||[s],callback:l,cfg:o.transformLabel(f)})}else o.log(o.LEVEL.WARN,null===a,"the label option must be an Object."),u.label({fields:[s]});return t}function c(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function f(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function p(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,s=n.xField,u=n.yField;return o.flow(a.scale(((e={})[s]=r,e[u]=i,e)))(t)}function h(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(a,i):e.axis(a,!1),t}e.legend=c,e.adaptor=function(t){o.flow(a.pattern("sectorStyle"),u,p,l,f,h,c,a.tooltip,a.interaction,a.animation,a.theme,a.annotation(),a.state)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right"},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(0),i=n(35),o=n(132),a=n(14),s=n(536),u=n(546),l=n(1169),c=n(1170),f=n(1171),p=n(122);function h(t){var e,n=t.options,i=n.compareField,u=n.xField,l=n.yField,c=n.locale,f=n.funnelStyle,h=n.data,d=o.getLocale(c),g={label:i?{fields:[u,l,i,p.FUNNEL_PERCENT,p.FUNNEL_CONVERSATION],formatter:function(t){return""+t[l]}}:{fields:[u,l,p.FUNNEL_PERCENT,p.FUNNEL_CONVERSATION],offset:0,position:"middle",formatter:function(t){return t[u]+" "+t[l]}},tooltip:{title:u,formatter:function(t){return{name:t[u],value:t[l]}}},conversionTag:{formatter:function(t){return d.get(["conversionTag","label"])+": "+s.conversionTagFormatter.apply(void 0,t[p.FUNNEL_CONVERSATION])}}};return(i||f)&&(e=function(t){return a.deepAssign({},i&&{lineWidth:1,stroke:"#fff"},r.isFunction(f)?f(t):f)}),a.deepAssign({options:g},t,{options:{funnelStyle:e,data:r.clone(h)}})}function d(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?c.facetFunnel(t):n?l.compareFunnel(t):r?f.dynamicHeightFunnel(t):u.basicFunnel(t)}function g(t){var e,n=t.options,r=n.xAxis,o=n.yAxis,s=n.xField,u=n.yField;return a.flow(i.scale(((e={})[s]=r,e[u]=o,e)))(t)}function v(t){return t.chart.axis(!1),t}function y(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}e.meta=g,e.adaptor=function(t){return a.flow(h,d,g,v,i.tooltip,i.interaction,y,i.animation,i.theme,i.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFunnel=void 0;var r=n(0),i=n(14),o=n(64),a=n(59),s=n(122),u=n(303);function l(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function c(t){var e=t.chart,n=t.options,l=n.data,c=n.xField,f=n.yField,p=n.color,h=n.compareField,d=n.isTransposed,g=n.tooltip,v=n.maxSize,y=n.minSize,m=n.label,_=n.funnelStyle,b=n.state;return e.facet("mirror",{fields:[h],transpose:!d,padding:d?0:[32,0,0,0],eachView:function(t,e){var n=d?e.rowIndex:e.columnIndex;d||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var x=u.transformData(e.data,l,{yField:f,maxSize:v,minSize:y});t.data(x);var w=o.getTooltipMapping(g,[c,f,h]),S=w.fields,E=w.formatter,A=d?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};a.geometry({chart:t,options:{type:"interval",xField:c,yField:s.FUNNEL_MAPPING_VALUE,colorField:c,tooltipFields:r.isArray(S)&&S.concat([s.FUNNEL_PERCENT,s.FUNNEL_CONVERSATION]),mapping:{shape:"funnel",tooltip:E,color:p,style:_},label:!1!==m&&i.deepAssign({},A,m),state:b}})}}),t}function f(t){var e=t.chart,n=t.options,r=n.conversionTag,o=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){u.conversionTagComponent((function(t,n,a,u){var l=0===e?-1:1;return i.deepAssign({},u,{start:[n-.5,t[s.FUNNEL_MAPPING_VALUE]],end:[n-.5,t[s.FUNNEL_MAPPING_VALUE]+.05],text:o?{style:{textAlign:"start"}}:{offsetX:!1!==r?l*r.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))(i.deepAssign({},{chart:t,options:n}))}))})),t}e.compareFunnel=function(t){return i.flow(l,c,f)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.facetFunnel=void 0;var r=n(14),i=n(546);function o(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function a(t){var e=t.chart,n=t.options,o=n.seriesField,a=n.isTransposed;return e.facet("rect",{fields:[o],padding:[a?0:32,10,0,10],eachView:function(e,n){i.basicFunnel(r.deepAssign({},t,{chart:e,options:{data:n.data}}))}}),t}e.facetFunnel=function(t){return r.flow(o,a)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dynamicHeightFunnel=void 0;var r=n(1),i=n(0),o=n(14),a=n(122),s=n(59),u=n(64),l=n(303);function c(t){var e=t.chart,n=t.options,r=n.data,o=void 0===r?[]:r,s=n.yField,u=i.reduce(o,(function(t,e){return t+(e[s]||0)}),0),l=i.maxBy(o,s)[s],c=i.map(o,(function(t,e){var n=[],r=[];if(t[a.FUNNEL_TOTAL_PERCENT]=(t[s]||0)/u,e){var c=o[e-1][a.PLOYGON_X],f=o[e-1][a.PLOYGON_Y];n[0]=c[3],r[0]=f[3],n[1]=c[2],r[1]=f[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t[a.FUNNEL_TOTAL_PERCENT],n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t[a.PLOYGON_X]=n,t[a.PLOYGON_Y]=r,t[a.FUNNEL_PERCENT]=(t[s]||0)/l,t[a.FUNNEL_CONVERSATION]=[i.get(o,[e-1,s]),t[s]],t}));return e.data(c),t}function f(t){var e=t.chart,n=t.options,r=n.xField,o=n.yField,l=n.color,c=n.tooltip,f=n.label,p=n.funnelStyle,h=n.state,d=u.getTooltipMapping(c,[r,o]),g=d.fields,v=d.formatter;return s.geometry({chart:e,options:{type:"polygon",xField:a.PLOYGON_X,yField:a.PLOYGON_Y,colorField:r,tooltipFields:i.isArray(g)&&g.concat([a.FUNNEL_PERCENT,a.FUNNEL_CONVERSATION]),label:f,state:h,mapping:{tooltip:v,color:l,style:p}}}),t}function p(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function h(t){return l.conversionTagComponent((function(t,e,n,i){return r.__assign(r.__assign({},i),{start:[t[a.PLOYGON_X][1],t[a.PLOYGON_Y][1]],end:[t[a.PLOYGON_X][1]+.05,t[a.PLOYGON_Y][1]]})}))(t),t}e.dynamicHeightFunnel=function(t){return o.flow(c,f,p,h)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=void 0;var r=n(1),i=n(35),o=n(43),a=n(14);function s(t){var e=t.chart,n=t.options,i=n.data,s=n.lineStyle,u=n.color,l=n.point,c=n.area;e.data(i);var f=a.deepAssign({},t,{options:{line:{style:s,color:u},point:l?r.__assign({color:u},l):l,area:c?r.__assign({color:u},c):c,label:void 0}}),p=a.deepAssign({},f,{options:{tooltip:!1}}),h=(null===l||void 0===l?void 0:l.state)||n.state,d=a.deepAssign({},f,{options:{tooltip:!1,state:h}});return o.line(f),o.point(d),o.area(p),t}function u(t){var e,n=t.options,r=n.xAxis,o=n.yAxis,s=n.xField,u=n.yField;return a.flow(i.scale(((e={})[s]=r,e[u]=o,e)))(t)}function l(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:o}),t}function c(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(r,i),e.axis(o,a),t}function f(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=a.findGeometry(e,"line");if(i){var u=i.callback,l=r.__rest(i,["callback"]);s.label({fields:[o],callback:u,cfg:a.transformLabel(l)})}else s.label(!1);return t}e.adaptor=function(t){return a.flow(s,u,i.theme,l,c,i.legend,i.tooltip,f,i.interaction,i.animation,i.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=n(1174);r.registerAction("radar-tooltip",i.RadarTooltipAction),r.registerInteraction("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadarTooltipAction=e.RadarTooltipController=void 0;var r=n(1),i=n(13),o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),a=n.shared,s=n.title,u=t.prototype.getTooltipItems.call(this,e);if(u.length>0){var l=this.view.geometries[0],c=l.dataArray,f=u[0].name,p=[];return c.forEach((function(t){t.forEach((function(t){var e=i.Util.getTooltipItems(t,l)[0];if(!a&&e&&e.name===f){var n=o.isNil(s)?f:s;p.push(r.__assign(r.__assign({},e),{name:e.title,title:n}))}else a&&e&&(n=o.isNil(s)?e.name||f:s,p.push(r.__assign(r.__assign({},e),{name:e.title,title:n})))}))})),p}return[]},e}(i.TooltipController);e.RadarTooltipController=a,i.registerComponentController("radar-tooltip",a);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(i.Action);e.RadarTooltipAction=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.statistic=void 0;var r=n(1),i=n(0),o=n(35),a=n(14),s=n(43),u=n(547);function l(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,l=n.outline,c=n.wave,f=n.shape;e.scale({percent:{min:0,max:1}}),e.data(u.getLiquidData(r));var p=n.color||e.getTheme().defaultColor,h=a.deepAssign({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:p,style:i,shape:"liquid-fill-gauge"}}}),d=s.interval(h).ext.geometry,g={radius:o,outline:l,wave:c,shape:f,background:e.getTheme().background};return d.customInfo(g),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function c(t,e){var n=t.chart,o=t.options,s=o.statistic,u=o.percent,l=o.meta;n.getController("annotation").clear(!0);var c=i.get(l,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},f=s.content;return f&&(f=a.deepAssign({},f,{content:i.isNil(f.content)?c(u):f.content})),a.renderStatistic(n,{statistic:r.__assign(r.__assign({},s),{content:f}),plotType:"liquid"},{percent:u}),e&&n.render(!0),t}e.statistic=c,e.adaptor=function(t){return a.flow(o.theme,o.pattern("liquidStyle"),l,c,o.scale({}),o.animation,o.interaction)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(13),o=n(0),a=n(543);function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function l(t,e,n,r,i,o,a){for(var s=4*Math.ceil(2*t/n*4),l=[],c=r;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var f=o-t+(c=c/Math.PI/2*n)-2*t;l.push(["M",f,e]);for(var p=0,h=0;h<s;++h){var d=u(h*n/4,h%4,n,i);l.push(["C",d[0][0]+f,-d[0][1]+e,d[1][0]+f,-d[1][1]+e,d[2][0]+f,-d[2][1]+e]),h===s-1&&(p=d[2][0])}return l.push(["L",p+f,a+t]),l.push(["L",f,a+t]),l.push(["Z"]),l}function c(t,e,n,r){var i=2*n/3,o=Math.max(i,r),a=i/2,s=t,u=a+e-o/2,l=Math.asin(a/(.85*(o-a))),c=Math.sin(l)*a,f=Math.cos(l)*a,p=s-f,h=u+c,d=t,g=u+a/Math.sin(l);return"\n      M "+p+" "+h+"\n      A "+a+" "+a+" 0 1 1 "+(p+2*f)+" "+h+"\n      Q "+d+" "+g+" "+t+" "+(e+o/2)+"\n      Q "+d+" "+g+" "+p+" "+h+"\n      Z \n    "}function f(t,e,n,r){var i=n/2,o=r/2;return"\n      M "+t+" "+(e-o)+" \n      a "+i+" "+o+" 0 1 0 0 "+2*o+"\n      a "+i+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function p(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+i)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function h(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}function d(t,e,n,r){var i=r/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}i.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,i=n,u=i.radius,g=i.shape,v=i.background,y=n.outline,m=n.wave,_=y.border,b=y.distance,x=m.count,w=m.length,S=o.reduce(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),E=this.parsePoint({x:.5,y:.5}),A=this.parsePoint({x:S,y:.5}),O=E.x-A.x,T=Math.min(O,A.y*u),C=function(t){var e=r.__assign({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),P=function(t){var e=o.mix({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),o.isNumber(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}(o.mix({},t,y)),M=T-_/2,I={pin:c,circle:f,diamond:p,triangle:h,rect:d},k=("function"===typeof g?g:I[g]||I.circle)(E.x,E.y,2*M,2*M),R=e.addGroup({name:"waves"}),L=R.setClip({type:"path",attrs:{path:k}});return function(t,e,n,r,i,o,u,c,f){for(var p=i.fill,h=i.opacity,d=u.getBBox(),g=d.maxX-d.minX,v=d.maxY-d.minY,y=0;y<r;y++){var m=r<=1?0:y/(r-1),_=o.addShape("path",{name:"waterwave-path",attrs:{path:l(c,d.minY+v*n,f,0,g/32,t,e),fill:p,opacity:s(.2,.9,m)*h}});try{var b=a.transform([["t",f,0]]);_.stopAnimate(),_.animate({matrix:b},{duration:s(2500,5e3,m),repeat:!0})}catch(x){console.warn("off-screen group animate error!")}}}(E.x,E.y,1-t.points[1].y,x,C,R,L,2*T,w),e.addShape("path",{name:"distance",attrs:{path:k,fill:"transparent",lineWidth:_+2*b,stroke:"transparent"===v?"#fff":v}}),e.addShape("path",{name:"wrap",attrs:o.mix(P,{path:k,fill:"transparent",lineWidth:_})}),e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=void 0;var r=n(1),i=n(35),o=n(154),a=n(14),s=n(14),u=n(43),l=n(548),c=n(549);function f(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,s=n.binWidth,f=n.color,p=n.stackField,h=n.legend,d=n.columnStyle,g=l.binHistogram(r,i,s,o,p);e.data(g);var v=a.deepAssign({},t,{options:{xField:c.HISTOGRAM_X_FIELD,yField:c.HISTOGRAM_Y_FIELD,seriesField:p,isStack:!0,interval:{color:f,style:d}}});return u.interval(v),h&&p&&e.legend(p,h),t}function p(t){var e,n=t.options,r=n.xAxis,o=n.yAxis;return s.flow(i.scale(((e={})[c.HISTOGRAM_X_FIELD]=r,e[c.HISTOGRAM_Y_FIELD]=o,e)))(t)}function h(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(c.HISTOGRAM_X_FIELD,!1):e.axis(c.HISTOGRAM_X_FIELD,r),!1===i?e.axis(c.HISTOGRAM_Y_FIELD,!1):e.axis(c.HISTOGRAM_Y_FIELD,i),t}function d(t){var e=t.chart,n=t.options.label,i=a.findGeometry(e,"interval");if(n){var o=n.callback,u=r.__rest(n,["callback"]);i.label({fields:[c.HISTOGRAM_Y_FIELD],callback:o,cfg:s.transformLabel(u)})}else i.label(!1);return t}e.adaptor=function(t){return s.flow(i.theme,o.pattern("columnStyle"),f,p,h,i.state,d,i.tooltip,i.interaction,i.animation)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.tooltip=void 0;var r=n(1),i=n(0),o=n(35),a=n(43),s=n(132),u=n(14),l=n(304),c=n(550);function f(t){var e=t.options,n=e.locale,r=e.total,i=s.getLocale(n).get(["waterfall","total"]);return r&&"string"!==typeof r.label&&i&&(t.options.total.label=i),t}function p(t){var e=t.chart,n=t.options,r=n.data,o=n.xField,s=n.yField,f=n.total,p=n.leaderLine,h=n.columnWidthRatio,d=n.waterfallStyle,g=n.risingFill,v=n.fallingFill,y=n.color;e.data(c.transformData(r,o,s,f));var m=y||function(t){return i.get(t,[l.IS_TOTAL])?i.get(f,["style","fill"],""):i.get(t,[l.Y_FIELD,1])-i.get(t,[l.Y_FIELD,0])>0?g:v},_=u.deepAssign({},t,{options:{xField:o,yField:l.Y_FIELD,seriesField:o,rawFields:[s,l.DIFF_FIELD,l.IS_TOTAL,l.Y_FIELD],widthRatio:h,interval:{style:d,shape:"waterfall",color:m}}});return a.interval(_).ext.geometry.customInfo({leaderLine:p}),t}function h(t){var e,n,r=t.options,a=r.xAxis,s=r.yAxis,c=r.xField,f=r.yField,p=r.meta,h=u.deepAssign({},{alias:f},i.get(p,f));return u.flow(o.scale(((e={})[c]=a,e[f]=s,e[l.Y_FIELD]=s,e),u.deepAssign({},p,((n={})[l.Y_FIELD]=h,n[l.DIFF_FIELD]=h,n[l.ABSOLUTE_FIELD]=h,n))))(t)}function d(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(a,!1),e.axis(l.Y_FIELD,!1)):(e.axis(a,i),e.axis(l.Y_FIELD,i)),t}function g(t){var e=t.chart,n=t.options,r=n.legend,o=n.total,a=n.risingFill,l=n.fallingFill,c=n.locale,f=s.getLocale(c);if(!1===r)e.legend(!1);else{var p=[{name:f.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:f.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:l}}}];o&&p.push({name:o.label||"",value:"total",marker:{symbol:"square",style:u.deepAssign({},{r:5},i.get(o,"style"))}}),e.legend(u.deepAssign({},{custom:!0,position:"top",items:p},r)),e.removeInteraction("legend-filter")}return t}function v(t){var e=t.chart,n=t.options,i=n.label,o=n.labelMode,a=n.xField,s=u.findGeometry(e,"interval");if(i){var c=i.callback,f=r.__rest(i,["callback"]);s.label({fields:"absolute"===o?[l.ABSOLUTE_FIELD,a]:[l.DIFF_FIELD,a],callback:c,cfg:u.transformLabel(f)})}else s.label(!1);return t}function y(t){var e=t.chart,n=t.options,i=n.tooltip,o=n.xField,a=n.yField;if(!1!==i){e.tooltip(r.__assign({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},i));var s=e.geometries[0];(null===i||void 0===i?void 0:i.formatter)?s.tooltip(o+"*"+a,i.formatter):s.tooltip(a)}else e.tooltip(!1);return t}n(1180),e.tooltip=y,e.adaptor=function(t){return u.flow(f,o.theme,p,h,d,g,y,v,o.state,o.interaction,o.animation,o.annotation())(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(13),o=n(0),a=n(14);i.registerShape("interval","waterfall",{draw:function(t,e){var n=t.customInfo,i=t.points,s=t.nextPoints,u=e.addGroup(),l=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(i)),c=function(t){return a.deepAssign({},t.defaultStyle,t.style,{fill:t.color})}(t);u.addShape("path",{attrs:r.__assign(r.__assign({},c),{path:l})});var f=o.get(n,"leaderLine");if(f&&s){var p=[["M",i[2].x,i[2].y],["L",s[0].x,s[0].y]];i[2].y===s[1].y&&(p[1]=["L",s[1].x,s[1].y]),p=this.parsePath(p),u.addShape("path",{attrs:r.__assign({path:p},f.style||{})})}return u}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.tooltip=e.meta=e.transformOptions=void 0;var r=n(1),i=n(0),o=n(14),a=n(43),s=n(537),u=n(35),l=n(14),c=n(1182);function f(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var a=!0,s=!0,u=n[0],l=void 0,f=1;f<n.length&&(l=n[f],u[r]!==l[r]&&(a=!1),u[i]!==l[i]&&(s=!1),a||s);f++)u=l;var p=[];a&&p.push(r),s&&p.push(i);var h=o.pick(c.getMeta(t),p);return o.deepAssign({},t,{meta:h})}return t}function p(t){var e=t.chart,n=t.options,s=n.data,u=n.type,c=n.color,f=n.shape,p=n.pointStyle,h=n.shapeField,d=n.colorField,g=n.xField,v=n.yField,y=n.sizeField,m=n.size,_=n.tooltip;y&&(m||(m=[2,8]),i.isNumber(m)&&(m=[m,m])),_&&!_.fields&&(_=r.__assign(r.__assign({},_),{fields:[g,v,d,y,h]})),e.data(s),a.point(o.deepAssign({},t,{options:{seriesField:d,point:{color:c,shape:f,size:m,style:p},tooltip:_}}));var b=l.findGeometry(e,"point");return u&&b.adjust(u),t}function h(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,s=n.yField,l=f(n);return o.flow(u.scale(((e={})[a]=r,e[s]=i,e)))(o.deepAssign({},t,{options:l}))}function d(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,r),e.axis(a,i),t}function g(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,s=n.shapeLegend,u=n.sizeLegend,l=!1!==r;return i&&e.legend(i,!!l&&r),o&&(s?e.legend(o,s):e.legend(o,!1!==s&&r)),a&&e.legend(a,u||!1),l||s||u||e.legend(!1),t}function v(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,a=l.findGeometry(e,"point");if(i){var s=i.callback,u=r.__rest(i,["callback"]);a.label({fields:[o],callback:s,cfg:l.transformLabel(u)})}else a.label(!1);return t}function y(t){var e=t.options.quadrant,n=[];if(e){var i=e.xBaseline,a=void 0===i?0:i,s=e.yBaseline,l=void 0===s?0:s,f=e.labels,p=e.regionStyle,h=e.lineStyle,d=c.getQuadrantDefaultConfig(a,l);new Array(4).join(",").split(",").forEach((function(t,e){n.push(r.__assign(r.__assign({type:"region",top:!1},d.regionStyle[e].position),{style:o.deepAssign({},d.regionStyle[e].style,null===p||void 0===p?void 0:p[e])}),r.__assign({type:"text",top:!0},o.deepAssign({},d.labelStyle[e],null===f||void 0===f?void 0:f[e])))})),n.push({type:"line",top:!1,start:["min",l],end:["max",l],style:o.deepAssign({},d.lineStyle,h)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:o.deepAssign({},d.lineStyle,h)})}return o.flow(u.annotation(n))(t)}function m(t){var e=t.options,n=t.chart,i=e.regressionLine;if(i){var o=i.style,a=i.top,s=void 0!==a&&a,u={stroke:"#9ba29a",lineWidth:2,opacity:.5};n.annotation().shape({top:s,render:function(t,i){var a=t.addGroup({id:n.id+"-regression-line",name:"regression-line-group"}),s=c.getPath({view:i,options:e});a.addShape("path",{name:"regression-line",attrs:r.__assign(r.__assign({path:s},u),o)})}})}return t}function _(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}e.transformOptions=f,e.meta=h,e.tooltip=_,e.adaptor=function(t){return o.flow(p,h,d,g,_,v,s.brushInteraction,u.interaction,y,u.animation,u.theme,m)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMeta=e.getPath=e.getQuadrantDefaultConfig=void 0;var r=n(1),i=n(551),o=n(0),a=n(14),s={exp:i.regressionExp,linear:i.regressionLinear,loess:i.regressionLoess,log:i.regressionLog,poly:i.regressionPoly,pow:i.regressionPow,quad:i.regressionQuad};e.getQuadrantDefaultConfig=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}},e.getPath=function(t){var e=t.options,n=e.xField,r=e.yField,i=e.data,u=e.regressionLine,l=u.type,c=void 0===l?"linear":l,f=u.algorithm;return function(t,e){var n=e.view,r=e.options,i=r.xField,o=r.yField,s=n.getScaleByField(i),u=n.getScaleByField(o),l=t.map((function(t){return n.getCoordinate().convert({x:s.scale(t[0]),y:u.scale(t[1])})}));return a.getSplinePath(l,!1)}(f?o.isArray(f)?f:f(i):s[c]().x((function(t){return t[n]})).y((function(t){return t[r]}))(i),t)},e.getMeta=function(t){var e,n=t.meta,i=void 0===n?{}:n,a=t.xField,s=t.yField,u=t.data,l=u[0][a],c=u[0][s],f=l>0,p=c>0;function h(t,e){var n=o.get(i,[t]);function r(t){return o.get(n,t)}var a={};return"x"===e?(o.isNumber(l)&&(o.isNumber(r("min"))||(a.min=f?0:2*l),o.isNumber(r("max"))||(a.max=f?2*l:0)),a):(o.isNumber(c)&&(o.isNumber(r("min"))||(a.min=p?0:2*c),o.isNumber(r("max"))||(a.max=p?2*c:0)),a)}return r.__assign(r.__assign({},i),((e={})[a]=r.__assign(r.__assign({},i[a]),h(a,"x")),e[s]=r.__assign(r.__assign({},i[s]),h(s,"y")),e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(535)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.meta=void 0;var r=n(1),i=n(0),o=n(35),a=n(14),s=n(43),u=n(552);function l(t){var e=t.chart,n=t.options,o=n.bulletStyle,l=n.targetField,c=n.rangeField,f=n.measureField,p=n.xField,h=n.color,d=n.layout,g=n.size,v=n.label,y=u.transformData(n),m=y.min,_=y.max,b=y.ds;e.data(b);var x=a.deepAssign({},t,{options:{xField:p,yField:c,seriesField:"rKey",isStack:!0,label:i.get(v,"range"),interval:{color:i.get(h,"range"),style:i.get(o,"range"),size:i.get(g,"range")}}});s.interval(x),e.geometries[0].tooltip(!1);var w=a.deepAssign({},t,{options:{xField:p,yField:f,seriesField:"mKey",isStack:!0,label:i.get(v,"measure"),interval:{color:i.get(h,"measure"),style:i.get(o,"measure"),size:i.get(g,"measure")}}});s.interval(w);var S=a.deepAssign({},t,{options:{xField:p,yField:l,seriesField:"tKey",label:i.get(v,"target"),point:{color:i.get(h,"target"),style:i.get(o,"target"),size:i.isFunction(i.get(g,"target"))?function(t){return i.get(g,"target")(t)/2}:i.get(g,"target")/2,shape:"horizontal"===d?"line":"hyphen"}}});return s.point(S),"horizontal"===d&&e.coordinate().transpose(),r.__assign(r.__assign({},t),{ext:{data:{min:m,max:_}}})}function c(t){var e,n,r=t.options,i=t.ext,s=r.xAxis,u=r.yAxis,l=r.targetField,c=r.rangeField,f=r.measureField,p=r.xField,h=i.data;return a.flow(o.scale(((e={})[p]=s,e[f]=u,e),((n={})[f]={min:null===h||void 0===h?void 0:h.min,max:null===h||void 0===h?void 0:h.max,sync:!0},n[l]={sync:""+f},n[c]={sync:""+f},n)))(t)}function f(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,s=n.rangeField,u=n.targetField;return e.axis(""+s,!1),e.axis(""+u,!1),!1===r?e.axis(""+o,!1):e.axis(""+o,r),!1===i?e.axis(""+a,!1):e.axis(""+a,i),t}function p(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function h(t){var e=t.chart,n=t.options,o=n.label,s=n.measureField,u=n.targetField,l=n.rangeField,c=e.geometries,f=c[0],p=c[1],h=c[2];return i.get(o,"range")?f.label(""+l,r.__assign({layout:[{type:"limit-in-plot"}]},a.transformLabel(o.range))):f.label(!1),i.get(o,"measure")?p.label(""+s,r.__assign({layout:[{type:"limit-in-plot"}]},a.transformLabel(o.measure))):p.label(!1),i.get(o,"target")?h.label(""+u,r.__assign({layout:[{type:"limit-in-plot"}]},a.transformLabel(o.target))):h.label(!1),t}e.meta=c,e.adaptor=function(t){a.flow(l,c,f,p,o.theme,h,o.tooltip,o.interaction,o.animation)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(23),i=n(14);e.DEFAULT_OPTIONS=i.deepAssign({},r.Plot.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=function(t,e){return e?(0,r.reduce)(e,(function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)}),t):t};var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContainerSize=function(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findGeometry=function(t,e){return t.geometries.find((function(t){return t.type===e}))},e.getAllElements=i,e.getAllElementsRecursively=function t(e){return(0,r.get)(e,["views","length"],0)<=0?i(e):(0,r.reduce)(e.views,(function(e,n){return e.concat(t(n))}),i(e))},e.getAllGeometriesRecursively=function(t){return(0,r.get)(t,["views","length"],0)<=0?t.geometries:(0,r.reduce)(t.views,(function(t,e){return t.concat(e.geometries)}),t.geometries)};var r=n(0);function i(t){return(0,r.reduce)(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformLabel=function(t){if(!(0,i.isType)(t,"Object"))return t;var e=(0,r.__assign)({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e};var r=n(1),i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.catmullRom2bezier=a,e.getSplinePath=function(t,e,n){var r=[],o=t[0],s=null;if(t.length<=2)return i(t,e);for(var u=0,l=t.length;u<l;u++){var c=t[u];s&&s.x===c.x&&s.y===c.y||(r.push(c.x),r.push(c.y),s=c)}var f=a(r,e,n||[[0,0],[1,1]]);return f.unshift(["M",o.x,o.y]),f},e.points2Path=i,e.smoothBezier=void 0;var r=n(32);function i(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}var o=function(t,e,n,i){var o,a,s,u,l=[],c=!!i;if(c){s=[1/0,1/0],u=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++){var h=t[f];s=r.vec2.min([0,0],s,h),u=r.vec2.max([0,0],u,h)}s=r.vec2.min([0,0],s,i[0]),u=r.vec2.max([0,0],u,i[1])}f=0;for(var d=t.length;f<d;f++){if(h=t[f],n)o=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){l.push(h);continue}o=t[f-1],a=t[f+1]}var g=[0,0];g=r.vec2.sub(g,a,o),g=r.vec2.scale(g,g,e);var v=r.vec2.distance(h,o),y=r.vec2.distance(h,a),m=v+y;0!==m&&(v/=m,y/=m);var _=r.vec2.scale([0,0],g,-v),b=r.vec2.scale([0,0],g,y),x=r.vec2.add([0,0],h,_),w=r.vec2.add([0,0],h,b);c&&(x=r.vec2.max([0,0],x,s),x=r.vec2.min([0,0],x,u),w=r.vec2.max([0,0],w,s),w=r.vec2.min([0,0],w,u)),l.push(x),l.push(w)}return n&&l.push(l.shift()),l};function a(t,e,n){for(var r=!!e,i=[],a=0,s=t.length;a<s;a+=2)i.push([t[a],t[a+1]]);var u,l,c,f=o(i,.4,r,n),p=i.length,h=[];for(a=0;a<p-1;a++)u=f[2*a],l=f[2*a+1],c=i[a+1],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return r&&(u=f[p],l=f[p+1],c=i[0],h.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),h}e.smoothBezier=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.kebabCase=function(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.measureTextWidth=void 0;var r=n(1),i=n(0),o=n(1195),a=(0,i.memoize)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,a=void 0===r?"sans-serif":r,s=e.fontWeight,u=e.fontStyle,l=e.fontVariant,c=(0,o.getCanvasContext)();return c.font=[u,s,l,n+"px",a].join(" "),c.measureText((0,i.isString)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,r.__spreadArrays)([t],(0,i.values)(e)).join("")}));e.measureTextWidth=a},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasContext=function(){return r||(r=document.createElement("canvas").getContext("2d")),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EN_US_LOCALE=void 0,e.EN_US_LOCALE={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZH_CN_LOCALE=void 0,e.ZH_CN_LOCALE={locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1199);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}}))}));var i=n(1200);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var o=n(1201);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var a=n(1202);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var s=n(1203);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=n(1204);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=n(1205);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var c=n(1206);Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))}));var f=n(1207);Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))}));var p=n(1208);Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))}));var h=n(1209);Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===h[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))}))},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDotPattern=function(t){var e=(0,r.deepAssign)({},o,t),n=e.size,s=e.padding,u=e.isStagger,l=e.rotation,c=(0,i.getUnitPatternSize)(n,s,u),f=(0,i.getSymbolsPosition)(c,u),p=(0,i.initCanvas)(c,c),h=p.getContext("2d");(0,i.drawBackground)(h,e,c);for(var d=0,g=f;d<g.length;d++){var v=g[d],y=v[0],m=v[1];a(h,e,y,m)}var _=h.createPattern(p,"repeat");if(_){var b=(0,i.getPixelRatio)(),x=(0,i.transformMatrix)(b,l);_.setTransform(x)}return _},e.defaultDotPatternCfg=void 0,e.drawDot=a;var r=n(7),i=n(307),o={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function a(t,e,n,r){var i=e.size,o=e.fill,a=e.lineWidth,s=e.stroke,u=e.fillOpacity;t.beginPath(),t.globalAlpha=u,t.fillStyle=o,t.strokeStyle=s,t.lineWidth=a,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}e.defaultDotPatternCfg=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLinePattern=function(t){var e=(0,r.deepAssign)({},o,t),n=e.spacing,s=e.rotation,u=e.lineWidth,l=n+u||1,c=n+u||1,f="\n            M 0 0 L "+l+" 0\n            M 0 "+c+" L "+l+" "+c+"\n            ",p=(0,i.initCanvas)(l,c),h=p.getContext("2d");(0,i.drawBackground)(h,e,l,c),a(h,e,f);var d=h.createPattern(p,"repeat");if(d){var g=(0,i.getPixelRatio)(),v=(0,i.transformMatrix)(g,s);d.setTransform(v)}return d},e.defaultLinePatternCfg=void 0,e.drawLine=a;var r=n(7),i=n(307),o={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function a(t,e,n){var r=e.stroke,i=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(a)}e.defaultLinePatternCfg=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSquarePattern=function(t){var e=(0,r.deepAssign)({},o,t),n=e.size,s=e.padding,u=e.isStagger,l=e.rotation,c=(0,i.getUnitPatternSize)(n,s,u),f=(0,i.getSymbolsPosition)(c,u),p=(0,i.initCanvas)(c,c),h=p.getContext("2d");(0,i.drawBackground)(h,e,c);for(var d=0,g=f;d<g.length;d++){var v=g[d],y=v[0],m=v[1];a(h,e,y,m)}var _=h.createPattern(p,"repeat");if(_){var b=(0,i.getPixelRatio)(),x=(0,i.transformMatrix)(b,l);_.setTransform(x)}return _},e.defaultSquarePatternCfg=void 0,e.drawSquare=a;var r=n(7),i=n(307),o={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function a(t,e,n,r){var i=e.stroke,o=e.size,a=e.fill,s=e.lineWidth,u=e.fillOpacity;t.globalAlpha=u,t.strokeStyle=i,t.lineWidth=s,t.fillStyle=a,t.strokeRect(n-o/2,r-o/2,o,o),t.fillRect(n-o/2,r-o/2,o,o)}e.defaultSquarePatternCfg=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.area=function(t){var e=t.options,n=e.area,s=e.xField,u=e.yField,l=e.seriesField,c=e.smooth,f=e.tooltip,p=(0,i.getTooltipMapping)(f,[s,u,l]),h=p.fields,d=p.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"area",colorField:l,tooltipFields:h,mapping:(0,r.__assign)({shape:c?"smooth":"area",tooltip:d},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.line=function(t){var e=t.options,n=e.line,s=e.stepType,u=e.xField,l=e.yField,c=e.seriesField,f=e.smooth,p=e.connectNulls,h=e.tooltip,d=(0,i.getTooltipMapping)(h,[u,l,c]),g=d.fields,v=d.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"line",colorField:c,tooltipFields:g,mapping:(0,r.deepMix)({shape:s||(f?"smooth":"line"),tooltip:v},n),args:{connectNulls:p}}})):t};var r=n(0),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interval=function(t){var e=t.options,n=e.xField,l=e.yField,c=e.interval,f=e.seriesField,p=e.tooltip,h=e.minColumnWidth,d=e.maxColumnWidth,g=e.columnBackground,v=e.dodgePadding,y=e.intervalPadding,m=(0,s.getTooltipMapping)(p,[n,l,f]),_=m.fields,b=m.formatter,x=(c?(0,u.geometry)((0,a.deepAssign)({},t,{options:{type:"interval",colorField:f,tooltipFields:_,mapping:(0,r.__assign)({tooltip:b},c),args:{dodgePadding:v,intervalPadding:y,minColumnWidth:h,maxColumnWidth:d,background:g}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,s=n.seriesField,u=n.isGroup,l=n.isStack,c=n.marginRatio,f=n.widthRatio,p=n.groupField,h=n.theme,d=[];return s&&(u&&d.push({type:"dodge",dodgeBy:p||s,marginRatio:c}),l&&d.push({type:"stack",marginRatio:c})),d.length&&(null===r||void 0===r?void 0:r.geometry)&&(null===r||void 0===r?void 0:r.geometry).adjust(d),(0,o.isNil)(f)||e.theme((0,a.deepAssign)({},(0,o.isObject)(h)?h:(0,i.getTheme)(h),{columnWidthRatio:f})),t}((0,r.__assign)((0,r.__assign)({},t),{ext:x}))};var r=n(1),i=n(13),o=n(0),a=n(7),s=n(65),u=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.edge=function(t){var e=t.options,n=e.edge,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=(0,i.getTooltipMapping)(c,[s,u,l]),p=f.fields,h=f.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"edge",colorField:l,tooltipFields:p,mapping:(0,r.__assign)({tooltip:h},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schema=function(t){var e=t.options,n=e.schema,s=e.xField,u=e.yField,l=e.seriesField,c=e.tooltip,f=(0,i.getTooltipMapping)(c,[s,u,l]),p=f.fields,h=f.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"schema",colorField:l,tooltipFields:p,mapping:(0,r.__assign)({tooltip:h},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.violin=function(t){var e=t.options,n=e.violin,s=e.xField,u=e.yField,l=e.seriesField,c=e.sizeField,f=e.tooltip,p=(0,i.getTooltipMapping)(f,[s,u,l,c]),h=p.fields,d=p.formatter;return n?(0,a.geometry)((0,o.deepAssign)({},t,{options:{type:"violin",colorField:l,tooltipFields:h,mapping:(0,r.__assign)({tooltip:d},n)}})):t};var r=n(1),i=n(65),o=n(7),a=n(49)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";var r=n(13),i=n(1221);(0,r.registerAction)("marker-active",i.MarkerActiveAction),(0,r.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerActiveAction=void 0;var r=n(1),i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));(0,i.each)(r,(function(t){(0,i.each)(t.elements,(function(t){var e=-1!==(0,i.findIndex)(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));(0,i.each)(t,(function(t){(0,i.each)(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(n(13).InteractionAction);e.MarkerActiveAction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conversionTag=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(s){var c=s.options,f=s.chart,p=c.conversionTag,h=c.theme;return p&&!n&&(f.theme((0,a.deepAssign)({},(0,i.isObject)(h)?h:(0,o.getTheme)(h),{columnWidthRatio:1/3})),f.annotation().shape({render:function(n,o){var a=n.addGroup({id:f.id+"-conversion-tag-group",name:"conversion-tag-group"}),s=(0,i.find)(f.geometries,(function(t){return"interval"===t.type})),c={view:o,geometry:s,group:a,field:t,horizontal:e,options:u(p,e)},h=e?s.elements:s.elements.slice().reverse();(0,i.each)(h,(function(t,e){e>0&&function(t,e,n){(function(t,e,n){var i=t.view,o=t.geometry,a=t.group,s=t.options,u=t.horizontal,c=s.offset,f=s.size,p=s.arrow,h=i.getCoordinate(),d=l(h,e)[u?3:0],g=l(h,n)[u?0:3],v=g.y-d.y,y=g.x-d.x;if("boolean"!==typeof p){var m,_=p.headSize,b=s.spacing;u?(y-_)/2<b?(b=Math.max(1,(y-_)/2),m=[[d.x+b,d.y-c],[d.x+b,d.y-c-f],[g.x-b,g.y-c-f/2]]):m=[[d.x+b,d.y-c],[d.x+b,d.y-c-f],[g.x-b-_,g.y-c-f],[g.x-b,g.y-c-f/2],[g.x-b-_,g.y-c]]:(v-_)/2<b?(b=Math.max(1,(v-_)/2),m=[[d.x+c,d.y+b],[d.x+c+f,d.y+b],[g.x+c+f/2,g.y-b]]):m=[[d.x+c,d.y+b],[d.x+c+f,d.y+b],[g.x+c+f,g.y-b-_],[g.x+c+f/2,g.y-b],[g.x+c,g.y-b-_]],a.addShape("polygon",{id:i.id+"-conversion-tag-arrow-"+o.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:(0,r.__assign)((0,r.__assign)({},p.style||{}),{points:m})})}})(t,e,n),function(t,e,n){var i,o,a,s=t.view,u=t.geometry,c=t.group,f=t.options,p=t.field,h=t.horizontal,d=f.offset,g=f.size;if("boolean"!==typeof f.text){var v=s.getCoordinate(),y=(null===(i=f.text)||void 0===i?void 0:i.formatter)&&(null===(o=f.text)||void 0===o?void 0:o.formatter(e.getData()[p],n.getData()[p])),m=l(v,e)[h?3:0],_=l(v,n)[h?0:3],b=c.addShape("text",{id:s.id+"-conversion-tag-text-"+u.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:(0,r.__assign)((0,r.__assign)({},(null===(a=f.text)||void 0===a?void 0:a.style)||{}),{text:y,x:h?(m.x+_.x)/2:m.x+d+g/2,y:h?m.y-d-g/2:(m.y+_.y)/2})});if(h){var x=_.x-m.x,w=b.getBBox().width;if(w>x){var S=w/y.length,E=Math.max(1,Math.ceil(x/S)-1),A=y.slice(0,E)+"...";b.attr("text",A)}}}}(t,e,n)}(c,h[e-1],t)}))}})),s}};var r=n(1),i=n(0),o=n(13),a=n(7),s=n(566);function u(t,e){return(0,a.deepAssign)({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:s.conversionTagFormatter}},t)}function l(t,e){return(0,i.map)(e.getModel().points,(function(e){return t.convertPoint(e)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connectedArea=function(t){return void 0===t&&(t=!1),function(e){var n=e.chart,r=e.options.connectedArea,a=function(){n.removeInteraction(i.hover),n.removeInteraction(i.click)};if(!t&&r){var s=r.trigger||"hover";a(),n.interaction(i[s],{start:o(s,r.style)})}else a();return e}};var r=n(13),i={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},o=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};(0,r.registerInteraction)(i.hover,{start:o(i.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),(0,r.registerInteraction)(i.click,{start:o(i.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteractionCfg=a;var r=n(13),i=n(1226);function o(t){return t.isInPlot()}function a(t,e,n){var r=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush:filter","brush:end",r+"-mask:end",r+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null===n||void 0===n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush-x:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush-x:filter","brush-x:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o,action:["brush-y:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null===n||void 0===n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:o,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:o,action:["brush-y:filter","brush-y:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}(0,r.registerAction)("brush-reset-button",i.ButtonAction,{name:"brush-reset-button"}),(0,r.registerInteraction)("filter-action",{}),(0,r.registerInteraction)("brush",a("brush")),(0,r.registerInteraction)("brush-highlight",a("brush-highlight")),(0,r.registerInteraction)("brush-x",a("brush-x","x-rect")),(0,r.registerInteraction)("brush-y",a("brush-y","y-rect")),(0,r.registerInteraction)("brush-x-highlight",a("brush-x-highlight","x-rect")),(0,r.registerInteraction)("brush-y-highlight",a("brush-y-highlight","y-rect"))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonAction=e.BUTTON_ACTION_CONFIG=void 0;var r=n(1),i=n(13),o=n(0),a=n(7),s={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}};e.BUTTON_ACTION_CONFIG=s;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=(0,r.__assign)({name:"button"},s),e}return(0,r.__extends)(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,o.get)(t,["interactions","filter-action","cfg","buttonConfig"]);return(0,a.deepAssign)(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,r.__assign)({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,i=this.getButtonCfg(),o=(0,a.normalPadding)(i.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:(0,r.__assign)({x:e.x-o[3],y:e.y-o[0],width:e.width+o[1]+o[3],height:e.height+o[0]+o[2]},null===(n=i.buttonStyle)||void 0===n?void 0:n.default)});return s.toBack(),t.on("mouseenter",(function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.default)})),s},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=i.Util.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(i.Action);e.ButtonAction=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieLegendAction=void 0;var r=n(1),i=n(13),o=n(0),a=n(576),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getActiveElements=function(){var t=i.Util.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,o=n.get("field");if(o)return e.geometries[0].elements.filter((function(t){return t.getModel().data[o]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return(0,o.isEqual)(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var o=n[r],s=e.geometry.coordinate;if(s.isPolar&&s.isTransposed){var u=i.Util.getAngle(e.getModel(),s),l=(u.startAngle+u.endAngle)/2,c=t,f=c*Math.cos(l),p=c*Math.sin(l);e.shape.setMatrix((0,a.transform)([["t",f,p]])),o.setMatrix((0,a.transform)([["t",f,p]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(i.Action);e.PieLegendAction=s},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.StatisticAction=void 0;var i=r(n(6)),o=n(1),a=n(13),s=n(0),u=n(557),l=n(1231),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=(0,s.get)(r,["data","data"]);if(r.type.match("legend-item")){var c=a.Util.getDelegationObject(this.context),f=n.getGroupedFields()[0];if(c&&f){var p=c.item;o=n.getData().find((function(t){return t[f]===p.value}))}}if(o){var h=(0,s.get)(t,"annotations",[]),d=(0,s.get)(t,"statistic",{});n.getController("annotation").clear(!0),(0,s.each)(h,(function(t){"object"===(0,i.default)(t)&&n.annotation()[t.type](t)})),(0,u.renderStatistic)(n,{statistic:d,plotType:"pie"},o),n.render(!0)}var g=(0,l.getCurrentElement)(this.context);g&&g.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();(0,s.each)(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(a.Action);e.StatisticAction=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentElement=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rose=void 0;var r=n(1),i=n(18),o=n(1233),a=n(1234),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Rose=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){(0,o.flow)((0,a.pattern)("sectorStyle"),u,p,l,f,h,c,a.tooltip,a.interaction,a.animation,a.theme,(0,a.annotation)(),a.state)(t)},e.legend=c;var r=n(1),i=n(0),o=n(7),a=n(21),s=n(29);function u(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,a=n.color;return e.data(r),(0,o.flow)(s.interval)((0,o.deepAssign)({},t,{options:{marginRatio:1,interval:{style:i,color:a}}})),t}function l(t){var e=t.chart,n=t.options,a=n.label,s=n.xField,u=(0,o.findGeometry)(e,"interval");if(!1===a)u.label(!1);else if((0,i.isObject)(a)){var l=a.callback,c=a.fields,f=(0,r.__rest)(a,["callback","fields"]),p=f.offset,h=f.layout;(void 0===p||p>=0)&&(h=h?(0,i.isArray)(h)?h:[h]:[],f.layout=(0,i.filter)(h,(function(t){return"limit-in-shape"!==t.type})),f.layout.length||delete f.layout),u.label({fields:c||[s],callback:l,cfg:(0,o.transformLabel)(f)})}else(0,o.log)(o.LEVEL.WARN,null===a,"the label option must be an Object."),u.label({fields:[s]});return t}function c(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function f(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function p(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,s=n.xField,u=n.yField;return(0,o.flow)((0,a.scale)(((e={})[s]=r,e[u]=i,e)))(t)}function h(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(a,i):e.axis(a,!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right"},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCloud=void 0;var r=n(1),i=n(18),o=n(1236),a=n(578),s=n(577);n(1238);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData((0,s.transform)({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var i=e.options.imageMask;if(!i)return t.prototype.render.call(e),void n();var o=function(i){e.options=(0,r.__assign)((0,r.__assign)({},e.options),{imageMask:i||null}),t.prototype.render.call(e),n()};(0,s.processImageMask)(i).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))},e}(i.Plot);e.WordCloud=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){(0,a.flow)(c,f,o.tooltip,p,o.interaction,o.animation,o.theme,o.state)(t)},e.legend=p;var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(577),l=n(578);function c(t){var e=t.chart,n=t.options,o=n.colorField,c=n.color,f=(0,u.transform)(t);e.data(f);var p=(0,a.deepAssign)({},t,{options:{xField:"x",yField:"y",seriesField:o&&l.WORD_CLOUD_COLOR_FIELD,rawFields:(0,i.isFunction)(c)&&(0,r.__spreadArrays)((0,i.get)(n,"rawFields",[]),["datum"]),point:{color:c,shape:"word-cloud"}}});return(0,s.point)(p).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function f(t){return(0,a.flow)((0,o.scale)({x:{nice:!1},y:{nice:!1}}))(t)}function p(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(l.WORD_CLOUD_COLOR_FIELD,r),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.functor=x,e.transform=o,e.wordCloud=function(t,e){return e=(0,r.assign)({},i,e),o(t,e)};var r=n(0),i={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function o(t,e){var n=function(){var t=[256,256],e=l,n=f,r=c,i=p,o=h,a=m,S=Math.random,E=[],A=1/0,O=u,T=c,C=b,P={};function M(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=s/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function I(e,n,r){for(var i,o,s,u=n.x,l=n.y,c=Math.sqrt(t[0]*t[0]+t[1]*t[1]),f=a(t),p=S()<.5?1:-1,h=-p;(i=f(h+=p))&&(o=~~i[0],s=~~i[1],!(Math.min(Math.abs(o),Math.abs(s))>=c));)if(n.x=u+o,n.y=l+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!g(n,e,t[0]))&&(!r||y(n,r))){for(var d=n.sprite,v=n.width>>5,m=t[0]>>5,_=n.x-(v<<4),b=127&_,x=32-b,w=n.y1-n.y0,E=void 0,A=(n.y+n.y0)*m+(_>>5),O=0;O<w;O++){E=0;for(var T=0;T<=v;T++)e[A+T]|=E<<x|(T<v?(E=d[O*v+T])>>>b:0);A+=m}return delete n.sprite,!0}return!1}return P.start=function(){var a=t[0],s=t[1],u=M(C()),l=P.board?P.board:_((t[0]>>5)*t[1]),c=E.length,f=[],p=E.map((function(t,a,s){return t.text=O.call(this,t,a,s),t.font=e.call(this,t,a,s),t.style=T.call(this,t,a,s),t.weight=r.call(this,t,a,s),t.rotate=i.call(this,t,a,s),t.size=~~n.call(this,t,a,s),t.padding=o.call(this,t,a,s),t})).sort((function(t,e){return e.size-t.size})),h=-1,g=P.board?[{x:0,y:0},{x:a,y:s}]:null;function y(){for(var e=Date.now();Date.now()-e<A&&++h<c;){var n=p[h];n.x=a*(S()+.5)>>1,n.y=s*(S()+.5)>>1,d(u,n,p,h),n.hasText&&I(l,n,g)&&(f.push(n),g?P.hasImage||v(g,n):g=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}P._tags=f,P._bounds=g}return y(),P},P.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var o=r>>5,a=_((r>>5)*i);n.width=r,n.height=i;var s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var u=s.getImageData(0,0,r,i).data,l=0;l<i;l++)for(var c=0;c<r;c++){var f=o*l+(c>>5),p=l*r+c<<2,h=u[p]>=250&&u[p+1]>=250&&u[p+2]>=250?1<<31-c%32:0;a[f]|=h}P.board=a,P.hasImage=!0}},P.timeInterval=function(t){A=null==t?1/0:t},P.words=function(t){E=t},P.size=function(e){t=[+e[0],+e[1]]},P.font=function(t){e=x(t)},P.fontWeight=function(t){r=x(t)},P.rotate=function(t){i=x(t)},P.spiral=function(t){a=w[t]||t},P.fontSize=function(t){n=x(t)},P.padding=function(t){o=x(t)},P.random=function(t){S=x(t)},P}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){(0,r.isNil)(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var i=n.start()._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var o=e.size,a=o[0],S=o[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:a,y:S,opacity:0}),i}var a=Math.PI/180,s=2048;function u(t){return t.text}function l(){return"serif"}function c(){return"normal"}function f(t){return t.value}function p(){return 90*~~(2*Math.random())}function h(){return 1}function d(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,s/o);var u=0,l=0,c=0,f=n.length;for(--r;++r<f;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var p=i.measureText(e.text+"m").width*o,h=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*a),g=Math.cos(e.rotate*a),v=p*g,y=p*d,m=h*g,_=h*d;p=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,h=~~Math.max(Math.abs(y+m),Math.abs(y-m))}else p=p+31>>5<<5;if(h>c&&(c=h),u+p>=2048&&(u=0,l+=c,c=0),l+h>=s)break;i.translate((u+(p>>1))/o,(l+(h>>1))/o),e.rotate&&i.rotate(e.rotate*a),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=p,e.height=h,e.xoff=u,e.yoff=l,e.x1=p>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,u+=p}for(var b=i.getImageData(0,0,2048/o,s/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var w=(p=e.width)>>5,S=(h=e.y1-e.y0,0);S<h*w;S++)x[S]=0;if(null==(u=e.xoff))return;l=e.yoff;for(var E=0,A=-1,O=0;O<h;O++){for(S=0;S<p;S++){var T=w*O+(S>>5),C=b[2048*(l+O)+(u+S)<<2]?1<<31-S%32:0;x[T]|=C,E|=C}E?A=O:(e.y0++,h--,O--,l++)}e.y1=e.y0+A,e.sprite=x.slice(0,(e.y1-e.y0)*w)}}}function g(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var p=0;p<=o;p++)if((r<<u|(p<o?(r=i[f*o+p])>>>s:0))&e[c+p])return!0;c+=n}return!1}function v(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function y(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function m(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function b(){return document.createElement("canvas")}function x(t){return(0,r.isFunction)(t)?t:function(){return t}}var w={archimedean:m,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},function(t,e,n){"use strict";var r=n(1),i=n(13);function o(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}(0,i.registerShape)("point","word-cloud",{draw:function(t,e){var n=t.x,a=t.y,s=e.addShape("text",{attrs:(0,r.__assign)((0,r.__assign)({},o(t)),{x:n,y:a})}),u=t.data.rotate;return"number"===typeof u&&i.Util.rotate(s,u*Math.PI/180),s}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPath=e.getMeta=void 0,e.getQuadrantDefaultConfig=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}};var r=n(1),i=n(551),o=n(0),a=n(7),s={exp:i.regressionExp,linear:i.regressionLinear,loess:i.regressionLoess,log:i.regressionLog,poly:i.regressionPoly,pow:i.regressionPow,quad:i.regressionQuad};e.getPath=function(t){var e=t.options,n=e.xField,r=e.yField,i=e.data,u=e.regressionLine,l=u.type,c=void 0===l?"linear":l,f=u.algorithm;return function(t,e){var n=e.view,r=e.options,i=r.xField,o=r.yField,s=n.getScaleByField(i),u=n.getScaleByField(o),l=t.map((function(t){return n.getCoordinate().convert({x:s.scale(t[0]),y:u.scale(t[1])})}));return(0,a.getSplinePath)(l,!1)}(f?(0,o.isArray)(f)?f:f(i):s[c]().x((function(t){return t[n]})).y((function(t){return t[r]}))(i),t)},e.getMeta=function(t){var e,n=t.meta,i=void 0===n?{}:n,a=t.xField,s=t.yField,u=t.data,l=u[0][a],c=u[0][s],f=l>0,p=c>0;function h(t,e){var n=(0,o.get)(i,[t]);function r(t){return(0,o.get)(n,t)}var a={};return"x"===e?((0,o.isNumber)(l)&&((0,o.isNumber)(r("min"))||(a.min=f?0:2*l),(0,o.isNumber)(r("max"))||(a.max=f?2*l:0)),a):((0,o.isNumber)(c)&&((0,o.isNumber)(r("min"))||(a.min=p?0:2*c),(0,o.isNumber)(r("max"))||(a.max=p?2*c:0)),a)}return(0,r.__assign)((0,r.__assign)({},i),((e={})[a]=(0,r.__assign)((0,r.__assign)({},i[a]),h(a,"x")),e[s]=(0,r.__assign)((0,r.__assign)({},i[s]),h(s,"y")),e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";n(581)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Radar=void 0;var r=n(1),i=n(18),o=n(7),a=n(1243);n(1244);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return(0,r.__extends)(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return(0,o.deepAssign)({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.Radar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(s,u,i.theme,l,c,i.legend,i.tooltip,f,i.interaction,i.animation,(0,i.annotation)())(t)};var r=n(1),i=n(21),o=n(29),a=n(7);function s(t){var e=t.chart,n=t.options,i=n.data,s=n.lineStyle,u=n.color,l=n.point,c=n.area;e.data(i);var f=(0,a.deepAssign)({},t,{options:{line:{style:s,color:u},point:l?(0,r.__assign)({color:u},l):l,area:c?(0,r.__assign)({color:u},c):c,label:void 0}}),p=(0,a.deepAssign)({},f,{options:{tooltip:!1}}),h=(null===l||void 0===l?void 0:l.state)||n.state,d=(0,a.deepAssign)({},f,{options:{tooltip:!1,state:h}});return(0,o.line)(f),(0,o.point)(d),(0,o.area)(p),t}function u(t){var e,n=t.options,r=n.xAxis,o=n.yAxis,s=n.xField,u=n.yField;return(0,a.flow)((0,i.scale)(((e={})[s]=r,e[u]=o,e)))(t)}function l(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:o}),t}function c(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(r,i),e.axis(o,a),t}function f(t){var e=t.chart,n=t.options,i=n.label,o=n.yField,s=(0,a.findGeometry)(e,"line");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[o],callback:u,cfg:(0,a.transformLabel)(l)})}else s.label(!1);return t}},function(t,e,n){"use strict";var r=n(13),i=n(1245);(0,r.registerAction)("radar-tooltip",i.RadarTooltipAction),(0,r.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadarTooltipController=e.RadarTooltipAction=void 0;var r=n(1),i=n(13),o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),a=n.shared,s=n.title,u=t.prototype.getTooltipItems.call(this,e);if(u.length>0){var l=this.view.geometries[0],c=l.dataArray,f=u[0].name,p=[];return c.forEach((function(t){t.forEach((function(t){var e=i.Util.getTooltipItems(t,l)[0];if(!a&&e&&e.name===f){var n=(0,o.isNil)(s)?f:s;p.push((0,r.__assign)((0,r.__assign)({},e),{name:e.title,title:n}))}else a&&e&&(n=(0,o.isNil)(s)?e.name||f:s,p.push((0,r.__assign)((0,r.__assign)({},e),{name:e.title,title:n})))}))})),p}return[]},e}(i.TooltipController);e.RadarTooltipController=a,(0,i.registerComponentController)("radar-tooltip",a);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(i.Action);e.RadarTooltipAction=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DualAxes=void 0;var r=n(1),i=n(18),o=n(7),a=n(1247),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}return(0,r.__extends)(e,t),e.prototype.getDefaultOptions=function(){return(0,o.deepAssign)({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(i.Plot);e.DualAxes=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)(g,v,E,y,_,b,O,x,w,S,A,m,T,C)(t)},e.animation=A,e.annotation=S,e.axis=b,e.color=m,e.interaction=w,e.legend=T,e.limitInPlot=O,e.meta=_,e.slider=C,e.theme=E,e.tooltip=x,e.transformOptions=g;var r=n(1),i=n(0),o=n(21),a=n(125),s=n(7),u=n(555),l=n(308),c=n(1248),f=n(1249),p=n(1250),h=n(582),d=n(583);function g(t){var e,n=t.options,r=n.geometryOptions,o=void 0===r?[]:r,a=n.xField,u=n.yField,c=(0,i.every)(o,(function(t){var e=t.geometry;return e===h.DualAxesGeometry.Line||void 0===e}));return(0,s.deepAssign)({},{options:{geometryOptions:[],meta:(e={},e[a]={type:"cat",sync:!0,range:c?[0,1]:void 0},e),tooltip:{showMarkers:c,showCrosshairs:c,shared:!0,crosshairs:{type:"x"}},interactions:c?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:(0,l.transformObjectToArray)(u,n.yAxis),geometryOptions:[(0,l.getGeometryOption)(a,u[0],o[0]),(0,l.getGeometryOption)(a,u[1],o[1])],annotations:(0,l.transformObjectToArray)(u,n.annotations)}})}function v(t){var e,n,r=t.chart,i=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:d.LEFT_AXES_VIEW},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:d.RIGHT_AXES_VIEW}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function y(t){var e=t.chart,n=t.options,i=n.xField,o=n.yField,s=n.geometryOptions,c=n.data,p=n.tooltip;return[(0,r.__assign)((0,r.__assign)({},s[0]),{id:d.LEFT_AXES_VIEW,data:c[0],yField:o[0]}),(0,r.__assign)((0,r.__assign)({},s[1]),{id:d.RIGHT_AXES_VIEW,data:c[1],yField:o[1]})].forEach((function(t){var n=t.id,o=t.data,s=t.yField,c=(0,l.isColumn)(t)&&t.isPercent,h=c?(0,a.percent)(o,s,i,s):o,d=(0,u.findViewById)(e,n).data(h),g=c?(0,r.__assign)({formatter:function(e){return{name:e[t.seriesField]||s,value:(100*Number(e[s])).toFixed(2)+"%"}}},p):p;(0,f.drawSingleGeometry)({chart:d,options:{xField:i,yField:s,tooltip:g,geometryOption:t}})})),t}function m(t){var e,n=t.chart,r=t.options.geometryOptions,o=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],a=0;return n.once("beforepaint",(function(){(0,i.each)(r,(function(t,e){var r=(0,u.findViewById)(n,0===e?d.LEFT_AXES_VIEW:d.RIGHT_AXES_VIEW);if(!t.color){var s=r.getGroupScales(),l=(0,i.get)(s,[0,"values","length"],1),c=o.slice(a,a+l).concat(0===e?[]:o);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,c):e.color(c[0])})),a+=l}})),n.render(!0)})),t}function _(t){var e,n,r=t.chart,i=t.options,a=i.xAxis,l=i.yAxis,c=i.xField,f=i.yField;return(0,o.scale)(((e={})[c]=a,e[f[0]]=l[0],e))((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(r,d.LEFT_AXES_VIEW)})),(0,o.scale)(((n={})[c]=a,n[f[1]]=l[1],n))((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(r,d.RIGHT_AXES_VIEW)})),t}function b(t){var e=t.chart,n=t.options,r=(0,u.findViewById)(e,d.LEFT_AXES_VIEW),i=(0,u.findViewById)(e,d.RIGHT_AXES_VIEW),o=n.xField,a=n.yField,s=n.xAxis,c=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,s),r.axis(a[0],(0,l.getYAxisWithDefault)(c[0],h.AxisType.Left)),i.axis(o,!1),i.axis(a[1],(0,l.getYAxisWithDefault)(c[1],h.AxisType.Right)),t}function x(t){var e=t.chart,n=t.options.tooltip,r=(0,u.findViewById)(e,d.LEFT_AXES_VIEW),i=(0,u.findViewById)(e,d.RIGHT_AXES_VIEW);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function w(t){var e=t.chart;return(0,o.interaction)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.LEFT_AXES_VIEW)})),(0,o.interaction)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.RIGHT_AXES_VIEW)})),t}function S(t){var e=t.chart,n=t.options.annotations,r=(0,i.get)(n,[0]),a=(0,i.get)(n,[1]);return(0,o.annotation)(r)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.LEFT_AXES_VIEW),options:{annotations:r}})),(0,o.annotation)(a)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.RIGHT_AXES_VIEW),options:{annotations:a}})),t}function E(t){var e=t.chart;return(0,o.theme)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.LEFT_AXES_VIEW)})),(0,o.theme)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.RIGHT_AXES_VIEW)})),(0,o.theme)(t),t}function A(t){var e=t.chart;return(0,o.animation)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.LEFT_AXES_VIEW)})),(0,o.animation)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.RIGHT_AXES_VIEW)})),t}function O(t){var e=t.chart,n=t.options.yAxis;return(0,o.limitInPlot)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.LEFT_AXES_VIEW),options:{yAxis:n[0]}})),(0,o.limitInPlot)((0,s.deepAssign)({},t,{chart:(0,u.findViewById)(e,d.RIGHT_AXES_VIEW),options:{yAxis:n[1]}})),t}function T(t){var e=t.chart,n=t.options,r=n.legend,o=n.geometryOptions,a=n.yField,l=n.data,f=(0,u.findViewById)(e,d.LEFT_AXES_VIEW),p=(0,u.findViewById)(e,d.RIGHT_AXES_VIEW);if(!1===r)e.legend(!1);else if((0,i.isObject)(r)&&!0===r.custom)e.legend(r);else{var h=(0,i.get)(o,[0,"legend"],r),g=(0,i.get)(o,[1,"legend"],r);e.once("beforepaint",(function(){var t=l[0].length?(0,c.getViewLegendItems)({view:f,geometryOption:o[0],yField:a[0],legend:h}):[],n=l[1].length?(0,c.getViewLegendItems)({view:p,geometryOption:o[1],yField:a[1],legend:g}):[];e.legend((0,s.deepAssign)({},r,{custom:!0,items:t.concat(n)}))})),o[0].seriesField&&f.legend(o[0].seriesField,h),o[1].seriesField&&p.legend(o[1].seriesField,g),e.on("legend-item:click",(function(t){var n=(0,i.get)(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,o=r.value,s=r.isGeometry,l=r.viewId;if(s){if((0,i.findIndex)(a,(function(t){return t===o}))>-1){var c=(0,i.get)((0,u.findViewById)(e,l),"geometries");(0,i.each)(c,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var f=(0,i.get)(e.getController("legend"),"option.items",[]);(0,i.each)(e.views,(function(t){var n=t.getGroupScales();(0,i.each)(n,(function(e){e.values&&e.values.indexOf(o)>-1&&t.filter(e.field,(function(t){return!(0,i.find)(f,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function C(t){var e=t.chart,n=t.options.slider,r=(0,u.findViewById)(e,d.LEFT_AXES_VIEW),o=(0,u.findViewById)(e,d.RIGHT_AXES_VIEW);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;(0,i.isEqual)(n,r)||(0,p.doSliderFilter)(o,n)})),e.once("afterpaint",(function(){if(!(0,i.isBoolean)(n)){var t=n.start,e=n.end;(t||e)&&(0,p.doSliderFilter)(o,[t,e])}}))),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getViewLegendItems=function(t){var e=t.view,n=t.geometryOption,s=t.yField,u=t.legend,l=(0,r.get)(u,"marker"),c=(0,o.findGeometry)(e,(0,a.isLine)(n)?"line":"interval");if(!n.seriesField){var f=(0,r.get)(e,"options.scales."+s+".alias")||s,p=c.getAttribute("color"),h=e.getTheme().defaultColor;p&&(h=i.Util.getMappingValue(p,f,(0,r.get)(p,["values",0],h)));var d=((0,r.isFunction)(l)?l:!(0,r.isEmpty)(l)&&(0,o.deepAssign)({},{style:{stroke:h,fill:h}},l))||((0,a.isLine)(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:h}}:{symbol:"square",style:{fill:h}});return[{value:s,name:f,marker:d,isGeometry:!0,viewId:e.id}]}var g=c.getGroupAttributes();return(0,r.reduce)(g,(function(t,n){var r=i.Util.getLegendItems(e,c,n,e.getTheme(),l);return t.concat(r)}),[])};var r=n(0),i=n(13),o=n(7),a=n(308)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawSingleGeometry=function(t){var e=t.options,n=t.chart,l=e.geometryOption,c=l.isStack,f=l.color,p=l.seriesField,h=l.groupField,d=l.isGroup,g=["xField","yField"];if((0,u.isLine)(l)){(0,o.line)((0,a.deepAssign)({},t,{options:(0,r.__assign)((0,r.__assign)((0,r.__assign)({},(0,a.pick)(e,g)),l),{line:{color:l.color,style:l.lineStyle}})})),(0,o.point)((0,a.deepAssign)({},t,{options:(0,r.__assign)((0,r.__assign)((0,r.__assign)({},(0,a.pick)(e,g)),l),{point:l.point&&(0,r.__assign)({color:f,shape:"circle"},l.point)})}));var v=[];d&&v.push({type:"dodge",dodgeBy:h||p,customOffset:0}),c&&v.push({type:"stack"}),v.length&&(0,i.each)(n.geometries,(function(t){t.adjust(v)}))}return(0,u.isColumn)(l)&&(0,s.adaptor)((0,a.deepAssign)({},t,{options:(0,r.__assign)((0,r.__assign)((0,r.__assign)({},(0,a.pick)(e,g)),l),{widthRatio:l.columnWidthRatio,interval:(0,r.__assign)((0,r.__assign)({},(0,a.pick)(l,["color"])),{style:l.columnStyle})})})),t};var r=n(1),i=n(0),o=n(29),a=n(7),s=n(199),u=n(308)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doSliderFilter=void 0;var r=n(0),i=n(7);e.doSliderFilter=function(t,e){var n=e[0],o=e[1],a=t.getOptions().data,s=t.getXScale(),u=(0,r.size)(a);if(s&&u){var l=(0,r.valuesOfKey)(a,s.field),c=l,f=(0,r.size)(c),p=Math.floor(n*(f-1)),h=Math.floor(o*(f-1));t.filter(s.field,(function(t){var e=c.indexOf(t);return!(e>-1)||(0,i.isBetween)(e,p,h)})),t.render(!0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_TOOLTIP_OPTIONS=e.DEFAULT_OPTIONS=void 0;var r=n(1),i=n(0),o={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+(0,i.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}};e.DEFAULT_TOOLTIP_OPTIONS=o;var a={appendPadding:2,tooltip:(0,r.__assign)({},o),animation:{}};e.DEFAULT_OPTIONS=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(1),i=n(157),o={appendPadding:2,tooltip:(0,r.__assign)({},i.DEFAULT_TOOLTIP_OPTIONS),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}};e.DEFAULT_OPTIONS=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Heatmap=void 0;var r=n(1),i=n(18),o=n(1255),a=n(1256);n(1257),n(1258);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Heatmap=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,o.flow)(a.theme,(0,a.pattern)("heatmapStyle"),c,d,l,f,p,a.tooltip,h,(0,a.annotation)(),a.interaction,a.animation,a.state)(t)};var r=n(1),i=n(0),o=n(7),a=n(21),s=n(49),u=n(65);function l(t){var e=t.chart,n=t.options,r=n.data,a=n.type,l=n.xField,c=n.yField,f=n.colorField,p=n.sizeField,h=n.sizeRatio,d=n.shape,g=n.color,v=n.tooltip,y=n.heatmapStyle;e.data(r);var m="polygon";"density"===a&&(m="heatmap");var _=(0,u.getTooltipMapping)(v,[l,c,f]),b=_.fields,x=_.formatter,w=1;return(h||0===h)&&(d||p?h<0||h>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):w=h:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),(0,s.geometry)((0,o.deepAssign)({},t,{options:{type:m,colorField:f,tooltipFields:b,shapeField:p||"",label:void 0,mapping:{tooltip:x,shape:d&&(p?function(t){var e=r.map((function(t){return t[p]})),n=Math.min.apply(Math,e),o=Math.max.apply(Math,e);return[d,((0,i.get)(t,p)-n)/(o-n),w]}:function(){return[d,1,w]}),color:g||f&&e.getTheme().sequenceColors.join("-"),style:y}}})),t}function c(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,s=n.xField,u=n.yField;return(0,o.flow)((0,a.scale)(((e={})[s]=r,e[u]=i,e)))(t)}function f(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function p(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,a=n.sizeLegend,s=!1!==r;return i&&e.legend(i,!!s&&r),o&&e.legend(o,void 0===a?r:a),s||a||e.legend(!1),t}function h(t){var e=t.chart,n=t.options,i=n.label,a=n.colorField,s=n.type,u=(0,o.findGeometry)(e,"density"===s?"heatmap":"polygon");if(i){if(a){var l=i.callback,c=(0,r.__rest)(i,["callback"]);u.label({fields:[a],callback:l,cfg:(0,o.transformLabel)(c)})}}else u.label(!1);return t}function d(t){var e=t.chart,n=t.options,r=n.coordinate,i=n.reflect;return r&&e.coordinate({type:r.type||"rect",cfg:r.cfg}),i&&e.coordinate().reflect(i),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";var r=n(1);(0,n(13).registerShape)("polygon","circle",{draw:function(t,e){var n,i,o=t.x,a=t.y,s=this.parsePoints(t.points),u=Math.abs(s[2].x-s[1].x),l=Math.abs(s[1].y-s[0].y),c=Math.min(u,l)/2,f=Number(t.shape[1]),p=Number(t.shape[2]),h=c*Math.sqrt(p)*Math.sqrt(f),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("circle",{attrs:(0,r.__assign)((0,r.__assign)((0,r.__assign)({x:o,y:a,r:h},t.defaultStyle),t.style),{fill:d})})}})},function(t,e,n){"use strict";var r=n(1);(0,n(13).registerShape)("polygon","square",{draw:function(t,e){var n,i,o=t.x,a=t.y,s=this.parsePoints(t.points),u=Math.abs(s[2].x-s[1].x),l=Math.abs(s[1].y-s[0].y),c=Math.min(u,l),f=Number(t.shape[1]),p=Number(t.shape[2]),h=c*Math.sqrt(p)*Math.sqrt(f),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("rect",{attrs:(0,r.__assign)((0,r.__assign)((0,r.__assign)({x:o-h/2,y:a-h/2,width:h,height:h},t.defaultStyle),t.style),{fill:d})})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Box=void 0;var r=n(1),i=n(18),o=n(1260),a=n(597),s=n(311),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===s.OUTLIERS_VIEW_ID}));n&&n.data(t),this.chart.changeData((0,a.transformData)(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Box=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)(f,p,h,d,g,o.tooltip,o.interaction,o.animation,o.theme)(t)},e.legend=g;var r=n(1),i=n(0),o=n(21),a=n(29),s=n(7),u=n(99),l=n(311),c=n(597);function f(t){var e=t.chart,n=t.options,r=n.xField,o=n.yField,u=n.groupField,f=n.color,p=n.tooltip,h=n.boxStyle;e.data((0,c.transformData)(n.data,o));var d=(0,i.isArray)(o)?l.BOX_RANGE:o,g=o?(0,i.isArray)(o)?o:[o]:[],v=p;!1!==v&&(v=(0,s.deepAssign)({},{fields:(0,i.isArray)(o)?o:[]},v));var y=(0,a.schema)((0,s.deepAssign)({},t,{options:{xField:r,yField:d,seriesField:u,tooltip:v,rawFields:g,label:!1,schema:{shape:"box",color:f,style:h}}})).ext;return u&&y.geometry.adjust("dodge"),t}function p(t){var e=t.chart,n=t.options,i=n.xField,o=n.data,s=n.outliersField,u=n.outliersStyle,c=n.padding,f=n.label;if(!s)return t;var p=e.createView({padding:c,id:l.OUTLIERS_VIEW_ID}),h=o.reduce((function(t,e){return e[s].forEach((function(n){var i;return t.push((0,r.__assign)((0,r.__assign)({},e),((i={})[s]=n,i)))})),t}),[]);return p.data(h),(0,a.point)({chart:p,options:{xField:i,yField:s,point:{shape:"circle",style:u},label:f}}),p.axis(!1),t}function h(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,c=i.yAxis,f=i.xField,p=i.yField,h=i.outliersField,d=Array.isArray(p)?l.BOX_RANGE:p,g={};if(h){var v=l.BOX_SYNC_NAME;(e={})[h]={sync:v,nice:!0},e[d]={sync:v,nice:!0},g=e}var y=(0,s.deepAssign)(g,o,((n={})[f]=(0,s.pick)(a,u.AXIS_META_CONFIG_KEYS),n[d]=(0,s.pick)(c,u.AXIS_META_CONFIG_KEYS),n));return r.scale(y),t}function d(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,s=Array.isArray(a)?l.BOX_RANGE:a;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(l.BOX_RANGE,!1):e.axis(s,i),t}function g(t){var e=t.chart,n=t.options,r=n.legend,i=n.groupField;return i?r?e.legend(i,r):e.legend(i,{position:"bottom"}):e.legend(!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Violin=void 0;var r=n(1),i=n(18),o=n(1262),a=n(599),s=n(598),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData((0,s.transformViolinData)(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Violin=u},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,l.flow)(s.theme,g,v,y,m,s.tooltip,_,b,s.interaction,x,w)(t)},e.animation=w;var i=r(n(6)),o=n(1),a=n(0),s=n(21),u=n(29),l=n(7),c=n(99),f=n(598),p=n(599),h=["low","high","q1","q3","median"],d=[{type:"dodge",marginRatio:1/32}];function g(t){var e=t.chart,n=t.options;return e.data((0,f.transformViolinData)(n)),t}function v(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,a=n.shape,s=void 0===a?"violin":a,l=n.violinStyle,c=n.tooltip,f=n.state,g=e.createView({id:p.VIOLIN_VIEW_ID});return(0,u.violin)({chart:g,options:{xField:p.X_FIELD,yField:p.VIOLIN_Y_FIELD,seriesField:r||p.X_FIELD,sizeField:p.VIOLIN_SIZE_FIELD,tooltip:(0,o.__assign)({fields:h},c),violin:{style:l,color:i,shape:s},state:f}}),g.geometries[0].adjust(d),t}function y(t){var e=t.chart,n=t.options,r=n.seriesField,a=n.color,s=n.tooltip,l=n.box;if(!1===l)return t;var c=e.createView({id:p.MIN_MAX_VIEW_ID});(0,u.interval)({chart:c,options:{xField:p.X_FIELD,yField:p.MIN_MAX_FIELD,seriesField:r||p.X_FIELD,tooltip:(0,o.__assign)({fields:h},s),state:"object"===(0,i.default)(l)?l.state:{},interval:{color:a,size:1,style:{lineWidth:0}}}}),c.geometries[0].adjust(d);var f=e.createView({id:p.QUANTILE_VIEW_ID});(0,u.interval)({chart:f,options:{xField:p.X_FIELD,yField:p.QUANTILE_FIELD,seriesField:r||p.X_FIELD,tooltip:(0,o.__assign)({fields:h},s),state:"object"===(0,i.default)(l)?l.state:{},interval:{color:a,size:8,style:{fillOpacity:1}}}}),f.geometries[0].adjust(d);var g=e.createView({id:p.MEDIAN_VIEW_ID});return(0,u.point)({chart:g,options:{xField:p.X_FIELD,yField:p.MEDIAN_FIELD,seriesField:r||p.X_FIELD,tooltip:(0,o.__assign)({fields:h},s),state:"object"===(0,i.default)(l)?l.state:{},point:{color:a,size:1,style:{fill:"white",lineWidth:0}}}}),g.geometries[0].adjust(d),f.axis(!1),c.axis(!1),g.axis(!1),g.legend(!1),c.legend(!1),f.legend(!1),t}function m(t){var e,n=t.chart,r=t.options,i=r.meta,a=r.xAxis,s=r.yAxis,u=(0,l.deepAssign)({},i,((e={})[p.X_FIELD]=(0,o.__assign)((0,o.__assign)({sync:!0},(0,l.pick)(a,c.AXIS_META_CONFIG_KEYS)),{type:"cat"}),e[p.VIOLIN_Y_FIELD]=(0,o.__assign)({sync:!0},(0,l.pick)(s,c.AXIS_META_CONFIG_KEYS)),e[p.MIN_MAX_FIELD]=(0,o.__assign)({sync:p.VIOLIN_Y_FIELD},(0,l.pick)(s,c.AXIS_META_CONFIG_KEYS)),e[p.QUANTILE_FIELD]=(0,o.__assign)({sync:p.VIOLIN_Y_FIELD},(0,l.pick)(s,c.AXIS_META_CONFIG_KEYS)),e[p.MEDIAN_FIELD]=(0,o.__assign)({sync:p.VIOLIN_Y_FIELD},(0,l.pick)(s,c.AXIS_META_CONFIG_KEYS)),e));return n.scale(u),t}function _(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=(0,l.findViewById)(e,p.VIOLIN_VIEW_ID);return!1===r?o.axis(p.X_FIELD,!1):o.axis(p.X_FIELD,r),!1===i?o.axis(p.VIOLIN_Y_FIELD,!1):o.axis(p.VIOLIN_Y_FIELD,i),e.axis(!1),t}function b(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField,o=n.shape;if(!1===r)e.legend(!1);else{var s=i||p.X_FIELD,u=(0,a.omit)(r,["selected"]);o&&o.startsWith("hollow")||(0,a.get)(u,["marker","style","lineWidth"])||(0,a.set)(u,["marker","style","lineWidth"],0),e.legend(s,u),(0,a.get)(r,"selected")&&(0,a.each)(e.views,(function(t){return t.legend(s,r)}))}return t}function x(t){var e=t.chart,n=(0,l.findViewById)(e,p.VIOLIN_VIEW_ID);return(0,s.annotation)()((0,o.__assign)((0,o.__assign)({},t),{chart:n})),t}function w(t){var e=t.chart,n=t.options.animation;return(0,a.each)(e.views,(function(t){"boolean"===typeof n?t.animate(n):t.animate(!0),(0,a.each)(t.geometries,(function(t){t.animate(n)}))})),t}},function(t,e,n){"use strict";var r=Math.log(2),i=t.exports,o=n(1264);function a(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return i.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,i=o.isNumber(e.width)?e.width:2,a=o.isNumber(e.size)?e.size:50,s=o.isNumber(e.min)?e.min:(n=!0,o.findMinMulti(t)),u=o.isNumber(e.max)?e.max:(r=!0,o.findMaxMulti(t)),l=(u-s)/(a-1);return n&&(s-=2*i*l),r&&(u+=2*i*l),{min:s,max:u}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=o.isNumber(e.size)?e.size:50,r=o.isNumber(e.width)?e.width:2,s=i.getUnifiedMinMax(t,{size:n,width:r,min:e.min,max:e.max}),u=s.min,l=s.max-u,c=l/(n-1);if(0===l)return[{x:u,y:1}];for(var f=[],p=0;p<n;p++)f.push({x:u+p*c,y:0});var h=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(a,r),d=h[r],g=h[r-1]-h[r-2],v=0;t.forEach((function(t){var e=function(t){return Math.floor((t-u)/c)}(t);if(!(e+r<0||e-r>=f.length)){var n=Math.max(e-r,0),i=e,a=Math.min(e+r,f.length-1),s=n-(e-r),l=e+r-a,p=h[-r-1+s]||0,y=h[-r-1+l]||0,m=d/(d-p-y);s>0&&(v+=m*(s-1)*g);var _=Math.max(0,e-r+1);o.inside(0,f.length-1,_)&&(f[_].y+=1*m*g),o.inside(0,f.length-1,i+1)&&(f[i+1].y-=2*m*g),o.inside(0,f.length-1,a+1)&&(f[a+1].y+=1*m*g)}}));var y=v,m=0,_=0;return f.forEach((function(t){m+=t.y,y+=m,t.y=y,_+=y})),_>0&&f.forEach((function(t){t.y/=_})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&(r=i,!((n+=t[i].y)>=e));i++);return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/r,Math.pow(2,e)}}},function(t,e,n){"use strict";var r=t.exports;t.exports.isNumber=function(t){return"number"===typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var e=r.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,r.findMin(t[n]));return e},t.exports.findMaxMulti=function(t){for(var e=r.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,r.findMax(t[n]));return e},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},function(t,e,n){"use strict";function r(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var a=r-n+1,s=e-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a);s-a/2<0&&(c*=-1),o(t,e,Math.max(n,Math.floor(e-s*l/a+c)),Math.min(r,Math.floor(e+(a-s)*l/a+c)))}var f=t[e],p=n,h=r;for(i(t,n,e),t[r]>f&&i(t,n,r);p<h;){for(i(t,p,h),p++,h--;t[p]<f;)p++;for(;t[h]>f;)h--}t[n]===f?i(t,n,h):i(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function a(t,e,n,r){e%1===0?o(t,e,n,r):(o(t,e=Math.floor(e),n,r),o(t,e+1,e+1,r))}function s(t,e){return t-e}function u(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!==0?Math.ceil(n)-1:t%2===0?n-.5:n}Object.defineProperty(e,"__esModule",{value:!0}),e.quantile=function(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(u(t.length,e[r]));n.push(t.length-1),n.sort(s);for(var i=[0,n.length-1];i.length;){var o=Math.ceil(i.pop()),l=Math.floor(i.pop());if(!(o-l<=1)){var c=Math.floor((l+o)/2);a(t,n[c],Math.floor(n[l]),Math.ceil(n[o])),i.push(l,c,c,o)}}}(n,e);for(var i=[],o=0;o<e.length;o++)i[o]=r(n,e[o]);return i}var l=u(n.length,e);return a(n,l,0,n.length-1),r(n,e)},e.quantileSorted=r,e.quickselect=o,e.swap=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Venn=void 0;var r=n(1),i=n(18),o=n(1267),a=n(201),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(i.Plot);e.Venn=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LEGEND_SPACE=void 0,e.adaptor=function(t){return(0,s.flow)(f,o.theme,p,h,d,(0,o.scale)({}),g,v,o.tooltip,y,o.animation)(t)},e.axis=v,e.legend=g;var r=n(1),i=n(0),o=n(21),a=n(29),s=n(7),u=n(1268),l=n(201);function c(t,e,n){var r=t.chart,o=t.options,a=o.blendMode,s=o.setsField,l=r.getTheme(),c=l.colors10,f=l.colors20,p=n;(0,i.isArray)(p)||(p=e.filter((function(t){return 1===t[s].length})).length<=10?c:f);var h=(0,u.getColorMap)(p,e,a,s);return function(t){return h.get(t)||p[0]}}function f(t){var e=t.chart,n=t.options,r=n.legend,o=n.appendPadding,a=n.padding,u=(0,s.normalPadding)(o);return!1!==r&&(u=(0,s.getAdjustAppendPadding)(o,(0,i.get)(r,"position"),40)),e.appendPadding=(0,s.resolveAllPadding)([u,a]),t}function p(t){var e=t.options.data;e||((0,s.log)(s.LEVEL.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=e.filter((function(t){var e=t.sets;return(0,u.islegalSets)(n,e)}));return(0,i.isEqual)(r,e)||(0,s.log)(s.LEVEL.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,i.deepMix)({},t,{options:{data:r}})}function h(t){var e=t.chart,n=t.options,r=n.pointStyle,i=n.setsField,o=n.sizeField,f=(0,s.normalPadding)(e.appendPadding),p=f[0],h=f[1],d=f[2],g=f[3],v={offsetX:g,offsetY:p},y=e.viewBBox,m=y.width,_=y.height,b=(0,u.layoutVennData)(n,Math.max(m-(h+g),0),Math.max(_-(p+d),0),0);e.data(b);var x=(0,a.schema)((0,s.deepAssign)({},t,{options:{xField:"x",yField:"y",sizeField:o,seriesField:l.ID_FIELD,rawFields:[i,o],schema:{shape:"venn",style:r}}})).ext.geometry;x.customInfo(v);var w=function(t,e){var n=t.options.color;if("function"!==typeof n){var r=c(t,e,"string"===typeof n?[n]:n);return function(t){return r(t[l.ID_FIELD])}}return n}(t,b);return"function"===typeof w&&x.color(l.ID_FIELD,(function(e){var n=b.find((function(t){return t[l.ID_FIELD]===e})),r=c(t,b)(e);return w(n,r)})),t}function d(t){var e=t.chart,n=t.options.label,o=(0,s.normalPadding)(e.appendPadding),a=o[0],u={offsetX:o[3],offsetY:a},l=(0,s.findGeometry)(e,"schema");if(n){var c=n.callback,f=(0,r.__rest)(n,["callback"]);l.label({fields:["id"],callback:c,cfg:(0,i.deepMix)({},(0,s.transformLabel)(f),{type:"venn",customLabelInfo:u})})}else l.label(!1);return t}function g(t){var e=t.chart,n=t.options,r=n.legend,i=n.sizeField;return e.legend(l.ID_FIELD,r),e.legend(i,!1),t}function v(t){return t.chart.axis(!1),t}function y(t){var e=t.options,n=t.chart,i=e.interactions;if(i){var a={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};(0,o.interaction)((0,s.deepAssign)({},t,{options:{interactions:i.map((function(t){return(0,r.__assign)((0,r.__assign)({},t),{type:a[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}n(1272),n(1273),n(1274),e.LEGEND_SPACE=40},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorMap=void 0,e.islegalSets=function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0},e.layoutVennData=function(t,e,n,o){void 0===o&&(o=0);var c=t.data,f=t.setsField,p=t.sizeField;if(0===c.length)return(0,a.log)(a.LEVEL.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var h=c.map((function(t){var e;return(0,r.__assign)((0,r.__assign)({},t),((e={sets:t[f]||[],size:t[p]})[l.PATH_FIELD]="",e[l.ID_FIELD]="",e))}));h.sort((function(t,e){return t.sets.length-e.sets.length}));var d=(0,s.venn)(h),g=(0,s.scaleSolution)(d,e,n,o),v=(0,u.computeTextCentres)(g,h);return h.forEach((function(t){var e=t.sets,n=e.join(",");t[l.ID_FIELD]=n;var r=e.map((function(t){return g[t]})),o=(0,u.intersectionAreaPath)(r);/[zZ]$/.test(o)||(o+=" Z"),t[l.PATH_FIELD]=o;var a=v[n]||{x:0,y:0};(0,i.assign)(t,a)})),h};var r=n(1),i=n(0),o=n(1269),a=n(7),s=n(1270),u=n(1271),l=n(201),c=(0,i.memoize)((function(t,e,n,r){var i=new Map,a=t.length;return e.forEach((function(e,s){if(1===e[r].length)i.set(e[l.ID_FIELD],t[(s+a)%a]);else{var u=e[r].map((function(t){return i.get(t)}));i.set(e[l.ID_FIELD],u.slice(1).reduce((function(t,e){return(0,o.blend)(t,e,n)}),u[0]))}})),i}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));e.getColorMap=c},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.blend=function(t,e,n){void 0===n&&(n="normal");var r,i=(r=a(n),function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n})(s(t),s(e)),o=s(t),u=o[0],l=o[1],c=o[2],f=o[3],p=s(e),h=p[0],d=p[1],g=p[2],v=p[3],y=Number((f+v*(1-f)).toFixed(2)),m=Math.round((f*(1-v)*(u/255)+f*v*(i[0]/255)+(1-f)*v*(h/255))/y*255),_=Math.round((f*(1-v)*(l/255)+f*v*(i[1]/255)+(1-f)*v*(d/255))/y*255),b=Math.round((f*(1-v)*(c/255)+f*v*(i[2]/255)+(1-f)*v*(g/255))/y*255);return"rgba("+m+", "+_+", "+b+", "+y+")"},e.colorToArr=s,e.innerBlend=void 0;var i=r(n(141)),o={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}},a=function(t){if(!o[t])throw new Error("unknown blend mode "+t);return o[t]};function s(t){var e,n=t.replace("/s+/g","");return"string"!==typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=i.default.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):i.default.rgb2arr(i.default.toRGB(n)).concat([1])}e.innerBlend=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bestInitialLayout=s,e.constrainedMDSLayout=u,e.disjointCluster=p,e.distanceFromIntersectArea=o,e.getDistanceMatrices=a,e.greedyLayout=l,e.lossFunction=c,e.normalizeSolution=function(t,e,n){null===e&&(e=Math.PI/2);var r,i,o=[];for(i in t)if(t.hasOwnProperty(i)){var a=t[i];o.push({x:a.x,y:a.y,radius:a.radius,setid:i})}var s=p(o);for(r=0;r<s.length;++r){f(s[r],e,n);var u=h(s[r]);s[r].size=(u.xRange.max-u.xRange.min)*(u.yRange.max-u.yRange.min),s[r].bounds=u}s.sort((function(t,e){return e.size-t.size}));var l=(o=s[0]).bounds,c=(l.xRange.max-l.xRange.min)/50;function d(t,e,n){if(t){var r,i,a,s=t.bounds;e?r=l.xRange.max-s.xRange.min+c:(r=l.xRange.max-s.xRange.max,(a=(s.xRange.max-s.xRange.min)/2-(l.xRange.max-l.xRange.min)/2)<0&&(r+=a)),n?i=l.yRange.max-s.yRange.min+c:(i=l.yRange.max-s.yRange.max,(a=(s.yRange.max-s.yRange.min)/2-(l.yRange.max-l.yRange.min)/2)<0&&(i+=a));for(var u=0;u<t.length;++u)t[u].x+=r,t[u].y+=i,o.push(t[u])}}for(var g=1;g<s.length;)d(s[g],!0,!1),d(s[g+1],!1,!0),d(s[g+2],!0,!0),g+=3,l=h(o);var v={};for(r=0;r<o.length;++r)v[o[r].setid]=o[r];return v},e.scaleSolution=function(t,e,n,r){var i=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),i.push(t[a]));e-=2*r,n-=2*r;var s=h(i),u=s.xRange,l=s.yRange;if(u.max==u.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(u.max-u.min),f=n/(l.max-l.min),p=Math.min(f,c),d=(e-(u.max-u.min)*p)/2,g=(n-(l.max-l.min)*p)/2,v={},y=0;y<i.length;++y){var m=i[y];v[o[y]]={radius:p*m.radius,x:r+d+(m.x-u.min)*p,y:r+g+(m.y-l.min)*p}}return v},e.venn=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||s,i=e.lossFunction||c;t=function(t){t=t.slice();var e,n,r,i,o=[],a={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?o.push(s.sets[0]):2==s.sets.length&&(a[[r=s.sets[0],i=s.sets[1]]]=!0,a[[i,r]]=!0)}for(o.sort((function(t,e){return t>e?1:-1})),e=0;e<o.length;++e)for(r=o[e],n=e+1;n<o.length;++n)[r,i=o[n]]in a||t.push({sets:[r,i],size:0});return t}(t);var o,a=n(t,e),u=[],l=[];for(o in a)a.hasOwnProperty(o)&&(u.push(a[o].x),u.push(a[o].y),l.push(o));for(var f=(0,r.nelderMead)((function(e){for(var n={},r=0;r<l.length;++r){var o=l[r];n[o]={x:e[2*r],y:e[2*r+1],radius:a[o].radius}}return i(n,t)}),u,e),p=f.x,h=0;h<l.length;++h)o=l[h],a[o].x=p[2*h],a[o].y=p[2*h+1];return a};var r=n(600),i=n(601);function o(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+1e-10?Math.abs(t-e):(0,r.bisect)((function(r){return(0,i.circleOverlap)(t,e,r)-n}),0,t+e)}function a(t,e,n){var i=(0,r.zerosM)(e.length,e.length),a=(0,r.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var r=n[t.sets[0]],s=n[t.sets[1]],u=o(Math.sqrt(e[r].size/Math.PI),Math.sqrt(e[s].size/Math.PI),t.size);i[r][s]=i[s][r]=u;var l=0;t.size+1e-10>=Math.min(e[r].size,e[s].size)?l=1:t.size<=1e-10&&(l=-1),a[r][s]=a[s][r]=l})),{distances:i,constraints:a}}function s(t,e){var n=l(t,e),r=e.lossFunction||c;if(t.length>=8){var i=u(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function u(t,e){var n,i=(e=e||{}).restarts||10,o=[],s={};for(n=0;n<t.length;++n){var u=t[n];1==u.sets.length&&(s[u.sets[0]]=o.length,o.push(u))}var l=a(t,o,s),c=l.distances,f=l.constraints,p=(0,r.norm2)(c.map(r.norm2))/c.length;c=c.map((function(t){return t.map((function(t){return t/p}))}));var h,d,g=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var a=t[2*i],s=t[2*i+1],u=i+1;u<n.length;++u){var l=t[2*u],c=t[2*u+1],f=n[i][u],p=r[i][u],h=(l-a)*(l-a)+(c-s)*(c-s),d=Math.sqrt(h),g=h-f*f;p>0&&d<=f||p<0&&d>=f||(o+=2*g*g,e[2*i]+=4*g*(a-l),e[2*i+1]+=4*g*(s-c),e[2*u]+=4*g*(l-a),e[2*u+1]+=4*g*(c-s))}return o}(t,e,c,f)};for(n=0;n<i;++n){var v=(0,r.zeros)(2*c.length).map(Math.random);d=(0,r.conjugateGradient)(g,v,e),(!h||d.fx<h.fx)&&(h=d)}var y=h.x,m={};for(n=0;n<o.length;++n){var _=o[n];m[_.sets[0]]={x:y[2*n]*p,y:y[2*n+1]*p,radius:Math.sqrt(_.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)(0,r.scale)(e.history[n].x,p);return m}function l(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:c,a={},s={},u=0;u<t.length;++u){var l=t[u];1==l.sets.length&&(n=l.sets[0],a[n]={x:1e10,y:1e10,rowid:Object.keys(a).length,size:l.size,radius:Math.sqrt(l.size/Math.PI)},s[n]=[])}for(t=t.filter((function(t){return 2==t.sets.length})),u=0;u<t.length;++u){var f=t[u],p=f.hasOwnProperty("weight")?f.weight:1,h=f.sets[0],d=f.sets[1];f.size+1e-10>=Math.min(a[h].size,a[d].size)&&(p=0),s[h].push({set:d,size:f.size,weight:p}),s[d].push({set:h,size:f.size,weight:p})}var g=[];for(n in s)if(s.hasOwnProperty(n)){var v=0;for(u=0;u<s[n].length;++u)v+=s[n][u].size*s[n][u].weight;g.push({set:n,size:v})}function y(t,e){return e.size-t.size}g.sort(y);var m={};function _(t){return t.set in m}function b(t,e){a[e].x=t.x,a[e].y=t.y,m[e]=!0}for(b({x:0,y:0},g[0].set),u=1;u<g.length;++u){var x=g[u].set,w=s[x].filter(_);if(n=a[x],w.sort(y),0===w.length)throw"ERROR: missing pairwise overlap information";for(var S=[],E=0;E<w.length;++E){var A=a[w[E].set],O=o(n.radius,A.radius,w[E].size);S.push({x:A.x+O,y:A.y}),S.push({x:A.x-O,y:A.y}),S.push({y:A.y+O,x:A.x}),S.push({y:A.y-O,x:A.x});for(var T=E+1;T<w.length;++T)for(var C=a[w[T].set],P=o(n.radius,C.radius,w[T].size),M=(0,i.circleCircleIntersection)({x:A.x,y:A.y,radius:O},{x:C.x,y:C.y,radius:P}),I=0;I<M.length;++I)S.push(M[I])}var k=1e50,R=S[0];for(E=0;E<S.length;++E){a[x].x=S[E].x,a[x].y=S[E].y;var L=r(a,t);L<k&&(k=L,R=S[E])}b(R,x)}return a}function c(t,e){for(var n=0,r=0;r<e.length;++r){var o=e[r],a=void 0;if(1!=o.sets.length){if(2==o.sets.length){var s=t[o.sets[0]],u=t[o.sets[1]];a=(0,i.circleOverlap)(s.radius,u.radius,(0,i.distance)(s,u))}else a=(0,i.intersectionArea)(o.sets.map((function(e){return t[e]})));n+=(o.hasOwnProperty("weight")?o.weight:1)*(a-o.size)*(a-o.size)}}return n}function f(t,e,n){var r;if(null===n?t.sort((function(t,e){return e.radius-t.radius})):t.sort(n),t.length>0){var o=t[0].x,a=t[0].y;for(r=0;r<t.length;++r)t[r].x-=o,t[r].y-=a}if(2==t.length&&(0,i.distance)(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){var s=Math.atan2(t[1].x,t[1].y)-e,u=void 0,l=void 0,c=Math.cos(s),f=Math.sin(s);for(r=0;r<t.length;++r)u=t[r].x,l=t[r].y,t[r].x=c*u-f*l,t[r].y=f*u+c*l}if(t.length>2){for(var p=Math.atan2(t[2].x,t[2].y)-e;p<0;)p+=2*Math.PI;for(;p>2*Math.PI;)p-=2*Math.PI;if(p>Math.PI){var h=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var d=(t[r].x+h*t[r].y)/(1+h*h);t[r].x=2*d-t[r].x,t[r].y=2*d*h-t[r].y}}}}function p(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}function n(t,n){var r=e(t),i=e(n);r.parent=i}t.map((function(t){t.parent=t}));for(var r=0;r<t.length;++r)for(var o=r+1;o<t.length;++o){var a=t[r].radius+t[o].radius;(0,i.distance)(t[r],t[o])+1e-10<a&&n(t[o],t[r])}var s,u={};for(r=0;r<t.length;++r)(s=e(t[r]).parent.setid)in u||(u[s]=[]),u[s].push(t[r]);t.map((function(t){delete t.parent}));var l=[];for(s in u)u.hasOwnProperty(s)&&l.push(u[s]);return l}function h(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circleFromPath=function(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}},e.circlePath=s,e.computeTextCentre=a,e.computeTextCentres=function(t,e){for(var n={},r=function(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var o=0;o<n.length;o++)for(var a=t[n[o]],s=o+1;s<n.length;++s){var u=t[n[s]],l=(0,i.distance)(a,u);l+u.radius<=a.radius+1e-10?e[n[s]].push(n[o]):l+a.radius<=u.radius+1e-10&&e[n[o]].push(n[s])}return e}(t),o=0;o<e.length;++o){for(var s=e[o].sets,u={},l={},c=0;c<s.length;++c){u[s[c]]=!0;for(var f=r[s[c]],p=0;p<f.length;++p)l[f[p]]=!0}var h=[],d=[];for(var g in t)g in u?h.push(t[g]):g in l||d.push(t[g]);var v=a(h,d);n[s]=v,v.disjoint&&e[o].size>0&&console.log("WARNING: area "+s+" not represented on screen")}return n},e.intersectionAreaPath=function(t){var e={};(0,i.intersectionArea)(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return s(r.x,r.y,r.radius)}for(var o=["\nM",n[0].p2.x,n[0].p2.y],a=0;a<n.length;++a){var u=n[a],l=u.circle.radius,c=u.width>l;o.push("\nA",l,l,0,c?1:0,1,u.p1.x,u.p1.y)}return o.join(" ")};var r=n(600),i=n(601);function o(t,e,n){var r,o,a=e[0].radius-(0,i.distance)(e[0],t);for(r=1;r<e.length;++r)(o=e[r].radius-(0,i.distance)(e[r],t))<=a&&(a=o);for(r=0;r<n.length;++r)(o=(0,i.distance)(n[r],t)-n[r].radius)<=a&&(a=o);return a}function a(t,e){var n,s=[];for(n=0;n<t.length;++n){var u=t[n];s.push({x:u.x,y:u.y}),s.push({x:u.x+u.radius/2,y:u.y}),s.push({x:u.x-u.radius/2,y:u.y}),s.push({x:u.x,y:u.y+u.radius/2}),s.push({x:u.x,y:u.y-u.radius/2})}var l=s[0],c=o(s[0],t,e);for(n=1;n<s.length;++n){var f=o(s[n],t,e);f>=c&&(l=s[n],c=f)}var p=(0,r.nelderMead)((function(n){return-1*o({x:n[0],y:n[1]},t,e)}),[l.x,l.y],{maxIterations:500,minErrorDelta:1e-10}).x,h={x:p[0],y:p[1]},d=!0;for(n=0;n<t.length;++n)if((0,i.distance)(h,t[n])>t[n].radius){d=!1;break}for(n=0;n<e.length;++n)if((0,i.distance)(h,e[n])<e[n].radius){d=!1;break}if(!d)if(1==t.length)h={x:t[0].x,y:t[0].y};else{var g={};(0,i.intersectionArea)(t,g),h=0===g.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==g.arcs.length?{x:g.arcs[0].circle.x,y:g.arcs[0].circle.y}:e.length?a(t,[]):(0,i.getCenter)(g.arcs.map((function(t){return t.p1})))}return h}function s(t,e,n){var r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(80),a=n(7),s=n(201);(0,i.registerShape)("schema","venn",{draw:function(t,e){var n=t.data,u=(0,o.parsePathString)(n[s.PATH_FIELD]),l=function(t){return(0,a.deepAssign)({},t.defaultStyle,{fill:t.color},t.style)}(t),c=e.addGroup({name:"venn-shape"});c.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},l),{path:u}),name:"venn-path"});var f=t.customInfo,p=f.offsetX,h=f.offsetY,d=i.Util.transform(null,[["t",p,h]]);return c.setMatrix(d),c},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}})},function(t,e,n){"use strict";var r=n(1),i=n(13),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,o=r.y,a=t.customLabelInfo,s=a.offsetX,u=a.offsetY;return{content:t.content[n],x:i+s,y:o+u}},e}(i.GeometryLabel);(0,i.registerGeometryLabel)("venn",o)},function(t,e,n){"use strict";var r=n(13),i=n(1275),o=n(1276),a=n(1277);(0,r.registerAction)("venn-element-active",i.VennElementActive),(0,r.registerAction)("venn-element-highlight",o.VennElementHighlight),(0,r.registerAction)("venn-element-selected",a.VennElementSelected),(0,r.registerAction)("venn-element-single-selected",a.VennElementSingleSelected),(0,r.registerInteraction)("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),(0,r.registerInteraction)("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),(0,r.registerInteraction)("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),(0,r.registerInteraction)("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),(0,r.registerInteraction)("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),(0,r.registerInteraction)("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VennElementActive=void 0;var r=n(1),i=n(13),o=n(312),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.syncElementsPos=function(){(0,o.placeElementsOrdered)(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}((0,i.getActionClass)("element-active"));e.VennElementActive=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VennElementHighlight=void 0;var r=n(1),i=n(13),o=n(312),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.syncElementsPos=function(){(0,o.placeElementsOrdered)(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}((0,i.getActionClass)("element-highlight"));e.VennElementHighlight=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VennElementSingleSelected=e.VennElementSelected=void 0;var r=n(1),i=n(13),o=n(312),a=(0,i.getActionClass)("element-selected"),s=(0,i.getActionClass)("element-single-selected"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.syncElementsPos=function(){(0,o.placeElementsOrdered)(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(a);e.VennElementSelected=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.syncElementsPos=function(){(0,o.placeElementsOrdered)(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(s);e.VennElementSingleSelected=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stock=void 0;var r=n(1),i=n(18),o=n(1279),a=n(602),s=n(313),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData((0,a.getStockData)(t,e))},e}(i.Plot);e.Stock=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){(0,o.flow)(r.theme,l,c,f,p,h,r.interaction,r.animation,(0,r.annotation)(),r.slider)(t)},e.axis=f,e.legend=h,e.meta=c,e.tooltip=p;var r=n(21),i=n(29),o=n(7),a=n(99),s=n(313),u=n(602);function l(t){var e=t.chart,n=t.options,r=n.yField,a=n.data,l=n.risingFill,c=n.fallingFill,f=n.tooltip,p=n.stockStyle;e.data((0,u.getStockData)(a,r));var h=f;return!1!==h&&(h=(0,o.deepAssign)({},{fields:r},h)),(0,i.schema)((0,o.deepAssign)({},t,{options:{schema:{shape:"candle",color:[l,c],style:p},yField:s.Y_FIELD,seriesField:s.TREND_FIELD,rawFields:r,tooltip:h}})),t}function c(t){var e,n,r=t.chart,i=t.options,u=i.meta,l=i.xAxis,c=i.yAxis,f=i.xField,p=((e={})[f]={type:"timeCat",tickCount:6},e[s.TREND_FIELD]={values:[s.TREND_UP,s.TREND_DOWN]},e),h=(0,o.deepAssign)(p,u,((n={})[f]=(0,o.pick)(l,a.AXIS_META_CONFIG_KEYS),n[s.Y_FIELD]=(0,o.pick)(c,a.AXIS_META_CONFIG_KEYS),n));return r.scale(h),t}function f(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(s.Y_FIELD,!1):e.axis(s.Y_FIELD,i),t}function p(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function h(t){var e=t.chart,n=t.options.legend;return n?e.legend(s.TREND_FIELD,n):!1===n&&e.legend(!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFunnel=function(t){return(0,i.flow)(l,c,f)(t)};var r=n(0),i=n(7),o=n(65),a=n(49),s=n(127),u=n(314);function l(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function c(t){var e=t.chart,n=t.options,l=n.data,c=n.xField,f=n.yField,p=n.color,h=n.compareField,d=n.isTransposed,g=n.tooltip,v=n.maxSize,y=n.minSize,m=n.label,_=n.funnelStyle,b=n.state;return e.facet("mirror",{fields:[h],transpose:!d,padding:d?0:[32,0,0,0],eachView:function(t,e){var n=d?e.rowIndex:e.columnIndex;d||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var x=(0,u.transformData)(e.data,l,{yField:f,maxSize:v,minSize:y});t.data(x);var w=(0,o.getTooltipMapping)(g,[c,f,h]),S=w.fields,E=w.formatter,A=d?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};(0,a.geometry)({chart:t,options:{type:"interval",xField:c,yField:s.FUNNEL_MAPPING_VALUE,colorField:c,tooltipFields:(0,r.isArray)(S)&&S.concat([s.FUNNEL_PERCENT,s.FUNNEL_CONVERSATION]),mapping:{shape:"funnel",tooltip:E,color:p,style:_},label:!1!==m&&(0,i.deepAssign)({},A,m),state:b}})}}),t}function f(t){var e=t.chart,n=t.options,r=n.conversionTag,o=n.isTransposed;return e.once("beforepaint",(function(){e.views.forEach((function(t,e){(0,u.conversionTagComponent)((function(t,n,a,u){var l=0===e?-1:1;return(0,i.deepAssign)({},u,{start:[n-.5,t[s.FUNNEL_MAPPING_VALUE]],end:[n-.5,t[s.FUNNEL_MAPPING_VALUE]+.05],text:o?{style:{textAlign:"start"}}:{offsetX:!1!==r?l*r.offsetX:0,style:{textAlign:0===e?"end":"start"}}})}))((0,i.deepAssign)({},{chart:t,options:n}))}))})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.facetFunnel=function(t){return(0,r.flow)(o,a)(t)};var r=n(7),i=n(605);function o(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function a(t){var e=t.chart,n=t.options,o=n.seriesField,a=n.isTransposed;return e.facet("rect",{fields:[o],padding:[a?0:32,10,0,10],eachView:function(e,n){(0,i.basicFunnel)((0,r.deepAssign)({},t,{chart:e,options:{data:n.data}}))}}),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dynamicHeightFunnel=function(t){return(0,o.flow)(c,f,p,h)(t)};var r=n(1),i=n(0),o=n(7),a=n(127),s=n(49),u=n(65),l=n(314);function c(t){var e=t.chart,n=t.options,r=n.data,o=void 0===r?[]:r,s=n.yField,u=(0,i.reduce)(o,(function(t,e){return t+(e[s]||0)}),0),l=(0,i.maxBy)(o,s)[s],c=(0,i.map)(o,(function(t,e){var n=[],r=[];if(t[a.FUNNEL_TOTAL_PERCENT]=(t[s]||0)/u,e){var c=o[e-1][a.PLOYGON_X],f=o[e-1][a.PLOYGON_Y];n[0]=c[3],r[0]=f[3],n[1]=c[2],r[1]=f[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t[a.FUNNEL_TOTAL_PERCENT],n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t[a.PLOYGON_X]=n,t[a.PLOYGON_Y]=r,t[a.FUNNEL_PERCENT]=(t[s]||0)/l,t[a.FUNNEL_CONVERSATION]=[(0,i.get)(o,[e-1,s]),t[s]],t}));return e.data(c),t}function f(t){var e=t.chart,n=t.options,r=n.xField,o=n.yField,l=n.color,c=n.tooltip,f=n.label,p=n.funnelStyle,h=n.state,d=(0,u.getTooltipMapping)(c,[r,o]),g=d.fields,v=d.formatter;return(0,s.geometry)({chart:e,options:{type:"polygon",xField:a.PLOYGON_X,yField:a.PLOYGON_Y,colorField:r,tooltipFields:(0,i.isArray)(g)&&g.concat([a.FUNNEL_PERCENT,a.FUNNEL_CONVERSATION]),label:f,state:h,mapping:{tooltip:v,color:l,style:p}}}),t}function p(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function h(t){return(0,l.conversionTagComponent)((function(t,e,n,i){return(0,r.__assign)((0,r.__assign)({},i),{start:[t[a.PLOYGON_X][1],t[a.PLOYGON_Y][1]],end:[t[a.PLOYGON_X][1]+.05,t[a.PLOYGON_Y][1]]})}))(t),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Liquid=void 0;var r=n(1),i=n(13),o=n(18),a=n(1284),s=n(1285),u=n(606);n(1286);var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data((0,u.getLiquidData)(t)),(0,a.statistic)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e}(o.Plot);e.Liquid=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(o.theme,(0,o.pattern)("liquidStyle"),l,c,(0,o.scale)({}),o.animation,o.interaction)(t)},e.statistic=c;var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(606);function l(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,l=n.outline,c=n.wave,f=n.shape;e.scale({percent:{min:0,max:1}}),e.data((0,u.getLiquidData)(r));var p=n.color||e.getTheme().defaultColor,h=(0,a.deepAssign)({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:p,style:i,shape:"liquid-fill-gauge"}}}),d=(0,s.interval)(h).ext.geometry,g={radius:o,outline:l,wave:c,shape:f,background:e.getTheme().background};return d.customInfo(g),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function c(t,e){var n=t.chart,o=t.options,s=o.statistic,u=o.percent,l=o.meta;n.getController("annotation").clear(!0);var c=(0,i.get)(l,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},f=s.content;return f&&(f=(0,a.deepAssign)({},f,{content:(0,i.isNil)(f.content)?c(u):f.content})),(0,a.renderStatistic)(n,{statistic:(0,r.__assign)((0,r.__assign)({},s),{content:f}),plotType:"liquid"},{percent:u}),e&&n.render(!0),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"}},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(576);function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function l(t,e,n,r,i,o,a){for(var s=4*Math.ceil(2*t/n*4),l=[],c=r;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var f=o-t+(c=c/Math.PI/2*n)-2*t;l.push(["M",f,e]);for(var p=0,h=0;h<s;++h){var d=u(h*n/4,h%4,n,i);l.push(["C",d[0][0]+f,-d[0][1]+e,d[1][0]+f,-d[1][1]+e,d[2][0]+f,-d[2][1]+e]),h===s-1&&(p=d[2][0])}return l.push(["L",p+f,a+t]),l.push(["L",f,a+t]),l.push(["Z"]),l}function c(t,e,n,r){var i=2*n/3,o=Math.max(i,r),a=i/2,s=t,u=a+e-o/2,l=Math.asin(a/(.85*(o-a))),c=Math.sin(l)*a,f=Math.cos(l)*a,p=s-f,h=u+c,d=t,g=u+a/Math.sin(l);return"\n      M "+p+" "+h+"\n      A "+a+" "+a+" 0 1 1 "+(p+2*f)+" "+h+"\n      Q "+d+" "+g+" "+t+" "+(e+o/2)+"\n      Q "+d+" "+g+" "+p+" "+h+"\n      Z \n    "}function f(t,e,n,r){var i=n/2,o=r/2;return"\n      M "+t+" "+(e-o)+" \n      a "+i+" "+o+" 0 1 0 0 "+2*o+"\n      a "+i+" "+o+" 0 1 0 0 "+2*-o+"\n      Z\n    "}function p(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+e+"\n      L "+t+" "+(e+i)+"\n      L "+(t-o)+" "+e+"\n      Z\n    "}function h(t,e,n,r){var i=r/2,o=n/2;return"\n      M "+t+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}function d(t,e,n,r){var i=r/2,o=n/2*.618;return"\n      M "+(t-o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e-i)+"\n      L "+(t+o)+" "+(e+i)+"\n      L "+(t-o)+" "+(e+i)+"\n      Z\n    "}(0,i.registerShape)("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,i=n,u=i.radius,g=i.shape,v=i.background,y=n.outline,m=n.wave,_=y.border,b=y.distance,x=m.count,w=m.length,S=(0,o.reduce)(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),E=this.parsePoint({x:.5,y:.5}),A=this.parsePoint({x:S,y:.5}),O=E.x-A.x,T=Math.min(O,A.y*u),C=function(t){var e=(0,r.__assign)({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),P=function(t){var e=(0,o.mix)({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),(0,o.isNumber)(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}((0,o.mix)({},t,y)),M=T-_/2,I={pin:c,circle:f,diamond:p,triangle:h,rect:d},k=("function"===typeof g?g:I[g]||I.circle)(E.x,E.y,2*M,2*M),R=e.addGroup({name:"waves"}),L=R.setClip({type:"path",attrs:{path:k}});return function(t,e,n,r,i,o,u,c,f){for(var p=i.fill,h=i.opacity,d=u.getBBox(),g=d.maxX-d.minX,v=d.maxY-d.minY,y=0;y<r;y++){var m=r<=1?0:y/(r-1),_=o.addShape("path",{name:"waterwave-path",attrs:{path:l(c,d.minY+v*n,f,0,g/32,t,e),fill:p,opacity:s(.2,.9,m)*h}});try{var b=(0,a.transform)([["t",f,0]]);_.stopAnimate(),_.animate({matrix:b},{duration:s(2500,5e3,m),repeat:!0})}catch(x){console.warn("off-screen group animate error!")}}}(E.x,E.y,1-t.points[1].y,x,C,R,L,2*T,w),e.addShape("path",{name:"distance",attrs:{path:k,fill:"transparent",lineWidth:_+2*b,stroke:"transparent"===v?"#fff":v}}),e.addShape("path",{name:"wrap",attrs:(0,o.mix)(P,{path:k,fill:"transparent",lineWidth:_})}),e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var r=n(1),i=n(18),o=n(1288),a=n(607),s=n(1289),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=(0,a.transformData)(this.options),n=e.min,r=e.max,i=e.ds;(0,o.meta)({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Bullet=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){(0,a.flow)(l,c,f,p,o.theme,h,o.tooltip,o.interaction,o.animation)(t)},e.meta=c;var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(607);function l(t){var e=t.chart,n=t.options,o=n.bulletStyle,l=n.targetField,c=n.rangeField,f=n.measureField,p=n.xField,h=n.color,d=n.layout,g=n.size,v=n.label,y=(0,u.transformData)(n),m=y.min,_=y.max,b=y.ds;e.data(b);var x=(0,a.deepAssign)({},t,{options:{xField:p,yField:c,seriesField:"rKey",isStack:!0,label:(0,i.get)(v,"range"),interval:{color:(0,i.get)(h,"range"),style:(0,i.get)(o,"range"),size:(0,i.get)(g,"range")}}});(0,s.interval)(x),e.geometries[0].tooltip(!1);var w=(0,a.deepAssign)({},t,{options:{xField:p,yField:f,seriesField:"mKey",isStack:!0,label:(0,i.get)(v,"measure"),interval:{color:(0,i.get)(h,"measure"),style:(0,i.get)(o,"measure"),size:(0,i.get)(g,"measure")}}});(0,s.interval)(w);var S=(0,a.deepAssign)({},t,{options:{xField:p,yField:l,seriesField:"tKey",label:(0,i.get)(v,"target"),point:{color:(0,i.get)(h,"target"),style:(0,i.get)(o,"target"),size:(0,i.isFunction)((0,i.get)(g,"target"))?function(t){return(0,i.get)(g,"target")(t)/2}:(0,i.get)(g,"target")/2,shape:"horizontal"===d?"line":"hyphen"}}});return(0,s.point)(S),"horizontal"===d&&e.coordinate().transpose(),(0,r.__assign)((0,r.__assign)({},t),{ext:{data:{min:m,max:_}}})}function c(t){var e,n,r=t.options,i=t.ext,s=r.xAxis,u=r.yAxis,l=r.targetField,c=r.rangeField,f=r.measureField,p=r.xField,h=i.data;return(0,a.flow)((0,o.scale)(((e={})[p]=s,e[f]=u,e),((n={})[f]={min:null===h||void 0===h?void 0:h.min,max:null===h||void 0===h?void 0:h.max,sync:!0},n[l]={sync:""+f},n[c]={sync:""+f},n)))(t)}function f(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,s=n.rangeField,u=n.targetField;return e.axis(""+s,!1),e.axis(""+u,!1),!1===r?e.axis(""+o,!1):e.axis(""+o,r),!1===i?e.axis(""+a,!1):e.axis(""+a,i),t}function p(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function h(t){var e=t.chart,n=t.options,o=n.label,s=n.measureField,u=n.targetField,l=n.rangeField,c=e.geometries,f=c[0],p=c[1],h=c[2];return(0,i.get)(o,"range")?f.label(""+l,(0,r.__assign)({layout:[{type:"limit-in-plot"}]},(0,a.transformLabel)(o.range))):f.label(!1),(0,i.get)(o,"measure")?p.label(""+s,(0,r.__assign)({layout:[{type:"limit-in-plot"}]},(0,a.transformLabel)(o.measure))):p.label(!1),(0,i.get)(o,"target")?h.label(""+u,(0,r.__assign)({layout:[{type:"limit-in-plot"}]},(0,a.transformLabel)(o.target))):h.label(!1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sunburst=void 0;var r=n(1),i=n(18),o=n(158),a=n(1291),s=n(315);n(1294);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return a.adaptor},e.SUNBURST_ANCESTOR_FIELD=s.SUNBURST_ANCESTOR_FIELD,e.SUNBURST_PATH_FIELD=s.SUNBURST_PATH_FIELD,e.NODE_ANCESTORS_FIELD=o.NODE_ANCESTORS_FIELD,e}(i.Plot);e.Sunburst=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)(a.theme,(0,a.pattern)("sunburstStyle"),f,p,v,h,g,y,d,_,a.animation,(0,a.annotation)())(t)},e.axis=p,e.meta=v,e.tooltip=y;var r=n(1),i=n(0),o=n(29),a=n(21),s=n(7),u=n(123),l=n(315),c=n(1292);function f(t){var e,n=t.chart,a=t.options,u=a.color,f=a.colorField,p=void 0===f?l.SUNBURST_ANCESTOR_FIELD:f,h=a.sunburstStyle,d=a.rawFields,g=void 0===d?[]:d,v=(0,c.transformData)(a);return n.data(v),h&&(e=function(t){return(0,s.deepAssign)({},{fillOpacity:Math.pow(.85,t.depth)},(0,i.isFunction)(h)?h(t):h)}),(0,o.polygon)((0,s.deepAssign)({},t,{options:{xField:"x",yField:"y",seriesField:p,rawFields:(0,i.uniq)((0,r.__spreadArrays)(l.RAW_FIELDS,g)),polygon:{color:u,style:e}}})),t}function p(t){return t.chart.axis(!1),t}function h(t){return t.chart.legend(!1),t}function d(t){var e=t.chart,n=t.options.label,i=(0,s.findGeometry)(e,"polygon");if(n){var o=n.fields,a=void 0===o?["name"]:o,u=n.callback,l=(0,r.__rest)(n,["fields","callback"]);i.label({fields:a,callback:u,cfg:(0,s.transformLabel)(l)})}else i.label(!1);return t}function g(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return o&&a.reflect(o),t}function v(t){var e,n=t.options,r=n.hierarchyConfig,o=n.meta;return(0,s.flow)((0,a.scale)({},((e={})[l.SUNBURST_Y_FIELD]=(0,i.get)(o,(0,i.get)(r,["field"],"value")),e)))(t)}function y(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var o=n;(0,i.get)(n,"fields")||(o=(0,s.deepAssign)({},{customItems:function(t){return t.map((function(t){var n=(0,i.get)(e.getOptions(),"scales"),o=(0,i.get)(n,[l.SUNBURST_PATH_FIELD,"formatter"],(function(t){return t})),a=(0,i.get)(n,[l.SUNBURST_Y_FIELD,"formatter"],(function(t){return t}));return(0,r.__assign)((0,r.__assign)({},t),{name:o(t.data[l.SUNBURST_PATH_FIELD]),value:a(t.data.value)})}))}},o)),e.tooltip(o)}return t}function m(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?(0,s.deepAssign)({},t,{interactions:(0,r.__spreadArrays)(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:c.transformData}}])}):t}function _(t){var e=t.chart,n=t.options,r=n.drilldown;return(0,a.interaction)({chart:e,options:m(n)}),(null===r||void 0===r?void 0:r.enabled)&&(e.appendPadding=(0,u.getAdjustAppendPadding)(e.appendPadding,(0,i.get)(r,["breadCrumb","position"]))),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformData=function(t){var e=t.data,n=t.colorField,c=t.rawFields,f=t.hierarchyConfig,p=void 0===f?{}:f,h=p.activeDepth,d={partition:s.partition,treemap:u.treemap},g=t.seriesField,v=t.type||"partition",y=d[v](e,(0,r.__assign)((0,r.__assign)({field:g||"value"},(0,i.omit)(p,["activeDepth"])),{type:"hierarchy."+v,as:["x","y"]})),m=[];return y.forEach((function(t){var e,i,s,u,f,d;if(0===t.depth)return null;if(h>0&&t.depth>h)return null;for(var v=t.data.name,y=(0,r.__assign)({},t);y.depth>1;)v=(null===(i=y.parent.data)||void 0===i?void 0:i.name)+" / "+v,y=y.parent;var _=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},(0,a.pick)(t.data,(0,r.__spreadArrays)(c||[],[p.field]))),((e={})[l.SUNBURST_PATH_FIELD]=v,e[l.SUNBURST_ANCESTOR_FIELD]=y.data.name,e)),t);g&&(_[g]=t.data[g]||(null===(u=null===(s=t.parent)||void 0===s?void 0:s.data)||void 0===u?void 0:u[g])),n&&(_[n]=t.data[n]||(null===(d=null===(f=t.parent)||void 0===f?void 0:f.data)||void 0===d?void 0:d[n])),_.ext=p,_[o.HIERARCHY_DATA_TRANSFORM_PARAMS]={hierarchyConfig:p,colorField:n,rawFields:c},m.push(_)})),m};var r=n(1),i=n(0),o=n(202),a=n(7),s=n(1293),u=n(608),l=n(315)},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.partition=function(t,e){var n,r=(e=(0,o.assign)({},u,e)).as;if(!(0,o.isArray)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=(0,a.getField)(e)}catch(f){console.warn(f)}var s=function(t){return i.partition().size(e.size).round(e.round).padding(e.padding)(i.hierarchy(t).sum((function(t){return(0,o.size)(t.children)?e.ignoreParentValue?0:t[n]-(0,o.reduce)(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),l=r[0],c=r[1];return s.each((function(t){var e,n;t[l]=[t.x0,t.x1,t.x1,t.x0],t[c]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),(0,a.getAllNodes)(s)};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(194)),o=n(0),a=n(158);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0}},function(t,e,n){"use strict";n(316)},function(t,e,n){"use strict";var r=n(1);(0,n(13).registerShape)("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,i=n.indicator,o=n.defaultColor,a=i,s=a.pointer,u=a.pin,l=e.addGroup(),c=this.parsePoint({x:0,y:0});return s&&l.addShape("line",{name:"pointer",attrs:(0,r.__assign)({x1:c.x,y1:c.y,x2:t.x,y2:t.y,stroke:o},s.style)}),u&&l.addShape("circle",{name:"pin",attrs:(0,r.__assign)({x:c.x,y:c.y,stroke:o},u.style)}),l}})},function(t,e,n){"use strict";var r=n(13),i=n(0);(0,r.registerShape)("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,o=void 0===n?{}:n,a=o.steps,s=void 0===a?50:a,u=o.stepRatio,l=void 0===u?.5:u;s=s<1?1:s,l=(0,i.clamp)(l,0,1);var c=this.coordinate,f=c.startAngle,p=c.endAngle,h=0;l>0&&l<1&&(h=(p-f)/s/(l/(1-l)+1-1/s));for(var d=h/(1-l)*l,g=e.addGroup(),v=this.coordinate.getCenter(),y=this.coordinate.getRadius(),m=r.Util.getAngle(t,this.coordinate),_=m.startAngle,b=m.endAngle,x=_;x<b;){var w=void 0,S=(x-f)%(d+h);w=S<d?x+(d-S):(x+=d+h-S)+d;var E=r.Util.getSectorPath(v.x,v.y,y,x,Math.min(w,b),y*this.coordinate.innerRadius);g.addShape("path",{name:"meter-gauge",attrs:{path:E,fill:t.color,stroke:t.color,lineWidth:.5}}),x=w+h}return g}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Waterfall=void 0;var r=n(1),i=n(18),o=n(1298),a=n(318),s=n(612),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData((0,s.transformData)(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(i.Plot);e.Waterfall=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,u.flow)(f,o.theme,p,h,d,g,y,v,o.state,o.interaction,o.animation,(0,o.annotation)())(t)},e.tooltip=y;var r=n(1),i=n(0),o=n(21),a=n(29),s=n(197),u=n(7),l=n(318),c=n(612);function f(t){var e=t.options,n=e.locale,r=e.total,i=(0,s.getLocale)(n).get(["waterfall","total"]);return r&&"string"!==typeof r.label&&i&&(t.options.total.label=i),t}function p(t){var e=t.chart,n=t.options,r=n.data,o=n.xField,s=n.yField,f=n.total,p=n.leaderLine,h=n.columnWidthRatio,d=n.waterfallStyle,g=n.risingFill,v=n.fallingFill,y=n.color;e.data((0,c.transformData)(r,o,s,f));var m=y||function(t){return(0,i.get)(t,[l.IS_TOTAL])?(0,i.get)(f,["style","fill"],""):(0,i.get)(t,[l.Y_FIELD,1])-(0,i.get)(t,[l.Y_FIELD,0])>0?g:v},_=(0,u.deepAssign)({},t,{options:{xField:o,yField:l.Y_FIELD,seriesField:o,rawFields:[s,l.DIFF_FIELD,l.IS_TOTAL,l.Y_FIELD],widthRatio:h,interval:{style:d,shape:"waterfall",color:m}}});return(0,a.interval)(_).ext.geometry.customInfo({leaderLine:p}),t}function h(t){var e,n,r=t.options,a=r.xAxis,s=r.yAxis,c=r.xField,f=r.yField,p=r.meta,h=(0,u.deepAssign)({},{alias:f},(0,i.get)(p,f));return(0,u.flow)((0,o.scale)(((e={})[c]=a,e[f]=s,e[l.Y_FIELD]=s,e),(0,u.deepAssign)({},p,((n={})[l.Y_FIELD]=h,n[l.DIFF_FIELD]=h,n[l.ABSOLUTE_FIELD]=h,n))))(t)}function d(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(a,!1),e.axis(l.Y_FIELD,!1)):(e.axis(a,i),e.axis(l.Y_FIELD,i)),t}function g(t){var e=t.chart,n=t.options,r=n.legend,o=n.total,a=n.risingFill,l=n.fallingFill,c=n.locale,f=(0,s.getLocale)(c);if(!1===r)e.legend(!1);else{var p=[{name:f.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:f.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:l}}}];o&&p.push({name:o.label||"",value:"total",marker:{symbol:"square",style:(0,u.deepAssign)({},{r:5},(0,i.get)(o,"style"))}}),e.legend((0,u.deepAssign)({},{custom:!0,position:"top",items:p},r)),e.removeInteraction("legend-filter")}return t}function v(t){var e=t.chart,n=t.options,i=n.label,o=n.labelMode,a=n.xField,s=(0,u.findGeometry)(e,"interval");if(i){var c=i.callback,f=(0,r.__rest)(i,["callback"]);s.label({fields:"absolute"===o?[l.ABSOLUTE_FIELD,a]:[l.DIFF_FIELD,a],callback:c,cfg:(0,u.transformLabel)(f)})}else s.label(!1);return t}function y(t){var e=t.chart,n=t.options,i=n.tooltip,o=n.xField,a=n.yField;if(!1!==i){e.tooltip((0,r.__assign)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},i));var s=e.geometries[0];(null===i||void 0===i?void 0:i.formatter)?s.tooltip(o+"*"+a,i.formatter):s.tooltip(a)}else e.tooltip(!1);return t}n(1299)},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(7);(0,i.registerShape)("interval","waterfall",{draw:function(t,e){var n=t.customInfo,i=t.points,s=t.nextPoints,u=e.addGroup(),l=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(i)),c=function(t){return(0,a.deepAssign)({},t.defaultStyle,t.style,{fill:t.color})}(t);u.addShape("path",{attrs:(0,r.__assign)((0,r.__assign)({},c),{path:l})});var f=(0,o.get)(n,"leaderLine");if(f&&s){var p=[["M",i[2].x,i[2].y],["L",s[0].x,s[0].y]];i[2].y===s[1].y&&(p[1]=["L",s[1].x,s[1].y]),p=this.parsePath(p),u.addShape("path",{attrs:(0,r.__assign)({path:p},f.style||{})})}return u}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadialBar=void 0;var r=n(1),i=n(18),o=n(1301),a=n(1303),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){this.updateOption({data:t}),(0,o.meta)({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.RadialBar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,o.flow)((0,s.pattern)("barStyle"),l,c,p,f,i.interaction,i.animation,i.theme,i.tooltip,i.legend,(0,i.annotation)(),h)(t)},e.axis=p,e.meta=c;var r=n(1),i=n(21),o=n(7),a=n(29),s=n(124),u=n(1302);function l(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,s=n.tooltip,u=n.colorField,l=n.type,c=n.xField,f=n.yField,p=n.data,h=(0,o.processIllegalData)(p,f);e.data(h);var d=(0,o.deepAssign)({},t,{options:{tooltip:s,seriesField:u,interval:{style:r,color:i,shape:"line"===l?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}});return(0,a.interval)(d),"line"===l&&(0,a.point)({chart:e,options:{xField:c,yField:f,seriesField:u,point:{shape:"circle",color:i}}}),t}function c(t){var e,n=t.options,r=n.yField,a=n.xField,s=n.data,l=n.isStack,c=n.isGroup,f=n.colorField,p=n.maxAngle,h=l&&!c&&f?(0,u.getStackedData)(s,a,r):s,d=(0,o.processIllegalData)(h,r);return(0,o.flow)((0,i.scale)(((e={})[r]={min:0,max:(0,u.getScaleMax)(p,r,d)},e)))(t)}function f(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}).transpose(),t}function p(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis;return e.axis(r,i),t}function h(t){var e=t.chart,n=t.options,i=n.label,a=n.yField,s=(0,o.findGeometry)(e,"interval");if(i){var u=i.callback,l=(0,r.__rest)(i,["callback"]);s.label({fields:[a],callback:u,cfg:(0,r.__assign)((0,r.__assign)({},(0,o.transformLabel)(l)),{type:"polar"})})}else s.label(!1);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScaleMax=function(t,e,n){var r=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),i=r.length>0?Math.max.apply(Math,r):0,o=Math.abs(t)%360;return o?360*i/o:i},e.getStackedData=function(t,e,n){var i=[];return t.forEach((function(t){var o=i.find((function(n){return n[e]===t[e]}));o?o[n]+=t[n]||null:i.push((0,r.__assign)({},t))})),i};var r=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var r=n(18),i=(0,n(7).deepAssign)({},r.Plot.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});e.DEFAULT_OPTIONS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BidirectionalBar=void 0;var r=n(1),i=n(13),o=n(18),a=n(7),s=n(1305),u=n(614),l=n(613),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return(0,a.deepAssign)({},t.getDefaultOptions.call(this),{syncViewPadding:u.syncViewPadding})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,r=e.yField,o=e.layout,s=(0,u.transformData)(n,r,l.SERIES_FIELD_KEY,t,(0,u.isHorizontal)(o)),c=s[0],f=s[1],p=(0,a.findViewById)(this.chart,l.FIRST_AXES_VIEW),h=(0,a.findViewById)(this.chart,l.SECOND_AXES_VIEW);p.data(c),h.data(f),this.chart.render(!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.SERIES_FIELD_KEY=l.SERIES_FIELD_KEY,e}(o.Plot);e.BidirectionalBar=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)(c,f,p,d,g,y,o.tooltip,h,v)(t)},e.animation=v,e.interaction=h,e.limitInPlot=d,e.theme=g;var r=n(1),i=n(0),o=n(21),a=n(29),s=n(7),u=n(613),l=n(614);function c(t){var e,n,r=t.chart,i=t.options,o=i.data,c=i.xField,f=i.yField,p=i.color,h=i.barStyle,d=i.widthRatio,g=i.legend,v=i.layout,y=(0,l.transformData)(c,f,u.SERIES_FIELD_KEY,o,(0,l.isHorizontal)(v));g?r.legend(u.SERIES_FIELD_KEY,g):!1===g&&r.legend(!1);var m=y[0],_=y[1];(0,l.isHorizontal)(v)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:u.FIRST_AXES_VIEW})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:u.SECOND_AXES_VIEW})).coordinate().transpose(),e.data(m),n.data(_)):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:u.FIRST_AXES_VIEW}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:u.SECOND_AXES_VIEW})).coordinate().reflect("y"),e.data(m),n.data(_));var b=(0,s.deepAssign)({},t,{chart:e,options:{widthRatio:d,xField:c,yField:f[0],seriesField:u.SERIES_FIELD_KEY,interval:{color:p,style:h}}});(0,a.interval)(b);var x=(0,s.deepAssign)({},t,{chart:n,options:{xField:c,yField:f[1],seriesField:u.SERIES_FIELD_KEY,widthRatio:d,interval:{color:p,style:h}}});return(0,a.interval)(x),t}function f(t){var e,n,r,a=t.options,l=t.chart,c=a.xAxis,f=a.yAxis,p=a.xField,h=a.yField,d=(0,s.findViewById)(l,u.FIRST_AXES_VIEW),g=(0,s.findViewById)(l,u.SECOND_AXES_VIEW),v={};return(0,i.keys)((null===a||void 0===a?void 0:a.meta)||{}).map((function(t){(0,i.get)(null===a||void 0===a?void 0:a.meta,[t,"alias"])&&(v[t]=a.meta[t].alias)})),l.scale(((e={})[u.SERIES_FIELD_KEY]={sync:!0,formatter:function(t){return(0,i.get)(v,t,t)}},e)),(0,o.scale)(((n={})[p]=c,n[h[0]]=f[h[0]],n))((0,s.deepAssign)({},t,{chart:d})),(0,o.scale)(((r={})[p]=c,r[h[1]]=f[h[1]],r))((0,s.deepAssign)({},t,{chart:g})),t}function p(t){var e=t.chart,n=t.options,i=n.xAxis,o=n.yAxis,a=n.xField,c=n.yField,f=n.layout,p=(0,s.findViewById)(e,u.FIRST_AXES_VIEW),h=(0,s.findViewById)(e,u.SECOND_AXES_VIEW);return"bottom"===(null===i||void 0===i?void 0:i.position)?h.axis(a,(0,r.__assign)((0,r.__assign)({},i),{label:{formatter:function(){return""}}})):h.axis(a,!1),!1===i?p.axis(a,!1):p.axis(a,(0,r.__assign)({position:(0,l.isHorizontal)(f)?"top":"bottom"},i)),!1===o?(p.axis(c[0],!1),h.axis(c[1],!1)):(p.axis(c[0],o[c[0]]),h.axis(c[1],o[c[1]])),e.__axisPosition={position:p.getOptions().axes[a].position,layout:f},t}function h(t){var e=t.chart;return(0,o.interaction)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.FIRST_AXES_VIEW)})),(0,o.interaction)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.SECOND_AXES_VIEW)})),t}function d(t){var e=t.chart,n=t.options,r=n.yField,i=n.yAxis;return(0,o.limitInPlot)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.FIRST_AXES_VIEW),options:{yAxis:i[r[0]]}})),(0,o.limitInPlot)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.SECOND_AXES_VIEW),options:{yAxis:i[r[1]]}})),t}function g(t){var e=t.chart;return(0,o.theme)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.FIRST_AXES_VIEW)})),(0,o.theme)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.SECOND_AXES_VIEW)})),t}function v(t){var e=t.chart;return(0,o.animation)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.FIRST_AXES_VIEW)})),(0,o.animation)((0,s.deepAssign)({},t,{chart:(0,s.findViewById)(e,u.SECOND_AXES_VIEW)})),t}function y(t){var e,n,i=this,o=t.chart,a=t.options,c=a.label,f=a.yField,p=a.layout,h=(0,s.findViewById)(o,u.FIRST_AXES_VIEW),d=(0,s.findViewById)(o,u.SECOND_AXES_VIEW),g=(0,s.findGeometry)(h,"interval"),v=(0,s.findGeometry)(d,"interval");if(c){var y=c.callback,m=(0,r.__rest)(c,["callback"]);m.position||(m.position="middle"),void 0===m.offset&&(m.offset=2);var _=(0,r.__assign)({},m);if((0,l.isHorizontal)(p)){var b=(null===(e=_.style)||void 0===e?void 0:e.textAlign)||("middle"===m.position?"center":"left");m.style=(0,s.deepAssign)({},m.style,{textAlign:b}),_.style=(0,s.deepAssign)({},_.style,{textAlign:{left:"right",right:"left",center:"center"}[b]})}else{var x={top:"bottom",bottom:"top",middle:"middle"};"string"===typeof m.position?m.position=x[m.position]:"function"===typeof m.position&&(m.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x[m.position.apply(i,t)]});var w=(null===(n=_.style)||void 0===n?void 0:n.textBaseline)||"bottom";_.style=(0,s.deepAssign)({},_.style,{textBaseline:w}),m.style=(0,s.deepAssign)({},m.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[w]})}g.label({fields:[f[0]],callback:y,cfg:(0,s.transformLabel)(_)}),v.label({fields:[f[1]],callback:y,cfg:(0,s.transformLabel)(m)})}else g.label(!1),v.label(!1);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Treemap=void 0;var r=n(1),i=n(18),o=n(1307),a=n(1308),s=n(615);n(1309);var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var o=(0,s.transformData)({data:t,colorField:n,enableDrillDown:(0,s.enableInteraction)(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(o),(0,s.resetDrillDown)(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Treemap=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,u.flow)(f,a.theme,(0,s.pattern)("rectStyle"),p,h,a.legend,a.tooltip,g,a.animation,(0,a.annotation)())(t)},e.interaction=g;var r=n(1),i=n(0),o=n(562),a=n(21),s=n(124),u=n(7),l=n(123),c=n(615);function f(t){var e=t.options.colorField;return(0,u.deepAssign)({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function p(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,a=n.rectStyle,s=n.hierarchyConfig,l=n.rawFields,f=(0,c.transformData)({data:n.data,colorField:n.colorField,enableDrillDown:(0,c.enableDrillInteraction)(n),hierarchyConfig:s});return e.data(f),(0,o.polygon)((0,u.deepAssign)({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:l,polygon:{color:r,style:a}}})),e.coordinate().reflect("y"),t}function h(t){return t.chart.axis(!1),t}function d(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(0,c.enableDrillInteraction)(t)?(0,u.deepAssign)({},t,{interactions:(0,r.__spreadArrays)(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:c.transformData}}])}):t}function g(t){var e=t.chart,n=t.options,r=n.interactions,o=n.drilldown;(0,a.interaction)({chart:e,options:d(n)});var s=(0,c.findInteraction)(r,"view-zoom");return s&&(!1!==s.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),(0,c.enableDrillInteraction)(n)&&(e.appendPadding=(0,l.getAdjustAppendPadding)(e.appendPadding,(0,i.get)(o,["breadCrumb","position"]))),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}}},function(t,e,n){"use strict";n(581),n(316)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sankey=void 0;var r=n(1),i=n(0),o=n(18),a=n(7),s=n(1311),u=n(616),l=n(319);n(1317);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,i.get)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=(0,u.transformToViewsData)(this.options,this.chart.width,this.chart.height),n=e.nodes,r=e.edges,i=(0,a.findViewById)(this.chart,l.NODES_VIEW_ID),o=(0,a.findViewById)(this.chart,l.EDGES_VIEW_ID);i.changeData(n),o.changeData(r)},e.prototype.getSchemaAdaptor=function(){return s.adaptor},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(o.Plot);e.Sankey=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(c,f,o.interaction,h,p,o.theme)(t)},e.animation=p,e.nodeDraggable=h;var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(616),l=n(319);function c(t){var e=t.options.rawFields,n=void 0===e?[]:e;return(0,a.deepAssign)({},{options:{tooltip:{fields:(0,i.uniq)((0,r.__spreadArrays)(["name","source","target","value","isNode"],n))},label:{fields:(0,i.uniq)((0,r.__spreadArrays)(["x","name"],n))}}},t)}function f(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,o=n.edgeStyle,a=n.label,c=n.tooltip,f=n.nodeState,p=n.edgeState;e.legend(!1),e.tooltip(c),e.axis(!1),e.coordinate().reflect("y");var h=(0,u.transformToViewsData)(n,e.width,e.height),d=h.nodes,g=h.edges,v=e.createView({id:l.EDGES_VIEW_ID});v.data(g),(0,s.edge)({chart:v,options:{xField:l.X_FIELD,yField:l.Y_FIELD,seriesField:l.COLOR_FIELD,edge:{color:r,style:o,shape:"arc"},tooltip:c,state:p}});var y=e.createView({id:l.NODES_VIEW_ID});return y.data(d),(0,s.polygon)({chart:y,options:{xField:l.X_FIELD,yField:l.Y_FIELD,seriesField:l.COLOR_FIELD,polygon:{color:r,style:i},label:a,tooltip:c,state:f}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function p(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,r.__spreadArrays)(e.views[0].geometries,e.views[1].geometries).forEach((function(t){t.animate(n)})),t}function h(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultOptions=u,e.getNodeAlignFunction=s,e.sankeyLayout=function(t,e){var n=u(t),r=n.nodeId,o=n.nodeSort,a=n.nodeAlign,l=n.nodeWidth,c=n.nodePadding,f=n.nodeDepth,p=(0,i.sankey)().nodeSort(o).nodeWidth(l).nodePadding(c).nodeDepth(f).nodeAlign(s(a)).extent([[0,0],[1,1]]).nodeId(r)(e);return p.nodes.forEach((function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]})),p.links.forEach((function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})),p};var r=n(0),i=n(1313),o={left:i.left,right:i.right,center:i.center,justify:i.justify},a={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function s(t){return((0,r.isString)(t)?o[t]:(0,r.isFunction)(t)?t:null)||i.justify}function u(t){return(0,r.assign)({},a,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"center",{enumerable:!0,get:function(){return i.center}}),Object.defineProperty(e,"justify",{enumerable:!0,get:function(){return i.justify}}),Object.defineProperty(e,"left",{enumerable:!0,get:function(){return i.left}}),Object.defineProperty(e,"right",{enumerable:!0,get:function(){return i.right}}),Object.defineProperty(e,"sankey",{enumerable:!0,get:function(){return r.Sankey}});var r=n(1314),i=n(617)},function(t,e,n){"use strict";var r=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.Sankey=function(){var t,e,n,r,v=0,y=0,m=1,_=1,b=24,x=8,w=f,S=o.justify,E=p,A=h,O=6;function T(o){var s={nodes:E(o),links:A(o)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var o=new Map(e.map((function(t){return[w(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!==(0,i.default)(n)&&(n=t.source=d(o,n)),"object"!==(0,i.default)(r)&&(r=t.target=d(o,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var a=0,s=e;a<s.length;a++){var u=s[a],l=u.sourceLinks,c=u.targetLinks;l.sort(r),c.sort(r)}}(s),function(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max((0,a.sumBy)(i.sourceLinks,c),(0,a.sumBy)(i.targetLinks,c)):i.fixedValue}}(s),function(t){for(var n=t.nodes,r=n.length,i=new Set(n),o=new Set,s=0;i.size;){if(i.forEach((function(t){t.depth=s;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;o.add(r)}})),++s>r)throw new Error("circular link");i=o,o=new Set}if(e)for(var u=Math.max((0,a.maxValueBy)(n,(function(t){return t.depth}))+1,0),l=void 0,c=0;c<n.length;c++)(l=n[c]).depth=e.call(null,l,u)}(s),function(t){for(var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;r.size;){if(r.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}})),++o>n)throw new Error("circular link");r=i,i=new Set}}(s),function(e){var r=function(t){for(var e=t.nodes,r=Math.max((0,a.maxValueBy)(e,(function(t){return t.depth}))+1,0),i=(m-v-b)/(r-1),o=new Array(r).fill(0).map((function(){return[]})),s=0,u=e;s<u.length;s++){var l=u[s],c=Math.max(0,Math.min(r-1,Math.floor(S.call(null,l,r))));l.layer=c,l.x0=v+c*i,l.x1=l.x0+b,o[c]?o[c].push(l):o[c]=[l]}if(n)for(var f=0,p=o;f<p.length;f++)p[f].sort(n);return o}(e);t=Math.min(x,(_-y)/((0,a.maxValueBy)(r,(function(t){return t.length}))-1)),function(e){for(var n=(0,a.minValueBy)(e,(function(e){return(_-y-(e.length-1)*t)/(0,a.sumBy)(e,c)})),r=0,i=e;r<i.length;r++){for(var o=i[r],s=y,u=0,l=o;u<l.length;u++){(g=l[u]).y0=s,g.y1=s+g.value*n,s=g.y1+t;for(var f=0,p=g.sourceLinks;f<p.length;f++){var h=p[f];h.width=h.value*n}}s=(_-s+t)/(o.length+1);for(var d=0;d<o.length;++d){var g;(g=o[d]).y0+=s*(d+1),g.y1+=s*(d+1)}L(o)}}(r);for(var i=0;i<O;++i){var o=Math.pow(.99,i),s=Math.max(1-o,(i+1)/O);P(r,o,s),C(r,o,s)}}(s),g(s),s}function C(t,e,r){for(var i=1,o=t.length;i<o;++i){for(var a=t[i],s=0,u=a;s<u.length;s++){for(var c=u[s],f=0,p=0,h=0,d=c.targetLinks;h<d.length;h++){var g=d[h],v=g.source,y=g.value*(c.layer-v.layer);f+=D(v,c)*y,p+=y}if(p>0){var m=(f/p-c.y0)*e;c.y0+=m,c.y1+=m,R(c)}}void 0===n&&a.sort(l),a.length&&M(a,r)}}function P(t,e,r){for(var i=t.length-2;i>=0;--i){for(var o=t[i],a=0,s=o;a<s.length;a++){for(var u=s[a],c=0,f=0,p=0,h=u.sourceLinks;p<h.length;p++){var d=h[p],g=d.target,v=d.value*(g.layer-u.layer);c+=N(u,g)*v,f+=v}if(f>0){var y=(c/f-u.y0)*e;u.y0+=y,u.y1+=y,R(u)}}void 0===n&&o.sort(l),o.length&&M(o,r)}}function M(e,n){var r=e.length>>1,i=e[r];k(e,i.y0-t,r-1,n),I(e,i.y1+t,r+1,n),k(e,_,e.length-1,n),I(e,y,0,n)}function I(e,n,r,i){for(;r<e.length;++r){var o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function k(e,n,r,i){for(;r>=0;--r){var o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function R(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,o=n;i<o.length;i++)o[i].source.sourceLinks.sort(u);for(var a=0,l=e;a<l.length;a++)l[a].target.targetLinks.sort(s)}}function L(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i.sourceLinks,a=i.targetLinks;o.sort(u),a.sort(s)}}function D(e,n){for(var r=e.y0-(e.sourceLinks.length-1)*t/2,i=0,o=e.sourceLinks;i<o.length;i++){var a=o[i],s=a.target,u=a.width;if(s===n)break;r+=u+t}for(var l=0,c=n.targetLinks;l<c.length;l++){var f=c[l];if(s=f.source,u=f.width,s===e)break;r-=u}return r}function N(e,n){for(var r=n.y0-(n.targetLinks.length-1)*t/2,i=0,o=n.targetLinks;i<o.length;i++){var a=o[i],s=a.source,u=a.width;if(s===e)break;r+=u+t}for(var l=0,c=e.sourceLinks;l<c.length;l++){var f=c[l];if(s=f.target,u=f.width,s===n)break;r-=u}return r}return T.update=function(t){return g(t),t},T.nodeId=function(t){return arguments.length?(w="function"===typeof t?t:(0,a.constant)(t),T):w},T.nodeAlign=function(t){return arguments.length?(S="function"===typeof t?t:(0,a.constant)(t),T):S},T.nodeDepth=function(t){return arguments.length?(e=t,T):e},T.nodeSort=function(t){return arguments.length?(n=t,T):n},T.nodeWidth=function(t){return arguments.length?(b=+t,T):b},T.nodePadding=function(e){return arguments.length?(x=t=+e,T):x},T.nodes=function(t){return arguments.length?(E="function"===typeof t?t:(0,a.constant)(t),T):E},T.links=function(t){return arguments.length?(A="function"===typeof t?t:(0,a.constant)(t),T):A},T.linkSort=function(t){return arguments.length?(r=t,T):r},T.size=function(t){return arguments.length?(v=y=0,m=+t[0],_=+t[1],T):[m-v,_-y]},T.extent=function(t){return arguments.length?(v=+t[0][0],m=+t[1][0],y=+t[0][1],_=+t[1][1],T):[[v,y],[m,_]]},T.iterations=function(t){return arguments.length?(O=+t,T):O},T};var i=r(n(6)),o=n(617),a=n(1315);function s(t,e){return l(t.source,e.source)||t.index-e.index}function u(t,e){return l(t.target,e.target)||t.index-e.index}function l(t,e){return t.y0-e.y0}function c(t){return t.value}function f(t){return t.index}function p(t){return t.nodes}function h(t){return t.links}function d(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function g(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var r=n[e],i=r.y0,o=i,a=0,s=r.sourceLinks;a<s.length;a++)(c=s[a]).y0=i+c.width/2,i+=c.width;for(var u=0,l=r.targetLinks;u<l.length;u++){var c;(c=l[u]).y1=o+c.width/2,o+=c.width}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.constant=function(t){return function(){return t}},e.maxValueBy=function(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n},e.minValueBy=function(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n},e.sumBy=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutoffCircle=function(t,e,n){if(!(0,r.isArray)(t))return[];var a=[],s=i(t,e,n),u=o(t,s,e,n),l={};function c(t){l[t]=1,s.forEach((function(e){if(0!=u[t][e])if(1==l[e])a.push(t+"_"+e);else{if(-1==l[e])return;c(e)}})),l[t]=-1}return s.forEach((function(t){l[t]=0})),s.forEach((function(t){-1!=l[t]&&c(t)})),0!==a.length&&console.warn("sankey data contains circle, "+a.length+" records removed.",a),t.filter((function(t){return a.findIndex((function(r){return r===t[e]+"_"+t[n]}))<0}))},e.getMatrix=o,e.getNodes=i;var r=n(0);function i(t,e,n){var r=[];return t.forEach((function(t){var i=t[e],o=t[n];r.includes(i)||r.push(i),r.includes(o)||r.push(o)})),r}function o(t,e,n,r){var i={};return e.forEach((function(t){i[t]={},e.forEach((function(e){i[t][e]=0}))})),t.forEach((function(t){i[t[n]][t[r]]=1})),i}},function(t,e,n){"use strict";n(1318)},function(t,e,n){"use strict";var r=n(13),i=n(1319);(0,r.registerAction)("sankey-node-drag",i.SankeyNodeDragAction),(0,r.registerInteraction)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SankeyNodeDragAction=void 0;var r=n(1),i=n(13),o=n(0),a=n(7),s=n(319),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return(0,r.__extends)(e,t),e.prototype.isNodeElement=function(){var t=(0,o.get)(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return(0,a.findViewById)(this.context.view,s.NODES_VIEW_ID)},e.prototype.getEdgeView=function(){return(0,a.findViewById)(this.context.view,s.EDGES_VIEW_ID)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,o.get)(this.context,"event.x"),y:(0,o.get)(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:(0,o.get)(this.context,"event.x"),y:(0,o.get)(this.context,"event.y")},n=e.x-this.prevPoint.x,i=e.y-this.prevPoint.y,a=this.getNodeView(),s=a.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var u=s.getModel().data,l=a.getOptions().data,c=a.getCoordinate(),f={x:n/c.getWidth(),y:i/c.getHeight()},p=(0,r.__assign)((0,r.__assign)({},u),{x:u.x.map((function(t){return t+f.x})),y:u.y.map((function(t){return t+f.y}))}),h=(0,r.__spreadArrays)(l);h[this.currentElementIdx]=p,a.data(h);var d=u.name,g=this.getEdgeView(),v=g.getOptions().data;v.forEach((function(t){t.source===d&&(t.x[0]+=f.x,t.x[1]+=f.x,t.y[0]+=f.y,t.y[1]+=f.y),t.target===d&&(t.x[2]+=f.x,t.x[3]+=f.x,t.y[2]+=f.y,t.y[3]+=f.y)})),g.data(v),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(i.Action);e.SankeyNodeDragAction=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chord=void 0;var r=n(1),i=n(18),o=n(1321),a=n(618),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Chord=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,a.flow)(o.theme,c,g,f,p,h,d,y,v,o.interaction,o.state,m)(t)};var r=n(1),i=n(0),o=n(21),a=n(7),s=n(29),u=n(1322),l=n(618);function c(t){var e=t.options,n=e.data,i=e.sourceField,o=e.targetField,s=e.weightField,l=e.nodePaddingRatio,c=e.nodeWidthRatio,f=e.rawFields,p=void 0===f?[]:f,h=(0,a.transformDataToNodeLinkData)(n,i,o,s),d=(0,u.chordLayout)({weight:!0,nodePaddingRatio:l,nodeWidthRatio:c},h),g=d.nodes,v=d.links,y=g.map((function(t){return(0,r.__assign)((0,r.__assign)({},(0,a.pick)(t,(0,r.__spreadArrays)(["id","x","y","name"],p))),{isNode:!0})})),m=v.map((function(t){return(0,r.__assign)((0,r.__assign)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},(0,a.pick)(t,(0,r.__spreadArrays)(["x","y","value"],p))),{isNode:!1})}));return(0,r.__assign)((0,r.__assign)({},t),{ext:(0,r.__assign)((0,r.__assign)({},t.ext),{chordData:{nodesData:y,edgesData:m}})})}function f(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[l.NODE_COLOR_FIELD]={sync:"color"},e[l.EDGE_COLOR_FIELD]={sync:"color"},e)),t}function p(t){return t.chart.axis(!1),t}function h(t){return t.chart.legend(!1),t}function d(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function g(t){return t.chart.coordinate("polar").reflect("y"),t}function v(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,o=n.label,a=n.tooltip,u=e.createView();return u.data(r),(0,s.polygon)({chart:u,options:{xField:l.X_FIELD,yField:l.Y_FIELD,seriesField:l.NODE_COLOR_FIELD,polygon:{style:i},label:o,tooltip:a}}),t}function y(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,o=n.tooltip,a=e.createView();a.data(r);var u={xField:l.X_FIELD,yField:l.Y_FIELD,seriesField:l.EDGE_COLOR_FIELD,edge:{style:i,shape:"arc"},tooltip:o};return(0,s.edge)({chart:a,options:u}),t}function m(t){var e=t.chart,n=t.options.animation;return"boolean"===typeof n?e.animate(n):e.animate(!0),(0,i.each)((0,a.getAllGeometriesRecursively)(e),(function(t){t.animate(n)})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chordLayout=function(t,e){var n=o(t),i={},a=e.nodes,s=e.links;a.forEach((function(t){var e=n.id(t);i[e]=t})),function(t,e,n){(0,r.forIn)(t,(function(t,r){t.inEdges=e.filter((function(t){return""+n.target(t)===""+r})),t.outEdges=e.filter((function(t){return""+n.source(t)===""+r})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(i,s,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return(""+e.id(t)).localeCompare(""+e.id(n))}}[e.sortBy];!n&&(0,r.isFunction)(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(a,n);var u=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=r/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-r),t.height=o})),t.forEach((function(n,r){for(var a=0,s=r-1;s>=0;s--)a+=t[s].width+2*i;var u=n.minX=i+a,l=n.maxX=n.minX+n.width,c=n.minY=e.y-o/2,f=n.maxY=c+o;n.x=[u,l,l,u],n.y=[c,c,f,f]}))}else{var s=1/n;t.forEach((function(t,n){t.x=(n+.5)*s,t.y=e.y}))}return t}(a,n),l=function(t,e,n){if(n.weight){var i={};(0,r.forIn)(t,(function(t,e){i[e]=t.value})),e.forEach((function(e){var r=n.source(e),o=n.target(e),a=t[r],s=t[o];if(a&&s){var u=i[r],l=n.sourceWeight(e),c=a.minX+(a.value-u)/a.value*a.width,f=c+l/a.value*a.width;i[r]-=l;var p=i[o],h=n.targetWeight(e),d=s.minX+(s.value-p)/s.value*s.width,g=d+h/s.value*s.width;i[o]-=h;var v=n.y;e.x=[c,f,d,g],e.y=[v,v,v,v],e.source=a,e.target=s}}))}else e.forEach((function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y],e.source=r,e.target=i)}));return e}(i,s,n);return{nodes:u,links:l}},e.getDefaultOptions=o;var r=n(0),i={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function o(t){return(0,r.assign)({},i,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CirclePacking=void 0;var r=n(1),i=n(18),o=n(1324),a=n(619);n(1327);var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(i.Plot);e.CirclePacking=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)((0,a.pattern)("pointStyle"),f,p,a.theme,d,h,v,a.legend,g,m,a.animation,(0,a.annotation)())(t)},e.meta=d;var r=n(1),i=n(0),o=n(561),a=n(21),s=n(7),u=n(123),l=n(1325),c=n(619);function f(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return(0,s.deepAssign)({options:{size:function(t){return t.r*n}}},t)}function p(t){var e=t.options,n=t.chart,r=n.viewBBox,o=e.padding,a=e.appendPadding,s=e.drilldown,c=a;if(null===s||void 0===s?void 0:s.enabled){var f=(0,u.getAdjustAppendPadding)(n.appendPadding,(0,i.get)(s,["breadCrumb","position"]));c=(0,u.resolveAllPadding)([f,a])}var p=(0,l.resolvePaddingForCircle)(o,c,r).finalPadding;return n.padding=p,n.appendPadding=0,t}function h(t){var e=t.chart,n=t.options,i=e.padding,a=e.appendPadding,u=n.color,f=n.colorField,p=n.pointStyle,h=n.hierarchyConfig,d=n.sizeField,g=n.rawFields,v=void 0===g?[]:g,y=n.drilldown,m=(0,l.transformData)({data:n.data,hierarchyConfig:h,enableDrillDown:null===y||void 0===y?void 0:y.enabled,rawFields:v});e.data(m);var _=e.viewBBox,b=(0,l.resolvePaddingForCircle)(i,a,_).finalSize,x=function(t){return t.r*b};return d&&(x=function(t){return t[d]*b}),(0,o.point)((0,s.deepAssign)({},t,{options:{xField:"x",yField:"y",seriesField:f,sizeField:d,rawFields:(0,r.__spreadArrays)(c.RAW_FIELDS,v),point:{color:u,style:p,shape:"circle",size:x}}})),t}function d(t){return(0,s.flow)((0,a.scale)({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function g(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var o=n;(0,i.get)(n,"fields")||(o=(0,s.deepAssign)({},{customItems:function(t){return t.map((function(t){var n=(0,i.get)(e.getOptions(),"scales"),o=(0,i.get)(n,["name","formatter"],(function(t){return t})),a=(0,i.get)(n,["value","formatter"],(function(t){return t}));return(0,r.__assign)((0,r.__assign)({},t),{name:o(t.data.name),value:a(t.data.value)})}))}},o)),e.tooltip(o)}return t}function v(t){return t.chart.axis(!1),t}function y(t){var e=t.drilldown,n=t.interactions,i=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?(0,s.deepAssign)({},t,{interactions:(0,r.__spreadArrays)(i,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:l.transformData,enableDrillDown:!0}}])}):t}function m(t){var e=t.chart,n=t.options;return(0,a.interaction)({chart:e,options:y(n)}),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolvePaddingForCircle=function(t,e,n){var r=(0,s.resolveAllPadding)([t,e]),i=r[0],o=r[1],a=r[2],u=r[3],l=n.width,c=n.height,f=l-(u+o),p=c-(i+a),h=Math.min(f,p),d=(f-h)/2,g=(p-h)/2;return{finalPadding:[i+g,o+d,a+g,u+d],finalSize:h<0?0:h}},e.transformData=function(t){var e=t.data,n=t.hierarchyConfig,s=t.rawFields,u=void 0===s?[]:s,l=t.enableDrillDown,c=(0,i.pack)(e,(0,r.__assign)((0,r.__assign)({},n),{field:"value",as:["x","y","r"]})),f=[];return c.forEach((function(t){for(var e,i=t.data.name,s=(0,r.__assign)({},t);s.depth>1;)i=(null===(e=s.parent.data)||void 0===e?void 0:e.name)+" / "+i,s=s.parent;if(l&&t.depth>2)return null;var c=(0,o.deepAssign)({},t.data,(0,r.__assign)((0,r.__assign)((0,r.__assign)({},(0,o.pick)(t.data,u)),{path:i}),t));c.ext=n,c[a.HIERARCHY_DATA_TRANSFORM_PARAMS]={hierarchyConfig:n,rawFields:u,enableDrillDown:l},f.push(c)})),f};var r=n(1),i=n(1326),o=n(7),a=n(202),s=n(123)},function(t,e,n){"use strict";var r=n(6);Object.defineProperty(e,"__esModule",{value:!0}),e.pack=function(t,e){var n,r=(e=(0,o.assign)({},u,e)).as;if(!(0,o.isArray)(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=(0,a.getField)(e)}catch(p){console.warn(p)}var s=function(t){return i.pack().size(e.size).padding(e.padding)(i.hierarchy(t).sum((function(t){return t[n]})).sort(e.sort))}(t),l=r[0],c=r[1],f=r[2];return s.each((function(t){t[l]=t.x,t[c]=t.y,t[f]=t.r})),(0,a.getAllNodes)(s)};var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(194)),o=n(0),a=n(158);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var u={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}}},function(t,e,n){"use strict";n(316)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.P=void 0;var r=n(1),i=n(7),o=function(t){function e(e,n,r,o){var a=t.call(this,e,(0,i.deepAssign)({},o,n))||this;return a.type="g2-plot",a.defaultOptions=o,a.adaptor=r,a}return(0,r.__extends)(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e}(n(18).Plot);e.P=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,l.flow)(a.animation,f,p,a.interaction,a.animation,a.theme,a.tooltip)(t)};var r=n(1),i=n(0),o=n(49),a=n(21),s=n(18),u=n(99),l=n(7),c=n(621);function f(t){var e=t.chart,n=t.options,a=n.views,s=n.legend;return(0,i.each)(a,(function(t){var n=t.region,a=t.data,s=t.meta,c=t.axes,f=t.coordinate,p=t.interactions,h=t.annotations,d=t.tooltip,g=t.geometries,v=e.createView({region:n});v.data(a);var y={};c&&(0,i.each)(c,(function(t,e){y[e]=(0,l.pick)(t,u.AXIS_META_CONFIG_KEYS)})),y=(0,l.deepAssign)({},s,y),v.scale(y),c?(0,i.each)(c,(function(t,e){v.axis(e,t)})):v.axis(!1),v.coordinate(f),(0,i.each)(g,(function(t){var e=(0,o.geometry)({chart:v,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),(0,i.each)(p,(function(t){!1===t.enable?v.removeInteraction(t.type):v.interaction(t.type,t.cfg)})),(0,i.each)(h,(function(t){v.annotation()[t.type]((0,r.__assign)({},t))})),"boolean"===typeof t.animation?v.animate(!1):(v.animate(!0),(0,i.each)(v.geometries,(function(e){e.animate(t.animation)}))),d&&(v.interaction("tooltip"),v.tooltip(d))})),s?(0,i.each)(s,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function p(t){var e=t.chart,n=t.options.plots;return(0,i.each)(n,(function(t){var n=t.type,i=t.region,o=t.options,a=void 0===o?{}:o,u=a.tooltip,f=e.createView((0,r.__assign)({region:i},(0,l.pick)(a,s.PLOT_CONTAINER_OPTIONS)));u&&f.interaction("tooltip"),(0,c.execPlotAdaptor)(n,f,a)})),t}},function(t,e,n){"use strict";n(1331)},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(13),a=n(7),s=n(1332),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getAssociationItems=function(t,e){var n,r=this.context.event,o=e||{},u=o.linkField,l=o.dim,c=[];if(null===(n=r.data)||void 0===n?void 0:n.data){var f=r.data.data;(0,i.each)(t,(function(t){var e,n,r=u;if("x"===l?r=t.getXScale().field:"y"===l?r=null===(e=t.getYScales().find((function(t){return t.field===r})))||void 0===e?void 0:e.field:r||(r=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),r){var o=(0,i.map)((0,a.getAllElements)(t),(function(e){var n=!1,o=!1,a=(0,i.isArray)(f)?(0,i.get)(f[0],r):(0,i.get)(f,r);return(0,s.getElementValue)(e,r)===a?n=!0:o=!0,{element:e,view:t,active:n,inactive:o}}));c.push.apply(c,o)}}))}return c},e.prototype.showTooltip=function(t){var e=(0,a.getSiblingViews)(this.context.view),n=this.getAssociationItems(e,t);(0,i.each)(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=(0,a.getSiblingViews)(this.context.view);(0,i.each)(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=(0,a.getViews)(this.context.view),n=this.getAssociationItems(e,t);(0,i.each)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=(0,a.getViews)(this.context.view),n=this.getAssociationItems(e,t);(0,i.each)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=(0,a.getViews)(this.context.view),n=this.getAssociationItems(e,t);(0,i.each)(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=(0,a.getViews)(this.context.view);(0,i.each)(t,(function(t){(0,s.clearHighlight)(t)}))},e}(o.Action);(0,o.registerAction)("association",u),(0,o.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,o.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,o.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,o.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearHighlight=function(t){var e=(0,i.getAllElements)(t);(0,r.each)(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))},e.getElementValue=function(t,e){var n=t.getModel().data;return(0,r.isArray)(n)?n[0][e]:n[e]};var r=n(0),i=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Facet=void 0;var r=n(1),i=n(18),o=n(1334),a=n(1336),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return a.DEFAULT_OPTIONS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return o.adaptor},e}(i.Plot);e.Facet=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return(0,s.flow)(o.theme,c,f)(t)};var r=n(1),i=n(0),o=n(21),a=n(99),s=n(7),u=n(621),l=n(1335);function c(t){var e=t.chart,n=t.options,o=n.type,a=n.data,s=n.fields,c=n.eachView,f=(0,i.omit)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(a),e.facet(o,(0,r.__assign)((0,r.__assign)({},f),{fields:s,eachView:function(t,e){var n=c(t,e);if(n.geometries)(0,l.execViewAdaptor)(t,n);else{var r=n,i=r.options;i.tooltip&&t.interaction("tooltip"),(0,u.execPlotAdaptor)(r.type,t,i)}}})),t}function f(t){var e=t.chart,n=t.options,o=n.axes,u=n.meta,l=n.tooltip,c=n.coordinate,f=n.theme,p=n.legend,h=n.interactions,d=n.annotations,g={};return o&&(0,i.each)(o,(function(t,e){g[e]=(0,s.pick)(t,a.AXIS_META_CONFIG_KEYS)})),g=(0,s.deepAssign)({},u,g),e.scale(g),e.coordinate(c),o?(0,i.each)(o,(function(t,n){e.axis(n,t)})):e.axis(!1),l?(e.interaction("tooltip"),e.tooltip(l)):!1===l&&e.removeInteraction("tooltip"),e.legend(p),f&&e.theme(f),(0,i.each)(h,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),(0,i.each)(d,(function(t){e.annotation()[t.type]((0,r.__assign)({},t))})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.execViewAdaptor=function(t,e){var n=e.data,u=e.coordinate,l=e.interactions,c=e.annotations,f=e.animation,p=e.tooltip,h=e.axes,d=e.meta,g=e.geometries;n&&t.data(n);var v={};h&&(0,i.each)(h,(function(t,e){v[e]=(0,s.pick)(t,a.AXIS_META_CONFIG_KEYS)})),v=(0,s.deepAssign)({},d,v),t.scale(v),u&&t.coordinate(u),!1===h?t.axis(!1):(0,i.each)(h,(function(e,n){t.axis(n,e)})),(0,i.each)(g,(function(e){var n=(0,o.geometry)({chart:t,options:e}).ext,r=e.adjust;r&&n.geometry.adjust(r)})),(0,i.each)(l,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),(0,i.each)(c,(function(e){t.annotation()[e.type]((0,r.__assign)({},e))})),"boolean"===typeof f?t.animate(!1):(t.animate(!0),(0,i.each)(t.geometries,(function(t){t.animate(f)}))),p?(t.interaction("tooltip"),t.tooltip(p)):!1===p&&t.removeInteraction("tooltip")};var r=n(1),i=n(0),o=n(49),a=n(99),s=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0,e.DEFAULT_OPTIONS={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.Lab=void 0,e.notice=o;var r,i=n(620);function o(t,e){console.warn(t===r.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===r.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===r.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type.")}e.Stage=r,function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(r||(e.Stage=r={}));var a=function(){function t(){}return Object.defineProperty(t,"MultiView",{get:function(){return o(r.STABLE,"MultiView"),i.Mix},enumerable:!1,configurable:!0}),t}();e.Lab=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.statistic=void 0;var r=n(1),i=n(0),o=n(35),a=n(43),s=n(524),u=n(14),l=n(320),c=n(622);function f(t){var e=t.chart,n=t.options,r=n.percent,o=n.range,f=n.radius,p=n.innerRadius,h=n.startAngle,d=n.endAngle,g=n.axis,v=n.indicator,y=n.gaugeStyle,m=n.type,_=n.meter,b=o.color,x=o.width;if(v){var w=c.getIndicatorData(r),S=e.createView({id:l.INDICATEOR_VIEW_ID});S.data(w),S.point().position(l.PERCENT+"*1").shape(v.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:v}),S.coordinate("polar",{startAngle:h,endAngle:d,radius:p*f}),S.axis(l.PERCENT,g),S.scale(l.PERCENT,u.pick(g,s.AXIS_META_CONFIG_KEYS))}var E=c.getRangeData(r,n.range),A=e.createView({id:l.RANGE_VIEW_ID});A.data(E);var O=i.isString(b)?[b,l.DEFAULT_COLOR]:b;return a.interval({chart:A,options:{xField:"1",yField:l.RANGE_VALUE,seriesField:l.RANGE_TYPE,rawFields:[l.PERCENT],isStack:!0,interval:{color:O,style:y,shape:"meter"===m?"meter-gauge":null},args:{zIndexReversed:!0},minColumnWidth:x,maxColumnWidth:x}}).ext.geometry.customInfo({meter:_}),A.coordinate("polar",{innerRadius:p,radius:f,startAngle:h,endAngle:d}).transpose(),t}function p(t){var e;return u.flow(o.scale(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[l.PERCENT]={},e)))(t)}function h(t,e){var n=t.chart,i=t.options,o=i.statistic,a=i.percent;if(n.getController("annotation").clear(!0),o){var s=o.content,l=void 0;s&&(l=u.deepAssign({},{content:(100*a).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},s)),u.renderGaugeStatistic(n,{statistic:r.__assign(r.__assign({},o),{content:l})},{percent:a})}return e&&n.render(!0),t}function d(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}e.statistic=h,e.adaptor=function(t){return u.flow(o.theme,o.animation,f,p,h,o.interaction,o.annotation(),d)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);n(13).registerShape("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,i=n.indicator,o=n.defaultColor,a=i,s=a.pointer,u=a.pin,l=e.addGroup(),c=this.parsePoint({x:0,y:0});return s&&l.addShape("line",{name:"pointer",attrs:r.__assign({x1:c.x,y1:c.y,x2:t.x,y2:t.y,stroke:o},s.style)}),u&&l.addShape("circle",{name:"pin",attrs:r.__assign({x:c.x,y:c.y,stroke:o},u.style)}),l}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=n(0);r.registerShape("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,o=void 0===n?{}:n,a=o.steps,s=void 0===a?50:a,u=o.stepRatio,l=void 0===u?.5:u;s=s<1?1:s,l=i.clamp(l,0,1);var c=this.coordinate,f=c.startAngle,p=c.endAngle,h=0;l>0&&l<1&&(h=(p-f)/s/(l/(1-l)+1-1/s));for(var d=h/(1-l)*l,g=e.addGroup(),v=this.coordinate.getCenter(),y=this.coordinate.getRadius(),m=r.Util.getAngle(t,this.coordinate),_=m.startAngle,b=m.endAngle,x=_;x<b;){var w=void 0,S=(x-f)%(d+h);w=S<d?x+(d-S):(x+=d+h-S)+d;var E=r.Util.getSectorPath(v.x,v.y,y,x,Math.min(w,b),y*this.coordinate.innerRadius);g.addShape("path",{name:"meter-gauge",attrs:{path:E,fill:t.color,stroke:t.color,lineWidth:.5}}),x=w+h}return g}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=e.slider=e.legend=e.limitInPlot=e.animation=e.theme=e.annotation=e.interaction=e.tooltip=e.axis=e.meta=e.color=e.transformOptions=void 0;var r=n(1),i=n(0),o=n(35),a=n(121),s=n(14),u=n(516),l=n(321),c=n(1342),f=n(1343),p=n(1344),h=n(623),d=n(624);function g(t){var e,n=t.options,r=n.geometryOptions,o=void 0===r?[]:r,a=n.xField,u=n.yField,c=i.every(o,(function(t){var e=t.geometry;return e===h.DualAxesGeometry.Line||void 0===e}));return s.deepAssign({},{options:{geometryOptions:[],meta:(e={},e[a]={type:"cat",sync:!0,range:c?[0,1]:void 0},e),tooltip:{showMarkers:c,showCrosshairs:c,shared:!0,crosshairs:{type:"x"}},interactions:c?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:l.transformObjectToArray(u,n.yAxis),geometryOptions:[l.getGeometryOption(a,u[0],o[0]),l.getGeometryOption(a,u[1],o[1])],annotations:l.transformObjectToArray(u,n.annotations)}})}function v(t){var e,n,r=t.chart,i=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:d.LEFT_AXES_VIEW},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:d.RIGHT_AXES_VIEW}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function y(t){var e=t.chart,n=t.options,i=n.xField,o=n.yField,s=n.geometryOptions,c=n.data,p=n.tooltip;return[r.__assign(r.__assign({},s[0]),{id:d.LEFT_AXES_VIEW,data:c[0],yField:o[0]}),r.__assign(r.__assign({},s[1]),{id:d.RIGHT_AXES_VIEW,data:c[1],yField:o[1]})].forEach((function(t){var n=t.id,o=t.data,s=t.yField,c=l.isColumn(t)&&t.isPercent,h=c?a.percent(o,s,i,s):o,d=u.findViewById(e,n).data(h),g=c?r.__assign({formatter:function(e){return{name:e[t.seriesField]||s,value:(100*Number(e[s])).toFixed(2)+"%"}}},p):p;f.drawSingleGeometry({chart:d,options:{xField:i,yField:s,tooltip:g,geometryOption:t}})})),t}function m(t){var e,n=t.chart,r=t.options.geometryOptions,o=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],a=0;return n.once("beforepaint",(function(){i.each(r,(function(t,e){var r=u.findViewById(n,0===e?d.LEFT_AXES_VIEW:d.RIGHT_AXES_VIEW);if(!t.color){var s=r.getGroupScales(),l=i.get(s,[0,"values","length"],1),c=o.slice(a,a+l).concat(0===e?[]:o);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,c):e.color(c[0])})),a+=l}})),n.render(!0)})),t}function _(t){var e,n,r=t.chart,i=t.options,a=i.xAxis,l=i.yAxis,c=i.xField,f=i.yField;return o.scale(((e={})[c]=a,e[f[0]]=l[0],e))(s.deepAssign({},t,{chart:u.findViewById(r,d.LEFT_AXES_VIEW)})),o.scale(((n={})[c]=a,n[f[1]]=l[1],n))(s.deepAssign({},t,{chart:u.findViewById(r,d.RIGHT_AXES_VIEW)})),t}function b(t){var e=t.chart,n=t.options,r=u.findViewById(e,d.LEFT_AXES_VIEW),i=u.findViewById(e,d.RIGHT_AXES_VIEW),o=n.xField,a=n.yField,s=n.xAxis,c=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,s),r.axis(a[0],l.getYAxisWithDefault(c[0],h.AxisType.Left)),i.axis(o,!1),i.axis(a[1],l.getYAxisWithDefault(c[1],h.AxisType.Right)),t}function x(t){var e=t.chart,n=t.options.tooltip,r=u.findViewById(e,d.LEFT_AXES_VIEW),i=u.findViewById(e,d.RIGHT_AXES_VIEW);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function w(t){var e=t.chart;return o.interaction(s.deepAssign({},t,{chart:u.findViewById(e,d.LEFT_AXES_VIEW)})),o.interaction(s.deepAssign({},t,{chart:u.findViewById(e,d.RIGHT_AXES_VIEW)})),t}function S(t){var e=t.chart,n=t.options.annotations,r=i.get(n,[0]),a=i.get(n,[1]);return o.annotation(r)(s.deepAssign({},t,{chart:u.findViewById(e,d.LEFT_AXES_VIEW),options:{annotations:r}})),o.annotation(a)(s.deepAssign({},t,{chart:u.findViewById(e,d.RIGHT_AXES_VIEW),options:{annotations:a}})),t}function E(t){var e=t.chart;return o.theme(s.deepAssign({},t,{chart:u.findViewById(e,d.LEFT_AXES_VIEW)})),o.theme(s.deepAssign({},t,{chart:u.findViewById(e,d.RIGHT_AXES_VIEW)})),o.theme(t),t}function A(t){var e=t.chart;return o.animation(s.deepAssign({},t,{chart:u.findViewById(e,d.LEFT_AXES_VIEW)})),o.animation(s.deepAssign({},t,{chart:u.findViewById(e,d.RIGHT_AXES_VIEW)})),t}function O(t){var e=t.chart,n=t.options.yAxis;return o.limitInPlot(s.deepAssign({},t,{chart:u.findViewById(e,d.LEFT_AXES_VIEW),options:{yAxis:n[0]}})),o.limitInPlot(s.deepAssign({},t,{chart:u.findViewById(e,d.RIGHT_AXES_VIEW),options:{yAxis:n[1]}})),t}function T(t){var e=t.chart,n=t.options,r=n.legend,o=n.geometryOptions,a=n.yField,l=n.data,f=u.findViewById(e,d.LEFT_AXES_VIEW),p=u.findViewById(e,d.RIGHT_AXES_VIEW);if(!1===r)e.legend(!1);else if(i.isObject(r)&&!0===r.custom)e.legend(r);else{var h=i.get(o,[0,"legend"],r),g=i.get(o,[1,"legend"],r);e.once("beforepaint",(function(){var t=l[0].length?c.getViewLegendItems({view:f,geometryOption:o[0],yField:a[0],legend:h}):[],n=l[1].length?c.getViewLegendItems({view:p,geometryOption:o[1],yField:a[1],legend:g}):[];e.legend(s.deepAssign({},r,{custom:!0,items:t.concat(n)}))})),o[0].seriesField&&f.legend(o[0].seriesField,h),o[1].seriesField&&p.legend(o[1].seriesField,g),e.on("legend-item:click",(function(t){var n=i.get(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,o=r.value,s=r.isGeometry,l=r.viewId;if(s){if(i.findIndex(a,(function(t){return t===o}))>-1){var c=i.get(u.findViewById(e,l),"geometries");i.each(c,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var f=i.get(e.getController("legend"),"option.items",[]);i.each(e.views,(function(t){var n=t.getGroupScales();i.each(n,(function(e){e.values&&e.values.indexOf(o)>-1&&t.filter(e.field,(function(t){return!i.find(f,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function C(t){var e=t.chart,n=t.options.slider,r=u.findViewById(e,d.LEFT_AXES_VIEW),o=u.findViewById(e,d.RIGHT_AXES_VIEW);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;i.isEqual(n,r)||p.doSliderFilter(o,n)})),e.once("afterpaint",(function(){if(!i.isBoolean(n)){var t=n.start,e=n.end;(t||e)&&p.doSliderFilter(o,[t,e])}}))),t}e.transformOptions=g,e.color=m,e.meta=_,e.axis=b,e.tooltip=x,e.interaction=w,e.annotation=S,e.theme=E,e.animation=A,e.limitInPlot=O,e.legend=T,e.slider=C,e.adaptor=function(t){return s.flow(g,v,E,y,_,b,O,x,w,S,A,m,T,C)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getViewLegendItems=void 0;var r=n(0),i=n(13),o=n(14),a=n(321);e.getViewLegendItems=function(t){var e=t.view,n=t.geometryOption,s=t.yField,u=t.legend,l=r.get(u,"marker"),c=o.findGeometry(e,a.isLine(n)?"line":"interval");if(!n.seriesField){var f=r.get(e,"options.scales."+s+".alias")||s,p=c.getAttribute("color"),h=e.getTheme().defaultColor;return p&&(h=i.Util.getMappingValue(p,f,r.get(p,["values",0],h))),[{value:s,name:f,marker:(r.isFunction(l)?l:!r.isEmpty(l)&&o.deepAssign({},{style:{stroke:h,fill:h}},l))||(a.isLine(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:h}}:{symbol:"square",style:{fill:h}}),isGeometry:!0,viewId:e.id}]}var d=c.getGroupAttributes();return r.reduce(d,(function(t,n){var r=i.Util.getLegendItems(e,c,n,e.getTheme(),l);return t.concat(r)}),[])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawSingleGeometry=void 0;var r=n(1),i=n(0),o=n(43),a=n(14),s=n(196),u=n(321);e.drawSingleGeometry=function(t){var e=t.options,n=t.chart,l=e.geometryOption,c=l.isStack,f=l.color,p=l.seriesField,h=l.groupField,d=l.isGroup,g=["xField","yField"];if(u.isLine(l)){o.line(a.deepAssign({},t,{options:r.__assign(r.__assign(r.__assign({},a.pick(e,g)),l),{line:{color:l.color,style:l.lineStyle}})})),o.point(a.deepAssign({},t,{options:r.__assign(r.__assign(r.__assign({},a.pick(e,g)),l),{point:l.point&&r.__assign({color:f,shape:"circle"},l.point)})}));var v=[];d&&v.push({type:"dodge",dodgeBy:h||p,customOffset:0}),c&&v.push({type:"stack"}),v.length&&i.each(n.geometries,(function(t){t.adjust(v)}))}return u.isColumn(l)&&s.adaptor(a.deepAssign({},t,{options:r.__assign(r.__assign(r.__assign({},a.pick(e,g)),l),{widthRatio:l.columnWidthRatio,interval:r.__assign(r.__assign({},a.pick(l,["color"])),{style:l.columnStyle})})})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doSliderFilter=void 0;var r=n(0),i=n(14);e.doSliderFilter=function(t,e){var n=e[0],o=e[1],a=t.getOptions().data,s=t.getXScale(),u=r.size(a);if(s&&u){var l=r.valuesOfKey(a,s.field),c=l,f=r.size(c),p=Math.floor(n*(f-1)),h=Math.floor(o*(f-1));t.filter(s.field,(function(t){var e=c.indexOf(t);return!(e>-1)||i.isBetween(e,p,h)})),t.render(!0)}}},function(t,e,n){"use strict";var r=n(9),i=n.n(r),o=n(25),a=n.n(o),s=n(366),u=n.n(s),l=n(11),c=n.n(l),f=n(12),p=n.n(f),h=n(5),d=n.n(h),g=n(66),v=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10];function y(t){var e=1;if(0===(t=Math.abs(t)))return e;if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;return e.toString().length>12&&(e=parseFloat(e.toFixed(n))),e}for(;t>10;)e*=10,t/=10;return e}function m(t,e,n,r){for(var i=!1,o=v[t],a=t;a<v.length;a++)if(_({interval:v[a],tickCount:e,max:r,min:n})){o=v[a],i=!0;break}return i?o:10*m(0,e,n/10,r/10)}function _(t){var e=t.interval,n=t.tickCount,r=t.max,i=t.min;return Math.floor(i/e)*e+(n-1)*e>=r}function b(t){var e=t.toString(),n=e.indexOf("."),r=e.indexOf("e-"),i=r>=0?parseInt(e.substr(r+2),10):e.substr(n+1).length;return i>20&&(i=20),i}function x(t,e){return parseFloat(t.toFixed(e))}function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}Object(g.registerTickMethod)("linear-strict-tick-method",(function(t){var e=t||{},n=e.tickCount,r=e.tickInterval,i=t||{},o=i.min,a=i.max;o=isNaN(o)?0:o,a=isNaN(a)?0:a;var s=n&&n>=2?n:5,u=r||function(t){var e=t.tickCount,n=t.min,r=t.max;if(n===r)return 1*y(r);for(var i=(r-n)/(e-1),o=y(i),a=i/o,s=r/o,u=n/o,l=0,c=0;c<v.length;c++)if(a<=v[c]){l=c;break}var f=m(l,e,u,s),p=b(f)+b(o);return x(f*o,p)}({tickCount:s,max:a,min:o}),l=Math.floor(o/u)*u;if(r){var c=Math.abs(Math.ceil((a-l)/r))+1;s=Math.max(s,c)}for(var f=[],p=0,h=b(u);p<s;)f.push(x(l+p*u,h)),p++;return f}));var S=function(t){c()(n,t);var e=w(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).type="linear-strict",r}return a()(n,[{key:"initCfg",value:function(){u()(d()(n.prototype),"initCfg",this).call(this),this.tickMethod="linear-strict-tick-method"}},{key:"calculateTicks",value:function(){var t=this.nice;this.nice=!0;var e=u()(d()(n.prototype),"calculateTicks",this).call(this);return this.nice=t,e.length&&(this.min=e[0],this.max=e[e.length-1]),e}}]),n}(g.Linear);Object(g.getScale)("linear-strict")||Object(g.registerScale)("linear-strict",S)}])},t.exports=r(n(2791),n(4164))},1694:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},6846:function(t,e){"use strict";e.Q=function(t){var e,n=[],r=String(t||""),i=r.indexOf(","),o=0,a=!1;for(;!a;)-1===i&&(i=r.length,a=!0),!(e=r.slice(o,i).trim())&&a||n.push(e),o=i+1,i=r.indexOf(",",o);return n}},7089:function(t){"use strict";function e(t,e,o){o=o||2;var a,s,u,f,p,d,g,v=e&&e.length,y=v?e[0]*o:t.length,m=n(t,0,y,o,!0),_=[];if(!m||m.next===m.prev)return _;if(v&&(m=function(t,e,i,o){var a,s,u,f=[];for(a=0,s=e.length;a<s;a++)(u=n(t,e[a]*o,a<s-1?e[a+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),f.push(h(u));for(f.sort(l),a=0;a<f.length;a++)i=r(i=c(f[a],i),i.next);return i}(t,e,m,o)),t.length>80*o){a=u=t[0],s=f=t[1];for(var b=o;b<y;b+=o)(p=t[b])<a&&(a=p),(d=t[b+1])<s&&(s=d),p>u&&(u=p),d>f&&(f=d);g=0!==(g=Math.max(u-a,f-s))?1/g:0}return i(m,_,o,a,s,g),_}function n(t,e,n,r,i){var o,a;if(i===O(t,e,n,r)>0)for(o=e;o<n;o+=r)a=S(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=S(o,t[o],t[o+1],a);return a&&y(a,a.next)&&(E(a),a=a.next),a}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,l,c,f,h){if(t){!h&&f&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,l,c,f);for(var d,g,v=t;t.prev!==t.next;)if(d=t.prev,g=t.next,f?a(t,l,c,f):o(t))e.push(d.i/n),e.push(t.i/n),e.push(g.i/n),E(t),t=g.next,v=g.next;else if((t=g)===v){h?1===h?i(t=s(r(t),e,n),e,n,l,c,f,2):2===h&&u(t,e,n,l,c,f):i(r(t),e,n,l,c,f,1);break}}}function o(t){var e=t.prev,n=t,r=t.next;if(v(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(d(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(t,e,n,r){var i=t.prev,o=t,a=t.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=p(s,u,e,n,r),h=p(l,c,e,n,r),g=t.prevZ,y=t.nextZ;g&&g.z>=f&&y&&y.z<=h;){if(g!==t.prev&&g!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;g&&g.z>=f;){if(g!==t.prev&&g!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;y&&y.z<=h;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function s(t,e,n){var i=t;do{var o=i.prev,a=i.next.next;!y(o,a)&&m(o,i,i.next,a)&&x(o,a)&&x(a,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(a.i/n),E(i),E(i.next),i=t=a),i=i.next}while(i!==t);return r(i)}function u(t,e,n,o,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=w(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,e,n,o,a,s),void i(c,e,n,o,a,s)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,p=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&d(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),x(r,t)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&f(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(t,e);if(!n)return e;var i=w(n,t),o=r(n,n.next);return r(i,i.next),e===n?o:e}function f(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function p(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||y(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,r){var i=b(v(t,e,n)),o=b(v(t,e,r)),a=b(v(n,r,t)),s=b(v(n,r,e));return i!==o&&a!==s||(!(0!==i||!_(t,n,e))||(!(0!==o||!_(t,r,e))||(!(0!==a||!_(n,t,r))||!(0!==s||!_(n,e,r)))))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function w(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(t,e,n,r){var i=new A(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(O(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(O(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[p]-t[d])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[d+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},8903:function(t){function e(t){var e=t.target||t.srcElement;e.__resizeRAF__&&cancelAnimationFrame(e.__resizeRAF__),e.__resizeRAF__=requestAnimationFrame((function(){var n=e.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(e){e.call(n,t)}))}))}var n=function(t,n){var r,i=this.document,o=i.attachEvent;if("undefined"!==typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!t.__resizeListeners__)if(t.__resizeListeners__=[],o)t.__resizeTrigger__=t,t.attachEvent("onresize",e);else{"static"===getComputedStyle(t).position&&(t.style.position="relative");var a=t.__resizeTrigger__=i.createElement("object");a.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),a.setAttribute("class","resize-sensor"),a.setAttribute("tabindex","-1"),a.setAttribute("title",""),a.__resizeElement__=t,a.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",e)},a.type="text/html",r&&t.appendChild(a),a.data="about:blank",r||t.appendChild(a)}t.__resizeListeners__.push(n)};t.exports="undefined"===typeof window?n:n.bind(window),t.exports.unbind=function(t,n){var r=document.attachEvent,i=t.__resizeListeners__||[];if(n){var o=i.indexOf(n);-1!==o&&i.splice(o,1)}else i=t.__resizeListeners__=[];if(!i.length){if(r)t.detachEvent("onresize",e);else if(t.__resizeTrigger__){var a=t.__resizeTrigger__.contentDocument,s=a&&a.defaultView;s&&(s.removeEventListener("resize",e),delete s.__resizeTrigger__),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)}delete t.__resizeListeners__}}},7143:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},3313:function(t){function e(t,e,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),a=e.get(o);return"undefined"===typeof a&&(a=t.call(this,r),e.set(o,a)),a}function n(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return"undefined"===typeof o&&(o=t.apply(this,r),e.set(i,o)),o}function r(t,e,n,r,i){return n.bind(e,t,r,i)}function i(t,i){return r(t,this,1===t.length?e:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache},a.prototype.get=function(t){return this.cache[t]},a.prototype.set=function(t,e){this.cache[t]=e};var s={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:s,r=e&&e.serializer?e.serializer:o;return(e&&e.strategy?e.strategy:i)(t,{cache:n,serializer:r})},t.exports.strategies={variadic:function(t,e){return r(t,this,n,e.cache.create(),e.serializer)},monadic:function(t,n){return r(t,this,e,n.cache.create(),n.serializer)}}},4802:function(t,e,n){var r,i,o;i=[],r=function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){u(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,n){var s=a.URL||a.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?o(u):i(u.href)?r(t,e,n):o(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),n);else if(i(t))r(t,n,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,n);var o="application/octet-stream"===t.type,u=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&u||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,p=f.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout((function(){f.revokeObjectURL(p)}),4e4)}});a.saveAs=u.saveAs=u,t.exports=u},void 0===(o="function"===typeof r?r.apply(e,i):r)||(t.exports=o)},2597:function(t){"use strict";t.exports=function(t,n){var r,i,o,a=t||"",s=n||"div",u={},l=0;for(;l<a.length;)e.lastIndex=l,o=e.exec(a),(r=a.slice(l,o?o.index:a.length))&&(i?"#"===i?u.id=r:u.className?u.className.push(r):u.className=[r]:s=r,l+=r.length),o&&(i=o[0],l++);return{type:"element",tagName:s,properties:u,children:[]}};var e=/[#.]/g},1174:function(t,e,n){"use strict";var r=n(3644),i=n(15),o=n(2597),a=n(9544).Q,s=n(6846).Q;t.exports=function(t,e,n){var i=n?function(t){var e,n=t.length,r=-1,i={};for(;++r<n;)i[(e=t[r]).toLowerCase()]=e;return i}(n):null;return function(t,n){var r,a=o(t,e),s=Array.prototype.slice.call(arguments,2),f=a.tagName.toLowerCase();a.tagName=i&&u.call(i,f)?i[f]:f,n&&l(n,a)&&(s.unshift(n),n=null);if(n)for(r in n)p(a.properties,r,n[r]);c(a.children,s),"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]);return a};function p(e,n,i){var o,u,l;null!==i&&void 0!==i&&i===i&&(u=(o=r(t,n)).property,"string"===typeof(l=i)&&(o.spaceSeparated?l=a(l):o.commaSeparated?l=s(l):o.commaOrSpaceSeparated&&(l=a(s(l).join(" ")))),"style"===u&&"string"!==typeof i&&(l=function(t){var e,n=[];for(e in t)n.push([e,t[e]].join(": "));return n.join("; ")}(l)),"className"===u&&e.className&&(l=e.className.concat(l)),e[u]=function(t,e,n){var r,i,o;if("object"!==typeof n||!("length"in n))return f(t,e,n);i=n.length,r=-1,o=[];for(;++r<i;)o[r]=f(t,e,n[r]);return o}(o,u,l))}};var u={}.hasOwnProperty;function l(t,e){return"string"===typeof t||"length"in t||function(t,e){var n=e.type;if("input"===t||!n||"string"!==typeof n)return!1;if("object"===typeof e.children&&"length"in e.children)return!0;if(n=n.toLowerCase(),"button"===t)return"menu"!==n&&"submit"!==n&&"reset"!==n&&"button"!==n;return"value"in e}(e.tagName,t)}function c(t,e){var n,r;if("string"!==typeof e&&"number"!==typeof e)if("object"===typeof e&&"length"in e)for(n=-1,r=e.length;++n<r;)c(t,e[n]);else{if("object"!==typeof e||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");t.push(e)}else t.push({type:"text",value:String(e)})}function f(t,e,n){var r=n;return t.number||t.positiveNumber?isNaN(r)||""===r||(r=Number(r)):(t.boolean||t.overloadedBoolean)&&("string"!==typeof r||""!==r&&i(n)!==i(e)||(r=!0)),r}},8671:function(t,e,n){"use strict";var r=n(5706),i=n(1174)(r,"div");i.displayName="html",t.exports=i},6913:function(t,e,n){"use strict";t.exports=n(8671)},722:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(t,e,r,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,e)&&Reflect.defineMetadata(n,r(),this,e),Reflect.hasMetadata(n,this,e)?Reflect.getMetadata(n,this,e):r()},set:function(t){Reflect.defineMetadata(n,t,this,e)}})}e.makePropertyInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,(function(){return t.get(n)}),e)}}},e.makePropertyInjectNamedDecorator=function(t,e){return function(n,i){return function(o,a){r(o,a,(function(){return t.getNamed(n,i)}),e)}}},e.makePropertyInjectTaggedDecorator=function(t,e){return function(n,i,o){return function(a,s){r(a,s,(function(){return t.getTagged(n,i,o)}),e)}}},e.makePropertyMultiInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,(function(){return t.getAll(n)}),e)}}}},5696:function(t,e,n){"use strict";var r=n(722);e.Z=function(t,e){return void 0===e&&(e=!0),{lazyInject:r.makePropertyInjectDecorator(t,e),lazyInjectNamed:r.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:r.makePropertyMultiInjectDecorator(t,e)}}},6517:function(t){"use strict";t.exports=function(t){var e="string"===typeof t?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}},4929:function(t,e,n){"use strict";var r=n(6517),i=n(7194);t.exports=function(t){return r(t)||i(t)}},7194:function(t){"use strict";t.exports=function(t){var e="string"===typeof t?t.charCodeAt(0):t;return e>=48&&e<=57}},5504:function(t){"use strict";t.exports=function(t){var e="string"===typeof t?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}},5587:function(t,e,n){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){return i(e[a][1][t]||t)}),l,l.exports,t,e,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,a,s,u,l,c=[],f=0,p=t.length,h=p,d="string"!==r.getTypeOf(t);f<t.length;)h=p-f,i=d?(e=t[f++],n=f<p?t[f++]:0,f<p?t[f++]:0):(e=t.charCodeAt(f++),n=f<p?t.charCodeAt(f++):0,f<p?t.charCodeAt(f++):0),a=e>>2,s=(3&e)<<4|n>>4,u=1<h?(15&n)<<2|i>>6:64,l=2<h?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(l));return c.join("")},n.decode=function(t){var e,n,r,a,s,u,l=0,c=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var p,h=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&h--,t.charAt(t.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|h):new Array(0|h);l<t.length;)e=o.indexOf(t.charAt(l++))<<2|(a=o.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(l++)))>>2,r=(3&s)<<6|(u=o.indexOf(t.charAt(l++))),p[c++]=e,64!==s&&(p[c++]=n),64!==u&&(p[c++]=r);return p}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=r?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new u("Deflate",t)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r}function i(t,e,n,i,a,c){var f,p,h=t.file,d=t.compression,g=c!==s.utf8encode,v=o.transformTo("string",c(h.name)),y=o.transformTo("string",s.utf8encode(h.name)),m=h.comment,_=o.transformTo("string",c(m)),b=o.transformTo("string",s.utf8encode(m)),x=y.length!==h.name.length,w=b.length!==m.length,S="",E="",A="",O=h.dir,T=h.date,C={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(C.crc32=t.crc32,C.compressedSize=t.compressedSize,C.uncompressedSize=t.uncompressedSize);var P=0;e&&(P|=8),g||!x&&!w||(P|=2048);var M=0,I=0;O&&(M|=16),"UNIX"===a?(I=798,M|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(h.unixPermissions,O)):(I=20,M|=function(t){return 63&(t||0)}(h.dosPermissions)),f=T.getUTCHours(),f<<=6,f|=T.getUTCMinutes(),f<<=5,f|=T.getUTCSeconds()/2,p=T.getUTCFullYear()-1980,p<<=4,p|=T.getUTCMonth()+1,p<<=5,p|=T.getUTCDate(),x&&(E=r(1,1)+r(u(v),4)+y,S+="up"+r(E.length,2)+E),w&&(A=r(1,1)+r(u(_),4)+b,S+="uc"+r(A.length,2)+A);var k="";return k+="\n\0",k+=r(P,2),k+=d.magic,k+=r(f,2),k+=r(p,2),k+=r(C.crc32,4),k+=r(C.compressedSize,4),k+=r(C.uncompressedSize,4),k+=r(v.length,2),k+=r(S.length,2),{fileRecord:l.LOCAL_FILE_HEADER+k+v+S,dirRecord:l.CENTRAL_FILE_HEADER+r(I,2)+k+r(_.length,2)+"\0\0\0\0"+r(M,4)+r(i,4)+v+S+_}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),u=t("../crc32"),l=t("../signature");function c(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,a),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return l.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,a){var s=o.transformTo("string",a(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.9.1",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(t){return new i.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new s);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)})).then((function(t){for(var i=t.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],u=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(n.file(l).unsafeOriginalName=u)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(o,i),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r,i=o.getTypeOf(e),s=o.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(r=d(t))&&v.call(this,r,!0);var f="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!f),(e instanceof l&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",i="string");var y=null;y=e instanceof l||e instanceof a?e:p.isNode&&p.isStream(e)?new h(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var m=new c(t,y,s);this.files[t]=m}var i=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),u=t("./defaults"),l=t("./compressedObject"),c=t("./zipObject"),f=t("./generate"),p=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),d=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:u.createFolders,t=g(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,r.call(this,t,e,n),this;if(y(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(y(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=v.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=f.generateWorker(this,n,r)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function o(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,r),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./ConvertWorker"),o=t("./GenericWorker"),a=t("../base64"),s=t("../support"),u=t("../external"),l=null;if(s.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e){return new u.Promise((function(n,i){var o=[],s=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",(function(t,n){o.push(t),e&&e(n)})).on("error",(function(t){o=[],i(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),n);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(u,function(t,e){var n,r=0,i=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),n=0;n<e.length;n++)i.set(e[n],r),r+=e[n].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(s,o),l);n(t)}catch(t){i(t)}o=[]})).resume()}))}function f(t,e,n){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=n,r.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}f.prototype={accumulate:function(t){return c(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){r.delay(e,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return i.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return i.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,o,a=t.length,u=new Array(2*a);for(e=n=0;e<a;)if((i=t[e++])<128)u[n++]=i;else if(4<(o=s[i]))u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&e<a;)i=i<<6|63&t[e++],o--;1<o?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(t=r.transformTo(i.uint8array?"uint8array":"array",t))},r.inherits(l,a),l.prototype.processChunk=function(t){var e=r.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),u=e;a!==e.length&&(i.uint8array?(u=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(u=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(u),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(c,a),c.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function u(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,r){n.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=n.getTypeOf(t),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return c.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return c.stringifyByChar(t)}function p(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=f;var h={};h.string={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},h.array={string:f,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},h.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return p(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:f,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return o.newBufferFrom(t)}},h.nodebuffer={string:f,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return p(t,new Uint8Array(t.length))},nodebuffer:u},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return h[r][t](e)},n.resolve=function(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var i=e[r];"."===i||""===i&&0!==r&&r!==e.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&o.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},n.delay=function(t,e,n){a((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,a,u){return s.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var c=n.getTypeOf(e);return c?("arraybuffer"===c?e=n.transformTo("uint8array",e):"string"===c&&(u?e=i.decode(e):o&&!0!==a&&(e=function(t){return l(t,r.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),u=t("./compressions"),l=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<l.length;f++)r.prototype[l[f]]=c;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&h(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return o.reject(t,r)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=d((function(){e(i,r)}));"error"===a.status&&r(a.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?f(n,this.state===s?t:e,this.outcome):this.queue.push(new c(n,t,e)),n},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(p,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)h(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(t[u],u);return l;function c(t,i){e.resolve(t).then((function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(t){r||(r=!0,o.reject(l,t))}))}},l.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(i);++s<n;)a=t[s],e.resolve(a).then((function(t){r||(r=!0,o.resolve(u,t))}),(function(t){r||(r=!0,o.reject(u,t))}));return u}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,l=0,c=-1,f=0,p=8;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({level:c,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,d))!==l)throw new Error(a[n]);this._dict_set=!0}}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(s.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=h,n.deflate=d,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),l=t("./zlib/gzheader"),c=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(t,e){var n,s,u,l,f,p,h=this.strm,d=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(p="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),l=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=l,h.avail_out=d-l,l&&i.arraySet(h.output,h.output,u,l,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,s=e||t.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=t[n++])<128)l[r++]=i;else if(4<(o=a[i]))l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&t[n++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages"),l=0,c=4,f=0,p=-2,h=-1,d=4,g=2,v=8,y=9,m=286,_=30,b=19,x=2*m+1,w=15,S=3,E=258,A=E+S+1,O=42,T=113,C=1,P=2,M=3,I=4;function k(t,e){return t.msg=u[e],e}function R(t){return(t<<1)-(4<t?9:0)}function L(t){for(var e=t.length;0<=--e;)t[e]=0}function D(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function N(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,D(t.strm)}function F(t,e){t.pending_buf[t.pending++]=e}function j(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function B(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-A?t.strstart-(t.w_size-A):0,l=t.window,c=t.w_mask,f=t.prev,p=t.strstart+E,h=l[o+a-1],d=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===d&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(r=E-(p-o),o=p-E,a<r){if(t.match_start=e,s<=(a=r))break;h=l[o+a-1],d=l[o+a]}}}while((e=f[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function z(t){var e,n,r,o,u,l,c,f,p,h,d=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-A)){for(i.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;r=t.head[--e],t.head[e]=d<=r?r-d:0,--n;);for(e=n=d;r=t.prev[--e],t.prev[e]=d<=r?r-d:0,--n;);o+=d}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,f=t.strstart+t.lookahead,h=void 0,(p=o)<(h=l.avail_in)&&(h=p),n=0===h?0:(l.avail_in-=h,i.arraySet(c,l.input,l.next_in,h,f),1===l.state.wrap?l.adler=a(l.adler,c,h,f):2===l.state.wrap&&(l.adler=s(l.adler,c,h,f)),l.next_in+=h,l.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=S)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+S-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<S)););}while(t.lookahead<A&&0!==t.strm.avail_in)}function U(t,e){for(var n,r;;){if(t.lookahead<A){if(z(t),t.lookahead<A&&e===l)return C;if(0===t.lookahead)break}if(n=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-A&&(t.match_length=B(t,n)),t.match_length>=S)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-S),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=S){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(N(t,!1),0===t.strm.avail_out))return C}return t.insert=t.strstart<S-1?t.strstart:S-1,e===c?(N(t,!0),0===t.strm.avail_out?M:I):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?C:P}function V(t,e){for(var n,r,i;;){if(t.lookahead<A){if(z(t),t.lookahead<A&&e===l)return C;if(0===t.lookahead)break}if(n=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=S-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-A&&(t.match_length=B(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===S&&4096<t.strstart-t.match_start)&&(t.match_length=S-1)),t.prev_length>=S&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-S,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-S),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=S-1,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return C}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return C}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<S-1?t.strstart:S-1,e===c?(N(t,!0),0===t.strm.avail_out?M:I):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?C:P}function G(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*_+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(w+1),this.heap=new i.Buf16(2*m+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*m+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=g,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?O:T,t.adler=2===e.wrap?0:1,e.last_flush=l,o._tr_init(e),f):k(t,p)}function Y(t){var e=H(t);return e===f&&function(t){t.window_size=2*t.w_size,L(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=S-1,t.match_available=0,t.ins_h=0}(t.state),e}function X(t,e,n,r,o,a){if(!t)return p;var s=1;if(e===h&&(e=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||y<o||n!==v||r<8||15<r||e<0||9<e||a<0||d<a)return k(t,p);8===r&&(r=9);var u=new W;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+S-1)/S),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,Y(t)}r=[new G(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(z(t),0===t.lookahead&&e===l)return C;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,N(t,!1),0===t.strm.avail_out))return C;if(t.strstart-t.block_start>=t.w_size-A&&(N(t,!1),0===t.strm.avail_out))return C}return t.insert=0,e===c?(N(t,!0),0===t.strm.avail_out?M:I):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),C)})),new G(4,4,8,4,U),new G(4,5,16,8,U),new G(4,6,32,32,U),new G(4,4,16,16,V),new G(8,16,32,32,V),new G(8,16,128,128,V),new G(8,32,128,256,V),new G(32,128,258,1024,V),new G(32,258,258,4096,V)],n.deflateInit=function(t,e){return X(t,e,v,15,8,0)},n.deflateInit2=X,n.deflateReset=Y,n.deflateResetKeep=H,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=e,f):p},n.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||5<e||e<0)return t?k(t,p):p;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==c)return k(t,0===t.avail_out?-5:p);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===O)if(2===i.wrap)t.adler=0,F(i,31),F(i,139),F(i,8),i.gzhead?(F(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),F(i,255&i.gzhead.time),F(i,i.gzhead.time>>8&255),F(i,i.gzhead.time>>16&255),F(i,i.gzhead.time>>24&255),F(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),F(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(F(i,255&i.gzhead.extra.length),F(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(F(i,0),F(i,0),F(i,0),F(i,0),F(i,0),F(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),F(i,3),i.status=T);else{var h=v+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=T,j(i,h),0!==i.strstart&&(j(i,t.adler>>>16),j(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),D(t),a=i.pending,i.pending!==i.pending_buf_size));)F(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),D(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,F(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),D(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,F(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&D(t),i.pending+2<=i.pending_buf_size&&(F(i,255&t.adler),F(i,t.adler>>8&255),t.adler=0,i.status=T)):i.status=T),0!==i.pending){if(D(t),0===t.avail_out)return i.last_flush=-1,f}else if(0===t.avail_in&&R(e)<=R(n)&&e!==c)return k(t,-5);if(666===i.status&&0!==t.avail_in)return k(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var d=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(z(t),0===t.lookahead)){if(e===l)return C;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(N(t,!1),0===t.strm.avail_out))return C}return t.insert=0,e===c?(N(t,!0),0===t.strm.avail_out?M:I):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?C:P}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=E){if(z(t),t.lookahead<=E&&e===l)return C;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=S&&0<t.strstart&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+E;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=E-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=S?(n=o._tr_tally(t,1,t.match_length-S),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(N(t,!1),0===t.strm.avail_out))return C}return t.insert=0,e===c?(N(t,!0),0===t.strm.avail_out?M:I):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?C:P}(i,e):r[i.level].func(i,e);if(d!==M&&d!==I||(i.status=666),d===C||d===M)return 0===t.avail_out&&(i.last_flush=-1),f;if(d===P&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(L(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),D(t),0===t.avail_out))return i.last_flush=-1,f}return e!==c?f:i.wrap<=0?1:(2===i.wrap?(F(i,255&t.adler),F(i,t.adler>>8&255),F(i,t.adler>>16&255),F(i,t.adler>>24&255),F(i,255&t.total_in),F(i,t.total_in>>8&255),F(i,t.total_in>>16&255),F(i,t.total_in>>24&255)):(j(i,t.adler>>>16),j(i,65535&t.adler)),D(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==O&&69!==e&&73!==e&&91!==e&&103!==e&&e!==T&&666!==e?k(t,p):(t.state=null,e===T?k(t,-3):f):p},n.deflateSetDictionary=function(t,e){var n,r,o,s,u,l,c,h,d=e.length;if(!t||!t.state)return p;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==O||n.lookahead)return p;for(1===s&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(L(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,d-n.w_size,n.w_size,0),e=h,d=n.w_size),u=t.avail_in,l=t.next_in,c=t.input,t.avail_in=d,t.next_in=0,t.input=e,z(n);n.lookahead>=S;){for(r=n.strstart,o=n.lookahead-(S-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+S-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=S-1,z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=u,n.wrap=s,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O;n=t.state,r=t.next_in,A=t.input,i=r+(t.avail_in-5),o=t.next_out,O=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,p=n.window,h=n.hold,d=n.bits,g=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{d<15&&(h+=A[r++]<<d,d+=8,h+=A[r++]<<d,d+=8),_=g[h&y];e:for(;;){if(h>>>=b=_>>>24,d-=b,0===(b=_>>>16&255))O[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&_,(b&=15)&&(d<b&&(h+=A[r++]<<d,d+=8),x+=h&(1<<b)-1,h>>>=b,d-=b),d<15&&(h+=A[r++]<<d,d+=8,h+=A[r++]<<d,d+=8),_=v[h&m];n:for(;;){if(h>>>=b=_>>>24,d-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=v[(65535&_)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&_,d<(b&=15)&&(h+=A[r++]<<d,(d+=8)<b&&(h+=A[r++]<<d,d+=8)),u<(w+=h&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,d-=b,(b=o-a)<w){if(c<(b=w-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=p,(S=0)===f){if(S+=l-b,b<x){for(x-=b;O[o++]=p[S++],--b;);S=o-w,E=O}}else if(f<b){if(S+=l+f-b,(b-=f)<x){for(x-=b;O[o++]=p[S++],--b;);if(S=0,f<x){for(x-=b=f;O[o++]=p[S++],--b;);S=o-w,E=O}}}else if(S+=f-b,b<x){for(x-=b;O[o++]=p[S++],--b;);S=o-w,E=O}for(;2<x;)O[o++]=E[S++],O[o++]=E[S++],O[o++]=E[S++],x-=3;x&&(O[o++]=E[S++],1<x&&(O[o++]=E[S++]))}else{for(S=o-w;O[o++]=O[S++],O[o++]=O[S++],O[o++]=O[S++],2<(x-=3););x&&(O[o++]=O[S++],1<x&&(O[o++]=O[S++]))}break}}break}}while(r<i&&o<s);r-=x=d>>3,h&=(1<<(d-=x<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=d}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),u=1,l=2,c=0,f=-2,p=1,h=852,d=592;function g(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=p,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(h),e.distcode=e.distdyn=new r.Buf32(d),e.sane=1,e.back=-1,c):f}function m(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,y(t)):f}function _(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?f:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,m(t))):f}function b(t,e){var n,r;return t?(r=new v,(t.state=r).window=null,(n=_(t,e))!==c&&(t.state=null),n):f}var x,w,S=!0;function E(t){if(S){var e;for(x=new r.Buf32(512),w=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(l,t.lens,0,32,w,0,t.work,{bits:5}),S=!1}t.lencode=x,t.lenbits=9,t.distcode=w,t.distbits=5}function A(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=m,n.inflateReset2=_,n.inflateResetKeep=y,n.inflateInit=function(t){return b(t,15)},n.inflateInit2=b,n.inflate=function(t,e){var n,h,d,v,y,m,_,b,x,w,S,O,T,C,P,M,I,k,R,L,D,N,F,j,B=0,z=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return f;12===(n=t.state).mode&&(n.mode=13),y=t.next_out,d=t.output,_=t.avail_out,v=t.next_in,h=t.input,m=t.avail_in,b=n.hold,x=n.bits,w=m,S=_,N=c;t:for(;;)switch(n.mode){case p:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(2&n.wrap&&35615===b){z[n.check=0]=255&b,z[1]=b>>>8&255,n.check=o(n.check,z,2,0),x=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&(b>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,t.adler=n.check=1,n.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=o(n.check,z,2,0)),x=b=0,n.mode=3;case 3:for(;x<32;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.head&&(n.head.time=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,z[2]=b>>>16&255,z[3]=b>>>24&255,n.check=o(n.check,z,4,0)),x=b=0,n.mode=4;case 4:for(;x<16;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=o(n.check,z,2,0)),x=b=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=o(n.check,z,2,0)),x=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(m<(O=n.length)&&(O=m),O&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,v,O,D)),512&n.flags&&(n.check=o(n.check,h,O,v)),m-=O,v+=O,n.length-=O),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break t;for(O=0;D=h[v+O++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&O<m;);if(512&n.flags&&(n.check=o(n.check,h,O,v)),m-=O,v+=O,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break t;for(O=0;D=h[v+O++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&O<m;);if(512&n.flags&&(n.check=o(n.check,h,O,v)),m-=O,v+=O,D)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}x=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}t.adler=n.check=g(b),x=b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=y,t.avail_out=_,t.next_in=v,t.avail_in=m,n.hold=b,n.bits=x,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}switch(n.last=1&b,x-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6!==e)break;b>>>=2,x-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,x=b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(O=n.length){if(m<O&&(O=m),_<O&&(O=_),0===O)break t;r.arraySet(d,h,v,O,y),m-=O,v+=O,_-=O,y+=O,n.length-=O;break}n.mode=12;break;case 17:for(;x<14;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(n.nlen=257+(31&b),b>>>=5,x-=5,n.ndist=1+(31&b),b>>>=5,x-=5,n.ncode=4+(15&b),b>>>=4,x-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.lens[U[n.have++]]=7&b,b>>>=3,x-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,N){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;M=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((P=B>>>24)<=x);){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(I<16)b>>>=P,x-=P,n.lens[n.have++]=I;else{if(16===I){for(j=P+2;x<j;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(b>>>=P,x-=P,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],O=3+(3&b),b>>>=2,x-=2}else if(17===I){for(j=P+3;x<j;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}x-=P,D=0,O=3+(7&(b>>>=P)),b>>>=3,x-=3}else{for(j=P+7;x<j;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}x-=P,D=0,O=11+(127&(b>>>=P)),b>>>=7,x-=7}if(n.have+O>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;O--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,F={bits:n.lenbits},N=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,N){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},N=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,N){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=m&&258<=_){t.next_out=y,t.avail_out=_,t.next_in=v,t.avail_in=m,n.hold=b,n.bits=x,a(t,S),y=t.next_out,d=t.output,_=t.avail_out,v=t.next_in,h=t.input,m=t.avail_in,b=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;M=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((P=B>>>24)<=x);){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(M&&0==(240&M)){for(k=P,R=M,L=I;M=(B=n.lencode[L+((b&(1<<k+R)-1)>>k)])>>>16&255,I=65535&B,!(k+(P=B>>>24)<=x);){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}b>>>=k,x-=k,n.back+=k}if(b>>>=P,x-=P,n.back+=P,n.length=I,0===M){n.mode=26;break}if(32&M){n.back=-1,n.mode=12;break}if(64&M){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&M,n.mode=22;case 22:if(n.extra){for(j=n.extra;x<j;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;M=(B=n.distcode[b&(1<<n.distbits)-1])>>>16&255,I=65535&B,!((P=B>>>24)<=x);){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(0==(240&M)){for(k=P,R=M,L=I;M=(B=n.distcode[L+((b&(1<<k+R)-1)>>k)])>>>16&255,I=65535&B,!(k+(P=B>>>24)<=x);){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}b>>>=k,x-=k,n.back+=k}if(b>>>=P,x-=P,n.back+=P,64&M){t.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&M,n.mode=24;case 24:if(n.extra){for(j=n.extra;x<j;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===_)break t;if(O=S-_,n.offset>O){if((O=n.offset-O)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}T=O>n.wnext?(O-=n.wnext,n.wsize-O):n.wnext-O,O>n.length&&(O=n.length),C=n.window}else C=d,T=y-n.offset,O=n.length;for(_<O&&(O=_),_-=O,n.length-=O;d[y++]=C[T++],--O;);0===n.length&&(n.mode=21);break;case 26:if(0===_)break t;d[y++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===m)break t;m--,b|=h[v++]<<x,x+=8}if(S-=_,t.total_out+=S,n.total+=S,S&&(t.adler=n.check=n.flags?o(n.check,d,S,y-S):i(n.check,d,S,y-S)),S=_,(n.flags?b:g(b))!==n.check){t.msg="incorrect data check",n.mode=30;break}x=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===m)break t;m--,b+=h[v++]<<x,x+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}x=b=0}n.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;default:return f}return t.next_out=y,t.avail_out=_,t.next_in=v,t.avail_in=m,n.hold=b,n.bits=x,(n.wsize||S!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&A(t,t.output,t.next_out,S-t.avail_out)?(n.mode=31,-4):(w-=t.avail_in,S-=t.avail_out,t.total_in+=w,t.total_out+=S,n.total+=S,n.wrap&&S&&(t.adler=n.check=n.flags?o(n.check,d,S,t.next_out-S):i(n.check,d,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===S||4===e)&&N===c&&(N=-5),N)},n.inflateEnd=function(t){if(!t||!t.state)return f;var e=t.state;return e.window&&(e.window=null),t.state=null,c},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?f:((n.head=e).done=!1,c):f},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?f:11===n.mode&&i(1,e,r,0)!==n.check?-3:A(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,c):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,l,c,f,p){var h,d,g,v,y,m,_,b,x,w=p.bits,S=0,E=0,A=0,O=0,T=0,C=0,P=0,M=0,I=0,k=0,R=null,L=0,D=new r.Buf16(16),N=new r.Buf16(16),F=null,j=0;for(S=0;S<=15;S++)D[S]=0;for(E=0;E<u;E++)D[e[n+E]]++;for(T=w,O=15;1<=O&&0===D[O];O--);if(O<T&&(T=O),0===O)return l[c++]=20971520,l[c++]=20971520,p.bits=1,0;for(A=1;A<O&&0===D[A];A++);for(T<A&&(T=A),S=M=1;S<=15;S++)if(M<<=1,(M-=D[S])<0)return-1;if(0<M&&(0===t||1!==O))return-1;for(N[1]=0,S=1;S<15;S++)N[S+1]=N[S]+D[S];for(E=0;E<u;E++)0!==e[n+E]&&(f[N[e[n+E]]++]=E);if(m=0===t?(R=F=f,19):1===t?(R=i,L-=257,F=o,j-=257,256):(R=a,F=s,-1),S=A,y=c,P=E=k=0,g=-1,v=(I=1<<(C=T))-1,1===t&&852<I||2===t&&592<I)return 1;for(;;){for(_=S-P,x=f[E]<m?(b=0,f[E]):f[E]>m?(b=F[j+f[E]],R[L+f[E]]):(b=96,0),h=1<<S-P,A=d=1<<C;l[y+(k>>P)+(d-=h)]=_<<24|b<<16|x|0,0!==d;);for(h=1<<S-1;k&h;)h>>=1;if(0!==h?(k&=h-1,k+=h):k=0,E++,0==--D[S]){if(S===O)break;S=e[n+f[E]]}if(T<S&&(k&v)!==g){for(0===P&&(P=T),y+=A,M=1<<(C=S-P);C+P<O&&!((M-=D[C+P])<=0);)C++,M<<=1;if(I+=1<<C,1===t&&852<I||2===t&&592<I)return 1;l[g=k&v]=T<<24|C<<16|y-c|0}}return 0!==k&&(l[y+k]=S-P<<24|64<<16|0),p.bits=T,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common"),i=0,o=1;function a(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,u=29,l=256,c=l+1+u,f=30,p=19,h=2*c+1,d=15,g=16,v=7,y=256,m=16,_=17,b=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(c+2));a(A);var O=new Array(2*f);a(O);var T=new Array(512);a(T);var C=new Array(256);a(C);var P=new Array(u);a(P);var M,I,k,R=new Array(f);function L(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function D(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?T[t]:T[256+(t>>>7)]}function F(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,n){t.bi_valid>g-n?(t.bi_buf|=e<<t.bi_valid&65535,F(t,t.bi_buf),t.bi_buf=e>>g-t.bi_valid,t.bi_valid+=n-g):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function B(t,e,n){j(t,n[2*e],n[2*e+1])}function z(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function U(t,e,n){var r,i,o=new Array(d+1),a=0;for(r=1;r<=d;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=z(o[s]++,s))}}function V(t){var e;for(e=0;e<c;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<p;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function G(t){8<t.bi_valid?F(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function W(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function H(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&W(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!W(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function Y(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?B(t,i,e):(B(t,(o=C[i])+l+1,e),0!==(a=x[o])&&j(t,i-=P[o],a),B(t,o=N(--r),n),0!==(a=w[o])&&j(t,r-=R[o],a)),s<t.last_lit;);B(t,y,e)}function X(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=h,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;1<=n;n--)H(t,o,n);for(i=u;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],H(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,H(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,v=e.stat_desc.max_length,y=0;for(o=0;o<=d;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<h;n++)v<(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)&&(o=v,y++),u[2*r+1]=o,l<r||(t.bl_count[o]++,a=0,g<=r&&(a=p[r-g]),s=u[2*r],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==y){do{for(o=v-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[v]--,y-=2}while(0<y);for(o=v;0!==o;o--)for(r=t.bl_count[o];0!==r;)l<(i=t.heap[--n])||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),U(o,l,t.bl_count)}function q(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*m]++):s<=10?t.bl_tree[2*_]++:t.bl_tree[2*b]++,o=i,l=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}function Z(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)for(;B(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==o&&(B(t,i,t.bl_tree),s--),B(t,m,t.bl_tree),j(t,s-3,2)):s<=10?(B(t,_,t.bl_tree),j(t,s-3,3)):(B(t,b,t.bl_tree),j(t,s-11,7));o=i,l=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}a(R);var K=!1;function Q(t,e,n,i){j(t,(s<<1)+(i?1:0),3),function(t,e,n,i){G(t),i&&(F(t,n),F(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}n._tr_init=function(t){K||(function(){var t,e,n,r,i,o=new Array(d+1);for(r=n=0;r<u-1;r++)for(P[r]=n,t=0;t<1<<x[r];t++)C[n++]=r;for(C[n-1]=r,r=i=0;r<16;r++)for(R[r]=i,t=0;t<1<<w[r];t++)T[i++]=r;for(i>>=7;r<f;r++)for(R[r]=i<<7,t=0;t<1<<w[r]-7;t++)T[256+i++]=r;for(e=0;e<=d;e++)o[e]=0;for(t=0;t<=143;)A[2*t+1]=8,t++,o[8]++;for(;t<=255;)A[2*t+1]=9,t++,o[9]++;for(;t<=279;)A[2*t+1]=7,t++,o[7]++;for(;t<=287;)A[2*t+1]=8,t++,o[8]++;for(U(A,c+1,o),t=0;t<f;t++)O[2*t+1]=5,O[2*t]=z(t,5);M=new L(A,x,l+1,c,d),I=new L(O,w,0,f,d),k=new L(new Array(0),S,0,p,v)}(),K=!0),t.l_desc=new D(t.dyn_ltree,M),t.d_desc=new D(t.dyn_dtree,I),t.bl_desc=new D(t.bl_tree,k),t.bi_buf=0,t.bi_valid=0,V(t)},n._tr_stored_block=Q,n._tr_flush_block=function(t,e,n,r){var a,s,u=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return i;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<l;e++)if(0!==t.dyn_ltree[2*e])return o;return i}(t)),X(t,t.l_desc),X(t,t.d_desc),u=function(t){var e;for(q(t,t.dyn_ltree,t.l_desc.max_code),q(t,t.dyn_dtree,t.d_desc.max_code),X(t,t.bl_desc),e=p-1;3<=e&&0===t.bl_tree[2*E[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==e?Q(t,e,n,r):4===t.strategy||s===a?(j(t,2+(r?1:0),3),Y(t,A,O)):(j(t,4+(r?1:0),3),function(t,e,n,r){var i;for(j(t,e-257,5),j(t,n-1,5),j(t,r-4,4),i=0;i<r;i++)j(t,t.bl_tree[2*E[i]+1],3);Z(t,t.dyn_ltree,e-1),Z(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),Y(t,t.dyn_ltree,t.dyn_dtree)),V(t),r&&G(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(C[n]+l+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){j(t,2,3),B(t,y,A),function(t){16===t.bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)},3751:function(t){"use strict";t.exports=n,t.exports.default=n;var e=1e20;function n(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer,u="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;u?this.canvas=my.createOffscreenCanvas(a,a,"2d"):(this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a),this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=u?Math.round(a/2*1):Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,n,r,o,a){for(var s=0;s<e;s++)i(t,s,e,n,r,o,a);for(var u=0;u<n;u++)i(t,u*e,1,e,r,o,a)}function i(t,n,r,i,o,a,s){var u,l,c,f;for(a[0]=0,s[0]=-e,s[1]=e,u=0;u<i;u++)o[u]=t[n+u*r];for(u=1,l=0,c=0;u<i;u++){do{f=a[l],c=(o[u]-o[f]+u*u-f*f)/(u-f)/2}while(c<=s[l]&&--l>-1);a[++l]=u,s[l]=c,s[l+1]=e}for(u=0,l=0;u<i;u++){for(;s[l+1]<u;)l++;f=a[l],t[n+u*r]=o[f]+(u-f)*(u-f)}}n.prototype._draw=function(t,n){var i,o,a,s,u,l,c,f,p,h=this.ctx.measureText(t),d=h.width,g=2*this.buffer;n&&this.useMetrics?(u=Math.floor(h.actualBoundingBoxAscent),f=this.buffer+Math.ceil(h.actualBoundingBoxAscent),l=this.buffer,c=this.buffer,i=(o=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+g,a=(s=Math.min(this.size-l,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+g,this.ctx.textBaseline="alphabetic"):(i=o=this.size,a=s=this.size,u=19*this.fontSize/24,l=c=0,f=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(c,l,o,s),this.ctx.fillText(t,this.buffer,f),p=this.ctx.getImageData(c,l,o,s));var v=new Uint8ClampedArray(i*a);return function(t,n,r,i,o,a,s){a.fill(e,0,n*r),s.fill(0,0,n*r);for(var u=(n-i)/2,l=0;l<o;l++)for(var c=0;c<i;c++){var f=(l+u)*n+c+u,p=t.data[4*(l*i+c)+3]/255;if(1===p)a[f]=0,s[f]=e;else if(0===p)a[f]=e,s[f]=0;else{var h=Math.max(0,.5-p),d=Math.max(0,p-.5);a[f]=h*h,s[f]=d*d}}}(p,i,a,o,s,this.gridOuter,this.gridInner),r(this.gridOuter,i,a,this.f,this.v,this.z),r(this.gridInner,i,a,this.f,this.v,this.z),function(t,e,n,r,i,o,a){for(var s=0;s<e*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);t[s]=Math.round(255-255*(u/o+a))}}(v,i,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:v,metrics:{width:o,height:s,sdfWidth:i,sdfHeight:a,top:u,left:0,advance:d}}},n.prototype.draw=function(t){return this._draw(t,!1).data},n.prototype.drawWithMetrics=function(t){return this._draw(t,!0)}},8753:function(t,e,n){"use strict";n.r(e),n.d(e,{Function:function(){return Oe},Interpreter:function(){return _e},default:function(){return Te},evaluate:function(){return Ae},vm:function(){return r}});var r={};n.r(r),n.d(r,{Script:function(){return Ee},compileFunction:function(){return xe},createContext:function(){return be},runInContext:function(){return we},runInNewContext:function(){return Se}});var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a={5:o,"5module":o+" export import",6:o+" const class extends export import super"},s=/^in(stanceof)?$/,u="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08c7\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\u9ffc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7ca\ua7f5-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",l="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf\u1ac0\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",c=new RegExp("["+u+"]"),f=new RegExp("["+u+l+"]");u=l=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function d(t,e){for(var n=65536,r=0;r<e.length;r+=2){if((n+=e[r])>t)return!1;if((n+=e[r+1])>=t)return!0}}function g(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&c.test(String.fromCharCode(t)):!1!==e&&d(t,p)))}function v(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&f.test(String.fromCharCode(t)):!1!==e&&(d(t,p)||d(t,h)))))}var y=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function m(t,e){return new y(t,{beforeExpr:!0,binop:e})}var _={beforeExpr:!0},b={startsExpr:!0},x={};function w(t,e){return void 0===e&&(e={}),e.keyword=t,x[t]=new y(t,e)}var S={num:new y("num",b),regexp:new y("regexp",b),string:new y("string",b),name:new y("name",b),eof:new y("eof"),bracketL:new y("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new y("]"),braceL:new y("{",{beforeExpr:!0,startsExpr:!0}),braceR:new y("}"),parenL:new y("(",{beforeExpr:!0,startsExpr:!0}),parenR:new y(")"),comma:new y(",",_),semi:new y(";",_),colon:new y(":",_),dot:new y("."),question:new y("?",_),questionDot:new y("?."),arrow:new y("=>",_),template:new y("template"),invalidTemplate:new y("invalidTemplate"),ellipsis:new y("...",_),backQuote:new y("`",b),dollarBraceL:new y("${",{beforeExpr:!0,startsExpr:!0}),eq:new y("=",{beforeExpr:!0,isAssign:!0}),assign:new y("_=",{beforeExpr:!0,isAssign:!0}),incDec:new y("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new y("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new y("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new y("**",{beforeExpr:!0}),coalesce:m("??",1),_break:w("break"),_case:w("case",_),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",_),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",_),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",b),_if:w("if"),_return:w("return",_),_switch:w("switch"),_throw:w("throw",_),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",b),_super:w("super",b),_class:w("class",b),_extends:w("extends",_),_export:w("export"),_import:w("import",b),_null:w("null",b),_true:w("true",b),_false:w("false",b),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},E=/\r\n?|\n|\u2028|\u2029/,A=new RegExp(E.source,"g");function O(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,P=Object.prototype,M=P.hasOwnProperty,I=P.toString;function k(t,e){return M.call(t,e)}var R=Array.isArray||function(t){return"[object Array]"===I.call(t)};function L(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var D=function(t,e){this.line=t,this.column=e};D.prototype.offset=function(t){return new D(this.line,this.column+t)};var N=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function F(t,e){for(var n=1,r=0;;){A.lastIndex=r;var i=A.exec(t);if(!(i&&i.index<e))return new D(n,e-r);++n,r=i.index+i[0].length}}var j={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function B(t){var e={};for(var n in j)e[n]=t&&k(t,n)?t[n]:j[n];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),R(e.onToken)){var r=e.onToken;e.onToken=function(t){return r.push(t)}}return R(e.onComment)&&(e.onComment=function(t,e){return function(n,r,i,o,a,s){var u={type:n?"Block":"Line",value:r,start:i,end:o};t.locations&&(u.loc=new N(this,a,s)),t.ranges&&(u.range=[i,o]),e.push(u)}}(e,e.onComment)),e}function z(t,e){return 2|(t?4:0)|(e?8:0)}var U=function(t,e,n){this.options=t=B(t),this.sourceFile=t.sourceFile,this.keywords=L(a[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var r="";if(!0!==t.allowReserved){for(var o=t.ecmaVersion;!(r=i[o]);o--);"module"===t.sourceType&&(r+=" await")}this.reservedWords=L(r);var s=(r?r+" ":"")+i.strict;this.reservedWordsStrict=L(s),this.reservedWordsStrictBind=L(s+" "+i.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(E).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=S.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},V={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};U.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},V.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},V.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},V.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},V.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},V.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},V.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},U.prototype.inNonArrowFunction=function(){return(2&this.currentThisScope().flags)>0},U.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++)n=t[r](n);return n},U.parse=function(t,e){return new this(e,t).parse()},U.parseExpressionAt=function(t,e,n){var r=new this(n,t,e);return r.nextToken(),r.parseExpression()},U.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(U.prototype,V);var G=U.prototype,W=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function H(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}G.strictDirective=function(t){for(;;){C.lastIndex=t,t+=C.exec(this.input)[0].length;var e=W.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){C.lastIndex=t+e[0].length;var n=C.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||E.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}t+=e[0].length,C.lastIndex=t,t+=C.exec(this.input)[0].length,";"===this.input[t]&&t++}},G.eat=function(t){return this.type===t&&(this.next(),!0)},G.isContextual=function(t){return this.type===S.name&&this.value===t&&!this.containsEsc},G.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},G.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},G.canInsertSemicolon=function(){return this.type===S.eof||this.type===S.braceR||E.test(this.input.slice(this.lastTokEnd,this.start))},G.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},G.semicolon=function(){this.eat(S.semi)||this.insertSemicolon()||this.unexpected()},G.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},G.expect=function(t){this.eat(t)||this.unexpected()},G.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},G.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},G.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},G.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},G.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var Y=U.prototype;Y.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==S.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var X={kind:"loop"},q={kind:"switch"};Y.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var e=C.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(t)return!1;if(123===r)return!0;if(g(r,!0)){for(var i=n+1;v(this.input.charCodeAt(i),!0);)++i;var o=this.input.slice(n,i);if(!s.test(o))return!0}return!1},Y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),e=this.pos+t[0].length;return!E.test(this.input.slice(this.pos,e))&&"function"===this.input.slice(e,e+8)&&(e+8===this.input.length||!v(this.input.charAt(e+8)))},Y.parseStatement=function(t,e,n){var r,i=this.type,o=this.startNode();switch(this.isLet(t)&&(i=S._var,r="let"),i){case S._break:case S._continue:return this.parseBreakContinueStatement(o,i.keyword);case S._debugger:return this.parseDebuggerStatement(o);case S._do:return this.parseDoStatement(o);case S._for:return this.parseForStatement(o);case S._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case S._class:return t&&this.unexpected(),this.parseClass(o,!0);case S._if:return this.parseIfStatement(o);case S._return:return this.parseReturnStatement(o);case S._switch:return this.parseSwitchStatement(o);case S._throw:return this.parseThrowStatement(o);case S._try:return this.parseTryStatement(o);case S._const:case S._var:return r=r||this.value,t&&"var"!==r&&this.unexpected(),this.parseVarStatement(o,r);case S._while:return this.parseWhileStatement(o);case S._with:return this.parseWithStatement(o);case S.braceL:return this.parseBlock(!0,o);case S.semi:return this.parseEmptyStatement(o);case S._export:case S._import:if(this.options.ecmaVersion>10&&i===S._import){C.lastIndex=this.pos;var a=C.exec(this.input),s=this.pos+a[0].length,u=this.input.charCodeAt(s);if(40===u||46===u)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===S._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var l=this.value,c=this.parseExpression();return i===S.name&&"Identifier"===c.type&&this.eat(S.colon)?this.parseLabeledStatement(o,l,c,t):this.parseExpressionStatement(o,c)}},Y.parseBreakContinueStatement=function(t,e){var n="break"===e;this.next(),this.eat(S.semi)||this.insertSemicolon()?t.label=null:this.type!==S.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(t.label&&n)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},Y.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},Y.parseDoStatement=function(t){return this.next(),this.labels.push(X),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(S._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(S.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},Y.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(X),this.enterScope(0),this.expect(S.parenL),this.type===S.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===S._var||this.type===S._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===S._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var o=new H,a=this.parseExpression(!0,o);return this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===S._in?e>-1&&this.unexpected(e):t.await=e>-1),this.toAssignable(a,!1,o),this.checkLVal(a),this.parseForIn(t,a)):(this.checkExpressionErrors(o,!0),e>-1&&this.unexpected(e),this.parseFor(t,a))},Y.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,K|(n?0:Q),!1,e)},Y.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(S._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},Y.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(S.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},Y.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(S.braceL),this.labels.push(q),this.enterScope(0);for(var n=!1;this.type!==S.braceR;)if(this.type===S._case||this.type===S._default){var r=this.type===S._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(S.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},Y.parseThrowStatement=function(t){return this.next(),E.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var Z=[];Y.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===S._catch){var e=this.startNode();if(this.next(),this.eat(S.parenL)){e.param=this.parseBindingAtom();var n="Identifier"===e.param.type;this.enterScope(n?32:0),this.checkLVal(e.param,n?4:2),this.expect(S.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(S._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},Y.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},Y.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(X),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},Y.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},Y.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},Y.parseLabeledStatement=function(t,e,n,r){for(var i=0,o=this.labels;i<o.length;i+=1){o[i].name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===S._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var u=this.labels[s];if(u.statementStart!==t.start)break;u.statementStart=this.start,u.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},Y.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},Y.parseBlock=function(t,e,n){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(S.braceL),t&&this.enterScope(0);this.type!==S.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},Y.parseFor=function(t,e){return t.init=e,this.expect(S.semi),t.test=this.type===S.semi?null:this.parseExpression(),this.expect(S.semi),t.update=this.type===S.parenR?null:this.parseExpression(),this.expect(S.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},Y.parseForIn=function(t,e){var n=this.type===S._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)?this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===e.type&&this.raise(e.start,"Invalid left-hand side in for-loop"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(S.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},Y.parseVar=function(t,e,n){for(t.declarations=[],t.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(S.eq)?r.init=this.parseMaybeAssign(e):"const"!==n||this.type===S._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||e&&(this.type===S._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(S.comma))break}return t},Y.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLVal(t.id,"var"===e?1:2,!1)};var K=1,Q=2;Y.parseFunction=function(t,e,n,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===S.star&&e&Q&&this.unexpected(),t.generator=this.eat(S.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&K&&(t.id=4&e&&this.type!==S.name?null:this.parseIdent(),!t.id||e&Q||this.checkLVal(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(z(t.async,t.generator)),e&K||(t.id=this.type===S.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&K?"FunctionDeclaration":"FunctionExpression")},Y.parseFunctionParams=function(t){this.expect(S.parenL),t.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Y.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.startNode(),i=!1;for(r.body=[],this.expect(S.braceL);this.type!==S.braceR;){var o=this.parseClassElement(null!==t.superClass);o&&(r.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind&&(i&&this.raise(o.start,"Duplicate constructor in the same class"),i=!0))}return this.strict=n,this.next(),t.body=this.finishNode(r,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},Y.parseClassElement=function(t){var e=this;if(this.eat(S.semi))return null;var n=this.startNode(),r=function(t,r){void 0===r&&(r=!1);var i=e.start,o=e.startLoc;return!!e.eatContextual(t)&&(!(e.type===S.parenL||r&&e.canInsertSemicolon())||(n.key&&e.unexpected(),n.computed=!1,n.key=e.startNodeAt(i,o),n.key.name=t,e.finishNode(n.key,"Identifier"),!1))};n.kind="method",n.static=r("static");var i=this.eat(S.star),o=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(o=!0,i=this.options.ecmaVersion>=9&&this.eat(S.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,s=!1;return n.computed||n.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),o&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",s=t),this.parseClassMethod(n,i,o,s),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},Y.parseClassMethod=function(t,e,n,r){return t.value=this.parseMethod(e,n,r),this.finishNode(t,"MethodDefinition")},Y.parseClassId=function(t,e){this.type===S.name?(t.id=this.parseIdent(),e&&this.checkLVal(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},Y.parseClassSuper=function(t){t.superClass=this.eat(S._extends)?this.parseExprSubscripts():null},Y.parseExport=function(t,e){if(this.next(),this.eat(S.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseIdent(!0),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==S.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(S._default)){var n;if(this.checkExport(e,"default",this.lastTokStart),this.type===S._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(r,4|K,!1,n)}else if(this.type===S._class){var i=this.startNode();t.declaration=this.parseClass(i,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==S.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var o=0,a=t.specifiers;o<a.length;o+=1){var s=a[o];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},Y.checkExport=function(t,e,n){t&&(k(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},Y.checkPatternExport=function(t,e){var n=e.type;if("Identifier"===n)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===n)for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.checkPatternExport(t,o)}else if("ArrayPattern"===n)for(var a=0,s=e.elements;a<s.length;a+=1){var u=s[a];u&&this.checkPatternExport(t,u)}else"Property"===n?this.checkPatternExport(t,e.value):"AssignmentPattern"===n?this.checkPatternExport(t,e.left):"RestElement"===n?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(t,e.expression)},Y.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}},Y.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Y.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(S.braceL);!this.eat(S.braceR);){if(n)n=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(t,r.exported.name,r.exported.start),e.push(this.finishNode(r,"ExportSpecifier"))}return e},Y.parseImport=function(t){return this.next(),this.type===S.string?(t.specifiers=Z,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===S.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},Y.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===S.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,2),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(S.comma))return t}if(this.type===S.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,2),t.push(this.finishNode(r,"ImportNamespaceSpecifier")),t}for(this.expect(S.braceL);!this.eat(S.braceR);){if(e)e=!1;else if(this.expect(S.comma),this.afterTrailingComma(S.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),t.push(this.finishNode(i,"ImportSpecifier"))}return t},Y.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},Y.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"===typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var J=U.prototype;J.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,e),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},J.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var o=t[n-1];6===this.options.ecmaVersion&&e&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return t},J.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},J.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==S.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},J.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case S.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(S.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case S.braceL:return this.parseObj(!0)}return this.parseIdent()},J.parseBindingList=function(t,e,n){for(var r=[],i=!0;!this.eat(t);)if(i?i=!1:this.expect(S.comma),e&&this.type===S.comma)r.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===S.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),r.push(o),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},J.parseBindingListItem=function(t){return t},J.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(S.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},J.checkLVal=function(t,e,n){switch(void 0===e&&(e=0),t.type){case"Identifier":2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(k(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),0!==e&&5!==e&&this.declareName(t.name,e,t.start);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var o=i[r];this.checkLVal(o,e,n)}break;case"Property":this.checkLVal(t.value,e,n);break;case"ArrayPattern":for(var a=0,s=t.elements;a<s.length;a+=1){var u=s[a];u&&this.checkLVal(u,e,n)}break;case"AssignmentPattern":this.checkLVal(t.left,e,n);break;case"RestElement":this.checkLVal(t.argument,e,n);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,n);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var $=U.prototype;$.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type)&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r,i=t.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var o=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===o&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[r="$"+r];if(a)("init"===o?this.strict&&a.init||a.get||a.set:a.init||a[o])&&this.raiseRecoverable(i.start,"Redefinition of property");else a=e[r]={init:!1,get:!1,set:!1};a[o]=!0}}},$.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===S.comma){var o=this.startNodeAt(n,r);for(o.expressions=[i];this.eat(S.comma);)o.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(o,"SequenceExpression")}return i},$.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,o=-1;e?(i=e.parenthesizedAssign,o=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new H,r=!0);var a=this.start,s=this.startLoc;this.type!==S.parenL&&this.type!==S.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(t,e);if(n&&(u=n.call(this,u,a,s)),this.type.isAssign){var l=this.startNodeAt(a,s);return l.operator=this.value,l.left=this.type===S.eq?this.toAssignable(u,!1,e):u,r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.left.start&&(e.shorthandAssign=-1),this.checkLVal(u),this.next(),l.right=this.parseMaybeAssign(t),this.finishNode(l,"AssignmentExpression")}return r&&this.checkExpressionErrors(e,!0),i>-1&&(e.parenthesizedAssign=i),o>-1&&(e.trailingComma=o),u},$.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(S.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(S.colon),o.alternate=this.parseMaybeAssign(t),this.finishNode(o,"ConditionalExpression")}return i},$.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,t)},$.parseExprOp=function(t,e,n,r,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==S._in)&&o>r){var a=this.type===S.logicalOR||this.type===S.logicalAND,s=this.type===S.coalesce;s&&(o=S.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1),l,c,o,i),p=this.buildBinary(e,n,t,f,u,a||s);return(a&&this.type===S.coalesce||s&&(this.type===S.logicalOR||this.type===S.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,e,n,r,i)}return t},$.buildBinary=function(t,e,n,r,i,o){var a=this.startNodeAt(t,e);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},$.parseMaybeUnary=function(t,e){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),e=!0;else if(this.type.prefix){var o=this.startNode(),a=this.type===S.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):e=!0,n=this.finishNode(o,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(r,i);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!e&&this.eat(S.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},$.parseExprSubscripts=function(t){var e=this.start,n=this.startLoc,r=this.parseExprAtom(t);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,e,n);return t&&"MemberExpression"===i.type&&(t.parenthesizedAssign>=i.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=i.start&&(t.parenthesizedBind=-1)),i},$.parseSubscripts=function(t,e,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,n,r,i,o);if(a.optional&&(o=!0),a===t||"ArrowFunctionExpression"===a.type){if(o){var s=this.startNodeAt(e,n);s.expression=a,a=this.finishNode(s,"ChainExpression")}return a}t=a}},$.parseSubscript=function(t,e,n,r,i,o){var a=this.options.ecmaVersion>=11,s=a&&this.eat(S.questionDot);r&&s&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(S.bracketL);if(u||s&&this.type!==S.parenL&&this.type!==S.backQuote||this.eat(S.dot)){var l=this.startNodeAt(e,n);l.object=t,l.property=u?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),l.computed=!!u,u&&this.expect(S.bracketR),a&&(l.optional=s),t=this.finishNode(l,"MemberExpression")}else if(!r&&this.eat(S.parenL)){var c=new H,f=this.yieldPos,p=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var d=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1,c);if(i&&!s&&!this.canInsertSemicolon()&&this.eat(S.arrow))return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=p,this.awaitIdentPos=h,this.parseArrowExpression(this.startNodeAt(e,n),d,!0);this.checkExpressionErrors(c,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var g=this.startNodeAt(e,n);g.callee=t,g.arguments=d,a&&(g.optional=s),t=this.finishNode(g,"CallExpression")}else if(this.type===S.backQuote){(s||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(e,n);v.tag=t,v.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(v,"TaggedTemplateExpression")}return t},$.parseExprAtom=function(t){this.type===S.slash&&this.readRegexp();var e,n=this.potentialArrowAt===this.start;switch(this.type){case S._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),e=this.startNode(),this.next(),this.type!==S.parenL||this.allowDirectSuper||this.raise(e.start,"super() call outside constructor of a subclass"),this.type!==S.dot&&this.type!==S.bracketL&&this.type!==S.parenL&&this.unexpected(),this.finishNode(e,"Super");case S._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case S.name:var r=this.start,i=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(S._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(S.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===S.name&&!o)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(S.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case S.regexp:var s=this.value;return(e=this.parseLiteral(s.value)).regex={pattern:s.pattern,flags:s.flags},e;case S.num:case S.string:return this.parseLiteral(this.value);case S._null:case S._true:case S._false:return(e=this.startNode()).value=this.type===S._null?null:this.type===S._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case S.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(n);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=u),t.parenthesizedBind<0&&(t.parenthesizedBind=u)),l;case S.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(S.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case S.braceL:return this.parseObj(!1,t);case S._function:return e=this.startNode(),this.next(),this.parseFunction(e,0);case S._class:return this.parseClass(this.startNode(),!1);case S._new:return this.parseNew();case S.backQuote:return this.parseTemplate();case S._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},$.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case S.parenL:return this.parseDynamicImport(t);case S.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}},$.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(S.parenR)){var e=this.start;this.eat(S.comma)&&this.eat(S.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},$.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},$.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},$.parseParenExpression=function(){this.expect(S.parenL);var t=this.parseExpression();return this.expect(S.parenR),t},$.parseParenAndDistinguishExpression=function(t){var e,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,s=this.startLoc,u=[],l=!0,c=!1,f=new H,p=this.yieldPos,h=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==S.parenR;){if(l?l=!1:this.expect(S.comma),i&&this.afterTrailingComma(S.parenR,!0)){c=!0;break}if(this.type===S.ellipsis){o=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,f,this.parseParenItem))}var d=this.start,g=this.startLoc;if(this.expect(S.parenR),t&&!this.canInsertSemicolon()&&this.eat(S.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=h,this.parseParenArrowList(n,r,u);u.length&&!c||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?((e=this.startNodeAt(a,s)).expressions=u,this.finishNodeAt(e,"SequenceExpression",d,g)):e=u[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,r);return v.expression=e,this.finishNode(v,"ParenthesizedExpression")}return e},$.parseParenItem=function(t){return t},$.parseParenArrowList=function(t,e,n){return this.parseArrowExpression(this.startNodeAt(t,e),n)};var tt=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(S.dot)){t.meta=e;var n=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(t.start,"'new.target' can only be used in functions"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc,o=this.type===S._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),o&&"ImportExpression"===t.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(S.parenL)?t.arguments=this.parseExprList(S.parenR,this.options.ecmaVersion>=8,!1):t.arguments=tt,this.finishNode(t,"NewExpression")},$.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===S.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===S.backQuote,this.finishNode(n,"TemplateElement")},$.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===S.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(S.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(S.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},$.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===S.name||this.type===S.num||this.type===S.string||this.type===S.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===S.star)&&!E.test(this.input.slice(this.lastTokEnd,this.start))},$.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(S.braceR);){if(r)r=!1;else if(this.expect(S.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(S.braceR))break;var o=this.parseProperty(t,e);t||this.checkPropClash(o,i,e),n.properties.push(o)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},$.parseProperty=function(t,e){var n,r,i,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(S.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===S.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===S.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,e),this.type===S.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(i=this.start,o=this.startLoc),t||(n=this.eat(S.star)));var s=this.containsEsc;return this.parsePropertyName(a),!t&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(S.star),this.parsePropertyName(a,e)):r=!1,this.parsePropertyValue(a,t,n,r,i,o,e,s),this.finishNode(a,"Property")},$.parsePropertyValue=function(t,e,n,r,i,o,a,s){if((n||r)&&this.type===S.colon&&this.unexpected(),this.eat(S.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===S.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r);else if(e||s||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===S.comma||this.type===S.braceR||this.type===S.eq)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,o,t.key):this.type===S.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,o,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var u="get"===t.kind?0:1;if(t.value.params.length!==u){var l=t.value.start;"get"===t.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},$.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(S.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(S.bracketR),t.key;t.computed=!1}return t.key=this.type===S.num||this.type===S.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},$.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},$.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|z(e,r.generator)|(n?128:0)),this.expect(S.parenL),r.params=this.parseBindingList(S.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},$.parseArrowExpression=function(t,e,n){var r=this.yieldPos,i=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|z(n,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")},$.parseFunctionBody=function(t,e,n){var r=e&&this.type!==S.braceL,i=this.strict,o=!1;if(r)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);i&&!a||(o=this.strictDirective(this.end))&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!i&&!o&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLVal(t.id,5),t.body=this.parseBlock(!1,void 0,o&&!i),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=s}this.exitScope()},$.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){if("Identifier"!==n[e].type)return!1}return!0},$.checkParams=function(t,e){for(var n={},r=0,i=t.params;r<i.length;r+=1){var o=i[r];this.checkLVal(o,1,e?null:n)}},$.parseExprList=function(t,e,n,r){for(var i=[],o=!0;!this.eat(t);){if(o)o=!1;else if(this.expect(S.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===S.comma?a=null:this.type===S.ellipsis?(a=this.parseSpread(r),r&&this.type===S.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},$.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;(this.inGenerator&&"yield"===r&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,n).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))},$.parseIdent=function(t,e){var n=this.startNode();return this.type===S.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(n,"Identifier"),t||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},$.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===S.semi||this.canInsertSemicolon()||this.type!==S.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(S.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},$.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!1),this.finishNode(t,"AwaitExpression")};var et=U.prototype;et.raise=function(t,e){var n=F(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r},et.raiseRecoverable=et.raise,et.curPosition=function(){if(this.options.locations)return new D(this.curLine,this.pos-this.lineStart)};var nt=U.prototype,rt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};nt.enterScope=function(t){this.scopeStack.push(new rt(t))},nt.exitScope=function(){this.scopeStack.pop()},nt.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},nt.declareName=function(t,e,n){var r=!1;if(2===e){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&1&i.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var o=this.currentScope();r=this.treatFunctionsAsVar?o.lexical.indexOf(t)>-1:o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var s=this.scopeStack[a];if(s.lexical.indexOf(t)>-1&&!(32&s.flags&&s.lexical[0]===t)||!this.treatFunctionsAsVarInScope(s)&&s.functions.indexOf(t)>-1){r=!0;break}if(s.var.push(t),this.inModule&&1&s.flags&&delete this.undefinedExports[t],3&s.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},nt.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},nt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},nt.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags)return e}},nt.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags&&!(16&e.flags))return e}};var it=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new N(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},ot=U.prototype;function at(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}ot.startNode=function(){return new it(this,this.start,this.startLoc)},ot.startNodeAt=function(t,e){return new it(this,t,e)},ot.finishNode=function(t,e){return at.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},ot.finishNodeAt=function(t,e,n,r){return at.call(this,t,e,n,r)};var st=function(t,e,n,r,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=r,this.generator=!!i},ut={b_stat:new st("{",!1),b_expr:new st("{",!0),b_tmpl:new st("${",!1),p_stat:new st("(",!1),p_expr:new st("(",!0),q_tmpl:new st("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new st("function",!1),f_expr:new st("function",!0),f_expr_gen:new st("function",!0,!1,null,!0),f_gen:new st("function",!1,!1,null,!0)},lt=U.prototype;lt.initialContext=function(){return[ut.b_stat]},lt.braceIsBlock=function(t){var e=this.curContext();return e===ut.f_expr||e===ut.f_stat||(t!==S.colon||e!==ut.b_stat&&e!==ut.b_expr?t===S._return||t===S.name&&this.exprAllowed?E.test(this.input.slice(this.lastTokEnd,this.start)):t===S._else||t===S.semi||t===S.eof||t===S.parenR||t===S.arrow||(t===S.braceL?e===ut.b_stat:t!==S._var&&t!==S._const&&t!==S.name&&!this.exprAllowed):!e.isExpr)},lt.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},lt.updateContext=function(t){var e,n=this.type;n.keyword&&t===S.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},S.parenR.updateContext=S.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===ut.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},S.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ut.b_stat:ut.b_expr),this.exprAllowed=!0},S.dollarBraceL.updateContext=function(){this.context.push(ut.b_tmpl),this.exprAllowed=!0},S.parenL.updateContext=function(t){var e=t===S._if||t===S._for||t===S._with||t===S._while;this.context.push(e?ut.p_stat:ut.p_expr),this.exprAllowed=!0},S.incDec.updateContext=function(){},S._function.updateContext=S._class.updateContext=function(t){!t.beforeExpr||t===S.semi||t===S._else||t===S._return&&E.test(this.input.slice(this.lastTokEnd,this.start))||(t===S.colon||t===S.braceL)&&this.curContext()===ut.b_stat?this.context.push(ut.f_stat):this.context.push(ut.f_expr),this.exprAllowed=!1},S.backQuote.updateContext=function(){this.curContext()===ut.q_tmpl?this.context.pop():this.context.push(ut.q_tmpl),this.exprAllowed=!1},S.star.updateContext=function(t){if(t===S._function){var e=this.context.length-1;this.context[e]===ut.f_expr?this.context[e]=ut.f_expr_gen:this.context[e]=ut.f_gen}this.exprAllowed=!0},S.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==S.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var ct="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ft=ct+" Extended_Pictographic",pt={9:ct,10:ft,11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},ht="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",dt="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gt=dt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",vt={9:dt,10:gt,11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},yt={};function mt(t){var e=yt[t]={binary:L(pt[t]+" "+ht),nonBinary:{General_Category:L(ht),Script:L(vt[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}mt(9),mt(10),mt(11);var _t=U.prototype,bt=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":""),this.unicodeProperties=yt[t.options.ecmaVersion>=11?11:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function xt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function wt(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function St(t){return t>=65&&t<=90||t>=97&&t<=122}function Et(t){return St(t)||95===t}function At(t){return Et(t)||Ot(t)}function Ot(t){return t>=48&&t<=57}function Tt(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Ct(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function Pt(t){return t>=48&&t<=55}bt.prototype.reset=function(t,e,n){var r=-1!==n.indexOf("u");this.start=0|t,this.source=e+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},bt.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},bt.prototype.at=function(t,e){void 0===e&&(e=!1);var n=this.source,r=n.length;if(t>=r)return-1;var i=n.charCodeAt(t);if(!e&&!this.switchU||i<=55295||i>=57344||t+1>=r)return i;var o=n.charCodeAt(t+1);return o>=56320&&o<=57343?(i<<10)+o-56613888:i},bt.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var n=this.source,r=n.length;if(t>=r)return r;var i,o=n.charCodeAt(t);return!e&&!this.switchU||o<=55295||o>=57344||t+1>=r||(i=n.charCodeAt(t+1))<56320||i>57343?t+1:t+2},bt.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},bt.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},bt.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},bt.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},_t.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===e.indexOf(i)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}},_t.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},_t.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];-1===t.groupNames.indexOf(r)&&t.raise("Invalid named capture referenced")}},_t.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},_t.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},_t.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},_t.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1},_t.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},_t.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},_t.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return-1!==i&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1},_t.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},_t.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},_t.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},_t.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},_t.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},_t.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},_t.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!wt(e)&&(t.lastIntValue=e,t.advance(),!0)},_t.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;-1!==(n=t.current())&&!wt(n);)t.advance();return t.pos!==e},_t.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},_t.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},_t.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},_t.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=xt(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=xt(t.lastIntValue);return!0}return!1},_t.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),function(t){return g(t,!0)||36===t||95===t}(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)},_t.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),function(t){return v(t,!0)||36===t||95===t||8204===t||8205===t}(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)},_t.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},_t.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1},_t.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},_t.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},_t.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},_t.regexp_eatZero=function(t){return 48===t.current()&&!Ot(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},_t.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},_t.regexp_eatControlLetter=function(t){var e=t.current();return!!St(e)&&(t.lastIntValue=e%32,t.advance(),!0)},_t.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var n,r=t.pos,i=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(i&&o>=55296&&o<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(s>=56320&&s<=57343)return t.lastIntValue=1024*(o-55296)+(s-56320)+65536,!0}t.pos=a,t.lastIntValue=o}return!0}if(i&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&((n=t.lastIntValue)>=0&&n<=1114111))return!0;i&&t.raise("Invalid unicode escape"),t.pos=r}return!1},_t.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},_t.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},_t.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},_t.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i),!0}return!1},_t.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){k(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")},_t.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},_t.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Et(e=t.current());)t.lastStringValue+=xt(e),t.advance();return""!==t.lastStringValue},_t.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";At(e=t.current());)t.lastStringValue+=xt(e),t.advance();return""!==t.lastStringValue},_t.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},_t.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},_t.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||-1!==e&&-1!==n||t.raise("Invalid character class"),-1!==e&&-1!==n&&e>n&&t.raise("Range out of order in character class")}}},_t.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||Pt(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return 93!==r&&(t.lastIntValue=r,t.advance(),!0)},_t.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},_t.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!Ot(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},_t.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},_t.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Ot(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e},_t.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Tt(n=t.current());)t.lastIntValue=16*t.lastIntValue+Ct(n),t.advance();return t.pos!==e},_t.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*n+t.lastIntValue:t.lastIntValue=8*e+n}else t.lastIntValue=e;return!0}return!1},_t.regexp_eatOctalDigit=function(t){var e=t.current();return Pt(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},_t.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!Tt(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+Ct(i),t.advance()}return!0};var Mt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new N(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},It=U.prototype;function kt(t){return"function"!==typeof BigInt?null:BigInt(t.replace(/_/g,""))}function Rt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}It.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Mt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},It.getToken=function(){return this.next(),new Mt(this)},"undefined"!==typeof Symbol&&(It[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===S.eof,value:e}}}}),It.curContext=function(){return this.context[this.context.length-1]},It.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(S.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},It.readToken=function(t){return g(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},It.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},It.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(A.lastIndex=n;(t=A.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,e,this.curPosition())},It.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!O(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},It.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&T.test(String.fromCharCode(t))))break t;++this.pos}}},It.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},It.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(S.ellipsis)):(++this.pos,this.finishToken(S.dot))},It.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(S.assign,2):this.finishOp(S.slash,1)},It.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=42===t?S.star:S.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++n,r=S.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(S.assign,n+1):this.finishOp(r,n)},It.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(S.assign,3);return this.finishOp(124===t?S.logicalOR:S.logicalAND,2)}return 61===e?this.finishOp(S.assign,2):this.finishOp(124===t?S.bitwiseOR:S.bitwiseAND,1)},It.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(S.assign,2):this.finishOp(S.bitwiseXOR,1)},It.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!E.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(S.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(S.assign,2):this.finishOp(S.plusMin,1)},It.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(S.assign,n+1):this.finishOp(S.bitShift,n)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(S.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},It.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(S.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(S.arrow)):this.finishOp(61===t?S.eq:S.prefix,1)},It.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(S.questionDot,2)}if(63===e){if(t>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(S.assign,3);return this.finishOp(S.coalesce,2)}}return this.finishOp(S.question,1)},It.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(S.parenL);case 41:return++this.pos,this.finishToken(S.parenR);case 59:return++this.pos,this.finishToken(S.semi);case 44:return++this.pos,this.finishToken(S.comma);case 91:return++this.pos,this.finishToken(S.bracketL);case 93:return++this.pos,this.finishToken(S.bracketR);case 123:return++this.pos,this.finishToken(S.braceL);case 125:return++this.pos,this.finishToken(S.braceR);case 58:return++this.pos,this.finishToken(S.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(S.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(S.prefix,1)}this.raise(this.pos,"Unexpected character '"+Rt(t)+"'")},It.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)},It.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(E.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var s=this.regexpState||(this.regexpState=new bt(this));s.reset(n,i,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var u=null;try{u=new RegExp(i,a)}catch(l){}return this.finishToken(S.regexp,{pattern:i,flags:a,value:u})},It.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&void 0===e,i=n&&48===this.input.charCodeAt(this.pos),o=this.pos,a=0,s=0,u=0,l=null==e?1/0:e;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=c;else{if((f=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=t)break;s=c,a=a*t+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=e&&this.pos-o!==e?null:a},It.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=kt(this.input.slice(e,this.pos)),++this.pos):g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,n)},It.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===r){var i=kt(this.input.slice(e,this.pos));return++this.pos,g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(S.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),g(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o,a=(o=this.input.slice(e,this.pos),n?parseInt(o,8):parseFloat(o.replace(/_/g,"")));return this.finishToken(S.num,a)},It.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},It.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;92===r?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):(O(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(S.string,e)};var Lt={};It.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Lt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},It.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Lt;this.raise(t,e)},It.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==S.template&&this.type!==S.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(S.template,t)):36===n?(this.pos+=2,this.finishToken(S.dollarBraceL)):(++this.pos,this.finishToken(S.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(O(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},It.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(S.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},It.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Rt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(t){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),"0"===r&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return O(e)?"":String.fromCharCode(e)}},It.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},It.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(v(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?g:v)(a,r)||this.invalidStringToken(o,"Invalid Unicode escape"),t+=Rt(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},It.readWord=function(){var t=this.readWord1(),e=S.name;return this.keywords.test(t)&&(e=x[t]),this.finishToken(e,t)};function Dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Nt(t){var e="function"===typeof Map?new Map:void 0;return Nt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return jt(t,arguments,zt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Bt(r,t)},Nt(t)}function Ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function jt(t,e,n){return jt=Ft()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Bt(i,n.prototype),i},jt.apply(null,arguments)}function Bt(t,e){return Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bt(t,e)}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(t)}U.acorn={Parser:U,version:"7.4.1",defaultOptions:j,Position:D,SourceLocation:N,getLineInfo:F,Node:it,TokenType:y,tokTypes:S,keywordTypes:x,TokContext:st,tokContexts:ut,isIdentifierChar:v,isIdentifierStart:g,Token:Mt,isNewLine:O,lineBreak:E,lineBreakG:A,nonASCIIwhitespace:T};var Ut=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Nt(Error)),Vt=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Nt(SyntaxError)),Gt=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Nt(ReferenceError)),Wt=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Nt(TypeError)),Ht=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Ut),Yt=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Vt),Xt=function(t){function e(){return t.apply(this,arguments)||this}return Dt(e,t),e}(Gt),qt={UnknownError:[3001,"%0",Ht],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",Ht],NodeTypeSyntaxError:[1001,"Unknown node type: %0",Xt],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",Xt],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",Xt],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",Xt],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",Xt],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",Xt],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",Xt],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",Xt],ParamTypeSyntaxError:[1009,"Unknown param type: %0",Xt],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",Xt],FunctionUndefinedReferenceError:[2001,"%0 is not a function",Gt],VariableUndefinedReferenceError:[2002,"%0 is not defined",Gt],IsNotConstructor:[2003,"%0 is not a constructor",Wt]};function Zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Kt(t,e,n){return Kt=Zt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Qt(i,n.prototype),i},Kt.apply(null,arguments)}function Qt(t,e){return Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qt(t,e)}function Jt(t,e){Object.defineProperty(t,"name",{value:e,writable:!1,enumerable:!1,configurable:!0})}var $t=Object.prototype.hasOwnProperty,te=Symbol("Break"),ee=Symbol("Continue"),ne=Symbol("DefaultCase"),re=Symbol("EmptyStatementReturn"),ie=Symbol("WithScopeName"),oe=Symbol("SuperScopeName"),ae=Symbol("RootScopeName"),se=Symbol("GlobalScopeName");function ue(t){return"function"===typeof t}var le=function(){function t(t){this.interpreter=t}return t.prototype.generator=function(){var t=this.interpreter;return{getOptions:t.getOptions.bind(t),getCurrentScope:function(){return this.getCurrentScope()}.bind(t),getGlobalScope:function(){return this.getGlobalScope()}.bind(t),getCurrentContext:function(){return this.getCurrentContext()}.bind(t),getExecStartTime:t.getExecStartTime.bind(t)}},t}();function ce(t,e,n){if(void 0===n&&(n=!0),!(t instanceof le))throw new Error("Illegal call");if("string"!==typeof e)return e;if(e){var r=t.generator(),i={timeout:r.getOptions().timeout,_initEnv:function(){n||this.setCurrentContext(r.getCurrentContext()),this.execStartTime=r.getExecStartTime(),this.execEndTime=this.execStartTime}},o=n?r.getGlobalScope():r.getCurrentScope();return new _e(o,i).evaluate(e)}}function fe(t){if(!(t instanceof le))throw new Error("Illegal call");for(var e=t.generator(),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=r.pop(),a=new _e(e.getGlobalScope(),e.getOptions()),s="\n\t\t    (function anonymous("+r.join(",")+"){\n\t\t        "+o+"\n\t\t    });\n\t\t    ";return a.evaluate(s)}Object.defineProperty(ce,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(fe,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var pe=function(t){this.value=t},he=function(t){this.value=t},de=function(t){this.value=t},ge=function(t,e,n){void 0===e&&(e=null),this.name=n,this.parent=e,this.data=t,this.labelStack=[]};function ve(){}function ye(t,e){return void 0===t&&(t=null),new ge(Object.create(null),t,e)}var me={NaN:NaN,Infinity:1/0,undefined:void 0,Object:Object,Array:Array,String:String,Boolean:Boolean,Number:Number,Date:Date,RegExp:RegExp,Error:Error,URIError:URIError,TypeError:TypeError,RangeError:RangeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,Float32Array:Float32Array,Float64Array:Float64Array,Uint32Array:Uint32Array,Math:Math,parseInt:parseInt,parseFloat:parseFloat,isNaN:isNaN,isFinite:isFinite,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,eval:ce,Function:fe};"undefined"!==typeof JSON&&(me.JSON=JSON),"undefined"!==typeof Promise&&(me.Promise=Promise),"undefined"!==typeof Set&&(me.Set=Set),"undefined"!==typeof Map&&(me.Map=Map),"undefined"!==typeof Symbol&&(me.Symbol=Symbol),"undefined"!==typeof Proxy&&(me.Proxy=Proxy),"undefined"!==typeof WeakMap&&(me.WeakMap=WeakMap),"undefined"!==typeof WeakSet&&(me.WeakSet=WeakSet),"undefined"!==typeof Reflect&&(me.Reflect=Reflect);var _e=function(){function t(e,n){void 0===e&&(e=t.global),void 0===n&&(n={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:n.ecmaVersion||t.ecmaVersion,timeout:n.timeout||0,rootContext:n.rootContext,globalContextInFunction:void 0===n.globalContextInFunction?t.globalContextInFunction:n.globalContextInFunction,_initEnv:n._initEnv},this.context=e||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var e=t.prototype;return e.initEnvironment=function(t){var e;if(t instanceof ge)e=t;else{var n=null,r=this.createSuperScope(t);this.options.rootContext&&(n=new ge(function(t){return Object.create(t)}(this.options.rootContext),r,ae)),e=new ge(t,n||r,se)}this.globalScope=e,this.currentScope=this.globalScope,this.globalContext=e.data,this.currentContext=e.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var i=this.options._initEnv;i&&i.call(this)},e.getExecStartTime=function(){return this.execStartTime},e.getExecutionTime=function(){return this.execEndTime-this.execStartTime},e.setExecTimeout=function(t){void 0===t&&(t=0),this.options.timeout=t},e.getOptions=function(){return this.options},e.getGlobalScope=function(){return this.globalScope},e.getCurrentScope=function(){return this.currentScope},e.getCurrentContext=function(){return this.currentContext},e.isInterruptThrow=function(t){return t instanceof Ht||t instanceof Xt||t instanceof Yt},e.createSuperScope=function(t){var e=Object.assign({},me);return Object.keys(e).forEach((function(n){n in t&&delete e[n]})),new ge(e,null,oe)},e.setCurrentContext=function(t){this.currentContext=t},e.setCurrentScope=function(t){this.currentScope=t},e.evaluate=function(e){var n,r,i;if(void 0===e&&(e=""),e)return r=e,i={ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||t.ecmaVersion},n=U.parse(r,i),this.evaluateNode(n,e)},e.appendCode=function(t){return this.evaluate(t)},e.evaluateNode=function(t,e){var n=this;void 0===e&&(e=""),this.value=void 0,this.source=e,this.sourceList.push(e),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var r=this.getCurrentScope(),i=this.getCurrentContext(),o=r.labelStack.concat([]),a=this.callStack.concat([]);try{var s=this.createClosure(t);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),s()}catch(u){throw u}finally{n.setCurrentScope(r),n.setCurrentContext(i),r.labelStack=o,n.callStack=a,this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},e.createErrorMessage=function(t,e,n){var r=t[1].replace("%0",String(e));return null!==n&&(r+=this.getNodePosition(n||this.lastExecNode)),r},e.createError=function(t,e){return new e(t)},e.createThrowError=function(t,e){return this.createError(t,e)},e.createInternalThrowError=function(t,e,n){return this.createError(this.createErrorMessage(t,e,n),t[2])},e.checkTimeout=function(){if(!this.isRunning)return!1;var t=this.options.timeout||0;return Date.now()-this.execStartTime>t},e.getNodePosition=function(t){if(t){return t.loc?" ["+t.loc.start.line+":"+t.loc.start.column+"]":""}return""},e.createClosure=function(t){var e,n=this;switch(t.type){case"BinaryExpression":e=this.binaryExpressionHandler(t);break;case"LogicalExpression":e=this.logicalExpressionHandler(t);break;case"UnaryExpression":e=this.unaryExpressionHandler(t);break;case"UpdateExpression":e=this.updateExpressionHandler(t);break;case"ObjectExpression":e=this.objectExpressionHandler(t);break;case"ArrayExpression":e=this.arrayExpressionHandler(t);break;case"CallExpression":e=this.callExpressionHandler(t);break;case"NewExpression":e=this.newExpressionHandler(t);break;case"MemberExpression":e=this.memberExpressionHandler(t);break;case"ThisExpression":e=this.thisExpressionHandler(t);break;case"SequenceExpression":e=this.sequenceExpressionHandler(t);break;case"Literal":e=this.literalHandler(t);break;case"Identifier":e=this.identifierHandler(t);break;case"AssignmentExpression":e=this.assignmentExpressionHandler(t);break;case"FunctionDeclaration":e=this.functionDeclarationHandler(t);break;case"VariableDeclaration":e=this.variableDeclarationHandler(t);break;case"BlockStatement":case"Program":e=this.programHandler(t);break;case"ExpressionStatement":e=this.expressionStatementHandler(t);break;case"EmptyStatement":e=this.emptyStatementHandler(t);break;case"ReturnStatement":e=this.returnStatementHandler(t);break;case"FunctionExpression":e=this.functionExpressionHandler(t);break;case"IfStatement":e=this.ifStatementHandler(t);break;case"ConditionalExpression":e=this.conditionalExpressionHandler(t);break;case"ForStatement":e=this.forStatementHandler(t);break;case"WhileStatement":e=this.whileStatementHandler(t);break;case"DoWhileStatement":e=this.doWhileStatementHandler(t);break;case"ForInStatement":e=this.forInStatementHandler(t);break;case"WithStatement":e=this.withStatementHandler(t);break;case"ThrowStatement":e=this.throwStatementHandler(t);break;case"TryStatement":e=this.tryStatementHandler(t);break;case"ContinueStatement":e=this.continueStatementHandler(t);break;case"BreakStatement":e=this.breakStatementHandler(t);break;case"SwitchStatement":e=this.switchStatementHandler(t);break;case"LabeledStatement":e=this.labeledStatementHandler(t);break;case"DebuggerStatement":e=this.debuggerStatementHandler(t);break;default:throw this.createInternalThrowError(qt.NodeTypeSyntaxError,t.type,t)}return function(){var r=n.options.timeout;if(r&&r>0&&n.checkTimeout())throw n.createInternalThrowError(qt.ExecutionTimeOutError,r,null);return n.lastExecNode=t,e.apply(void 0,arguments)}},e.binaryExpressionHandler=function(t){var e=this,n=this.createClosure(t.left),r=this.createClosure(t.right);return function(){var i=n(),o=r();switch(t.operator){case"==":return i==o;case"!=":return i!=o;case"===":return i===o;case"!==":return i!==o;case"<":return i<o;case"<=":return i<=o;case">":return i>o;case">=":return i>=o;case"<<":return i<<o;case">>":return i>>o;case">>>":return i>>>o;case"+":return i+o;case"-":return i-o;case"*":return i*o;case"**":return Math.pow(i,o);case"/":return i/o;case"%":return i%o;case"|":return i|o;case"^":return i^o;case"&":return i&o;case"in":return i in o;case"instanceof":return i instanceof o;default:throw e.createInternalThrowError(qt.BinaryOperatorSyntaxError,t.operator,t)}}},e.logicalExpressionHandler=function(t){var e=this,n=this.createClosure(t.left),r=this.createClosure(t.right);return function(){switch(t.operator){case"||":return n()||r();case"&&":return n()&&r();default:throw e.createInternalThrowError(qt.LogicalOperatorSyntaxError,t.operator,t)}}},e.unaryExpressionHandler=function(t){var e,n=this;if("delete"===t.operator){var r=this.createObjectGetter(t.argument),i=this.createNameGetter(t.argument);return function(){return delete r()[i()]}}if("typeof"===t.operator&&"Identifier"===t.argument.type){var o=this.createObjectGetter(t.argument),a=this.createNameGetter(t.argument);e=function(){return o()[a()]}}else e=this.createClosure(t.argument);return function(){var r=e();switch(t.operator){case"-":return-r;case"+":return+r;case"!":return!r;case"~":return~r;case"void":return;case"typeof":return typeof r;default:throw n.createInternalThrowError(qt.UnaryOperatorSyntaxError,t.operator,t)}}},e.updateExpressionHandler=function(t){var e=this,n=this.createObjectGetter(t.argument),r=this.createNameGetter(t.argument);return function(){var i=n(),o=r();switch(e.assertVariable(i,o,t),t.operator){case"++":return t.prefix?++i[o]:i[o]++;case"--":return t.prefix?--i[o]:i[o]--;default:throw e.createInternalThrowError(qt.UpdateOperatorSyntaxError,t.operator,t)}}},e.objectExpressionHandler=function(t){var e=this,n=[];var r=Object.create(null);return t.properties.forEach((function(t){var i=t.kind,o=function(t){return"Identifier"===t.type?t.name:"Literal"===t.type?t.value:this.throwError(qt.ObjectStructureSyntaxError,t.type,t)}(t.key);r[o]&&"init"!==i||(r[o]={}),r[o][i]=e.createClosure(t.value),n.push({key:o,property:t})})),function(){for(var t={},e=n.length,i=0;i<e;i++){var o=n[i],a=o.key,s=r[a],u=s.init?s.init():void 0,l=s.get?s.get():function(){},c=s.set?s.set():function(t){};if("set"in s||"get"in s){var f={configurable:!0,enumerable:!0,get:l,set:c};Object.defineProperty(t,a,f)}else{var p=o.property,h=p.kind;"Identifier"!==p.key.type||"FunctionExpression"!==p.value.type||"init"!==h||p.value.id||Jt(u,p.key.name),t[a]=u}}return t}},e.arrayExpressionHandler=function(t){var e=this,n=t.elements.map((function(t){return t?e.createClosure(t):t}));return function(){for(var t=n.length,e=Array(t),r=0;r<t;r++){var i=n[r];i&&(e[r]=i())}return e}},e.safeObjectGet=function(t,e,n){return t[e]},e.createCallFunctionGetter=function(t){var e=this;if("MemberExpression"===t.type){var n=this.createClosure(t.object),r=this.createMemberKeyGetter(t),i=this.source;return function(){var o=n(),a=r(),s=e.safeObjectGet(o,a,t);if(!s||!ue(s)){var u=i.slice(t.start,t.end);throw e.createInternalThrowError(qt.FunctionUndefinedReferenceError,u,t)}return s.__IS_EVAL_FUNC?function(t){return s(new le(e),t,!0)}:s.__IS_FUNCTION_FUNC?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.apply(void 0,[new le(e)].concat(n))}:s.bind(o)}}var o=this.createClosure(t);return function(){var n="";"Identifier"===t.type&&(n=t.name);var r=o();if(!r||!ue(r))throw e.createInternalThrowError(qt.FunctionUndefinedReferenceError,n,t);if("Identifier"===t.type&&r.__IS_EVAL_FUNC&&"eval"===n)return function(t){var i=e.getScopeFromName(n,e.getCurrentScope()),o=i.name===oe||i.name===se||i.name===ae;return r(new le(e),t,!o)};if(r.__IS_EVAL_FUNC)return function(t){return r(new le(e),t,!0)};if(r.__IS_FUNCTION_FUNC)return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.apply(void 0,[new le(e)].concat(n))};var i=e.options.globalContextInFunction;if("Identifier"===t.type){var a=e.getIdentifierScope(t);a.name===ie&&(i=a.data)}return r.bind(i)}},e.callExpressionHandler=function(t){var e=this,n=this.createCallFunctionGetter(t.callee),r=t.arguments.map((function(t){return e.createClosure(t)}));return function(){return n().apply(void 0,r.map((function(t){return t()})))}},e.functionExpressionHandler=function(t){var e=this,n=this,r=this.source,i=this.collectDeclVars,o=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var a=t.id?t.id.name:"",s=t.params.length,u=t.params.map((function(t){return e.createParamNameGetter(t)})),l=this.createClosure(t.body),c=this.collectDeclVars,f=this.collectDeclFuncs;return this.collectDeclVars=i,this.collectDeclFuncs=o,function(){var e=n.getCurrentScope(),i=function t(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.callStack.push(""+a);var s=n.getCurrentScope(),p=ye(e,"FunctionScope("+a+")");n.setCurrentScope(p),n.addDeclarationsToScope(c,f,p),a&&(p.data[a]=t),p.data.arguments=arguments,u.forEach((function(t,e){p.data[t()]=i[e]}));var h=n.getCurrentContext();n.setCurrentContext(this);var d=l();if(n.setCurrentContext(h),n.setCurrentScope(s),n.callStack.pop(),d instanceof pe)return d.value};return Jt(i,a),Object.defineProperty(i,"length",{value:s,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(i,"toString",{value:function(){return r.slice(t.start,t.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(i,"valueOf",{value:function(){return r.slice(t.start,t.end)},writable:!0,configurable:!0,enumerable:!1}),i}},e.newExpressionHandler=function(t){var e=this,n=this.source,r=this.createClosure(t.callee),i=t.arguments.map((function(t){return e.createClosure(t)}));return function(){var o=r();if(!ue(o)||o.__IS_EVAL_FUNC){var a=t.callee,s=n.slice(a.start,a.end);throw e.createInternalThrowError(qt.IsNotConstructor,s,t)}return o.__IS_FUNCTION_FUNC?o.apply(void 0,[new le(e)].concat(i.map((function(t){return t()})))):Kt(o,i.map((function(t){return t()})))}},e.memberExpressionHandler=function(t){var e=this.createClosure(t.object),n=this.createMemberKeyGetter(t);return function(){return e()[n()]}},e.thisExpressionHandler=function(t){var e=this;return function(){return e.getCurrentContext()}},e.sequenceExpressionHandler=function(t){var e=this,n=t.expressions.map((function(t){return e.createClosure(t)}));return function(){for(var t,e=n.length,r=0;r<e;r++){t=(0,n[r])()}return t}},e.literalHandler=function(t){return function(){return t.regex?new RegExp(t.regex.pattern,t.regex.flags):t.value}},e.identifierHandler=function(t){var e=this;return function(){var n=e.getCurrentScope(),r=e.getScopeDataFromName(t.name,n);return e.assertVariable(r,t.name,t),r[t.name]}},e.getIdentifierScope=function(t){var e=this.getCurrentScope();return this.getScopeFromName(t.name,e)},e.assignmentExpressionHandler=function(t){var e=this;"Identifier"!==t.left.type||"FunctionExpression"!==t.right.type||t.right.id||(t.right.id={type:"Identifier",name:t.left.name});var n=this.createObjectGetter(t.left),r=this.createNameGetter(t.left),i=this.createClosure(t.right);return function(){var o=n(),a=r(),s=i();switch("="!==t.operator&&e.assertVariable(o,a,t),t.operator){case"=":return o[a]=s;case"+=":return o[a]+=s;case"-=":return o[a]-=s;case"*=":return o[a]*=s;case"**=":return o[a]=Math.pow(o[a],s);case"/=":return o[a]/=s;case"%=":return o[a]%=s;case"<<=":return o[a]<<=s;case">>=":return o[a]>>=s;case">>>=":return o[a]>>>=s;case"&=":return o[a]&=s;case"^=":return o[a]^=s;case"|=":return o[a]|=s;default:throw e.createInternalThrowError(qt.AssignmentExpressionSyntaxError,t.type,t)}}},e.functionDeclarationHandler=function(t){if(t.id){var e=this.functionExpressionHandler(t);Object.defineProperty(e,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(t.id.name,e)}return function(){return re}},e.getVariableName=function(t){if("Identifier"===t.type)return t.name;throw this.createInternalThrowError(qt.VariableTypeSyntaxError,t.type,t)},e.variableDeclarationHandler=function(t){for(var e,n=this,r=[],i=0;i<t.declarations.length;i++){var o=t.declarations[i];this.varDeclaration(this.getVariableName(o.id)),o.init&&r.push({type:"AssignmentExpression",operator:"=",left:o.id,right:o.init})}return r.length&&(e=this.createClosure({type:"BlockStatement",body:r})),function(){if(e){var t=n.isVarDeclMode;n.isVarDeclMode=!0,e(),n.isVarDeclMode=t}return re}},e.assertVariable=function(t,e,n){if(t===this.globalScope.data&&!(e in t))throw this.createInternalThrowError(qt.VariableUndefinedReferenceError,e,n)},e.programHandler=function(t){var e=this,n=t.body.map((function(t){return e.createClosure(t)}));return function(){for(var t=re,r=0;r<n.length;r++){var i=n[r],o=e.setValue(i());if(o!==re&&((t=o)instanceof pe||t instanceof he||t instanceof de||t===te||t===ee))break}return t}},e.expressionStatementHandler=function(t){return this.createClosure(t.expression)},e.emptyStatementHandler=function(t){return function(){return re}},e.returnStatementHandler=function(t){var e=t.argument?this.createClosure(t.argument):ve;return function(){return new pe(e())}},e.ifStatementHandler=function(t){var e=this.createClosure(t.test),n=this.createClosure(t.consequent),r=t.alternate?this.createClosure(t.alternate):function(){return re};return function(){return e()?n():r()}},e.conditionalExpressionHandler=function(t){return this.ifStatementHandler(t)},e.forStatementHandler=function(t){var e=this,n=ve,r=t.test?this.createClosure(t.test):function(){return!0},i=ve,o=this.createClosure(t.body);return"ForStatement"===t.type&&(n=t.init?this.createClosure(t.init):n,i=t.update?this.createClosure(t.update):ve),function(a){var s,u=re,l="DoWhileStatement"===t.type;for(a&&"LabeledStatement"===a.type&&(s=a.label.name),n();l||r();i()){l=!1;var c=e.setValue(o());if(c!==re&&c!==ee){if(c===te)break;if((u=c)instanceof de&&u.value===s)u=re;else if(u instanceof pe||u instanceof he||u instanceof de)break}}return u}},e.whileStatementHandler=function(t){return this.forStatementHandler(t)},e.doWhileStatementHandler=function(t){return this.forStatementHandler(t)},e.forInStatementHandler=function(t){var e=this,n=t.left,r=this.createClosure(t.right),i=this.createClosure(t.body);return"VariableDeclaration"===t.left.type&&(this.createClosure(t.left)(),n=t.left.declarations[0].id),function(t){var o,a,s=re;t&&"LabeledStatement"===t.type&&(o=t.label.name);var u=r();for(a in u){e.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:n,right:{type:"Literal",value:a}})();var l=e.setValue(i());if(l!==re&&l!==ee){if(l===te)break;if((s=l)instanceof de&&s.value===o)s=re;else if(s instanceof pe||s instanceof he||s instanceof de)break}}return s}},e.withStatementHandler=function(t){var e=this,n=this.createClosure(t.object),r=this.createClosure(t.body);return function(){var t=n(),i=e.getCurrentScope(),o=new ge(t,i,ie);e.setCurrentScope(o);var a=e.setValue(r());return e.setCurrentScope(i),a}},e.throwStatementHandler=function(t){var e=this,n=this.createClosure(t.argument);return function(){throw e.setValue(void 0),n()}},e.tryStatementHandler=function(t){var e=this,n=this.createClosure(t.block),r=t.handler?this.catchClauseHandler(t.handler):null,i=t.finalizer?this.createClosure(t.finalizer):null;return function(){var t,o,a=e.getCurrentScope(),s=e.getCurrentContext(),u=a.labelStack.concat([]),l=e.callStack.concat([]),c=re,f=function(){e.setCurrentScope(a),e.setCurrentContext(s),a.labelStack=u,e.callStack=l};try{(c=e.setValue(n()))instanceof pe&&(t=c)}catch(p){if(f(),e.isInterruptThrow(p))throw p;if(r)try{(c=e.setValue(r(p)))instanceof pe&&(t=c)}catch(p){if(f(),e.isInterruptThrow(p))throw p;o=p}}if(i)try{(c=i())instanceof pe&&(t=c)}catch(p){if(f(),e.isInterruptThrow(p))throw p;o=p}if(o)throw o;return t||c}},e.catchClauseHandler=function(t){var e=this,n=this.createParamNameGetter(t.param),r=this.createClosure(t.body);return function(t){var i,o=e.getCurrentScope().data,a=n(),s=$t.call(o,a),u=o[a];return o[a]=t,i=r(),s?o[a]=u:delete o[a],i}},e.continueStatementHandler=function(t){return function(){return t.label?new de(t.label.name):ee}},e.breakStatementHandler=function(t){return function(){return t.label?new he(t.label.name):te}},e.switchStatementHandler=function(t){var e=this,n=this.createClosure(t.discriminant),r=t.cases.map((function(t){return e.switchCaseHandler(t)}));return function(){for(var t,i,o,a=n(),s=!1,u=0;u<r.length;u++){var l=r[u](),c=l.testClosure();if(c!==ne){if(s||c===a){if(s=!0,(i=e.setValue(l.bodyClosure()))===re)continue;if(i===te)break;if((t=i)instanceof pe||t instanceof he||t instanceof de||t===ee)break}}else o=l}!s&&o&&((i=e.setValue(o.bodyClosure()))===re||i===te||i===ee||(t=i));return t}},e.switchCaseHandler=function(t){var e=t.test?this.createClosure(t.test):function(){return ne},n=this.createClosure({type:"BlockStatement",body:t.consequent});return function(){return{testClosure:e,bodyClosure:n}}},e.labeledStatementHandler=function(t){var e=this,n=t.label.name,r=this.createClosure(t.body);return function(){var i,o=e.getCurrentScope();return o.labelStack.push(n),(i=r(t))instanceof he&&i.value===n&&(i=re),o.labelStack.pop(),i}},e.debuggerStatementHandler=function(t){return function(){return re}},e.createParamNameGetter=function(t){if("Identifier"===t.type)return function(){return t.name};throw this.createInternalThrowError(qt.ParamTypeSyntaxError,t.type,t)},e.createObjectKeyGetter=function(t){var e;return e="Identifier"===t.type?function(){return t.name}:this.createClosure(t),function(){return e()}},e.createMemberKeyGetter=function(t){return t.computed?this.createClosure(t.property):this.createObjectKeyGetter(t.property)},e.createObjectGetter=function(t){var e=this;switch(t.type){case"Identifier":return function(){return e.getScopeDataFromName(t.name,e.getCurrentScope())};case"MemberExpression":return this.createClosure(t.object);default:throw this.createInternalThrowError(qt.AssignmentTypeSyntaxError,t.type,t)}},e.createNameGetter=function(t){switch(t.type){case"Identifier":return function(){return t.name};case"MemberExpression":return this.createMemberKeyGetter(t);default:throw this.createInternalThrowError(qt.AssignmentTypeSyntaxError,t.type,t)}},e.varDeclaration=function(t){this.collectDeclVars[t]=void 0},e.funcDeclaration=function(t,e){this.collectDeclFuncs[t]=e},e.addDeclarationsToScope=function(t,e,n){var r=n.data;for(var i in e){var o=e[i];r[i]=o?o():o}for(var a in t)a in r||(r[a]=void 0)},e.getScopeValue=function(t,e){return this.getScopeFromName(t,e).data[t]},e.getScopeDataFromName=function(t,e){return this.getScopeFromName(t,e).data},e.getScopeFromName=function(t,e){var n=e;do{if(t in n.data)return n}while(n=n.parent);return this.globalScope},e.setValue=function(t){var e=this.callStack.length;return this.isVarDeclMode||e||t===re||t===te||t===ee||t instanceof he||t instanceof de||(this.value=t instanceof pe?t.value:t),t},e.getValue=function(){return this.value},t}();function be(t){return void 0===t&&(t=Object.create(null)),t}function xe(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});var r=n.parsingContext,i=void 0===n.timeout?0:n.timeout,o="\n    (function anonymous("+e.join(",")+"){\n         "+t+"\n    });\n    ";return new _e(r,{ecmaVersion:n.ecmaVersion,timeout:i,rootContext:n.rootContext,globalContextInFunction:n.globalContextInFunction}).evaluate(o)}function we(t,e,n){return new _e(e,n).evaluate(t)}_e.version="0.0.3",_e.eval=ce,_e.Function=fe,_e.ecmaVersion=5,_e.globalContextInFunction=void 0,_e.global=Object.create(null);var Se=we,Ee=function(){function t(t){this._code=t}var e=t.prototype;return e.runInContext=function(t){return we(this._code,t)},e.runInNewContext=function(t){return we(this._code,t)},t}(),Ae=function(t,e,n){return we(t,e,n)};function Oe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.pop();return xe(r||"",e)}var Te=Ae},5495:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,l="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,c="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),f=l||c,p=["","webkit","Moz","MS","ms","o"],h=f?"":o.createElement("div"),d=Math.round,g=Math.abs,v=Date.now;function y(t,e,n){return setTimeout(E(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(_(t,n[e],n),!0)}function _(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var x=b((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),w=b((function(t,e){return x(t,e,!0)}),"merge","Use `assign`.");function S(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function E(t,e){return function(){return t.apply(e,arguments)}}function A(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function O(t,e){return t===s?e:t}function T(t,e,n){_(I(e),(function(e){t.addEventListener(e,n,!1)}))}function C(t,e,n){_(I(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function R(t){return Array.prototype.slice.call(t,0)}function L(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];k(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function D(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<p.length;){if((r=(n=p[o])?n+i:e)in t)return r;o++}return s}var N=1;function F(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var j="ontouchstart"in i,B=D(i,"PointerEvent")!==s,z=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U="touch",V="mouse",G=24,W=["x","y"],H=["clientX","clientY"];function Y(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){A(t.options.enable,[t])&&n.handler(e)},this.init()}function X(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i===0,a=12&e&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=q(e));i>1&&!n.firstMultiple?n.firstMultiple=q(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=Z(r);e.timeStamp=v(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=$(u,l),e.distance=J(u,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Q(e.deltaX,e.deltaY);var c=K(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=g(c.x)>g(c.y)?c.x:c.y,e.scale=a?(f=a.pointers,p=r,J(p[0],p[1],H)/J(f[0],f[1],H)):1,e.rotation=a?function(t,e){return $(e[1],e[0],H)+$(t[1],t[0],H)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,f=K(u,l,c);r=f.x,i=f.y,n=g(f.x)>g(f.y)?f.x:f.y,o=Q(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f,p;var h=t.element;P(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:v(),pointers:e,center:Z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Z(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:d(n/e),y:d(r/e)}}function K(t,e,n){return{x:e/t||0,y:n/t||0}}function Q(t,e){return t===e?1:g(t)>=g(e)?t<0?2:4:e<0?8:16}function J(t,e,n){n||(n=W);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function $(t,e,n){n||(n=W);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}Y.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(F(this.element),this.evWin,this.domHandler)}};var tt={mousedown:1,mousemove:2,mouseup:4},et="mousedown",nt="mousemove mouseup";function rt(){this.evEl=et,this.evWin=nt,this.pressed=!1,Y.apply(this,arguments)}S(rt,Y,{handler:function(t){var e=tt[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:V,srcEvent:t}))}});var it={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ot={2:U,3:"pen",4:V,5:"kinect"},at="pointerdown",st="pointermove pointerup pointercancel";function ut(){this.evEl=at,this.evWin=st,Y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f||!i.MSPointerEvent||i.PointerEvent||(at="MSPointerDown",st="MSPointerMove MSPointerUp MSPointerCancel"),S(ut,Y,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=it[r],o=ot[t.pointerType]||t.pointerType,a=o==U,s=k(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var lt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ct="touchstart",ft="touchstart touchmove touchend touchcancel";function pt(){this.evTarget=ct,this.evWin=ft,this.started=!1,Y.apply(this,arguments)}function ht(t,e){var n=R(t.touches),r=R(t.changedTouches);return 12&e&&(n=L(n.concat(r),"identifier",!0)),[n,r]}S(pt,Y,{handler:function(t){var e=lt[t.type];if(1===e&&(this.started=!0),this.started){var n=ht.call(this,t,e);12&e&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:t})}}});var dt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},gt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=gt,this.targetIds={},Y.apply(this,arguments)}function yt(t,e){var n=R(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=R(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return P(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[L(o.concat(s),"identifier",!0),s]:void 0}S(vt,Y,{handler:function(t){var e=dt[t.type],n=yt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:t})}});function mt(){Y.apply(this,arguments);var t=E(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new rt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function _t(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):12&t&&bt.call(this,e)}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function xt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}S(mt,Y,{handler:function(t,e,n){var r=n.pointerType==U,i=n.pointerType==V;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)_t.call(this,e,n);else if(i&&xt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var wt=f?s:D(h.style,"touchAction"),St=wt!==s,Et="compute",At="auto",Ot="manipulation",Tt="none",Ct="pan-x",Pt="pan-y",Mt=function(){if(!St)return!1;var t={};if(f)return t;var e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function It(t,e){this.manager=t,this.set(e)}It.prototype={set:function(t){t==Et&&(t=this.compute()),St&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[wt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return _(this.manager.recognizers,(function(e){A(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(M(t,Tt))return Tt;var e=M(t,Ct),n=M(t,Pt);if(e&&n)return Tt;if(e||n)return e?Ct:Pt;if(M(t,Ot))return Ot;return At}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=M(r,Tt)&&!Mt.none,o=M(r,Pt)&&!Mt["pan-y"],a=M(r,Ct)&&!Mt["pan-x"];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&n&G?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var kt=32;function Rt(t){this.options=u({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Lt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Dt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Nt(t,e){var n=e.manager;return n?n.get(t):t}function Ft(){Rt.apply(this,arguments)}function jt(){Ft.apply(this,arguments),this.pX=null,this.pY=null}function Bt(){Ft.apply(this,arguments)}function zt(){Rt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){Ft.apply(this,arguments)}function Vt(){Ft.apply(this,arguments)}function Gt(){Rt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Wt(t,e){return(e=e||{}).recognizers=O(e.recognizers,Wt.defaults.preset),new Ht(t,e)}Rt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Nt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=Nt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===k(e,t=Nt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Nt(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Lt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Lt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=kt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!A(this.options.enable,[this,e]))return this.reset(),void(this.state=kt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},S(Ft,Rt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:kt}}),S(jt,Ft,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Pt),t&G&&e.push(Ct),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ft.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),S(Bt,Ft,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),S(zt,Rt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[At]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=y((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return kt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),S(Ut,Ft,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),S(Vt,Ft,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&G&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&g(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),S(Gt,Rt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||J(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=y((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return kt},failTimeout:function(){return this._timer=y((function(){this.state=kt}),this.options.interval,this),kt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Wt.VERSION="2.0.7",Wt.defaults={domEvents:!1,touchAction:Et,enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[Bt,{enable:!1},["rotate"]],[Vt,{direction:6}],[jt,{direction:6},["swipe"]],[Gt],[Gt,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ht(t,e){var n;this.options=u({},Wt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(B?ut:z?vt:j?mt:rt))(n,X),this.touchAction=new It(this,this.options.touchAction),Yt(this,!0),_(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Yt(t,e){var n,r=t.element;r.style&&(_(t.options.cssProps,(function(i,o){n=D(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}(Ht.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Rt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=k(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return _(I(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return _(I(t),(function(t){e?n[t]&&n[t].splice(k(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){if(f)return;var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f)||(u(Wt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:kt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:G,DIRECTION_ALL:30,Manager:Ht,Input:Y,TouchAction:It,TouchInput:vt,MouseInput:rt,PointerEventInput:ut,TouchMouseInput:mt,SingleTouchInput:pt,Recognizer:Rt,AttrRecognizer:Ft,Tap:Gt,Pan:jt,Swipe:Vt,Pinch:Bt,Rotate:Ut,Press:zt,on:T,off:C,each:_,merge:w,extend:x,assign:u,inherit:S,bindFn:E,prefixed:D}),("undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Hammer=Wt,(r=function(){return Wt}.call(e,n,e,t))===s||(t.exports=r))}("undefined"!==typeof window?window:{console:null,MSPointerEvent:null,PointerEvent:null,CSS:null},document)},7559:function(t,e,n){t.exports=function(t){"use strict";var e=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},n=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t},r="\n";function i(t){return"undefined"!==typeof atob?atob(t):"base64:"+t}function o(t){var e=new Error("(regl) "+t);throw console.error(e),e}function a(t,e){t||o(e)}function s(t){return t?": "+t:""}function u(t,e,n){t in e||o("unknown parameter ("+t+")"+s(n)+". possible values: "+Object.keys(e).join())}function l(t,n){e(t)||o("invalid parameter type"+s(n)+". must be a typed array")}function c(t,e){switch(e){case"number":return"number"===typeof t;case"object":return"object"===typeof t;case"string":return"string"===typeof t;case"boolean":return"boolean"===typeof t;case"function":return"function"===typeof t;case"undefined":return"undefined"===typeof t;case"symbol":return"symbol"===typeof t}}function f(t,e,n){c(t,e)||o("invalid parameter type"+s(n)+". expected "+e+", got "+typeof t)}function p(t,e){t>=0&&(0|t)===t||o("invalid parameter type, ("+t+")"+s(e)+". must be a nonnegative integer")}function h(t,e,n){e.indexOf(t)<0&&o("invalid value"+s(n)+". must be one of: "+e)}var d=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(t){Object.keys(t).forEach((function(t){d.indexOf(t)<0&&o('invalid regl constructor argument "'+t+'". must be one of '+d)}))}function v(t,e){for(t+="";t.length<e;)t=" "+t;return t}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(t,e){this.number=t,this.line=e,this.errors=[]}function _(t,e,n){this.file=t,this.line=e,this.message=n}function b(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return r?r[1]:"unknown"}function x(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return r?r[1]:"unknown"}function w(t,e){var n=t.split("\n"),r=1,o=0,a={unknown:new y,0:new y};a.unknown.name=a[0].name=e||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(r=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new y)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(a[o].name=f[1]?i(f[2]):f[2])}a[o].lines.push(new m(r++,u))}return Object.keys(a).forEach((function(t){var e=a[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),a}function S(t){var e=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);n?e.push(new _(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new _("unknown",0,t))}})),e}function E(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}function A(t,e,n,i,o){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(e),u=i===t.FRAGMENT_SHADER?"fragment":"vertex";k(n,"string",u+" shader source must be a string",o);var l=w(n,o),c=S(s);E(l,c),Object.keys(l).forEach((function(t){var e=l[t];if(e.hasErrors){var n=[""],i=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(v(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+r,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(n){var i=n.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),e=Math.max(t.line.indexOf(s,e),0)}else e=0;o(v("| ",6)),o(v("^^^",e+3)+r,"font-weight:bold"),o(v("| ",6)),o(i+r,"font-weight:bold")})),o(v("| ",6)+r)}else o(v(t.number,4)+"|  "),o(t.line+r,"color:red")})),"undefined"===typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function o(t,e){n.push(t),i.push(e||"")}})),a.raise("Error compiling "+u+" shader, "+l[0].name)}}function O(t,e,n,i,o){if(!t.getProgramParameter(e,t.LINK_STATUS)){var s=t.getProgramInfoLog(e),u=w(n,o),l='Error linking program with vertex shader, "'+w(i,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+r+s),a.raise(l)}}function T(t){t._commandRef=b()}function C(t,e,n,r){function i(t){return t?r.id(t):0}function o(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}T(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,e.static),o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static),o(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function P(t,e){var n=x();o(t+" in command "+(e||b())+("unknown"===n?"":" called from "+n))}function M(t,e,n){t||P(e,n||b())}function I(t,e,n,r){t in e||P("unknown parameter ("+t+")"+s(n)+". possible values: "+Object.keys(e).join(),r||b())}function k(t,e,n,r){c(t,e)||P("invalid parameter type"+s(n)+". expected "+e+", got "+typeof t,r||b())}function R(t){t()}function L(t,e,n){t.texture?h(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):h(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var D=33071,N=9728,F=9984,j=9985,B=9986,z=9987,U=5121,V=5122,G=5123,W=5124,H=5125,Y=5126,X=32819,q=32820,Z=33635,K=34042,Q=36193,J={};function $(t,e){return t===q||t===X||t===Z?2:t===K?4:J[t]*e}function tt(t){return!(t&t-1)&&!!t}function et(t,e,n){var r,i=e.width,o=e.height,s=e.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),t.wrapS===D&&t.wrapT===D||a(tt(i)&&tt(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==o&&a(t.minFilter!==F&&t.minFilter!==B&&t.minFilter!==j&&t.minFilter!==z,"min filter requires mipmap"):(a(tt(i)&&tt(o),"texture must be a square power of 2 to support mipmapping"),a(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),e.type===Y&&(n.extensions.indexOf("oes_texture_float_linear")<0&&a(t.minFilter===N&&t.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),a(!t.genMipmaps,"mipmap generation not supported with float textures"));var u=e.images;for(r=0;r<16;++r)if(u[r]){var l=i>>r,c=o>>r;a(e.mipmask&1<<r,"missing mipmap data");var f=u[r];if(a(f.width===l&&f.height===c,"invalid shape for mip images"),a(f.format===e.format&&f.internalformat===e.internalformat&&f.type===e.type,"incompatible type for mip image"),f.compressed);else if(f.data){var p=Math.ceil($(f.type,s)*l/f.unpackAlignment)*f.unpackAlignment;a(f.data.byteLength===p*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else t.genMipmaps||a(0===(e.mipmask&1<<r),"extra mipmap data");e.compressed&&a(!t.genMipmaps,"mipmap generation for compressed images not supported")}function nt(t,e,n,r){var i=t.width,o=t.height,s=t.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(e.wrapS===D&&e.wrapT===D,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];a(l.width===i&&l.height===o,"inconsistent cube map face shape"),e.genMipmaps&&(a(!l.compressed,"can not generate mipmap for compressed textures"),a(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var p=c[f];if(p){var h=i>>f,d=o>>f;a(l.mipmask&1<<f,"missing mipmap data"),a(p.width===h&&p.height===d,"invalid shape for mip images"),a(p.format===t.format&&p.internalformat===t.internalformat&&p.type===t.type,"incompatible type for mip image"),p.compressed||(p.data?a(p.data.byteLength===h*d*Math.max($(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}J[5120]=J[U]=1,J[V]=J[G]=J[Q]=J[Z]=J[X]=J[q]=2,J[W]=J[H]=J[Y]=J[K]=4;var rt=n(a,{optional:R,raise:o,commandRaise:P,command:M,parameter:u,commandParameter:I,constructor:g,type:f,commandType:k,isTypedArray:l,nni:p,oneOf:h,shaderError:A,linkError:O,callSite:x,saveCommandRef:T,saveDrawInfo:C,framebufferFormat:L,guessCommand:b,texture2D:et,textureCube:nt}),it=0,ot=0,at=5,st=6;function ut(t,e){this.id=it++,this.type=t,this.data=e}function lt(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ct(t){if(0===t.length)return[];var e=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&e===n&&('"'===e||"'"===e))return['"'+lt(t.substr(1,t.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(r)return ct(t.substr(0,r.index)).concat(ct(r[1])).concat(ct(t.substr(r.index+r[0].length)));var i=t.split(".");if(1===i.length)return['"'+lt(t)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(ct(i[a]));return o}function ft(t){return"["+ct(t).join("][")+"]"}function pt(t,e){return new ut(t,ft(e+""))}function ht(t){return"function"===typeof t&&!t._reglType||t instanceof ut}function dt(t,e){return"function"===typeof t?new ut(ot,t):"number"===typeof t||"boolean"===typeof t?new ut(at,t):Array.isArray(t)?new ut(st,t.map((function(t,n){return dt(t,e+"["+n+"]")}))):t instanceof ut?t:void rt(!1,"invalid option type in uniform "+e)}var gt={DynamicVariable:ut,define:pt,isDynamic:ht,unbox:dt,accessor:ft},vt={next:"function"===typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"===typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},yt="undefined"!==typeof my&&my&&"function"===typeof my.showToast&&!0!==my.isFRM?function(){return+new Date}:"undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function mt(){var t={"":0},e=[""];return{id:function(n){var r=t[n];return r||(r=t[n]=e.length,e.push(n),r)},str:function(t){return e[t]}}}function _t(t,e,r){var i,o=document.createElement("canvas");function a(){var e=window.innerWidth,n=window.innerHeight;if(t!==document.body){var i=o.getBoundingClientRect();e=i.right-i.left,n=i.bottom-i.top}o.width=r*e,o.height=r*n}function s(){i?i.disconnect():window.removeEventListener("resize",a),t.removeChild(o)}return n(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),t.appendChild(o),t===document.body&&(o.style.position="absolute",n(t.style,{margin:0,padding:0})),t!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function bt(t,e){function n(n){try{return t.getContext(n,e)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xt(t){return"string"===typeof t.nodeName&&"function"===typeof t.appendChild&&"function"===typeof t.getBoundingClientRect}function wt(t){return"function"===typeof t.drawArrays||"function"===typeof t.drawElements}function St(t){return"string"===typeof t?t.split():(rt(Array.isArray(t),"invalid extension array"),t)}function Et(t){return"string"===typeof t?(rt("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function At(t){var e,n,r,i,o=t||{},a={},s=[],u=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(t){t&&rt.raise(t)},p=function(){};if("string"===typeof o?(rt("undefined"!==typeof document,"selector queries only supported in DOM environments"),e=document.querySelector(o),rt(e,"invalid query string for element")):"object"===typeof o?xt(o)?e=o:wt(o)?r=(i=o).canvas:(rt.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Et(o.canvas):"container"in o&&(n=Et(o.container)),"attributes"in o&&(a=o.attributes,rt.type(a,"object","invalid context attributes")),"extensions"in o&&(s=St(o.extensions)),"optionalExtensions"in o&&(u=St(o.optionalExtensions)),"onDone"in o&&(rt.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(l=+o.pixelRatio,rt(l>0,"invalid pixel ratio"))):rt.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?r=e:n=e),!i){if(!r){rt("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=_t(n||document.body,f,l);if(!h)return null;r=h.canvas,p=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=bt(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:l,profile:c,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ot(t,e){var n={};function r(t){rt.type(t,"string","extension name must be string");var e,r=t.toLowerCase();try{e=n[r]=i(t)}catch(o){}return!!e}function i(e){return t.getExtension(e)?t.getExtension(e):t.getExtension(e.toLowerCase())?t.getExtension(e.toLowerCase()):null}for(var o=0;o<e.extensions.length;++o){var a=e.extensions[o];if(!r(a))return e.onDestroy(),e.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}function Tt(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}var Ct=5120,Pt=5121,Mt=5122,It=5123,kt=5124,Rt=5125,Lt=5126;function Dt(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function Nt(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function Ft(){var t=Tt(8,(function(){return[]}));function e(e){var n=Dt(e),r=t[Nt(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[Nt(e.byteLength)>>2].push(e)}function r(t,n){var r=null;switch(t){case Ct:r=new Int8Array(e(n),0,n);break;case Pt:r=new Uint8Array(e(n),0,n);break;case Mt:r=new Int16Array(e(2*n),0,n);break;case It:r=new Uint16Array(e(2*n),0,n);break;case kt:r=new Int32Array(e(4*n),0,n);break;case Rt:r=new Uint32Array(e(4*n),0,n);break;case Lt:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(t){n(t.buffer)}return{alloc:e,free:n,allocType:r,freeType:i}}var jt=Ft();jt.zero=Ft();var Bt=3408,zt=3410,Ut=3411,Vt=3412,Gt=3413,Wt=3414,Ht=3415,Yt=33901,Xt=33902,qt=3379,Zt=3386,Kt=34921,Qt=36347,Jt=36348,$t=35661,te=35660,ee=34930,ne=36349,re=34076,ie=34024,oe=7936,ae=7937,se=7938,ue=35724,le=34047,ce=36063,fe=34852,pe=3553,he=34067,de=34069,ge=33984,ve=6408,ye=5126,me=5121,_e=36160,be=36053,xe=36064,we=16384,Se=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(le));var r=1,i=1;e.webgl_draw_buffers&&(r=t.getParameter(fe),i=t.getParameter(ce));var o=!!e.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(pe,a),t.texImage2D(pe,0,ve,1,1,0,ve,ye,null);var s=t.createFramebuffer();if(t.bindFramebuffer(_e,s),t.framebufferTexture2D(_e,xe,pe,a,0),t.bindTexture(pe,null),t.checkFramebufferStatus(_e)!==be)o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(we);var u=jt.allocType(ye,4);t.readPixels(0,0,1,1,ve,ye,u),t.getError()?o=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),o=1===u[0]),jt.freeType(u)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=t.createTexture(),f=jt.allocType(me,36);t.activeTexture(ge),t.bindTexture(he,c),t.texImage2D(de,0,ve,3,3,0,ve,me,f),jt.freeType(f),t.bindTexture(he,null),t.deleteTexture(c),l=!t.getError()}return{colorBits:[t.getParameter(zt),t.getParameter(Ut),t.getParameter(Vt),t.getParameter(Gt)],depthBits:t.getParameter(Wt),stencilBits:t.getParameter(Ht),subpixelBits:t.getParameter(Bt),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(Yt),lineWidthDims:t.getParameter(Xt),maxViewportDims:t.getParameter(Zt),maxCombinedTextureUnits:t.getParameter($t),maxCubeMapSize:t.getParameter(re),maxRenderbufferSize:t.getParameter(ie),maxTextureUnits:t.getParameter(ee),maxTextureSize:t.getParameter(qt),maxAttributes:t.getParameter(Kt),maxVertexUniforms:t.getParameter(Qt),maxVertexTextureUnits:t.getParameter(te),maxVaryingVectors:t.getParameter(Jt),maxFragmentUniforms:t.getParameter(ne),glsl:t.getParameter(ue),renderer:t.getParameter(ae),vendor:t.getParameter(oe),version:t.getParameter(se),readFloat:o,npotTextureCube:l}};function Ee(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var Ae=function(t){return Object.keys(t).map((function(e){return t[e]}))},Oe={shape:ke,flatten:Ie};function Te(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}function Ce(t,e,n,r){for(var i=0,o=0;o<e;++o)for(var a=t[o],s=0;s<n;++s)r[i++]=a[s]}function Pe(t,e,n,r,i,o){for(var a=o,s=0;s<e;++s)for(var u=t[s],l=0;l<n;++l)for(var c=u[l],f=0;f<r;++f)i[a++]=c[f]}function Me(t,e,n,r,i){for(var o=1,a=n+1;a<e.length;++a)o*=e[a];var s=e[n];if(e.length-n===4){var u=e[n+1],l=e[n+2],c=e[n+3];for(a=0;a<s;++a)Pe(t[a],u,l,c,r,i),i+=o}else for(a=0;a<s;++a)Me(t[a],e,n+1,r,i),i+=o}function Ie(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||jt.allocType(n,i);switch(e.length){case 0:break;case 1:Te(t,e[0],a);break;case 2:Ce(t,e[0],e[1],a);break;case 3:Pe(t,e[0],e[1],e[2],a,0);break;default:Me(t,e,0,a,0)}return a}function ke(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e}var Re={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Le={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},Ne=Oe.flatten,Fe=Oe.shape,je=35044,Be=35040,ze=5121,Ue=5126,Ve=[];function Ge(t){return 0|Re[Object.prototype.toString.call(t)]}function We(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function He(t,e,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)t[s++]=e[i*u+o*l+a]}function Ye(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=je,this.byteLength=0,this.dimension=1,this.dtype=ze,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function l(t,e){var n=u.pop();return n||(n=new s(t)),n.bind(),p(n,e,Be,0,1,!1),n}function c(t){u.push(t)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function p(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||Ue,n.length>0)if(Array.isArray(n[0])){s=Fe(n);for(var l=1,c=1;c<s.length;++c)l*=s[c];t.dimension=l,f(t,u=Ne(n,s,t.dtype),r),a?t.persistentData=u:jt.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var p=jt.allocType(t.dtype,n.length);We(p,n),f(t,p,r),a?t.persistentData=p:jt.freeType(p)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Ge(n[0])||Ue,f(t,u=Ne(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:jt.freeType(u)):rt.raise("invalid buffer data")}else if(e(n))t.dtype=i||Ge(n),t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Ee(n)){s=n.shape;var h=n.stride,d=n.offset,g=0,v=0,y=0,m=0;1===s.length?(g=s[0],v=1,y=h[0],m=0):2===s.length?(g=s[0],v=s[1],y=h[0],m=h[1]):rt.raise("invalid shape"),t.dtype=i||Ge(n.data)||Ue,t.dimension=v;var _=jt.allocType(t.dtype,g*v);He(_,n.data,g,v,y,m,d),f(t,_,r),a?t.persistentData=_:jt.freeType(_)}else n instanceof ArrayBuffer?(t.dtype=ze,t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):rt.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;rt(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function d(i,o,u,l){n.bufferCount++;var c=new s(o);function f(n){var i=je,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||Ee(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(rt.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(rt(null===o||Array.isArray(o)||e(o)||Ee(o),"invalid data for buffer"),o=n.data),"usage"in n&&(rt.parameter(n.usage,De,"invalid buffer usage"),i=De[n.usage]),"type"in n&&(rt.parameter(n.type,Le,"invalid buffer type"),s=Le[n.type]),"dimension"in n&&(rt.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(rt.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?p(c,o,i,s,u,l):(a&&t.bufferData(c.type,a,i),c.dtype=s||ze,c.usage=i,c.dimension=u,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*Ve[c.dtype]),f}function d(e,n){rt(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function g(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)d(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=jt.allocType(c.dtype,t.length);We(o,t),d(o,i),jt.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=Fe(t);var a=Ne(t,r,c.dtype);d(a,i),jt.freeType(a)}else rt.raise("invalid buffer data")}else if(Ee(t)){r=t.shape;var s=t.stride,u=0,l=0,p=0,h=0;1===r.length?(u=r[0],l=1,p=s[0],h=0):2===r.length?(u=r[0],l=r[1],p=s[0],h=s[1]):rt.raise("invalid shape");var g=Array.isArray(t.data)?c.dtype:Ge(t.data),v=jt.allocType(g,u*l);He(v,t.data,u,l,p,h,t.offset),d(v,i),jt.freeType(v)}else rt.raise("invalid data for buffer subdata");return f}return a[c.id]=c,u||f(i),f._reglType="buffer",f._buffer=c,f.subdata=g,r.profile&&(f.stats=c.stats),f.destroy=function(){h(c)},f}function g(){Ae(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(e){t+=a[e].stats.size})),t}),{create:d,createStream:l,destroyStream:c,clear:function(){Ae(a).forEach(h),u.forEach(h)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:g,_initBuffer:p}}Ve[5120]=1,Ve[5122]=2,Ve[5124]=4,Ve[5121]=1,Ve[5123]=2,Ve[5125]=4,Ve[5126]=4;var Xe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=0,Ze=1,Ke=4,Qe=5120,Je=5121,$e=5122,tn=5123,en=5124,nn=5125,rn=34963,on=35040,an=35044;function sn(t,n,r,i){var o={},a=0,s={uint8:Je,uint16:tn};function u(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=Ke,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=nn),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(t){var e=l.pop();return e||(e=new u(r.create(null,rn,!0,!1)._buffer)),p(e,t,on,-1,-1,0,0),e}function f(t){l.push(t)}function p(i,o,a,s,u,l,c){var f;if(i.buffer.bind(),o){var p=c;c||e(o)&&(!Ee(o)||e(o.data))||(p=n.oes_element_index_uint?nn:tn),r._initBuffer(i.buffer,o,a,p,3)}else t.bufferData(rn,l,a),i.buffer.dtype=f||Je,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case Je:case Qe:f=Je;break;case tn:case $e:f=tn;break;case nn:case en:f=nn;break;default:rt.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,rt(f!==nn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===tn?h>>=1:f===nn&&(h>>=2)),i.vertCount=h;var d=s;if(s<0){d=Ke;var g=i.buffer.dimension;1===g&&(d=qe),2===g&&(d=Ze),3===g&&(d=Ke)}i.primType=d}function h(t){i.elementsCount--,rt(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}function d(t,n){var o=r.create(null,rn,!0),a=new u(o._buffer);function l(t){if(t)if("number"===typeof t)o(t),a.primType=Ke,a.vertCount=0|t,a.type=Je;else{var n=null,r=an,i=-1,u=-1,c=0,f=0;Array.isArray(t)||e(t)||Ee(t)?n=t:(rt.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,rt(Array.isArray(n)||e(n)||Ee(n),"invalid data for element buffer")),"usage"in t&&(rt.parameter(t.usage,De,"invalid element buffer usage"),r=De[t.usage]),"primitive"in t&&(rt.parameter(t.primitive,Xe,"invalid element buffer primitive"),i=Xe[t.primitive]),"count"in t&&(rt("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(rt.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?c=0|t.length:(c=u,f===tn||f===$e?c*=2:f!==nn&&f!==en||(c*=4))),p(a,n,r,i,u,c,f)}else o(),a.primType=Ke,a.vertCount=0,a.type=Je;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=a,l.subdata=function(t,e){return o.subdata(t,e),l},l.destroy=function(){h(a)},l}return{create:d,createStream:c,destroyStream:f,getElements:function(t){return"function"===typeof t&&t._elements instanceof u?t._elements:null},clear:function(){Ae(o).forEach(h)}}}var un=new Float32Array(1),ln=new Uint32Array(un.buffer),cn=5123;function fn(t){for(var e=jt.allocType(cn,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{un[0]=t[n];var r=ln[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)e[n]=i;else if(o<-14){var s=-14-o;e[n]=i+(a+1024>>s)}else e[n]=o>15?i+31744:i+(o+15<<10)+a}return e}function pn(t){return Array.isArray(t)||e(t)}var hn=function(t){return!(t&t-1)&&!!t},dn=34467,gn=3553,vn=34067,yn=34069,mn=6408,_n=6406,bn=6407,xn=6409,wn=6410,Sn=32854,En=32855,An=36194,On=32819,Tn=32820,Cn=33635,Pn=34042,Mn=6402,In=34041,kn=35904,Rn=35906,Ln=36193,Dn=33776,Nn=33777,Fn=33778,jn=33779,Bn=35986,zn=35987,Un=34798,Vn=35840,Gn=35841,Wn=35842,Hn=35843,Yn=36196,Xn=5121,qn=5123,Zn=5125,Kn=5126,Qn=10242,Jn=10243,$n=10497,tr=33071,er=33648,nr=10240,rr=10241,ir=9728,or=9729,ar=9984,sr=9985,ur=9986,lr=9987,cr=33170,fr=4352,pr=4353,hr=4354,dr=34046,gr=3317,vr=37440,yr=37441,mr=37443,_r=37444,br=33984,xr=[ar,ur,sr,lr],wr=[0,xn,wn,bn,mn],Sr={};function Er(t){return"[object "+t+"]"}Sr[xn]=Sr[_n]=Sr[Mn]=1,Sr[In]=Sr[wn]=2,Sr[bn]=Sr[kn]=3,Sr[mn]=Sr[Rn]=4;var Ar=Er("HTMLCanvasElement"),Or=Er("OffscreenCanvas"),Tr=Er("CanvasRenderingContext2D"),Cr=Er("ImageBitmap"),Pr=Er("HTMLImageElement"),Mr=Er("HTMLVideoElement"),Ir=Object.keys(Re).concat([Ar,Or,Tr,Cr,Pr,Mr]),kr=[];kr[Xn]=1,kr[Kn]=4,kr[Ln]=2,kr[qn]=2,kr[Zn]=4;var Rr=[];function Lr(t){return Array.isArray(t)&&(0===t.length||"number"===typeof t[0])}function Dr(t){return!!Array.isArray(t)&&!(0===t.length||!pn(t[0]))}function Nr(t){return Object.prototype.toString.call(t)}function Fr(t){return Nr(t)===Ar}function jr(t){return Nr(t)===Or}function Br(t){return Nr(t)===Tr}function zr(t){return Nr(t)===Cr}function Ur(t){return Nr(t)===Pr}function Vr(t){return Nr(t)===Mr}function Gr(t){return!!("undefined"!==typeof my&&my&&"function"===typeof my.showToast&&!0!==my.isFRM&&t&&t.getContext)}function Wr(t){return!!("undefined"!==typeof my&&my&&"function"===typeof my.showToast&&!0!==my.isFRM&&t&&"src"in t&&"crossOrigin"in t)}function Hr(t){if(!t)return!1;if(Gr(t)||Wr(t))return!0;var e=Nr(t);return Ir.indexOf(e)>=0||Lr(t)||Dr(t)||Ee(t)}function Yr(t){return 0|Re[Object.prototype.toString.call(t)]}function Xr(t,e){var n=e.length;switch(t.type){case Xn:case qn:case Zn:case Kn:var r=jt.allocType(t.type,n);r.set(e),t.data=r;break;case Ln:t.data=fn(e);break;default:rt.raise("unsupported texture type, must specify a typed array")}}function qr(t,e){return jt.allocType(t.type===Ln?Kn:t.type,e)}function Zr(t,e){t.type===Ln?(t.data=fn(e),jt.freeType(e)):t.data=e}function Kr(t,e,n,r,i,o){for(var a=t.width,s=t.height,u=t.channels,l=qr(t,a*s*u),c=0,f=0;f<s;++f)for(var p=0;p<a;++p)for(var h=0;h<u;++h)l[c++]=e[n*p+r*f+i*h+o];Zr(t,l)}function Qr(t,e,n,r,i,o){var a;if(a="undefined"!==typeof Rr[t]?Rr[t]:Sr[t]*kr[e],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Jr(t,r,i,o,a,s,u){var l={"don't care":fr,"dont care":fr,nice:hr,fast:pr},c={repeat:$n,clamp:tr,mirror:er},f={nearest:ir,linear:or},p=n({mipmap:lr,"nearest mipmap nearest":ar,"linear mipmap nearest":sr,"nearest mipmap linear":ur,"linear mipmap linear":lr},f),h={none:0,browser:_r},d={uint8:Xn,rgba4:On,rgb565:Cn,"rgb5 a1":Tn},g={alpha:_n,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:Sn,"rgb5 a1":En,rgb565:An},v={};r.ext_srgb&&(g.srgb=kn,g.srgba=Rn),r.oes_texture_float&&(d.float32=d.float=Kn),r.oes_texture_half_float&&(d.float16=d["half float"]=Ln),r.webgl_depth_texture&&(n(g,{depth:Mn,"depth stencil":In}),n(d,{uint16:qn,uint32:Zn,"depth stencil":Pn})),r.webgl_compressed_texture_s3tc&&n(v,{"rgb s3tc dxt1":Dn,"rgba s3tc dxt1":Nn,"rgba s3tc dxt3":Fn,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&n(v,{"rgb atc":Bn,"rgba atc explicit alpha":zn,"rgba atc interpolated alpha":Un}),r.webgl_compressed_texture_pvrtc&&n(v,{"rgb pvrtc 4bppv1":Vn,"rgb pvrtc 2bppv1":Gn,"rgba pvrtc 4bppv1":Wn,"rgba pvrtc 2bppv1":Hn}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Yn);var y=Array.prototype.slice.call(t.getParameter(dn)||new Uint32Array(0));Object.keys(v).forEach((function(t){var e=v[t];y.indexOf(e)>=0&&(g[t]=e)}));var m=Object.keys(g);i.textureFormats=m;var _=[];Object.keys(g).forEach((function(t){var e=g[t];_[e]=t}));var b=[];Object.keys(d).forEach((function(t){var e=d[t];b[e]=t}));var x=[];Object.keys(f).forEach((function(t){var e=f[t];x[e]=t}));var w=[];Object.keys(p).forEach((function(t){var e=p[t];w[e]=t}));var S=[];Object.keys(c).forEach((function(t){var e=c[t];S[e]=t}));var E=m.reduce((function(t,e){var n=g[e];return n===xn||n===_n||n===xn||n===wn||n===Mn||n===In||r.ext_srgb&&(n===kn||n===Rn)?t[n]=n:n===En||e.indexOf("rgba")>=0?t[n]=mn:t[n]=bn,t}),{});function A(){this.internalformat=mn,this.format=mn,this.type=Xn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=_r,this.width=0,this.height=0,this.channels=0}function O(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function T(t,e){if("object"===typeof e&&e){if("premultiplyAlpha"in e&&(rt.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(rt.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(rt.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(rt.parameter(e.colorSpace,h,"invalid colorSpace"),t.colorSpace=h[e.colorSpace]),"type"in e){var n=e.type;rt(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),rt(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),rt(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(n,d,"invalid texture type"),t.type=d[n]}var o=t.width,a=t.height,s=t.channels,u=!1;"shape"in e?(rt(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),o=e.shape[0],a=e.shape[1],3===e.shape.length&&(s=e.shape[2],rt(s>0&&s<=4,"invalid number of channels"),u=!0),rt(o>=0&&o<=i.maxTextureSize,"invalid width"),rt(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in e&&(o=a=e.radius,rt(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in e&&(o=e.width,rt(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in e&&(a=e.height,rt(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,rt(s>0&&s<=4,"invalid number of channels"),u=!0)),t.width=0|o,t.height=0|a,t.channels=0|s;var l=!1;if("format"in e){var c=e.format;rt(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(c,g,"invalid texture format");var f=t.internalformat=g[c];t.format=E[f],c in d&&("type"in e||(t.type=d[c])),c in v&&(t.compressed=!0),l=!0}!u&&l?t.channels=Sr[t.format]:u&&!l?t.channels!==wr[t.format]&&(t.format=t.internalformat=wr[t.channels]):l&&u&&rt(t.channels===Sr[t.format],"number of channels inconsistent with specified format")}}function C(e){t.pixelStorei(vr,e.flipY),t.pixelStorei(yr,e.premultiplyAlpha),t.pixelStorei(mr,e.colorSpace),t.pixelStorei(gr,e.unpackAlignment)}function P(){A.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(t,n){var r=null;if(Hr(n)?r=n:n&&(rt.type(n,"object","invalid pixel data type"),T(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Hr(n.data)&&(r=n.data)),rt(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){rt(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,rt(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Xn||(t.type=Yr(r));else if(Lr(r))t.channels=t.channels||4,Xr(t,r),t.alignment=1,t.needsFree=!0;else if(Ee(r)){var u=r.data;Array.isArray(u)||t.type!==Xn||(t.type=Yr(u));var l,c,f,p,h,d,g=r.shape,v=r.stride;3===g.length?(f=g[2],d=v[2]):(rt(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,d=1),l=g[0],c=g[1],p=v[0],h=v[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Kr(t,u,p,h,d,r.offset)}else if(Gr(r)||Fr(r)||jr(r)||Br(r))Gr(r)||Fr(r)||jr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(zr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Ur(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Wr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Vr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Dr(r)){var y=t.width||r[0].length,m=t.height||r.length,_=t.channels;_=pn(r[0][0])?_||r[0][0].length:_||1;for(var b=Oe.shape(r),x=1,w=0;w<b.length;++w)x*=b[w];var S=qr(t,x);Oe.flatten(r,b,"",S),Zr(t,S),t.alignment=1,t.width=y,t.height=m,t.channels=_,t.format=t.internalformat=wr[_],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Kn?rt(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Ln&&rt(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function I(e,n,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,l=e.type,c=e.width,f=e.height;C(e),i?t.texImage2D(n,r,u,u,l,i):e.compressed?t.compressedTexImage2D(n,r,s,c,f,0,a):e.needsCopy?(o(),t.copyTexImage2D(n,r,u,e.xOffset,e.yOffset,c,f,0)):t.texImage2D(n,r,u,c,f,0,u,l,a||null)}function k(e,n,r,i,a){var s=e.element,u=e.data,l=e.internalformat,c=e.format,f=e.type,p=e.width,h=e.height;C(e),s?t.texSubImage2D(n,a,r,i,c,f,s):e.compressed?t.compressedTexSubImage2D(n,a,r,i,l,p,h,u):e.needsCopy?(o(),t.copyTexSubImage2D(n,a,r,i,e.xOffset,e.yOffset,p,h)):t.texSubImage2D(n,a,r,i,p,h,c,f,u)}var R=[];function L(){return R.pop()||new P}function D(t){t.needsFree&&jt.freeType(t.data),P.call(t),R.push(t)}function N(){A.call(this),this.genMipmaps=!1,this.mipmapHint=fr,this.mipmask=0,this.images=Array(16)}function F(t,e,n){var r=t.images[0]=L();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function j(t,e){var n=null;if(Hr(e))O(n=t.images[0]=L(),t),M(n,e),t.mipmask=1;else if(T(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)O(n=t.images[i]=L(),t),n.width>>=i,n.height>>=i,M(n,r[i]),t.mipmask|=1<<i;else O(n=t.images[0]=L(),t),M(n,e),t.mipmask=1;O(t,t.images[0]),!t.compressed||t.internalformat!==Dn&&t.internalformat!==Nn&&t.internalformat!==Fn&&t.internalformat!==jn||rt(t.width%4===0&&t.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;I(n[r],e,r)}}var z=[];function U(){var t=z.pop()||new N;A.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function V(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&D(e[n]),e[n]=null;z.push(t)}function G(){this.minFilter=ir,this.magFilter=ir,this.wrapS=tr,this.wrapT=tr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=fr}function W(t,e){if("min"in e){var n=e.min;rt.parameter(n,p),t.minFilter=p[n],xr.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;rt.parameter(r,f),t.magFilter=f[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"===typeof s?(rt.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(rt.parameter(s[0],c),rt.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in e){var u=e.wrapS;rt.parameter(u,c),o=c[u]}if("wrapT"in e){var h=e.wrapT;rt.parameter(h,c),a=c[h]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in e){var d=e.anisotropic;rt("number"===typeof d&&d>=1&&d<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var g=!1;switch(typeof e.mipmap){case"string":rt.parameter(e.mipmap,l,"invalid mipmap hint"),t.mipmapHint=l[e.mipmap],t.genMipmaps=!0,g=!0;break;case"boolean":g=t.genMipmaps=e.mipmap;break;case"object":rt(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,g=!0;break;default:rt.raise("invalid mipmap type")}g&&!("min"in e)&&(t.minFilter=ar)}}function H(e,n){t.texParameteri(n,rr,e.minFilter),t.texParameteri(n,nr,e.magFilter),t.texParameteri(n,Qn,e.wrapS),t.texParameteri(n,Jn,e.wrapT),r.ext_texture_filter_anisotropic&&t.texParameteri(n,dr,e.anisotropic),e.genMipmaps&&(t.hint(cr,e.mipmapHint),t.generateMipmap(n))}var Y=0,X={},q=i.maxTextureUnits,Z=Array(q).map((function(){return null}));function K(e){A.call(this),this.mipmask=0,this.internalformat=mn,this.id=Y++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new G,u.profile&&(this.stats={size:0})}function Q(e){t.activeTexture(br),t.bindTexture(e.target,e.texture)}function J(){var e=Z[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(gn,null)}function $(e){var n=e.texture;rt(n,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(t.activeTexture(br+r),t.bindTexture(i,null),Z[r]=null),t.deleteTexture(n),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete X[e.id],s.textureCount--}function tt(e,n){var r=new K(gn);function o(t,e){var n=r.texInfo;G.call(n);var a=U();return"number"===typeof t?F(a,0|t,"number"===typeof e?0|e:0|t):t?(rt.type(t,"object","invalid arguments to regl.texture"),W(n,t),j(a,t)):F(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,O(r,a),rt.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,Q(r),B(a,gn),H(n,gn),J(),V(a),u.profile&&(r.stats.size=Qr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=_[r.internalformat],o.type=b[r.type],o.mag=x[n.magFilter],o.min=w[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}function a(t,e,n,i){rt(!!t,"must specify image data");var a=0|e,s=0|n,u=0|i,l=L();return O(l,r),l.width=0,l.height=0,M(l,t),l.width=l.width||(r.width>>u)-a,l.height=l.height||(r.height>>u)-s,rt(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),rt(a>=0&&s>=0&&a+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),rt(r.mipmask&1<<u,"missing mipmap data"),rt(l.data||l.element||l.needsCopy,"missing image data"),Q(r),k(l,gn,a,s,u),J(),D(l),o}function l(e,n){var i=0|e,a=0|n||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,Q(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=a>>s;if(!l||!c)break;t.texImage2D(gn,s,r.format,l,c,0,r.format,r.type,null)}return J(),u.profile&&(r.stats.size=Qr(r.internalformat,r.type,i,a,!1,!1)),o}return X[r.id]=r,s.textureCount++,o(e,n),o.subimage=a,o.resize=l,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function et(e,n,r,o,a,l){var c=new K(vn);X[c.id]=c,s.cubeCount++;var f=new Array(6);function p(t,e,n,r,o,a){var s,l=c.texInfo;for(G.call(l),s=0;s<6;++s)f[s]=U();if("number"!==typeof t&&t)if("object"===typeof t)if(e)j(f[0],t),j(f[1],e),j(f[2],n),j(f[3],r),j(f[4],o),j(f[5],a);else if(W(l,t),T(c,t),"faces"in t){var h=t.faces;for(rt(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)rt("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),O(f[s],c),j(f[s],h[s])}else for(s=0;s<6;++s)j(f[s],t);else rt.raise("invalid arguments to cube map");else{var d=0|t||1;for(s=0;s<6;++s)F(f[s],d,d)}for(O(c,f[0]),rt.optional((function(){i.npotTextureCube||rt(hn(c.width)&&hn(c.height),"your browser does not support non power or two texture dimensions")})),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,rt.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,p.width=f[0].width,p.height=f[0].height,Q(c),s=0;s<6;++s)B(f[s],yn+s);for(H(l,vn),J(),u.profile&&(c.stats.size=Qr(c.internalformat,c.type,p.width,p.height,l.genMipmaps,!0)),p.format=_[c.internalformat],p.type=b[c.type],p.mag=x[l.magFilter],p.min=w[l.minFilter],p.wrapS=S[l.wrapS],p.wrapT=S[l.wrapT],s=0;s<6;++s)V(f[s]);return p}function h(t,e,n,r,i){rt(!!e,"must specify image data"),rt("number"===typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=L();return O(u,c),u.width=0,u.height=0,M(u,e),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,rt(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),rt(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),rt(c.mipmask&1<<s,"missing mipmap data"),rt(u.data||u.element||u.needsCopy,"missing image data"),Q(c),k(u,yn+t,o,a,s),J(),D(u),p}function d(e){var n=0|e;if(n!==c.width){p.width=c.width=n,p.height=c.height=n,Q(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)t.texImage2D(yn+r,i,c.format,n>>i,n>>i,0,c.format,c.type,null);return J(),u.profile&&(c.stats.size=Qr(c.internalformat,c.type,p.width,p.height,!1,!0)),p}}return p(e,n,r,o,a,l),p.subimage=h,p.resize=d,p._reglType="textureCube",p._texture=c,u.profile&&(p.stats=c.stats),p.destroy=function(){c.decRef()},p}function nt(){for(var e=0;e<q;++e)t.activeTexture(br+e),t.bindTexture(gn,null),Z[e]=null;Ae(X).forEach($),s.cubeCount=0,s.textureCount=0}function it(){for(var e=0;e<q;++e){var n=Z[e];n&&(n.bindCount=0,n.unit=-1,Z[e]=null)}Ae(X).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var n=0;n<32;++n)if(0!==(e.mipmask&1<<n))if(e.target===gn)t.texImage2D(gn,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)t.texImage2D(yn+r,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);H(e.texInfo,e.target)}))}function ot(){for(var e=0;e<q;++e){var n=Z[e];n&&(n.bindCount=0,n.unit=-1,Z[e]=null),t.activeTexture(br+e),t.bindTexture(gn,null),t.bindTexture(vn,null)}}return n(K.prototype,{bind:function(){var e=this;e.bindCount+=1;var n=e.unit;if(n<0){for(var r=0;r<q;++r){var i=Z[r];if(i){if(i.bindCount>0)continue;i.unit=-1}Z[r]=e,n=r;break}n>=q&&rt.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<n+1&&(s.maxTextureUnits=n+1),e.unit=n,t.activeTexture(br+n),t.bindTexture(e.target,e.texture)}return n},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(X).forEach((function(e){t+=X[e].stats.size})),t}),{create2D:tt,createCube:et,clear:nt,getTexture:function(t){return null},restore:it,refresh:ot}}Rr[Sn]=2,Rr[En]=2,Rr[An]=2,Rr[In]=4,Rr[Dn]=.5,Rr[Nn]=.5,Rr[Fn]=1,Rr[jn]=1,Rr[Bn]=.5,Rr[zn]=1,Rr[Un]=1,Rr[Vn]=.5,Rr[Gn]=.25,Rr[Wn]=.5,Rr[Hn]=.25,Rr[Yn]=.5;var $r=36161,ti=32854,ei=32855,ni=36194,ri=33189,ii=36168,oi=34041,ai=35907,si=34836,ui=34842,li=34843,ci=[];function fi(t,e,n){return ci[t]*e*n}ci[ti]=2,ci[ei]=2,ci[ni]=2,ci[ri]=2,ci[ii]=1,ci[oi]=4,ci[ai]=4,ci[si]=16,ci[ui]=8,ci[li]=6;var pi=function(t,e,n,r,i){var o={rgba4:ti,rgb565:ni,"rgb5 a1":ei,depth:ri,stencil:ii,"depth stencil":oi};e.ext_srgb&&(o.srgba=ai),e.ext_color_buffer_half_float&&(o.rgba16f=ui,o.rgb16f=li),e.webgl_color_buffer_float&&(o.rgba32f=si);var a=[];Object.keys(o).forEach((function(t){var e=o[t];a[e]=t}));var s=0,u={};function l(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=ti,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(e){var n=e.renderbuffer;rt(n,"must not double destroy renderbuffer"),t.bindRenderbuffer($r,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete u[e.id],r.renderbufferCount--}function f(e,s){var c=new l(t.createRenderbuffer());function f(e,r){var s=0,u=0,l=ti;if("object"===typeof e&&e){var p=e;if("shape"in p){var h=p.shape;rt(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in p&&(s=u=0|p.radius),"width"in p&&(s=0|p.width),"height"in p&&(u=0|p.height);"format"in p&&(rt.parameter(p.format,o,"invalid renderbuffer format"),l=o[p.format])}else"number"===typeof e?(s=0|e,u="number"===typeof r?0|r:s):e?rt.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(rt(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return f.width=c.width=s,f.height=c.height=u,c.format=l,t.bindRenderbuffer($r,c.renderbuffer),t.renderbufferStorage($r,l,s,u),rt(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=fi(c.format,c.width,c.height)),f.format=a[c.format],f}function p(e,r){var o=0|e,a=0|r||o;return o===c.width&&a===c.height||(rt(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=o,f.height=c.height=a,t.bindRenderbuffer($r,c.renderbuffer),t.renderbufferStorage($r,c.format,o,a),rt(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=fi(c.format,c.width,c.height))),f}return u[c.id]=c,r.renderbufferCount++,f(e,s),f.resize=p,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function p(){Ae(u).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer($r,e.renderbuffer),t.renderbufferStorage($r,e.format,e.width,e.height)})),t.bindRenderbuffer($r,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(u).forEach((function(e){t+=u[e].stats.size})),t}),{create:f,clear:function(){Ae(u).forEach(c)},restore:p}},hi=36160,di=36161,gi=3553,vi=34069,yi=36064,mi=36096,_i=36128,bi=33306,xi=36053,wi=36054,Si=36055,Ei=36057,Ai=36061,Oi=36193,Ti=5121,Ci=5126,Pi=6407,Mi=6408,Ii=6402,ki=[Pi,Mi],Ri=[];Ri[Mi]=4,Ri[Pi]=3;var Li=[];Li[Ti]=1,Li[Ci]=4,Li[Oi]=2;var Di=33189,Ni=36168,Fi=34041,ji=[32854,32855,36194,35907,34842,34843,34836],Bi={};function zi(t,e,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&l.push("srgba"),e.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,i=0;e?(r=e.width,i=e.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function p(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function h(t,e,n){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);rt(i===e&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;rt(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function d(e,n){n&&(n.texture?t.framebufferTexture2D(hi,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(hi,e,di,n.renderbuffer._renderbuffer.renderbuffer))}function g(t){var e=gi,n=null,r=null,i=t;"object"===typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),rt.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,rt(e===gi)):"textureCube"===o?(n=i,rt(e>=vi&&e<vi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,e=di):rt.raise("invalid regl object for attachment"),new f(e,n,r)}function v(t,e,n,r,a){if(n){var s=i.create2D({width:t,height:e,format:r,type:a});return s._texture.refCount=0,new f(gi,s,null)}var u=o.create({width:t,height:e,format:r});return u._renderbuffer.refCount=0,new f(di,null,u)}function y(t){return t&&(t.texture||t.renderbuffer)}function m(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}e.oes_texture_half_float&&c.push("half float","float16"),e.oes_texture_float&&c.push("float","float32");var _=0,b={};function x(){this.id=_++,b[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(t){t.colorAttachments.forEach(p),p(t.depthAttachment),p(t.stencilAttachment),p(t.depthStencilAttachment)}function S(e){var n=e.framebuffer;rt(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,a.framebufferCount--,delete b[e.id]}function E(e){var n;t.bindFramebuffer(hi,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)d(yi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(hi,yi+n,gi,null,0);t.framebufferTexture2D(hi,bi,gi,null,0),t.framebufferTexture2D(hi,mi,gi,null,0),t.framebufferTexture2D(hi,_i,gi,null,0),d(mi,e.depthAttachment),d(_i,e.stencilAttachment),d(bi,e.depthStencilAttachment);var o=t.checkFramebufferStatus(hi);t.isContextLost()||o===xi||rt.raise("framebuffer configuration not supported, status = "+Bi[o]),t.bindFramebuffer(hi,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function A(t,i){var o=new x;function f(t,n){var i;rt(s.next!==o,"can not update framebuffer which is currently in use");var a=0,p=0,d=!0,m=!0,_=null,b=!0,x="rgba",S="uint8",A=1,O=null,T=null,C=null,P=!1;if("number"===typeof t)a=0|t,p=0|n||a;else if(t){rt.type(t,"object","invalid arguments for framebuffer");var M=t;if("shape"in M){var I=M.shape;rt(Array.isArray(I)&&I.length>=2,"invalid shape for framebuffer"),a=I[0],p=I[1]}else"radius"in M&&(a=p=M.radius),"width"in M&&(a=M.width),"height"in M&&(p=M.height);("color"in M||"colors"in M)&&(_=M.color||M.colors,Array.isArray(_)&&rt(1===_.length||e.webgl_draw_buffers,"multiple render targets not supported")),_||("colorCount"in M&&(A=0|M.colorCount,rt(A>0,"invalid color buffer count")),"colorTexture"in M&&(b=!!M.colorTexture,x="rgba4"),"colorType"in M&&(S=M.colorType,b?(rt(e.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),rt(e.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(rt(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==S&&"float32"!==S||(rt(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),rt.oneOf(S,c,"invalid color type")),"colorFormat"in M&&(x=M.colorFormat,u.indexOf(x)>=0?b=!0:l.indexOf(x)>=0?b=!1:rt.optional((function(){b?rt.oneOf(M.colorFormat,u,"invalid color format for texture"):rt.oneOf(M.colorFormat,l,"invalid color format for renderbuffer")})))),("depthTexture"in M||"depthStencilTexture"in M)&&(P=!(!M.depthTexture&&!M.depthStencilTexture),rt(!P||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in M&&("boolean"===typeof M.depth?d=M.depth:(O=M.depth,m=!1)),"stencil"in M&&("boolean"===typeof M.stencil?m=M.stencil:(T=M.stencil,d=!1)),"depthStencil"in M&&("boolean"===typeof M.depthStencil?d=m=M.depthStencil:(C=M.depthStencil,d=!1,m=!1))}else a=p=1;var k=null,R=null,L=null,D=null;if(Array.isArray(_))k=_.map(g);else if(_)k=[g(_)];else for(k=new Array(A),i=0;i<A;++i)k[i]=v(a,p,b,x,S);rt(e.webgl_draw_buffers||k.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),rt(k.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||k[0].width,p=p||k[0].height,O?R=g(O):d&&!m&&(R=v(a,p,P,"depth","uint32")),T?L=g(T):m&&!d&&(L=v(a,p,!1,"stencil","uint8")),C?D=g(C):!O&&!T&&m&&d&&(D=v(a,p,P,"depth stencil","depth stencil")),rt(!!O+!!T+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var N=null;for(i=0;i<k.length;++i)if(h(k[i],a,p),rt(!k[i]||k[i].texture&&ki.indexOf(k[i].texture._texture.format)>=0||k[i].renderbuffer&&ji.indexOf(k[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),k[i]&&k[i].texture){var F=Ri[k[i].texture._texture.format]*Li[k[i].texture._texture.type];null===N?N=F:rt(N===F,"all color attachments much have the same number of bits per pixel.")}return h(R,a,p),rt(!R||R.texture&&R.texture._texture.format===Ii||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Di,"invalid depth attachment for framebuffer object"),h(L,a,p),rt(!L||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Ni,"invalid stencil attachment for framebuffer object"),h(D,a,p),rt(!D||D.texture&&D.texture._texture.format===Fi||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Fi,"invalid depth-stencil attachment for framebuffer object"),w(o),o.width=a,o.height=p,o.colorAttachments=k,o.depthAttachment=R,o.stencilAttachment=L,o.depthStencilAttachment=D,f.color=k.map(y),f.depth=y(R),f.stencil=y(L),f.depthStencil=y(D),f.width=o.width,f.height=o.height,E(o),f}function p(t,e){rt(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)m(i[a],n,r);return m(o.depthAttachment,n,r),m(o.stencilAttachment,n,r),m(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,E(o),f}return a.framebufferCount++,f(t,i),n(f,{resize:p,_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),w(o)},use:function(t){s.setFBO({framebuffer:f},t)}})}function O(t){var o=Array(6);function a(t){var r;rt(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},p=0,h=null,d="rgba",g="uint8",v=1;if("number"===typeof t)p=0|t;else if(t){rt.type(t,"object","invalid arguments for framebuffer");var y=t;if("shape"in y){var m=y.shape;rt(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer"),rt(m[0]===m[1],"cube framebuffer must be square"),p=m[0]}else"radius"in y&&(p=0|y.radius),"width"in y?(p=0|y.width,"height"in y&&rt(y.height===p,"must be square")):"height"in y&&(p=0|y.height);("color"in y||"colors"in y)&&(h=y.color||y.colors,Array.isArray(h)&&rt(1===h.length||e.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in y&&(v=0|y.colorCount,rt(v>0,"invalid color buffer count")),"colorType"in y&&(rt.oneOf(y.colorType,c,"invalid color type"),g=y.colorType),"colorFormat"in y&&(d=y.colorFormat,rt.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else p=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(v);var _={radius:p,format:d,type:g};for(r=0;r<v;++r)l[r]=i.createCube(_)}for(f.color=Array(l.length),r=0;r<l.length;++r){var b=l[r];rt("function"===typeof b&&"textureCube"===b._reglType,"invalid cube map"),p=p||b.width,rt(b.width===p&&b.height===p,"invalid cube map shape"),f.color[r]={target:vi,data:l[r]}}for(r=0;r<6;++r){for(var x=0;x<l.length;++x)f.color[x].target=vi+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=A(f)}return n(a,{width:p,height:p,color:l})}function l(t){var e,n=0|t;if(rt(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;e<6;++e)o[e].resize(n);return a.width=a.height=n,a}return a(t),n(a,{faces:o,resize:l,_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})}function T(){s.cur=null,s.next=null,s.dirty=!0,Ae(b).forEach((function(e){e.framebuffer=t.createFramebuffer(),E(e)}))}return n(s,{getFramebuffer:function(t){if("function"===typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof x)return e}return null},create:A,createCube:O,clear:function(){Ae(b).forEach(S)},restore:T})}Bi[xi]="complete",Bi[wi]="incomplete attachment",Bi[Ei]="incomplete dimensions",Bi[Si]="incomplete, missing attachment",Bi[Ai]="unsupported";var Ui=5126,Vi=34962,Gi=34963,Wi=["attributes","elements","offset","count","primitive","instances"];function Hi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ui,this.offset=0,this.stride=0,this.divisor=0}function Yi(t,n,r,i,o,a,s){for(var u=r.maxAttributes,l=new Array(u),c=0;c<u;++c)l[c]=new Hi;var f=0,p={},h={Record:Hi,scope:{},state:l,currentVAO:null,targetVAO:null,restore:g()?w:function(){},createVAO:S,getVAO:y,destroyBuffer:d,setVAO:g()?m:_,clear:g()?b:function(){}};function d(e){for(var n=0;n<l.length;++n){var r=l[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function g(){return n.oes_vertex_array_object}function v(){return n.angle_instanced_arrays}function y(t){return"function"===typeof t&&t._vao?t._vao:null}function m(t){if(t!==h.currentVAO){var e=g();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),h.currentVAO=t}}function _(e){if(e!==h.currentVAO){if(e)e.bindAttrs();else{for(var n=v(),r=0;r<l.length;++r){var i=l[r];i.buffer?(t.enableVertexAttribArray(r),i.buffer.bind(),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}s.elements?t.bindBuffer(Gi,s.elements.buffer.buffer):t.bindBuffer(Gi,null)}h.currentVAO=e}}function b(){Ae(p).forEach((function(t){t.destroy()}))}function x(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var t=g();this.vao=t?t.createVertexArrayOES():null,p[this.id]=this,this.buffers=[]}function w(){g()&&Ae(p).forEach((function(t){t.refresh()}))}function S(t){var r=new x;function s(t){var i;if(Array.isArray(t))i=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(rt("object"===typeof t,"invalid arguments for create vao"),rt("attributes"in t,"must specify attributes for vao"),t.elements){var l=t.elements;r.ownsElements?"function"===typeof l&&"elements"===l._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(l),r.ownsElements=!1):a.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=a.create(t.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(rt(t.primitive in Xe,"bad primitive type: "+t.primitive),r.primitive=Xe[t.primitive]),rt.optional((function(){for(var e=Object.keys(t),n=0;n<e.length;++n)rt(Wi.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+Wi)})),rt(Array.isArray(i),"attributes must be an array")}rt(i.length<u,"too many attributes"),rt(i.length>0,"must specify at least one attribute");var c={},f=r.attributes;f.length=i.length;for(var p=0;p<i.length;++p){var h,d=i[p],g=f[p]=new Hi,v=d.data||d;Array.isArray(v)||e(v)||Ee(v)?(r.buffers[p]&&(h=r.buffers[p],e(v)&&h._buffer.byteLength>=v.byteLength?h.subdata(v):(h.destroy(),r.buffers[p]=null)),r.buffers[p]||(h=r.buffers[p]=o.create(d,Vi,!1,!0)),g.buffer=o.getBuffer(h),g.size=0|g.buffer.dimension,g.normalized=!1,g.type=g.buffer.dtype,g.offset=0,g.stride=0,g.divisor=0,g.state=1,c[p]=1):o.getBuffer(d)?(g.buffer=o.getBuffer(d),g.size=0|g.buffer.dimension,g.normalized=!1,g.type=g.buffer.dtype,g.offset=0,g.stride=0,g.divisor=0,g.state=1):o.getBuffer(d.buffer)?(g.buffer=o.getBuffer(d.buffer),g.size=0|(+d.size||g.buffer.dimension),g.normalized=!!d.normalized||!1,"type"in d?(rt.parameter(d.type,Le,"invalid buffer type"),g.type=Le[d.type]):g.type=g.buffer.dtype,g.offset=0|(d.offset||0),g.stride=0|(d.stride||0),g.divisor=0|(d.divisor||0),g.state=1,rt(g.size>=1&&g.size<=4,"size must be between 1 and 4"),rt(g.offset>=0,"invalid offset"),rt(g.stride>=0&&g.stride<=255,"stride must be between 0 and 255"),rt(g.divisor>=0,"divisor must be positive"),rt(!g.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in d?(rt(p>0,"first attribute must not be a constant"),g.x=+d.x||0,g.y=+d.y||0,g.z=+d.z||0,g.w=+d.w||0,g.state=2):rt(!1,"invalid attribute spec for location "+p)}for(var y=0;y<r.buffers.length;++y)!c[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(t)}return x.prototype.bindAttrs=function(){for(var e=v(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Vi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<u;++o)t.disableVertexAttribArray(o);var s=a.getElements(this.elements);s?t.bindBuffer(Gi,s.buffer.buffer):t.bindBuffer(Gi,null)},x.prototype.refresh=function(){var t=g();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,t.bindVertexArrayOES(null))},x.prototype.destroy=function(){if(this.vao){var t=g();this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),p[this.id]&&(delete p[this.id],i.vaoCount-=1)},h}var Xi=35632,qi=35633,Zi=35718,Ki=35721;function Qi(t,e,r,i){var o={},a={};function s(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function u(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function l(n,r,i){var s=n===Xi?o:a,u=s[r];if(!u){var l=e.str(r);u=t.createShader(n),t.shaderSource(u,l),t.compileShader(u),rt.shaderError(t,u,l,n,i),s[r]=u}return u}var c={},f=[],p=0;function h(t,e){this.id=p++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function d(n,r,o){var a,c,f=l(Xi,n.fragId),p=l(qi,n.vertId),h=n.program=t.createProgram();if(t.attachShader(h,f),t.attachShader(h,p),o)for(a=0;a<o.length;++a){var d=o[a];t.bindAttribLocation(h,d[0],d[1])}t.linkProgram(h),rt.linkError(t,h,e.str(n.fragId),e.str(n.vertId),r);var g=t.getProgramParameter(h,Zi);i.profile&&(n.stats.uniformsCount=g);var v=n.uniforms;for(a=0;a<g;++a)if(c=t.getActiveUniform(h,a))if(c.size>1)for(var y=0;y<c.size;++y){var m=c.name.replace("[0]","["+y+"]");u(v,new s(m,e.id(m),t.getUniformLocation(h,m),c))}else u(v,new s(c.name,e.id(c.name),t.getUniformLocation(h,c.name),c));var _=t.getProgramParameter(h,Ki);i.profile&&(n.stats.attributesCount=_);var b=n.attributes;for(a=0;a<_;++a)(c=t.getActiveAttrib(h,a))&&u(b,new s(c.name,e.id(c.name),t.getAttribLocation(h,c.name),c))}function g(){o={},a={};for(var t=0;t<f.length;++t)d(f[t],null,f[t].attributes.map((function(t){return[t.location,t.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var t=0;return f.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return f.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);Ae(o).forEach(e),o={},Ae(a).forEach(e),a={},f.forEach((function(e){t.deleteProgram(e.program)})),f.length=0,c={},r.shaderCount=0},program:function(e,i,s,u){rt.command(e>=0,"missing vertex shader",s),rt.command(i>=0,"missing fragment shader",s);var l=c[i];l||(l=c[i]={});var p=l[e];if(p&&(p.refCount++,!u))return p;var g=new h(i,e);return r.shaderCount++,d(g,s,u),p||(l[e]=g),f.push(g),n(g,{destroy:function(){if(g.refCount--,g.refCount<=0){t.deleteProgram(g.program);var e=f.indexOf(g);f.splice(e,1),r.shaderCount--}l[g.vertId].refCount<=0&&(t.deleteShader(a[g.vertId]),delete a[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(t.deleteShader(o[g.fragId]),delete o[g.fragId],delete c[g.fragId])}})},restore:g,shader:l,frag:-1,vert:-1}}var Ji=6408,$i=5121,to=3333,eo=5126;function no(t,n,r,i,o,a,s){function u(u){var l;null===n.next?(rt(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=$i):(rt(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,rt.optional((function(){a.oes_texture_float?(rt(l===$i||l===eo,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===eo&&rt(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):rt(l===$i,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,f=0,p=i.framebufferWidth,h=i.framebufferHeight,d=null;e(u)?d=u:u&&(rt.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,f=0|u.y,rt(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),rt(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),p=0|(u.width||i.framebufferWidth-c),h=0|(u.height||i.framebufferHeight-f),d=u.data||null),d&&(l===$i?rt(d instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===eo&&rt(d instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),rt(p>0&&p+c<=i.framebufferWidth,"invalid width for read pixels"),rt(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var g=p*h*4;return d||(l===$i?d=new Uint8Array(g):l===eo&&(d=d||new Float32Array(g))),rt.isTypedArray(d,"data buffer for regl.read() must be a typedarray"),rt(d.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(to,4),t.readPixels(c,f,p,h,Ji,l,d),d}function l(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=u(t)})),e}function c(t){return t&&"framebuffer"in t?l(t):u(t)}return c}function ro(t){return Array.prototype.slice.call(t)}function io(t){return ro(t).join("")}function oo(){var e=0,r=[],i=[];function o(t){for(var n=0;n<i.length;++n)if(i[n]===t)return r[n];var o="g"+e++;return r.push(o),i.push(t),o}function a(){var t=[];function r(){t.push.apply(t,ro(arguments))}var i=[];function o(){var n="v"+e++;return i.push(n),arguments.length>0&&(t.push(n,"="),t.push.apply(t,ro(arguments)),t.push(";")),n}return n(r,{def:o,toString:function(){return io([i.length>0?"var "+i.join(",")+";":"",io(t)])}})}function s(){var t=a(),e=a(),r=t.toString,i=e.toString;function o(n,r){e(n,r,"=",t.def(n,r),";")}return n((function(){t.apply(t,ro(arguments))}),{def:t.def,entry:t,exit:e,save:o,set:function(e,n,r){o(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}function u(){var t=io(arguments),e=s(),r=s(),i=e.toString,o=r.toString;return n(e,{then:function(){return e.apply(e,ro(arguments)),this},else:function(){return r.apply(r,ro(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),io(["if(",t,"){",i(),"}",e])}})}var l=a(),c={};function f(t,e){var r=[];function i(){var t="a"+r.length;return r.push(t),t}e=e||0;for(var o=0;o<e;++o)i();var a=s(),u=a.toString;return c[t]=n(a,{arg:i,toString:function(){return io(["function(",r.join(),"){",u(),"}"])}})}function p(){var e=['"use strict";',l,"return {"];Object.keys(c).forEach((function(t){e.push('"',t,'":',c[t].toString(),",")})),e.push("}");var n=io(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return("undefined"!==typeof my&&my&&"function"===typeof my.showToast&&!0!==my.isFRM?t.Function.apply(null,r.concat(n)):Function.apply(null,r.concat(n))).apply(null,i)}return{global:l,link:o,block:a,proc:f,scope:s,cond:u,compile:p}}var ao="xyzw".split(""),so=5121,uo=1,lo=2,co=0,fo=1,po=2,ho=3,go=4,vo=5,yo=6,mo="dither",_o="blend.enable",bo="blend.color",xo="blend.equation",wo="blend.func",So="depth.enable",Eo="depth.func",Ao="depth.range",Oo="depth.mask",To="colorMask",Co="cull.enable",Po="cull.face",Mo="frontFace",Io="lineWidth",ko="polygonOffset.enable",Ro="polygonOffset.offset",Lo="sample.alpha",Do="sample.enable",No="sample.coverage",Fo="stencil.enable",jo="stencil.mask",Bo="stencil.func",zo="stencil.opFront",Uo="stencil.opBack",Vo="scissor.enable",Go="scissor.box",Wo="viewport",Ho="profile",Yo="framebuffer",Xo="vert",qo="frag",Zo="elements",Ko="primitive",Qo="count",Jo="offset",$o="instances",ta="vao",ea="Width",na="Height",ra=Yo+ea,ia=Yo+na,oa=Wo+ea,aa=Wo+na,sa="drawingBuffer",ua=sa+ea,la=sa+na,ca=[wo,xo,Bo,zo,Uo,No,Wo,Go,Ro],fa=34962,pa=34963,ha=3553,da=34067,ga=2884,va=3042,ya=3024,ma=2960,_a=2929,ba=3089,xa=32823,wa=32926,Sa=32928,Ea=5126,Aa=35664,Oa=35665,Ta=35666,Ca=5124,Pa=35667,Ma=35668,Ia=35669,ka=35670,Ra=35671,La=35672,Da=35673,Na=35674,Fa=35675,ja=35676,Ba=35678,za=35680,Ua=4,Va=1028,Ga=1029,Wa=2304,Ha=2305,Ya=32775,Xa=32776,qa=519,Za=7680,Ka=0,Qa=1,Ja=32774,$a=513,ts=36160,es=36064,ns={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},rs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],is={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},os={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},as={frag:35632,vert:35633},ss={cw:Wa,ccw:Ha};function us(t){return Array.isArray(t)||e(t)||Ee(t)}function ls(t){return t.sort((function(t,e){return t===Wo?-1:e===Wo?1:t<e?-1:1}))}function cs(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function fs(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ps(t){return new cs(!1,!1,!1,t)}function hs(t,e){var n=t.type;if(n===co){var r=t.data.length;return new cs(!0,r>=1,r>=2,e)}if(n===go){var i=t.data;return new cs(i.thisDep,i.contextDep,i.propDep,e)}if(n===vo)return new cs(!1,!1,!1,e);if(n===yo){for(var o=!1,a=!1,s=!1,u=0;u<t.data.length;++u){var l=t.data[u];if(l.type===fo)s=!0;else if(l.type===po)a=!0;else if(l.type===ho)o=!0;else if(l.type===co){o=!0;var c=l.data;c>=1&&(a=!0),c>=2&&(s=!0)}else l.type===go&&(o=o||l.data.thisDep,a=a||l.data.contextDep,s=s||l.data.propDep)}return new cs(o,a,s,e)}return new cs(n===ho,n===po,n===fo,e)}var ds=new cs(!1,!1,!1,(function(){}));function gs(t,e,r,i,o,a,s,u,l,c,f,p,h,d,g){var v=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=Ya,y.max=Xa);var m=r.angle_instanced_arrays,_=r.webgl_draw_buffers,b=r.oes_vertex_array_object,x={dirty:!0,profile:g.profile},w={},S=[],E={},A={};function O(t){return t.replace(".","_")}function T(t,e,n){var r=O(t);S.push(t),w[r]=x[r]=!!n,E[r]=e}function C(t,e,n){var r=O(t);S.push(t),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,A[r]=e}T(mo,ya),T(_o,va),C(bo,"blendColor",[0,0,0,0]),C(xo,"blendEquationSeparate",[Ja,Ja]),C(wo,"blendFuncSeparate",[Qa,Ka,Qa,Ka]),T(So,_a,!0),C(Eo,"depthFunc",$a),C(Ao,"depthRange",[0,1]),C(Oo,"depthMask",!0),C(To,To,[!0,!0,!0,!0]),T(Co,ga),C(Po,"cullFace",Ga),C(Mo,Mo,Ha),C(Io,Io,1),T(ko,xa),C(Ro,"polygonOffset",[0,0]),T(Lo,wa),T(Do,Sa),C(No,"sampleCoverage",[1,!1]),T(Fo,ma),C(jo,"stencilMask",-1),C(Bo,"stencilFunc",[qa,0,-1]),C(zo,"stencilOpSeparate",[Va,Za,Za,Za]),C(Uo,"stencilOpSeparate",[Ga,Za,Za,Za]),T(Vo,ba),C(Go,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),C(Wo,Wo,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var P={gl:t,context:h,strings:e,next:w,current:x,draw:p,elements:a,buffer:o,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:d,isBufferArgs:us},M={primTypes:Xe,compareFuncs:is,blendFuncs:ns,blendEquations:y,stencilOps:os,glTypes:Le,orientationType:ss};rt.optional((function(){P.isArrayLike=pn})),_&&(M.backBuffer=[Ga],M.drawBuffer=Tt(i.maxDrawbuffers,(function(t){return 0===t?[0]:Tt(t,(function(t){return es+t}))})));var I=0;function k(){var t=oo(),n=t.link,r=t.global;t.id=I++,t.batchId="0";var i=n(P),o=t.shared={props:"a0"};Object.keys(P).forEach((function(t){o[t]=r.def(i,".",t)})),rt.optional((function(){t.CHECK=n(rt),t.commandStr=rt.guessCommand(),t.command=n(t.commandStr),t.assert=function(t,e,r){t("if(!(",e,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},M.invalidBlendCombinations=rs}));var a=t.next={},s=t.current={};Object.keys(A).forEach((function(t){Array.isArray(x[t])&&(a[t]=r.def(o.next,".",t),s[t]=r.def(o.current,".",t))}));var u=t.constants={};Object.keys(M).forEach((function(t){u[t]=r.def(JSON.stringify(M[t]))})),t.invoke=function(e,r){switch(r.type){case co:var i=["this",o.context,o.props,t.batchId];return e.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case fo:return e.def(o.props,r.data);case po:return e.def(o.context,r.data);case ho:return e.def("this",r.data);case go:return r.data.append(t,e),r.data.ref;case vo:return r.data.toString();case yo:return r.data.map((function(n){return t.invoke(e,n)}))}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var r=e.id(t);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new v),l[r]=n(i)},t}function R(t){var e,n=t.static,r=t.dynamic;if(Ho in n){var i=!!n[Ho];(e=ps((function(t,e){return i}))).enable=i}else if(Ho in r){var o=r[Ho];e=hs(o,(function(t,e){return t.invoke(e,o)}))}return e}function L(t,e){var n=t.static,r=t.dynamic;if(Yo in n){var i=n[Yo];return i?(i=u.getFramebuffer(i),rt.command(i,"invalid framebuffer object"),ps((function(t,e){var n=t.link(i),r=t.shared;e.set(r.framebuffer,".next",n);var o=r.context;return e.set(o,"."+ra,n+".width"),e.set(o,"."+ia,n+".height"),n}))):ps((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+ra,r+"."+ua),e.set(r,"."+ia,r+"."+la),"null"}))}if(Yo in r){var o=r[Yo];return hs(o,(function(t,e){var n=t.invoke(e,o),r=t.shared,i=r.framebuffer,a=e.def(i,".getFramebuffer(",n,")");rt.optional((function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")})),e.set(i,".next",a);var s=r.context;return e.set(s,"."+ra,a+"?"+a+".width:"+s+"."+ua),e.set(s,"."+ia,a+"?"+a+".height:"+s+"."+la),a}))}return null}function D(t,e,n){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];rt.commandType(o,"object","invalid "+t,n.commandStr);var a,s,u=!0,l=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,rt.command(a>=0,"invalid "+t,n.commandStr)):u=!1,"height"in o?(s=0|o.height,rt.command(s>=0,"invalid "+t,n.commandStr)):u=!1,new cs(!u&&e&&e.thisDep,!u&&e&&e.contextDep,!u&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=a;"width"in o||(r=e.def(n,".",ra,"-",l));var i=s;return"height"in o||(i=e.def(n,".",ia,"-",c)),[l,c,r,i]}))}if(t in i){var f=i[t],p=hs(f,(function(e,n){var r=e.invoke(n,f);rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=e.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",ra,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",ia,"-",a,")");return rt.optional((function(){e.assert(n,s+">=0&&"+u+">=0","invalid "+t)})),[o,a,s,u]}));return e&&(p.thisDep=p.thisDep||e.thisDep,p.contextDep=p.contextDep||e.contextDep,p.propDep=p.propDep||e.propDep),p}return e?new cs(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",ra),e.def(n,".",ia)]})):null}var a=o(Wo);if(a){var s=a;a=new cs(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=s.append(t,e),r=t.shared.context;return e.set(r,"."+oa,n[2]),e.set(r,"."+aa,n[3]),n}))}return{viewport:a,scissor_box:o(Go)}}function N(t,e){var n=t.static;if("string"===typeof n[qo]&&"string"===typeof n[Xo]){if(Object.keys(e.dynamic).length>0)return null;var r=e.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)rt("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function F(t,n,r){var i=t.static,o=t.dynamic;function a(t){if(t in i){var n=e.id(i[t]);rt.optional((function(){f.shader(as[t],n,rt.guessCommand())}));var r=ps((function(){return n}));return r.id=n,r}if(t in o){var a=o[t];return hs(a,(function(e,n){var r=e.invoke(n,a),i=n.def(e.shared.strings,".id(",r,")");return rt.optional((function(){n(e.shared.shader,".shader(",as[t],",",i,",",e.command,");")})),i}))}return null}var s,u=a(qo),l=a(Xo),c=null;return fs(u)&&fs(l)?(c=f.program(l.id,u.id,null,r),s=ps((function(t,e){return t.link(c)}))):s=new cs(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,(function(t,e){var n,r=t.shared.shader;n=u?u.append(t,e):e.def(r,".",qo);var i=r+".program("+(l?l.append(t,e):e.def(r,".",Xo))+","+n;return rt.optional((function(){i+=","+t.command})),e.def(i+")")})),{frag:u,vert:l,progVar:s,program:c}}function j(t,e){var n=t.static,r=t.dynamic,i={},o=!1;function s(){if(ta in n){var t=n[ta];return null!==t&&null===c.getVAO(t)&&(t=c.createVAO(t)),o=!0,i.vao=t,ps((function(e){var n=c.getVAO(t);return n?e.link(n):"null"}))}if(ta in r){o=!0;var e=r[ta];return hs(e,(function(t,n){var r=t.invoke(n,e);return n.def(t.shared.vao+".getVAO("+r+")")}))}return null}var u=s(),l=!1;function f(){if(Zo in n){var t=n[Zo];if(i.elements=t,us(t)){var s=i.elements=a.create(t,!0);t=a.getElements(s),l=!0}else t&&(t=a.getElements(t),l=!0,rt.command(t,"invalid elements",e.commandStr));var c=ps((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return c.value=t,c}if(Zo in r){l=!0;var f=r[Zo];return hs(f,(function(t,e){var n=t.shared,r=n.isBufferArgs,i=n.elements,o=t.invoke(e,f),a=e.def("null"),s=e.def(r,"(",o,")"),u=t.cond(s).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");");return rt.optional((function(){t.assert(u.else,"!"+o+"||"+a,"invalid elements")})),e.entry(u),e.exit(t.cond(s).then(i,".destroyStream(",a,");")),t.ELEMENTS=a,a}))}return o?new cs(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.elements+".getElements("+t.shared.vao+".currentVAO.elements):null")})):null}var p=f();function h(){if(Ko in n){var t=n[Ko];return i.primitive=t,rt.commandParameter(t,Xe,"invalid primitve",e.commandStr),ps((function(e,n){return Xe[t]}))}if(Ko in r){var a=r[Ko];return hs(a,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,a);return rt.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Xe))})),e.def(n,"[",r,"]")}))}return l?fs(p)?p.value?ps((function(t,e){return e.def(t.ELEMENTS,".primType")})):ps((function(){return Ua})):new cs(p.thisDep,p.contextDep,p.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Ua)})):o?new cs(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.primitive:"+Ua)})):null}function d(t,a){if(t in n){var s=0|n[t];return a?i.offset=s:i.instances=s,rt.command(!a||s>=0,"invalid "+t,e.commandStr),ps((function(t,e){return a&&(t.OFFSET=s),s}))}if(t in r){var c=r[t];return hs(c,(function(e,n){var r=e.invoke(n,c);return a&&(e.OFFSET=r,rt.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}if(a){if(l)return ps((function(t,e){return t.OFFSET=0,0}));if(o)return new cs(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.offset:0")}))}else if(o)return new cs(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.instances:-1")}));return null}var g=d(Jo,!0);function v(){if(Qo in n){var t=0|n[Qo];return i.count=t,rt.command("number"===typeof t&&t>=0,"invalid vertex count",e.commandStr),ps((function(){return t}))}if(Qo in r){var a=r[Qo];return hs(a,(function(t,e){var n=t.invoke(e,a);return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(l){if(fs(p)){if(p)return g?new cs(g.thisDep,g.contextDep,g.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return rt.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):ps((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var s=ps((function(){return-1}));return rt.optional((function(){s.MISSING=!0})),s}var c=new cs(p.thisDep||g.thisDep,p.contextDep||g.contextDep,p.propDep||g.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return rt.optional((function(){c.DYNAMIC=!0})),c}if(o){var f=new cs(u.thisDep,u.contextDep,u.propDep,(function(t,e){return e.def(t.shared.vao,".currentVAO?",t.shared.vao,".currentVAO.count:-1")}));return f}return null}var y=h(),m=v(),_=d($o,!1);return{elements:p,primitive:y,count:m,instances:_,offset:g,vao:u,vaoActive:o,elementsActive:l,static:i}}function B(t,e){var n=t.static,r=t.dynamic,o={};return S.forEach((function(t){var a=O(t);function s(e,i){if(t in n){var s=e(n[t]);o[a]=ps((function(){return s}))}else if(t in r){var u=r[t];o[a]=hs(u,(function(t,e){return i(t,e,t.invoke(e,u))}))}}switch(t){case Co:case _o:case mo:case Fo:case So:case Vo:case ko:case Lo:case Do:case Oo:return s((function(n){return rt.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return rt.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case Eo:return s((function(n){return rt.commandParameter(n,is,"invalid "+t,e.commandStr),is[n]}),(function(e,n,r){var i=e.constants.compareFuncs;return rt.optional((function(){e.assert(n,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(is))})),n.def(i,"[",r,"]")}));case Ao:return s((function(t){return rt.command(pn(t)&&2===t.length&&"number"===typeof t[0]&&"number"===typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){return rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]}));case wo:return s((function(t){rt.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return rt.commandParameter(n,ns,a+".srcRGB",e.commandStr),rt.commandParameter(r,ns,a+".srcAlpha",e.commandStr),rt.commandParameter(i,ns,a+".dstRGB",e.commandStr),rt.commandParameter(o,ns,a+".dstAlpha",e.commandStr),rt.command(-1===rs.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",e.commandStr),[ns[n],ns[i],ns[r],ns[o]]}),(function(e,n,r){var i=e.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return rt.optional((function(){e.assert(n,s+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys(ns))})),s}rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");rt.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),l=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),l,n.def(i,"[",o("dst","Alpha"),"]")]}));case xo:return s((function(n){return"string"===typeof n?(rt.commandParameter(n,y,"invalid "+t,e.commandStr),[y[n],y[n]]):"object"===typeof n?(rt.commandParameter(n.rgb,y,t+".rgb",e.commandStr),rt.commandParameter(n.alpha,y,t+".alpha",e.commandStr),[y[n.rgb],y[n.alpha]]):void rt.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var i=e.constants.blendEquations,o=n.def(),a=n.def(),s=e.cond("typeof ",r,'==="string"');return rt.optional((function(){function n(t,n,r){e.assert(t,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(s.then,t,r),e.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(s.else,t+".rgb",r+".rgb"),n(s.else,t+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case bo:return s((function(t){return rt.command(pn(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),Tt(4,(function(e){return+t[e]}))}),(function(t,e,n){return rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Tt(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case jo:return s((function(t){return rt.commandType(t,"number",a,e.commandStr),0|t}),(function(t,e,n){return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case Bo:return s((function(n){rt.commandType(n,"object",a,e.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return rt.commandParameter(r,is,t+".cmp",e.commandStr),rt.commandType(i,"number",t+".ref",e.commandStr),rt.commandType(o,"number",t+".mask",e.commandStr),[is[r],i,o]}),(function(t,e,n){var r=t.constants.compareFuncs;return rt.optional((function(){function i(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Za),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case zo:case Uo:return s((function(n){rt.commandType(n,"object",a,e.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return rt.commandParameter(r,os,t+".fail",e.commandStr),rt.commandParameter(i,os,t+".zfail",e.commandStr),rt.commandParameter(o,os,t+".zpass",e.commandStr),[t===Uo?Ga:Va,os[r],os[i],os[o]]}),(function(e,n,r){var i=e.constants.stencilOps;function o(o){return rt.optional((function(){e.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(os))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Za)}return rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[t===Uo?Ga:Va,o("fail"),o("zfail"),o("zpass")]}));case Ro:return s((function(t){rt.commandType(t,"object",a,e.commandStr);var n=0|t.factor,r=0|t.units;return rt.commandType(n,"number",a+".factor",e.commandStr),rt.commandType(r,"number",a+".units",e.commandStr),[n,r]}),(function(e,n,r){return rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Po:return s((function(t){var n=0;return"front"===t?n=Va:"back"===t&&(n=Ga),rt.command(!!n,a,e.commandStr),n}),(function(t,e,n){return rt.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',Va,":",Ga)}));case Io:return s((function(t){return rt.command("number"===typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Mo:return s((function(t){return rt.commandParameter(t,ss,a,e.commandStr),ss[t]}),(function(t,e,n){return rt.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?'+Wa+":"+Ha)}));case To:return s((function(t){return rt.command(pn(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Tt(4,(function(t){return"!!"+n+"["+t+"]"}))}));case No:return s((function(t){rt.command("object"===typeof t&&t,a,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return rt.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){return rt.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]}))}})),o}function z(t,e){var n=t.static,r=t.dynamic,i={};return Object.keys(n).forEach((function(t){var r,o=n[t];if("number"===typeof o||"boolean"===typeof o)r=ps((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ps((function(t){return t.link(o)})):"framebuffer"===a||"framebufferCube"===a?(rt.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=ps((function(t){return t.link(o.color[0])}))):rt.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else pn(o)?r=ps((function(e){return e.global.def("[",Tt(o.length,(function(n){return rt.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+t,e.commandStr),o[n]})),"]")})):rt.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];i[t]=hs(e,(function(t,n){return t.invoke(n,e)}))})),i}function U(t,n){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach((function(t){var i=r[t],s=e.id(t),u=new v;if(us(i))u.state=uo,u.buffer=o.getBuffer(o.create(i,fa,!1,!0)),u.type=0;else{var l=o.getBuffer(i);if(l)u.state=uo,u.buffer=l,u.type=0;else if(rt.command("object"===typeof i&&i,"invalid data for attribute "+t,n.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=lo,"number"===typeof c?u.x=c:(rt.command(pn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,n.commandStr),ao.forEach((function(t,e){e<c.length&&(u[t]=c[e])})))}else{l=us(i.buffer)?o.getBuffer(o.create(i.buffer,fa,!1,!0)):o.getBuffer(i.buffer),rt.command(!!l,'missing buffer for attribute "'+t+'"',n.commandStr);var f=0|i.offset;rt.command(f>=0,'invalid offset for attribute "'+t+'"',n.commandStr);var p=0|i.stride;rt.command(p>=0&&p<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',n.commandStr);var h=0|i.size;rt.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',n.commandStr);var d=!!i.normalized,g=0;"type"in i&&(rt.commandParameter(i.type,Le,"invalid type for attribute "+t,n.commandStr),g=Le[i.type]);var y=0|i.divisor;rt.optional((function(){"divisor"in i&&(rt.command(0===y||m,'cannot specify divisor for attribute "'+t+'", instancing not supported',n.commandStr),rt.command(y>=0,'invalid divisor for attribute "'+t+'"',n.commandStr));var e=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){rt.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",e)}))})),u.buffer=l,u.state=uo,u.size=h,u.normalized=d,u.type=g||l.dtype,u.offset=f,u.stride=p,u.divisor=y}}a[t]=ps((function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(t){r[t]=u[t]})),u.buffer&&(r.buffer=t.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(t){var e=i[t];function n(n,r){var i=n.invoke(r,e),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;rt.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var l={isStream:r.def(!1)},c=new v;c.state=uo,Object.keys(c).forEach((function(t){l[t]=r.def(""+c[t])}));var f=l.buffer,p=l.type;function h(t){r(l[t],"=",i,".",t,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",f,"=",u,".createStream(",fa,",",i,");",p,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",p,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",lo,";","if(typeof "+i+'.constant === "number"){',l[ao[0]],"=",i,".constant;",ao.slice(1).map((function(t){return l[t]})).join("="),"=0;","}else{",ao.map((function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",fa,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",p,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",f,");","}"),l}a[t]=hs(e,n)})),a}function V(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=ps((function(t,e){return"number"===typeof n||"boolean"===typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=hs(e,(function(t,n){return t.invoke(n,e)}))})),r}function G(t,e,n,i,o){var a=t.static,s=t.dynamic;rt.optional((function(){var t=[Yo,Xo,qo,Zo,Ko,Jo,Qo,$o,Ho,ta].concat(S);function e(e){Object.keys(e).forEach((function(e){rt.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',o.commandStr)}))}e(a),e(s)}));var u=N(t,e),l=L(t,o),f=D(t,l,o),p=j(t,o),h=B(t,o),d=F(t,o,u);function g(t){var e=f[t];e&&(h[t]=e)}g(Wo),g(O(Go));var v=Object.keys(h).length>0,y={framebuffer:l,draw:p,shader:d,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=R(t,o),y.uniforms=z(n,o),y.drawVAO=y.scopeVAO=p.vao,!y.drawVAO&&d.program&&!u&&r.angle_instanced_arrays&&p.static.elements){var m=!0,_=d.program.attributes.map((function(t){var n=e.static[t];return m=m&&!!n,n}));if(m&&_.length>0){var b=c.getVAO(c.createVAO({attributes:_,elements:p.static.elements}));y.drawVAO=new cs(null,null,null,(function(t,e){return t.link(b)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=U(e,o),y.context=V(i,o),y}function W(t,e,n){var r=t.shared.context,i=t.scope();Object.keys(n).forEach((function(o){e.save(r,"."+o);var a=n[o].append(t,e);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),e(i)}function H(t,e,n,r){var i,o=t.shared,a=o.gl,s=o.framebuffer;_&&(i=e.def(o.extensions,".webgl_draw_buffers"));var u,l=t.constants,c=l.drawBuffer,f=l.backBuffer;u=n?n.append(t,e):e.def(s,".next"),r||e("if(",u,"!==",s,".cur){"),e("if(",u,"){",a,".bindFramebuffer(",ts,",",u,".framebuffer);"),_&&e(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",ts,",null);"),_&&e(i,".drawBuffersWEBGL(",f,");"),e("}",s,".cur=",u,";"),r||e("}")}function Y(t,e,n){var r=t.shared,i=r.gl,o=t.current,a=t.next,s=r.current,u=r.next,l=t.cond(s,".dirty");S.forEach((function(e){var r,c,f=O(e);if(!(f in n.state))if(f in a){r=a[f],c=o[f];var p=Tt(x[f].length,(function(t){return l.def(r,"[",t,"]")}));l(t.cond(p.map((function(t,e){return t+"!=="+c+"["+e+"]"})).join("||")).then(i,".",A[f],"(",p,");",p.map((function(t,e){return c+"["+e+"]="+t})).join(";"),";"))}else{r=l.def(u,".",f);var h=t.cond(r,"!==",s,".",f);l(h),f in E?h(t.cond(r).then(i,".enable(",E[f],");").else(i,".disable(",E[f],");"),s,".",f,"=",r,";"):h(i,".",A[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(s,".dirty=false;"),e(l)}function X(t,e,n,r){var i=t.shared,o=t.current,a=i.current,s=i.gl;ls(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var l=u.append(t,e);if(E[i]){var c=E[i];fs(u)?e(s,l?".enable(":".disable(",c,");"):e(t.cond(l).then(s,".enable(",c,");").else(s,".disable(",c,");")),e(a,".",i,"=",l,";")}else if(pn(l)){var f=o[i];e(s,".",A[i],"(",l,");",l.map((function(t,e){return f+"["+e+"]="+t})).join(";"),";")}else e(s,".",A[i],"(",l,");",a,".",i,"=",l,";")}}))}function q(t,e){m&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function Z(t,e,n,r,i){var o,a,s,u=t.shared,l=t.stats,c=u.current,f=u.timer,p=n.profile;function h(){return"undefined"!==typeof my&&my&&"function"===typeof my.showToast&&!0!==my.isFRM||"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(t){t(o=e.def(),"=",h(),";"),"string"===typeof i?t(l,".count+=",i,";"):t(l,".count++;"),d&&(r?t(a=e.def(),"=",f,".getNumPendingQueries();"):t(f,".beginQuery(",l,");"))}function v(t){t(l,".cpuTime+=",h(),"-",o,";"),d&&(r?t(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",l,");"):t(f,".endQuery();"))}function y(t){var n=e.def(c,".profile");e(c,".profile=",t,";"),e.exit(c,".profile=",n,";")}if(p){if(fs(p))return void(p.enable?(g(e),v(e.exit),y("true")):y("false"));y(s=p.append(t,e))}else s=e.def(c,".profile");var m=t.block();g(m),e("if(",s,"){",m,"}");var _=t.block();v(_),e.exit("if(",s,"){",_,"}")}function K(t,e,n,r,i){var o=t.shared;function a(t){switch(t){case Aa:case Pa:case Ra:return 2;case Oa:case Ma:case La:return 3;case Ta:case Ia:case Da:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=e.def(n,".location"),u=e.def(o.attributes,"[",s,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];function h(){e("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?e.def(i.size,"||",r):r,e("if(",u,".type!==",o,"||",u,".size!==",n,"||",p.map((function(t){return u+"."+t+"!=="+i[t]})).join("||"),"){",a,".bindBuffer(",fa,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",p.map((function(t){return u+"."+t+"="+i[t]+";"})).join(""),"}"),m){var l=i.divisor;e("if(",u,".divisor!==",l,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function d(){e("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",ao.map((function(t,e){return u+"."+t+"!=="+f[e]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",ao.map((function(t,e){return u+"."+t+"="+f[e]+";"})).join(""),"}")}l===uo?h():l===lo?d():(e("if(",l,"===",uo,"){"),h(),e("}else{"),d(),e("}"))}r.forEach((function(r){var o,u=r.name,l=n.attributes[u];if(l){if(!i(l))return;o=l.append(t,e)}else{if(!i(ds))return;var c=t.scopeAttrib(u);rt.optional((function(){t.assert(e,c+".state","missing attribute "+u)})),o={},Object.keys(new v).forEach((function(t){o[t]=e.def(c,".",t)}))}s(t.link(r),a(r.info.type),o)}))}function Q(t,n,r,i,o,a){for(var s,u=t.shared,l=u.gl,c=0;c<i.length;++c){var f,p=i[c],h=p.name,d=p.info.type,g=r.uniforms[h],v=t.link(p)+".location";if(g){if(!o(g))continue;if(fs(g)){var y=g.value;if(rt.command(null!==y&&"undefined"!==typeof y,'missing uniform "'+h+'"',t.commandStr),d===Ba||d===za){rt.command("function"===typeof y&&(d===Ba&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||d===za&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+h,t.commandStr);var m=t.link(y._texture||y.color[0]._texture);n(l,".uniform1i(",v,",",m+".bind());"),n.exit(m,".unbind();")}else if(d===Na||d===Fa||d===ja){rt.optional((function(){rt.command(pn(y),"invalid matrix for uniform "+h,t.commandStr),rt.command(d===Na&&4===y.length||d===Fa&&9===y.length||d===ja&&16===y.length,"invalid length for matrix uniform "+h,t.commandStr)}));var _=t.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),b=2;d===Fa?b=3:d===ja&&(b=4),n(l,".uniformMatrix",b,"fv(",v,",false,",_,");")}else{switch(d){case Ea:rt.commandType(y,"number","uniform "+h,t.commandStr),s="1f";break;case Aa:rt.command(pn(y)&&2===y.length,"uniform "+h,t.commandStr),s="2f";break;case Oa:rt.command(pn(y)&&3===y.length,"uniform "+h,t.commandStr),s="3f";break;case Ta:rt.command(pn(y)&&4===y.length,"uniform "+h,t.commandStr),s="4f";break;case ka:rt.commandType(y,"boolean","uniform "+h,t.commandStr),s="1i";break;case Ca:rt.commandType(y,"number","uniform "+h,t.commandStr),s="1i";break;case Ra:case Pa:rt.command(pn(y)&&2===y.length,"uniform "+h,t.commandStr),s="2i";break;case La:case Ma:rt.command(pn(y)&&3===y.length,"uniform "+h,t.commandStr),s="3i";break;case Da:case Ia:rt.command(pn(y)&&4===y.length,"uniform "+h,t.commandStr),s="4i"}n(l,".uniform",s,"(",v,",",pn(y)?Array.prototype.slice.call(y):y,");")}continue}f=g.append(t,n)}else{if(!o(ds))continue;f=n.def(u.uniforms,"[",e.id(h),"]")}d===Ba?(rt(!Array.isArray(f),"must specify a scalar prop for textures"),n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):d===za&&(rt(!Array.isArray(f),"must specify a scalar prop for cube maps"),n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),rt.optional((function(){function e(e,r){t.assert(n,e,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){rt(!Array.isArray(f),"must not specify an array type for uniform"),e("typeof "+f+'==="'+t+'"',"invalid type, expected "+t)}function i(n,r){Array.isArray(f)?rt(f.length===n,"must have length "+n):e(u.isArrayLike+"("+f+")&&"+f+".length==="+n,"invalid vector, should have length "+n,t.commandStr)}function o(n){rt(!Array.isArray(f),"must not specify a value type"),e("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(n===ha?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case Ca:r("number");break;case Pa:i(2,"number");break;case Ma:i(3,"number");break;case Ia:i(4,"number");break;case Ea:r("number");break;case Aa:i(2,"number");break;case Oa:i(3,"number");break;case Ta:i(4,"number");break;case ka:r("boolean");break;case Ra:i(2,"boolean");break;case La:i(3,"boolean");break;case Da:i(4,"boolean");break;case Na:i(4,"number");break;case Fa:i(9,"number");break;case ja:i(16,"number");break;case Ba:o(ha);break;case za:o(da)}}));var x=1;switch(d){case Ba:case za:var w=n.def(f,"._texture");n(l,".uniform1i(",v,",",w,".bind());"),n.exit(w,".unbind();");continue;case Ca:case ka:s="1i";break;case Pa:case Ra:s="2i",x=2;break;case Ma:case La:s="3i",x=3;break;case Ia:case Da:s="4i",x=4;break;case Ea:s="1f";break;case Aa:s="2f",x=2;break;case Oa:s="3f",x=3;break;case Ta:s="4f",x=4;break;case Na:s="Matrix2fv";break;case Fa:s="Matrix3fv";break;case ja:s="Matrix4fv"}if("M"===s.charAt(0)){n(l,".uniform",s,"(",v,",");var S=Math.pow(d-Na+2,2),E=t.global.def("new Float32Array(",S,")");Array.isArray(f)?n("false,(",Tt(S,(function(t){return E+"["+t+"]="+f[t]})),",",E,")"):n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",Tt(S,(function(t){return E+"["+t+"]="+f+"["+t+"]"})),",",E,")"),n(");")}else if(x>1){for(var A=[],O=[],T=0;T<x;++T)Array.isArray(f)?O.push(f[T]):O.push(n.def(f+"["+T+"]")),a&&A.push(n.def());a&&n("if(!",t.batchId,"||",A.map((function(t,e){return t+"!=="+O[e]})).join("||"),"){",A.map((function(t,e){return t+"="+O[e]+";"})).join("")),n(l,".uniform",s,"(",v,",",O.join(","),");"),a&&n("}")}else{if(rt(!Array.isArray(f),"uniform value must not be an array"),a){var C=n.def();n("if(!",t.batchId,"||",C,"!==",f,"){",C,"=",f,";")}n(l,".uniform",s,"(",v,",",f,");"),a&&n("}")}}}function J(t,e,n,r){var i=t.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var u,l=s.elements,c=e;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(c=n),u=l.append(t,c),s.elementsActive&&c("if("+u+")"+o+".bindBuffer("+pa+","+u+".buffer.buffer);")):(u=c.def(),c(u,"=",a,".",Zo,";","if(",u,"){",o,".bindBuffer(",pa,",",u,".buffer.buffer);}","else if(",i.vao,".currentVAO){",u,"=",t.shared.elements+".getElements("+i.vao,".currentVAO.elements);",b?"":"if("+u+")"+o+".bindBuffer("+pa+","+u+".buffer.buffer);","}")),u}function l(){var i,o=s.count,u=e;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(t,u),rt.optional((function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Qo),rt.optional((function(){t.assert(u,i+">=0","missing vertex count")}))),i}var c=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(a,".",i)}var p,h,d=f(Ko),g=f(Jo),v=l();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");m&&(p=f($o),h=t.instancing);var y=c+".type",_=s.elements&&fs(s.elements)&&!s.vaoActive;function x(){function t(){n(h,".drawElementsInstancedANGLE(",[d,v,y,g+"<<(("+y+"-"+so+")>>1)",p],");")}function e(){n(h,".drawArraysInstancedANGLE(",[d,g,v,p],");")}c&&"null"!==c?_?t():(n("if(",c,"){"),t(),n("}else{"),e(),n("}")):e()}function w(){function t(){n(o+".drawElements("+[d,v,y,g+"<<(("+y+"-"+so+")>>1)"]+");")}function e(){n(o+".drawArrays("+[d,g,v]+");")}c&&"null"!==c?_?t():(n("if(",c,"){"),t(),n("}else{"),e(),n("}")):e()}m&&("number"!==typeof p||p>=0)?"string"===typeof p?(n("if(",p,">0){"),x(),n("}else if(",p,"<0){"),w(),n("}")):x():w()}function $(t,e,n,r,i){var o=k(),a=o.proc("body",i);return rt.optional((function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)})),m&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,n,r),o.compile().body}function tt(t,e,n,r){q(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),K(t,e,n,r.attributes,(function(){return!0}))),Q(t,e,n,r.uniforms,(function(){return!0}),!1),J(t,e,e,n)}function et(t,e){var n=t.proc("draw",1);q(t,n),W(t,n,e.context),H(t,n,e.framebuffer),Y(t,n,e),X(t,n,e.state),Z(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)tt(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(n){return $(tt,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}function nt(t,e,n,r){function i(){return!0}t.batchId="a1",q(t,e),K(t,e,n,r.attributes,i),Q(t,e,n,r.uniforms,i,!1),J(t,e,e,n)}function it(t,e,n,r){q(t,e);var i=n.contextDep,o=e.def(),a="a0",s="a1",u=e.def();t.shared.props=u,t.batchId=o;var l=t.scope(),c=t.scope();function f(t){return t.contextDep&&i||t.propDep}function p(t){return!f(t)}if(e(l.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",c,"}",l.exit),n.needsContext&&W(t,c,n.context),n.needsFramebuffer&&H(t,c,n.framebuffer),X(t,c,n.state,f),n.profile&&f(n.profile)&&Z(t,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(t.shared.vao,".setVAO(",n.drawVAO.append(t,c),");"):l(t.shared.vao,".setVAO(",n.drawVAO.append(t,l),");"):l(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(l(t.shared.vao,".setVAO(null);"),K(t,l,n,r.attributes,p),K(t,c,n,r.attributes,f)),Q(t,l,n,r.uniforms,p,!1),Q(t,c,n,r.uniforms,f,!0),J(t,l,c,n);else{var h=t.global.def("{}"),d=n.shader.progVar.append(t,c),g=c.def(d,".id"),v=c.def(h,"[",g,"]");c(t.shared.gl,".useProgram(",d,".program);","if(!",v,"){",v,"=",h,"[",g,"]=",t.link((function(e){return $(nt,t,n,e,2)})),"(",d,");}",v,".call(this,a0[",o,"],",o,");")}}function ot(t,e){var n=t.proc("batch",2);t.batchId="0",q(t,n);var r=!1,i=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(W(t,n,e.context),i=!1);var o=e.framebuffer,a=!1;function s(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||H(t,n,o)):H(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),Y(t,n,e),X(t,n,e.state,(function(t){return!s(t)})),e.profile&&s(e.profile)||Z(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=i,e.needsFramebuffer=a;var u=e.shader.progVar;if(u.contextDep&&r||u.propDep)it(t,n,e,null);else{var l=u.append(t,n);if(n(t.shared.gl,".useProgram(",l,".program);"),e.shader.program)it(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var c=t.global.def("{}"),f=n.def(l,".id"),p=n.def(c,"[",f,"]");n(t.cond(p).then(p,".call(this,a0,a1);").else(p,"=",c,"[",f,"]=",t.link((function(n){return $(it,t,e,n,2)})),"(",l,");",p,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}function at(t,n){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(e){var o=n.shader[e];o&&r.set(i.shader,"."+e,o.append(t,r))}W(t,r,n.context),n.framebuffer&&n.framebuffer.append(t,r),ls(Object.keys(n.state)).forEach((function(e){var o=n.state[e].append(t,r);pn(o)?o.forEach((function(n,i){r.set(t.next[e],"["+i+"]",n)})):r.set(i.next,"."+e,o)})),Z(t,r,n,!0,!0),[Zo,Jo,Qo,$o,Ko].forEach((function(e){var o=n.draw[e];o&&r.set(i.draw,"."+e,""+o.append(t,r))})),Object.keys(n.uniforms).forEach((function(o){var a=n.uniforms[o].append(t,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+e.id(o)+"]",a)})),Object.keys(n.attributes).forEach((function(e){var i=n.attributes[e].append(t,r),o=t.scopeAttrib(e);Object.keys(new v).forEach((function(t){r.set(o,"."+t,i[t])}))})),n.scopeVAO&&r.set(i.vao,".targetVAO",n.scopeVAO.append(t,r)),a(Xo),a(qo),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}function st(t){if("object"===typeof t&&!pn(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(gt.isDynamic(t[e[n]]))return!0;return!1}}function ut(t,e,n){var r=e.static[n];if(r&&st(r)){var i=t.global,o=Object.keys(r),a=!1,s=!1,u=!1,l=t.global.def("{}");o.forEach((function(e){var n=r[e];if(gt.isDynamic(n)){"function"===typeof n&&(n=r[e]=gt.unbox(n));var o=hs(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(l,".",e,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(t.link(n))}i(";")}})),e.dynamic[n]=new gt.DynamicVariable(go,{thisDep:a,contextDep:s,propDep:u,ref:l,append:c}),delete e.static[n]}function c(t,e){o.forEach((function(n){var i=r[n];if(gt.isDynamic(i)){var o=t.invoke(e,i);e(l,".",n,"=",o,";")}}))}}function lt(t,e,r,i,o){var a=k();a.stats=a.link(o),Object.keys(e.static).forEach((function(t){ut(a,e,t)})),ca.forEach((function(e){ut(a,t,e)}));var s=G(t,e,r,i,a);return et(a,s),at(a,s),ot(a,s),n(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var t=k(),e=t.proc("poll"),n=t.proc("refresh"),o=t.block();e(o),n(o);var a,s=t.shared,u=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),H(t,e),H(t,n,null,!0),m&&(a=t.link(m)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var p=n.def(s.attributes,"[",f,"]"),h=t.cond(p,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",fa,",",p,".buffer.buffer);",u,".vertexAttribPointer(",f,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),n(h),m&&n(a,".vertexAttribDivisorANGLE(",f,",",p,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(E).forEach((function(r){var i=E[r],a=o.def(l,".",r),s=t.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",a,";"),n(s),e("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(A).forEach((function(r){var i,a,s=A[r],f=x[r],p=t.block();if(p(u,".",s,"("),pn(f)){var h=f.length;i=t.global.def(l,".",r),a=t.global.def(c,".",r),p(Tt(h,(function(t){return i+"["+t+"]"})),");",Tt(h,(function(t){return a+"["+t+"]="+i+"["+t+"];"})).join("")),e("if(",Tt(h,(function(t){return i+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",p,"}")}else i=o.def(l,".",r),a=o.def(c,".",r),p(i,");",c,".",r,"=",i,";"),e("if(",i,"!==",a,"){",p,"}");n(p)})),t.compile()}(),compile:lt}}function vs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ys=34918,ms=34919,_s=35007,bs=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||e.ext_disjoint_timer_query.createQueryEXT()}function i(t){n.push(t)}var o=[];function a(t){var n=r();e.ext_disjoint_timer_query.beginQueryEXT(_s,n),o.push(n),h(o.length-1,o.length,t)}function s(){e.ext_disjoint_timer_query.endQueryEXT(_s)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new u}function f(t){l.push(t)}var p=[];function h(t,e,n){var r=c();r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,p.push(r)}var d=[],g=[];function v(){var t,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),d.length=Math.max(d.length,r+1),d[0]=0,g[0]=0;var a=0;for(t=0,n=0;n<o.length;++n){var s=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(s,ms)?(a+=e.ext_disjoint_timer_query.getQueryObjectEXT(s,ys),i(s)):o[t++]=s,d[n+1]=a,g[n+1]=t}for(o.length=t,t=0,n=0;n<p.length;++n){var u=p[n],l=u.startQueryIndex,c=u.endQueryIndex;u.sum+=d[c]-d[l];var h=g[l],v=g[c];v===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=v,p[t++]=u)}p.length=t}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},xs=16384,ws=256,Ss=1024,Es=34962,As="webglcontextlost",Os="webglcontextrestored",Ts=1,Cs=2,Ps=3;function Ms(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function Is(t){var e=At(t);if(!e)return null;var r=e.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Ot(r,e);if(!a)return null;var s=mt(),u=vs(),l=a.extensions,c=bs(r,l),f=yt(),p=r.drawingBufferWidth,h=r.drawingBufferHeight,d={tick:0,time:0,viewportWidth:p,viewportHeight:h,framebufferWidth:p,framebufferHeight:h,drawingBufferWidth:p,drawingBufferHeight:h,pixelRatio:e.pixelRatio},g={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=Se(r,l),m=Ye(r,u,e,x),_=sn(r,l,m,u),b=Yi(r,l,y,u,m,_,v);function x(t){return b.destroyBuffer(t)}var w=Qi(r,s,u,e),S=Jr(r,l,y,(function(){O.procs.poll()}),d,u,e),E=pi(r,l,y,u,e),A=zi(r,l,y,S,E,u),O=gs(r,s,l,y,m,_,S,A,g,b,w,v,d,c,e),T=no(r,A,O.procs.poll,d,i,l,y),C=O.next,P=r.canvas,M=[],I=[],k=[],R=[e.onDestroy],L=null;function D(){if(0===M.length)return c&&c.update(),void(L=null);L=vt.next(D),q();for(var t=M.length-1;t>=0;--t){var e=M[t];e&&e(d,null,0)}r.flush(),c&&c.update()}function N(){!L&&M.length>0&&(L=vt.next(D))}function F(){L&&(vt.cancel(D),L=null)}function j(t){t.preventDefault(),o=!0,F(),I.forEach((function(t){t()}))}function B(t){r.getError(),o=!1,a.restore(),w.restore(),m.restore(),S.restore(),E.restore(),A.restore(),b.restore(),c&&c.restore(),O.procs.refresh(),N(),k.forEach((function(t){t()}))}var z="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM;function U(){M.length=0,F(),!z&&P&&(P.removeEventListener(As,j),P.removeEventListener(Os,B)),w.clear(),A.clear(),E.clear(),b.clear(),S.clear(),_.clear(),m.clear(),c&&c.clear(),R.forEach((function(t){t()}))}function V(t){function e(t){var e=n({},t);function r(t){if(t in e){var n=e[t];delete e[t],Object.keys(n).forEach((function(r){e[t+"."+r]=n[r]}))}}return delete e.uniforms,delete e.attributes,delete e.context,delete e.vao,"stencil"in e&&e.stencil.op&&(e.stencil.opBack=e.stencil.opFront=e.stencil.op,delete e.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(e.vao=t.vao),e}function r(t,e){var n={},r={};return Object.keys(t).forEach((function(i){var o=t[i];if(gt.isDynamic(o))r[i]=gt.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(gt.isDynamic(o[a]))return void(r[i]=gt.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}rt(!!t,"invalid args to regl({...})"),rt.type(t,"object","invalid args to regl({...})");var i=r(t.context||{},!0),a=r(t.uniforms||{},!0),s=r(t.attributes||{},!1),u=r(e(t),!1),l={gpuTime:0,cpuTime:0,count:0},c=O.compile(u,s,a,i,l),f=c.draw,p=c.batch,h=c.scope,d=[];function g(t){for(;d.length<t;)d.push(null);return d}function v(t,e){var n;if(o&&rt.raise("context lost"),"function"===typeof t)return h.call(this,null,t,0);if("function"===typeof e)if("number"===typeof t)for(n=0;n<t;++n)h.call(this,null,e,n);else{if(!Array.isArray(t))return h.call(this,t,e,0);for(n=0;n<t.length;++n)h.call(this,t[n],e,n)}else if("number"===typeof t){if(t>0)return p.call(this,g(0|t),0|t)}else{if(!Array.isArray(t))return f.call(this,t);if(t.length)return p.call(this,t,t.length)}}return n(v,{stats:l,destroy:function(){c.destroy()}})}!z&&P&&(P.addEventListener(As,j,!1),P.addEventListener(Os,B,!1));var G=A.setFBO=V({framebuffer:gt.define.call(null,Ts,"framebuffer")});function W(t,e){var n=0;O.procs.poll();var i=e.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=xs),"depth"in e&&(r.clearDepth(+e.depth),n|=ws),"stencil"in e&&(r.clearStencil(0|e.stencil),n|=Ss),rt(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function H(t){if(rt("object"===typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)G(n({framebuffer:t.framebuffer.faces[e]},t),W);else G(t,W);else W(null,t)}function Y(t){function e(){var e=Ms(M,t);function n(){var t=Ms(M,n);M[t]=M[M.length-1],M.length-=1,M.length<=0&&F()}rt(e>=0,"cannot cancel a frame twice"),M[e]=n}return rt.type(t,"function","regl.frame() callback must be a function"),M.push(t),N(),{cancel:e}}function X(){var t=C.viewport,e=C.scissor_box;t[0]=t[1]=e[0]=e[1]=0,d.viewportWidth=d.framebufferWidth=d.drawingBufferWidth=t[2]=e[2]=r.drawingBufferWidth,d.viewportHeight=d.framebufferHeight=d.drawingBufferHeight=t[3]=e[3]=r.drawingBufferHeight}function q(){d.tick+=1,d.time=K(),X(),O.procs.poll()}function Z(){S.refresh(),X(),O.procs.refresh(),c&&c.update()}function K(){return(yt()-f)/1e3}function Q(t,e){var n;switch(rt.type(e,"function","listener callback must be a function"),t){case"frame":return Y(e);case"lost":n=I;break;case"restore":n=k;break;case"destroy":n=R;break;default:rt.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}}Z();var J=n(V,{clear:H,prop:gt.define.bind(null,Ts),context:gt.define.bind(null,Cs),this:gt.define.bind(null,Ps),draw:V({}),buffer:function(t){return m.create(t,Es,!1,!1)},elements:function(t){return _.create(t,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:E.create,framebuffer:A.create,framebufferCube:A.createCube,vao:b.createVAO,attributes:i,frame:Y,on:Q,limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:T,destroy:U,_gl:r,_refresh:Z,poll:function(){q(),c&&c.update()},now:K,stats:u});return e.onDone(null,J),J}return Is}(n(8753))},908:function(t,e,n){var r=n(8136)(n(7009),"DataView");t.exports=r},9676:function(t,e,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},8384:function(t,e,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},5797:function(t,e,n){var r=n(8136)(n(7009),"Map");t.exports=r},8059:function(t,e,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},8319:function(t,e,n){var r=n(8136)(n(7009),"Promise");t.exports=r},3924:function(t,e,n){var r=n(8136)(n(7009),"Set");t.exports=r},692:function(t,e,n){var r=n(8059),i=n(5774),o=n(1596);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},2854:function(t,e,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},7197:function(t,e,n){var r=n(7009).Symbol;t.exports=r},6219:function(t,e,n){var r=n(7009).Uint8Array;t.exports=r},7091:function(t,e,n){var r=n(8136)(n(7009),"WeakMap");t.exports=r},3665:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},4550:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4903:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},9055:function(t,e,n){var r=n(4842);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},2683:function(t){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},7538:function(t,e,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),p=!n&&!c&&!f&&u(t),h=n||c||f||p,d=h?r(t.length,String):[],g=d.length;for(var v in t)!e&&!l.call(t,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||d.push(v);return d}},8950:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},1705:function(t){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2095:function(t){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},7897:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4622:function(t){t.exports=function(t){return t.split("")}},240:function(t){var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(e)||[]}},8002:function(t,e,n){var r=n(2526),i=n(9231);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},8463:function(t,e,n){var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},7112:function(t,e,n){var r=n(9231);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1855:function(t,e,n){var r=n(4503),i=n(2742);t.exports=function(t,e){return t&&r(e,i(e),t)}},5076:function(t,e,n){var r=n(4503),i=n(3961);t.exports=function(t,e){return t&&r(e,i(e),t)}},2526:function(t,e,n){var r=n(8528);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},3200:function(t){t.exports=function(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},1905:function(t,e,n){var r=n(2854),i=n(4550),o=n(8463),a=n(1855),s=n(5076),u=n(4523),l=n(291),c=n(2455),f=n(7636),p=n(8248),h=n(5341),d=n(8383),g=n(9243),v=n(9759),y=n(548),m=n(3629),_=n(5174),b=n(103),x=n(8092),w=n(6995),S=n(2742),E=n(3961),A="[object Arguments]",O="[object Function]",T="[object Object]",C={};C[A]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[O]=C["[object WeakMap]"]=!1,t.exports=function t(e,n,P,M,I,k){var R,L=1&n,D=2&n,N=4&n;if(P&&(R=I?P(e,M,I,k):P(e)),void 0!==R)return R;if(!x(e))return e;var F=m(e);if(F){if(R=g(e),!L)return l(e,R)}else{var j=d(e),B=j==O||"[object GeneratorFunction]"==j;if(_(e))return u(e,L);if(j==T||j==A||B&&!I){if(R=D||B?{}:y(e),!L)return D?f(e,s(R,e)):c(e,a(R,e))}else{if(!C[j])return I?e:{};R=v(e,j,L)}}k||(k=new r);var z=k.get(e);if(z)return z;k.set(e,R),w(e)?e.forEach((function(r){R.add(t(r,n,P,r,e,k))})):b(e)&&e.forEach((function(r,i){R.set(i,t(r,n,P,i,e,k))}));var U=F?void 0:(N?D?h:p:D?E:S)(e);return i(U||e,(function(r,i){U&&(r=e[i=r]),o(R,i,t(r,n,P,i,e,k))})),R}},5763:function(t,e,n){var r=n(8092),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},2045:function(t){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},5099:function(t,e,n){var r=n(372)();t.exports=r},1986:function(t,e,n){var r=n(1705),i=n(3629);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},9066:function(t,e,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},4842:function(t,e,n){var r=n(2045),i=n(505),o=n(7167);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},4906:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},1848:function(t,e,n){var r=n(3355),i=n(3141);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},3355:function(t,e,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),f="[object Arguments]",p="[object Array]",h="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,v,y){var m=u(t),_=u(e),b=m?p:s(t),x=_?p:s(e),w=(b=b==f?h:b)==h,S=(x=x==f?h:x)==h,E=b==x;if(E&&l(t)){if(!l(e))return!1;m=!0,w=!1}if(E&&!w)return y||(y=new r),m||c(t)?i(t,e,n,g,v,y):o(t,e,b,n,g,v,y);if(!(1&n)){var A=w&&d.call(t,"__wrapped__"),O=S&&d.call(e,"__wrapped__");if(A||O){var T=A?t.value():t,C=O?e.value():e;return y||(y=new r),v(T,C,n,g,y)}}return!!E&&(y||(y=new r),a(t,e,n,g,v,y))}},3085:function(t,e,n){var r=n(8383),i=n(3141);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},505:function(t){t.exports=function(t){return t!==t}},6703:function(t,e,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:s).test(a(t))}},8680:function(t,e,n){var r=n(8383),i=n(3141);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8150:function(t,e,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},3654:function(t,e,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8664:function(t,e,n){var r=n(8092),i=n(2936),o=n(4221),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},4173:function(t,e,n){var r=n(2854),i=n(8002),o=n(5099),a=n(9216),s=n(8092),u=n(3961),l=n(5906);t.exports=function t(e,n,c,f,p){e!==n&&o(n,(function(o,u){if(p||(p=new r),s(o))a(e,n,u,c,t,f,p);else{var h=f?f(l(e,u),o,u+"",e,n,p):void 0;void 0===h&&(h=o),i(e,u,h)}}),u)}},9216:function(t,e,n){var r=n(8002),i=n(4523),o=n(613),a=n(291),s=n(548),u=n(4963),l=n(3629),c=n(6279),f=n(5174),p=n(4786),h=n(8092),d=n(3977),g=n(9102),v=n(5906),y=n(6576);t.exports=function(t,e,n,m,_,b,x){var w=v(t,n),S=v(e,n),E=x.get(S);if(E)r(t,n,E);else{var A=b?b(w,S,n+"",t,e,x):void 0,O=void 0===A;if(O){var T=l(S),C=!T&&f(S),P=!T&&!C&&g(S);A=S,T||C||P?l(w)?A=w:c(w)?A=a(w):C?(O=!1,A=i(S,!0)):P?(O=!1,A=o(S,!0)):A=[]:d(S)||u(S)?(A=w,u(w)?A=y(w):h(w)&&!p(w)||(A=s(S))):O=!1}O&&(x.set(S,A),_(A,S,m,b,x),x.delete(S)),r(t,n,A)}}},4632:function(t){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},8794:function(t,e,n){var r=n(2100),i=n(4262),o=n(9156);t.exports=function(t,e){return o(i(t,e,r),t+"")}},7532:function(t,e,n){var r=n(1547),i=n(8528),o=n(2100),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},2646:function(t){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},6478:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},2446:function(t,e,n){var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},821:function(t,e,n){var r=n(6050),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},6194:function(t){t.exports=function(t){return function(e){return t(e)}}},9602:function(t,e,n){var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),u=n(2230);t.exports=function(t,e,n){var l=-1,c=i,f=t.length,p=!0,h=[],d=h;if(n)p=!1,c=o;else if(f>=200){var g=e?null:s(t);if(g)return u(g);p=!1,c=a,d=new r}else d=e?[]:h;t:for(;++l<f;){var v=t[l],y=e?e(v):v;if(v=n||0!==v?v:0,p&&y===y){for(var m=d.length;m--;)if(d[m]===y)continue t;e&&d.push(y),h.push(v)}else c(d,y,n)||(d!==h&&d.push(y),h.push(v))}return h}},75:function(t){t.exports=function(t,e){return t.has(e)}},9813:function(t,e,n){var r=n(2646);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},7010:function(t,e,n){var r=n(6219);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4523:function(t,e,n){t=n.nmd(t);var r=n(7009),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},1022:function(t,e,n){var r=n(7010);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},8503:function(t){var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},4720:function(t,e,n){var r=n(7197),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},613:function(t,e,n){var r=n(7010);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},291:function(t){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},4503:function(t,e,n){var r=n(8463),i=n(2526);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},2455:function(t,e,n){var r=n(4503),i=n(5918);t.exports=function(t,e){return r(t,i(t),e)}},7636:function(t,e,n){var r=n(4503),i=n(8487);t.exports=function(t,e){return r(t,i(t),e)}},5525:function(t,e,n){var r=n(7009)["__core-js_shared__"];t.exports=r},9934:function(t,e,n){var r=n(8794),i=n(3195);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},372:function(t){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},322:function(t,e,n){var r=n(9813),i=n(7302),o=n(7580),a=n(3518);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),u=n?r(n,1).join(""):e.slice(1);return s[t]()+u}}},7810:function(t,e,n){var r=n(2095),i=n(4857),o=n(5660),a=RegExp("['\u2019]","g");t.exports=function(t){return function(e){return r(o(i(e).replace(a,"")),t,"")}}},7730:function(t,e,n){var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},5868:function(t,e,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});t.exports=r},8528:function(t,e,n){var r=n(8136),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},5305:function(t,e,n){var r=n(692),i=n(7897),o=n(75);t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,f=e.length;if(c!=f&&!(l&&f>c))return!1;var p=u.get(t),h=u.get(e);if(p&&h)return p==e&&h==t;var d=-1,g=!0,v=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<c;){var y=t[d],m=e[d];if(a)var _=l?a(m,y,d,e,t,u):a(y,m,d,t,e,u);if(void 0!==_){if(_)continue;g=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(y===t||s(y,t,n,a,u)))return v.push(e)}))){g=!1;break}}else if(y!==m&&!s(y,m,n,a,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},2206:function(t,e,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,f,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=s;case"[object Set]":var d=1&r;if(h||(h=u),t.size!=e.size&&!d)return!1;var g=p.get(t);if(g)return g==e;r|=2,p.set(t,e);var v=a(h(t),h(e),r,l,f,p);return p.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},8078:function(t,e,n){var r=n(8248),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var f=c;f--;){var p=l[f];if(!(u?p in e:i.call(e,p)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=u;++f<c;){var y=t[p=l[f]],m=e[p];if(o)var _=u?o(m,y,p,e,t,s):o(y,m,p,t,e,s);if(!(void 0===_?y===m||a(y,m,n,o,s):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(t),s.delete(e),g}},1032:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8248:function(t,e,n){var r=n(1986),i=n(5918),o=n(2742);t.exports=function(t){return r(t,o,i)}},5341:function(t,e,n){var r=n(1986),i=n(8487),o=n(3961);t.exports=function(t){return r(t,o,i)}},2799:function(t,e,n){var r=n(5964);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},8136:function(t,e,n){var r=n(6703),i=n(40);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},1137:function(t,e,n){var r=n(2709)(Object.getPrototypeOf,Object);t.exports=r},1587:function(t,e,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},5918:function(t,e,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},8487:function(t,e,n){var r=n(1705),i=n(1137),o=n(5918),a=n(8174),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},8383:function(t,e,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",d="[object DataView]",g=l(r),v=l(i),y=l(o),m=l(a),_=l(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=c||o&&b(o.resolve())!=f||a&&b(new a)!=p||s&&b(new s)!=h)&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return d;case v:return c;case y:return f;case m:return p;case _:return h}return e}),t.exports=b},40:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},7302:function(t){var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},7137:function(t){var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return e.test(t)}},5403:function(t,e,n){var r=n(9620);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},6037:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4154:function(t,e,n){var r=n(9620),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7728:function(t,e,n){var r=n(9620);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},9243:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9759:function(t,e,n){var r=n(7010),i=n(1022),o=n(8503),a=n(4720),s=n(613);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},548:function(t,e,n){var r=n(5763),i=n(1137),o=n(2936);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},6800:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},3195:function(t,e,n){var r=n(9231),i=n(1473),o=n(6800),a=n(8092);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5964:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},257:function(t,e,n){var r=n(5525),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},2936:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},3894:function(t){t.exports=function(){this.__data__=[],this.size=0}},8699:function(t,e,n){var r=n(7112),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4957:function(t,e,n){var r=n(7112);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7184:function(t,e,n){var r=n(7112);t.exports=function(t){return r(this.__data__,t)>-1}},7109:function(t,e,n){var r=n(7112);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4086:function(t,e,n){var r=n(9676),i=n(8384),o=n(5797);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(t,e,n){var r=n(2799);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},9186:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).get(t)}},3423:function(t,e,n){var r=n(2799);t.exports=function(t){return r(this,t).has(t)}},3739:function(t,e,n){var r=n(2799);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},234:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},9620:function(t,e,n){var r=n(8136)(Object,"create");t.exports=r},8836:function(t,e,n){var r=n(2709)(Object.keys,Object);t.exports=r},4221:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},9494:function(t,e,n){t=n.nmd(t);var r=n(1032),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},3581:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2709:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},4262:function(t,e,n){var r=n(3665),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),r(t,this,l)}}},7009:function(t,e,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},5906:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},5774:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1596:function(t){t.exports=function(t){return this.__data__.has(t)}},2230:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},9156:function(t,e,n){var r=n(7532),i=n(3197)(r);t.exports=i},3197:function(t){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},511:function(t,e,n){var r=n(8384);t.exports=function(){this.__data__=new r,this.size=0}},835:function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},707:function(t){t.exports=function(t){return this.__data__.get(t)}},8832:function(t){t.exports=function(t){return this.__data__.has(t)}},5077:function(t,e,n){var r=n(8384),i=n(5797),o=n(8059);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},7167:function(t){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},7580:function(t,e,n){var r=n(4622),i=n(7302),o=n(2110);t.exports=function(t){return i(t)?o(t):r(t)}},7907:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},6050:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},2110:function(t){var e="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+u+s+")*"),c="(?:"+[i+n+"?",n,o,a,e].join("|")+")",f=RegExp(r+"(?="+r+")|"+c+l,"g");t.exports=function(t){return t.match(f)||[]}},1029:function(t){var e="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+i+"]",a="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",l="[^\\ud800-\\udfff"+i+a+e+n+r+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",h="(?:"+u+"|"+l+")",d="(?:"+p+"|"+l+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?",_=m+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,f].join("|")+")"+m+y+")*"),b="(?:"+[s,c,f].join("|")+")"+_,x=RegExp([p+"?"+u+"+"+g+"(?="+[o,p,"$"].join("|")+")",d+"+"+v+"(?="+[o,p+h,"$"].join("|")+")",p+"?"+h+"+"+g,p+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,b].join("|"),"g");t.exports=function(t){return t.match(x)||[]}},567:function(t,e,n){var r=n(3131),i=n(7810)((function(t,e,n){return e=e.toLowerCase(),t+(n?r(e):e)}));t.exports=i},3131:function(t,e,n){var r=n(3518),i=n(2085);t.exports=function(t){return i(r(t).toLowerCase())}},4442:function(t,e,n){var r=n(3200),i=n(2582);t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))===n?n:0),void 0!==e&&(e=(e=i(e))===e?e:0),r(i(t),e,n)}},8121:function(t,e,n){var r=n(1905);t.exports=function(t){return r(t,5)}},1547:function(t){t.exports=function(t){return function(){return t}}},4857:function(t,e,n){var r=n(5868),i=n(3518),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,r).replace(a,"")}},9231:function(t){t.exports=function(t,e){return t===e||t!==t&&e!==e}},2100:function(t){t.exports=function(t){return t}},4963:function(t,e,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},3629:function(t){var e=Array.isArray;t.exports=e},1473:function(t,e,n){var r=n(4786),i=n(4635);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},6279:function(t,e,n){var r=n(1473),i=n(3141);t.exports=function(t){return i(t)&&r(t)}},5174:function(t,e,n){t=n.nmd(t);var r=n(7009),i=n(9488),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},8111:function(t,e,n){var r=n(1848);t.exports=function(t,e){return r(t,e)}},4786:function(t,e,n){var r=n(9066),i=n(8092);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},4635:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},103:function(t,e,n){var r=n(3085),i=n(6194),o=n(9494),a=o&&o.isMap,s=a?i(a):r;t.exports=s},5633:function(t){t.exports=function(t){return null==t}},298:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},8092:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3141:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},3977:function(t,e,n){var r=n(9066),i=n(1137),o=n(3141),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},6995:function(t,e,n){var r=n(8680),i=n(6194),o=n(9494),a=o&&o.isSet,s=a?i(a):r;t.exports=s},6769:function(t,e,n){var r=n(9066),i=n(3629),o=n(3141);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},152:function(t,e,n){var r=n(9066),i=n(3141);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},9102:function(t,e,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},2530:function(t){t.exports=function(t){return void 0===t}},2742:function(t,e,n){var r=n(7538),i=n(3654),o=n(1473);t.exports=function(t){return o(t)?r(t):i(t)}},3961:function(t,e,n){var r=n(7538),i=n(8664),o=n(1473);t.exports=function(t){return o(t)?r(t,!0):i(t)}},9286:function(t,e,n){var r=n(4173),i=n(9934)((function(t,e,n){r(t,e,n)}));t.exports=i},2617:function(t,e,n){var r=n(4173),i=n(9934)((function(t,e,n,i){r(t,e,n,i)}));t.exports=i},9694:function(t){t.exports=function(){}},8174:function(t){t.exports=function(){return[]}},9488:function(t){t.exports=function(){return!1}},2582:function(t,e,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},6576:function(t,e,n){var r=n(4503),i=n(3961);t.exports=function(t){return r(t,i(t))}},3518:function(t,e,n){var r=n(2446);t.exports=function(t){return null==t?"":r(t)}},2064:function(t,e,n){var r=n(9602);t.exports=function(t){return t&&t.length?r(t):[]}},2085:function(t,e,n){var r=n(322)("toUpperCase");t.exports=r},5660:function(t,e,n){var r=n(240),i=n(7137),o=n(3518),a=n(1029);t.exports=function(t,e,n){return t=o(t),void 0===(e=n?void 0:e)?i(t)?a(t):r(t):t.match(e)||[]}},5483:function(t){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return r(["exports"],(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}var l=u(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function f(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var h=1;function d(){return h++}function g(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function v(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function y(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function m(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function b(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function x(t){return Array.isArray(t)?t.map(x):"object"==typeof t&&t?_(t,x):t}var w={};function S(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function E(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function A(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function O(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var C=null;function P(t){if(null==C){var e=t.navigator?t.navigator.userAgent:null;C=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return C}function M(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var I,k,R,L,D=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),N=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,F=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,j={now:D,frame:function(t){var e=N(t);return{cancel:function(){return F(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return I||(I=a.document.createElement("a")),I.href=t,I.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==k&&(k=a.matchMedia("(prefers-reduced-motion: reduce)")),k.matches)}},B={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},z={supported:!1,testSupport:function(t){!U&&L&&(V?G(t):R=t)}},U=!1,V=!1;function G(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,L),t.isContextLost())return;z.supported=!0}catch(t){}t.deleteTexture(e),U=!0}a.document&&((L=a.document.createElement("img")).onload=function(){R&&G(R),R=null,V=!0},L.onerror=function(){U=!0,R=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",H=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function Y(t){return 0===t.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},H.prototype.normalizeStyleURL=function(t,e){if(!Y(t))return t;var n=K(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeGlyphsURL=function(t,e){if(!Y(t))return t;var n=K(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSourceURL=function(t,e){if(!Y(t))return t;var n=K(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSpriteURL=function(t,e,n,r){var i=K(t);return Y(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,Q(i))},H.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Y(t))return t;var n=K(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(j.devicePixelRatio>=2||512===e?"@2x":"")+(z.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||B.ACCESS_TOKEN;return B.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},H.prototype.canonicalizeTileURL=function(t,e){var n=K(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},H.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&Y(e),r=[],i=0,o=t.tiles||[];i<o.length;i+=1){var a=o[i];q(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},H.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=K(B.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path=""+r.path+t.path),!B.REQUIRE_ACCESS_TOKEN)return Q(t);if(!(e=e||B.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),Q(t)};var X=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function q(t){return X.test(t)}var Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(t){var e=t.match(Z);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Q(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var $=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(t){var e,n=J(B.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):B.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},$.prototype.fetchEventData=function(){var t=M("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=a.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){S("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var t=M("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){S("Unable to write to LocalStorage")}},$.prototype.processRequests=function(t){},$.prototype.postEvent=function(t,e,n,r){var i=this;if(B.EVENTS_URL){var o=K(B.EVENTS_URL);o.params.push("access_token="+(r||B.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:W,userId:this.anonId},s=e?p(a,e):a,u={url:Q(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xt(u,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n,(B.EVENTS_URL&&r||B.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return Y(t)||q(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=g()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}($),rt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){B.EVENTS_URL&&B.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return Y(t)||q(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(B.ACCESS_TOKEN),r=n?n.u:B.ACCESS_TOKEN,i=r!==this.eventData.tokenU;v(this.anonId)||(this.anonId=g(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}($)),it=rt.postTurnstileEvent.bind(rt),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,ut=50;function lt(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var ft,pt=1/0;function ht(){return null==ft&&(ft=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),ft}var dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var gt,vt,yt=function(t){function e(e,n,r){401===n&&q(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),mt=O()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_t=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(mt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new a.AbortController,i=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:mt(),signal:r.signal}),o=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&q(n);"json"===t.type&&i.headers.set("Accept","application/json");var l=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return c(r);var l=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return c(n,r,l)}return e(new yt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,u){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){s||(r&&u&&function(t,e,n){if(lt(),tt){var r={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=T(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,(function(e){var n=new a.Response(e,r);lt(),tt&&tt.then((function(e){return e.put(ct(t.url),n)})).catch((function(t){return S(t.message)}))})))}}(i,r,u),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){s||e(new Error(t.message))}))};return u?function(t,e){if(lt(),!tt)return e(null);var n=ct(t.url);tt.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=T(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,l):l(null,null),{cancel:function(){s=!0,o||r.abort()}}}(t,e);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new yt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return _t(p(t,{type:"arrayBuffer"}),e)},xt=function(t,e){return _t(p(t,{method:"POST"}),e)},wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";gt=[],vt=0;var St=function t(e,n){if(z.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),vt>=B.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return gt.push(r),r}vt++;var i=!1,o=function(){if(!i)for(i=!0,vt--;gt.length&&vt<B.MAX_PARALLEL_IMAGE_REQUESTS;){var e=gt.shift();e.cancelled||(e.cancel=t(e.requestParameters,e.callback).cancel)}},s=bt(e,(function(t,e,r,i){o(),t?n(t):e&&(ht()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(e,n):function(t,e,n,r){var i=new a.Image,o=a.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=wt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(s):wt}(e,n,r,i))}));return{cancel:function(){s.cancel(),o()}}};function Et(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function At(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Ot=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},Tt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ot),Ct=function(){};Ct.prototype.on=function(t,e){return this._listeners=this._listeners||{},Et(t,e,this._listeners),this},Ct.prototype.off=function(t,e){return At(t,e,this._listeners),At(t,e,this._oneTimeListeners),this},Ct.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},Et(t,e,this._oneTimeListeners),this},Ct.prototype.fire=function(t,e){"string"==typeof t&&(t=new Ot(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];At(n,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof Tt&&console.error(t.error);return this},Ct.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Ct.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Mt=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function It(t){var e=t.value;return e?[new Mt(t.key,e,"constants have been deprecated as of v8")]:[]}function kt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Rt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Lt(t){if(Array.isArray(t))return t.map(Lt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=Lt(t[n]);return e}return Rt(t)}var Dt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Nt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Nt.prototype.concat=function(t){return new Nt(this,t)},Nt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Nt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Ft={kind:"null"},jt={kind:"number"},Bt={kind:"string"},zt={kind:"boolean"},Ut={kind:"color"},Vt={kind:"object"},Gt={kind:"value"},Wt={kind:"collator"},Ht={kind:"formatted"},Yt={kind:"resolvedImage"};function Xt(t,e){return{kind:"array",itemType:t,N:e}}function qt(t){if("array"===t.kind){var e=qt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Zt=[Ft,jt,Bt,zt,Ut,Ht,Vt,Xt(Gt),Yt];function Kt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Kt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Zt;n<r.length;n+=1)if(!Kt(r[n],e))return null}return"Expected "+qt(t)+" but found "+qt(e)+" instead."}function Qt(t,e){return e.some((function(e){return e.kind===t.kind}))}function Jt(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}var $t=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),f=s.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=o(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,d=o(f[1]),g=o(f[2]),v=g<=.5?g*(d+1):g+d-g*d,y=2*g-v;return[r(255*a(y,v,h+1/3)),r(255*a(y,v,h)),r(255*a(y,v,h-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,te=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};te.parse=function(t){if(t){if(t instanceof te)return t;if("string"==typeof t){var e=$t(t);if(e)return new te(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},te.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},te.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},te.black=new te(0,0,0,1),te.white=new te(1,1,1,1),te.transparent=new te(0,0,0,0),te.red=new te(1,0,0,1);var ee=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ee.prototype.compare=function(t,e){return this.collator.compare(t,e)},ee.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ne=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},re=function(t){this.sections=t};re.fromString=function(t){return new re([new ne(t,null,null,null,null)])},re.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},re.factory=function(t){return t instanceof re?t:re.fromString(t)},re.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},re.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function oe(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ae(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(t instanceof re)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ae(n[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!ae(t[r]))return!1;return!0}return!1}function se(t){if(null===t)return Ft;if("string"==typeof t)return Bt;if("boolean"==typeof t)return zt;if("number"==typeof t)return jt;if(t instanceof te)return Ut;if(t instanceof ee)return Wt;if(t instanceof re)return Ht;if(t instanceof ie)return Yt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=se(i[r]);if(e){if(e===o)continue;e=Gt;break}e=o}return Xt(e||Gt,n)}return Vt}function ue(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof te||t instanceof re||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var le=function(t,e){this.type=t,this.value=e};le.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ae(t[1]))return e.error("invalid value");var n=t[1],r=se(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new le(r,n)},le.prototype.evaluate=function(){return this.value},le.prototype.eachChild=function(){},le.prototype.outputDefined=function(){return!0},le.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof te?["rgba"].concat(this.value.toArray()):this.value instanceof re?this.value.serialize():this.value};var ce=function(t){this.name="ExpressionEvaluationError",this.message=t};ce.prototype.toJSON=function(){return this.message};var fe={string:Bt,number:jt,boolean:zt,object:Vt},pe=function(t,e){this.type=t,this.args=e};pe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in fe)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=fe[s],r++}else o=Gt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Xt(o,a)}else n=fe[i];for(var u=[];r<t.length;r++){var l=e.parse(t[r],r,Gt);if(!l)return null;u.push(l)}return new pe(n,u)},pe.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Kt(this.type,se(n)))return n;if(e===this.args.length-1)throw new ce("Expected value to be of type "+qt(this.type)+", but found "+qt(se(n))+" instead.")}return null},pe.prototype.eachChild=function(t){this.args.forEach(t)},pe.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},pe.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var he=function(t){this.type=Ht,this.sections=t};he.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,jt)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Xt(Bt))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,Ut)))return null;var c=r[r.length-1];c.scale=s,c.font=u,c.textColor=l}else{var f=e.parse(t[o],1,Gt);if(!f)return null;var p=f.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:f,scale:null,font:null,textColor:null})}}return new he(r)},he.prototype.evaluate=function(t){return new re(this.sections.map((function(e){var n=e.content.evaluate(t);return se(n)===Yt?new ne("",n,null,null,null):new ne(ue(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},he.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var de=function(t){this.type=Yt,this.input=t};de.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Bt);return n?new de(n):e.error("No image name provided.")},de.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},de.prototype.eachChild=function(t){t(this.input)},de.prototype.outputDefined=function(){return!1},de.prototype.serialize=function(){return["image",this.input.serialize()]};var ge={"to-boolean":zt,"to-color":Ut,"to-number":jt,"to-string":Bt},ve=function(t,e){this.type=t,this.args=e};ve.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=ge[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Gt);if(!a)return null;i.push(a)}return new ve(r,i)},ve.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof te)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":oe(e[0],e[1],e[2],e[3])))return new te(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ce(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new ce("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?re.fromString(ue(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(ue(this.args[0].evaluate(t))):ue(this.args[0].evaluate(t))},ve.prototype.eachChild=function(t){this.args.forEach(t)},ve.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ve.prototype.serialize=function(){if("formatted"===this.type.kind)return new he([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new de(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var ye=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ye[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=te.parse(t)),e};var _e=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};_e.prototype.evaluate=function(t){return this._evaluate(t,this.args)},_e.prototype.eachChild=function(t){this.args.forEach(t)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},_e.parse=function(t,e){var n,r=t[0],i=_e.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var f=c[l],p=f[0],h=f[1];u=new Ue(e.registry,e.path,null,e.scope);for(var d=[],g=!1,v=1;v<t.length;v++){var y=t[v],m=Array.isArray(p)?p[v-1]:p.type,_=u.parse(y,1+d.length,m);if(!_){g=!0;break}d.push(_)}if(!g)if(Array.isArray(p)&&p.length!==d.length)u.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=d[b];u.concat(b+1).checkSubtype(x,w.type)}if(0===u.errors.length)return new _e(r,o,h,d)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var S=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(qt).join(", ")+")":"("+qt(e.type)+"...)"})).join(" | "),E=[],A=1;A<t.length;A++){var O=e.parse(t[A],1+E.length);if(!O)return null;E.push(qt(O.type))}e.error("Expected arguments of type "+S+", but found ("+E.join(", ")+") instead.")}return null},_e.register=function(t,e){for(var n in _e.definitions=e,e)t[n]=_e};var be=function(t,e,n){this.type=Wt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function xe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function we(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Se(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Ee(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Ae(t,e){for(var n,r,i,o,a,s,u,l=!1,c=0,f=e.length;c<f;c++)for(var p=e[c],h=0,d=p.length;h<d-1;h++){if((o=(n=t)[0]-(r=p[h])[0])*(u=n[1]-(i=p[h+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*u<=0)return!1;Ee(t,p[h],p[h+1])&&(l=!l)}return l}function Oe(t,e){for(var n=0;n<e.length;n++)if(Ae(t,e[n]))return!0;return!1}function Te(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Ce(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(f=[(c=o[a+1])[0]-(l=o[a])[0],c[1]-l[1]])[0]*(p=[(u=e)[0]-(s=t)[0],u[1]-s[1]])[1]-f[1]*p[0]&&Te(s,u,l,c)&&Te(l,c,s,u))return!0;var s,u,l,c,f,p;return!1}function Pe(t,e){for(var n=0;n<t.length;++n)if(!Ae(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Ce(t[r],t[r+1],e))return!1;return!0}function Me(t,e){for(var n=0;n<e.length;n++)if(Pe(t,e[n]))return!0;return!1}function Ie(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=Se(t[i][a],n);xe(e,s),o.push(s)}r.push(o)}return r}function ke(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Ie(t[i],e,n);r.push(o)}return r}function Re(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}xe(e,t)}function Le(t,e,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,u=t;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var f=c[l],p=[f.x+o[0],f.y+o[1]];Re(p,e,n,i),a.push(p)}return a}function De(t,e,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],u=0,l=t;u<l.length;u+=1){for(var c=[],f=0,p=l[u];f<p.length;f+=1){var h=p[f],d=[h.x+a[0],h.y+a[1]];xe(e,d),c.push(d)}s.push(c)}if(e[2]-e[0]<=o/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var g=0,v=s;g<v.length;g+=1)for(var y=0,m=v[g];y<m.length;y+=1)Re(m[y],e,n,o)}return s}be.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,zt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,zt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Bt))?null:new be(r,i,o)},be.prototype.evaluate=function(t){return new ee(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},be.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Ne=function(t,e){this.type=zt,this.geojson=t,this.geometries=e};function Fe(t){if(t instanceof _e){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Ne)return!1;var e=!0;return t.eachChild((function(t){e&&!Fe(t)&&(e=!1)})),e}function je(t){if(t instanceof _e&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!je(t)&&(e=!1)})),e}function Be(t,e){if(t instanceof _e&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!Be(t,e)&&(n=!1)})),n}Ne.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ae(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Ne(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Ne(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Ne(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ne.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Ie(e.coordinates,r,i),a=Le(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Ae(u[s],o))return!1}if("MultiPolygon"===e.type){var l=ke(e.coordinates,r,i),c=Le(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Oe(p[f],l))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Ie(e.coordinates,r,i),a=De(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Pe(u[s],o))return!1}if("MultiPolygon"===e.type){var l=ke(e.coordinates,r,i),c=De(t.geometry(),n,r,i);if(!we(n,r))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Me(p[f],l))return!1}return!0}(t,this.geometries)}return!1},Ne.prototype.eachChild=function(){},Ne.prototype.outputDefined=function(){return!0},Ne.prototype.serialize=function(){return["within",this.geojson]};var ze=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};ze.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new ze(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},ze.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},ze.prototype.eachChild=function(){},ze.prototype.outputDefined=function(){return!1},ze.prototype.serialize=function(){return["var",this.name]};var Ue=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Nt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Ve(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new ce("Input is not a number.");o=a-1}return 0}Ue.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Ue.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new pe(e,[t]):"coerce"===n?new ve(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof le)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof ze)return t(e.boundExpression);if(e instanceof _e&&"error"===e.name)return!1;if(e instanceof be)return!1;if(e instanceof Ne)return!1;var n=e instanceof ve||e instanceof pe,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof le})),!!r&&Fe(e)&&Be(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new me;try{o=new le(o.type,o.evaluate(u))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Ue.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Ue(this.registry,r,e||null,i,this.errors)},Ue.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Dt(r,t))},Ue.prototype.checkSubtype=function(t,e){var n=Kt(t,e);return n&&this.error(n),n};var Ge=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function We(t,e,n){return t*(1-n)+e*n}Ge.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,jt);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],u=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ge(i,n,r)},Ge.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Ve(e,r)].evaluate(t)},Ge.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ge.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},Ge.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var He=Object.freeze({__proto__:null,number:We,color:function(t,e,n){return new te(We(t.r,e.r,n),We(t.g,e.g,n),We(t.b,e.b,n),We(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return We(t,e[r],n)}))}}),Ye=6/29*3*(6/29),Xe=Math.PI/180,qe=180/Math.PI;function Ze(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ye+4/29}function Ke(t){return t>6/29?t*t*t:Ye*(t-4/29)}function Qe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Je(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $e(t){var e=Je(t.r),n=Je(t.g),r=Je(t.b),i=Ze((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Ze((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Ze((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function tn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*Ke(e),n=.95047*Ke(n),r=1.08883*Ke(r),new te(Qe(3.2404542*n-1.5371385*e-.4985314*r),Qe(-.969266*n+1.8760108*e+.041556*r),Qe(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function en(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$e,reverse:tn,interpolate:function(t,e,n){return{l:We(t.l,e.l,n),a:We(t.a,e.a,n),b:We(t.b,e.b,n),alpha:We(t.alpha,e.alpha,n)}}},rn={forward:function(t){var e=$e(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*qe;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Xe,n=t.c;return tn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:en(t.h,e.h,n),c:We(t.c,e.c,n),l:We(t.l,e.l,n),alpha:We(t.alpha,e.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function sn(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}an.interpolationFactor=function(t,e,r,i){var o=0;if("exponential"===t.name)o=sn(e,t.base,r,i);else if("linear"===t.name)o=sn(e,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(e,1,r,i))}return o},an.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,jt)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Ut:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var f=o[c],p=o[c+1],h=c+3,d=c+4;if("number"!=typeof f)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(u.length&&u[u.length-1][0]>=f)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var g=e.parse(p,d,l);if(!g)return null;l=l||g.type,u.push([f,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new an(l,n,r,i,u):e.error("Type "+qt(l)+" is not interpolatable.")},an.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Ve(e,r),a=an.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?He[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(u),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a))},an.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},an.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},an.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var un=function(t,e){this.type=t,this.args=e};un.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(t){return Kt(r,t.type)}));return new un(u?Gt:n,i)},un.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},un.prototype.eachChild=function(t){this.args.forEach(t)},un.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},un.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var ln=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};ln.prototype.evaluate=function(t){return this.result.evaluate(t)},ln.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},ln.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new ln(n,a):null},ln.prototype.outputDefined=function(){return this.result.outputDefined()},ln.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var cn=function(t,e,n){this.type=t,this.index=e,this.input=n};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,jt),r=e.parse(t[2],2,Xt(e.expectedType||Gt));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ce("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ce("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ce("Array index must be an integer, but found "+e+" instead.");return n[e]},cn.prototype.eachChild=function(t){t(this.index),t(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fn=function(t,e){this.type=zt,this.needle=t,this.haystack=e};fn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Gt),r=e.parse(t[2],2,Gt);return n&&r?Qt(n.type,[zt,Bt,jt,Ft,Gt])?new fn(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+qt(n.type)+" instead"):null},fn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+qt(se(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+qt(se(n))+" instead.");return n.indexOf(e)>=0},fn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},fn.prototype.outputDefined=function(){return!0},fn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pn=function(t,e,n){this.type=jt,this.needle=t,this.haystack=e,this.fromIndex=n};pn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Gt),r=e.parse(t[2],2,Gt);if(!n||!r)return null;if(!Qt(n.type,[zt,Bt,jt,Ft,Gt]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+qt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,jt);return i?new pn(n,r,i):null}return new pn(n,r)},pn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+qt(se(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+qt(se(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},pn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};hn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var p=f[c];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,se(p)))return null}else n=se(p);if(void 0!==i[String(p)])return l.error("Branch labels must be unique.");i[String(p)]=o.length}var h=e.parse(u,a,r);if(!h)return null;r=r||h.type,o.push(h)}var d=e.parse(t[1],1,Gt);if(!d)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new hn(n,r,d,i,o,g):null},hn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(se(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},hn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},hn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},hn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(f=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[f][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,l=n;u<l.length;u+=1){var c=l[u],f=c[0],p=c[1];e.push(1===p.length?s(p[0]):p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var dn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};dn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,zt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new dn(n,r,s):null},dn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},dn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},dn.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var gn=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function vn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function yn(t,e,n,r){return 0===r.compare(e,n)}function mn(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=zt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Gt);if(!o)return null;if(!vn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+qt(o.type)+"'.");var a=e.parse(t[2],2,Gt);if(!a)return null;if(!vn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+qt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+qt(o.type)+"' and '"+qt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new pe(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new pe(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Wt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=se(o),u=se(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ce('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=se(o),c=se(a);if("string"!==l.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}gn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Gt),r=e.parse(t[2],2,jt);if(!n||!r)return null;if(!Qt(n.type,[Xt(Gt),Bt,Gt]))return e.error("Expected first argument to be of type array or string, but found "+qt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,jt);return i?new gn(n.type,n,r,i):null}return new gn(n.type,n,r)},gn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Jt(e,["string","array"]))throw new ce("Expected first argument to be of type array or string, but found "+qt(se(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},gn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},gn.prototype.outputDefined=function(){return!1},gn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=mn("==",(function(t,e,n){return e===n}),yn),bn=mn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!yn(0,e,n,r)})),xn=mn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),wn=mn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Sn=mn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),En=mn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),An=function(t,e,n,r,i){this.type=Bt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};An.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,jt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,Bt)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,Bt)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,jt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,jt))?null:new An(n,i,o,a,s)},An.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},An.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},An.prototype.outputDefined=function(){return!1},An.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var On=function(t){this.type=jt,this.input=t};On.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+qt(n.type)+" instead."):new On(n):null},On.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ce("Expected value to be of type string or array, but found "+qt(se(e))+" instead.")},On.prototype.eachChild=function(t){t(this.input)},On.prototype.outputDefined=function(){return!1},On.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Tn={"==":_n,"!=":bn,">":wn,"<":xn,">=":En,"<=":Sn,array:pe,at:cn,boolean:pe,case:dn,coalesce:un,collator:be,format:he,image:de,in:fn,"index-of":pn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:On,let:ln,literal:le,match:hn,number:pe,"number-format":An,object:pe,slice:gn,step:Ge,string:pe,"to-boolean":ve,"to-color":ve,"to-number":ve,"to-string":ve,var:ze,within:Ne};function Cn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=oe(n,r,i,a);if(s)throw new ce(s);return new te(n/255*a,r/255*a,i/255*a,a)}function Pn(t,e){return t in e}function Mn(t,e){var n=e[t];return void 0===n?null:n}function In(t){return{type:t}}function kn(t){return{result:"success",value:t}}function Rn(t){return{result:"error",value:t}}function Ln(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Dn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Nn(t){return!!t.expression&&t.expression.interpolated}function Fn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function jn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Bn(t){return t}function zn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Un(t,e,n,r,i){return zn(typeof n===i?r[n]:void 0,t.default,e.default)}function Vn(t,e,n){if("number"!==Fn(n))return zn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Ve(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function Gn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Fn(n))return zn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Ve(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],l=He[e.type]||Bn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=on[t.colorSpace];l=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return l(n,r,a)}}:l(s,u,a)}function Wn(t,e,n){return"color"===e.type?n=te.parse(n):"formatted"===e.type?n=re.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):Fn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),zn(n,t.default,e.default)}_e.register(Tn,{error:[{kind:"error"},[Bt],function(t,e){throw new ce(e[0].evaluate(t))}],typeof:[Bt,[Gt],function(t,e){return qt(se(e[0].evaluate(t)))}],"to-rgba":[Xt(jt,4),[Ut],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Ut,[jt,jt,jt],Cn],rgba:[Ut,[jt,jt,jt,jt],Cn],has:{type:zt,overloads:[[[Bt],function(t,e){return Pn(e[0].evaluate(t),t.properties())}],[[Bt,Vt],function(t,e){var n=e[1];return Pn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Gt,overloads:[[[Bt],function(t,e){return Mn(e[0].evaluate(t),t.properties())}],[[Bt,Vt],function(t,e){var n=e[1];return Mn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Gt,[Bt],function(t,e){return Mn(e[0].evaluate(t),t.featureState||{})}],properties:[Vt,[],function(t){return t.properties()}],"geometry-type":[Bt,[],function(t){return t.geometryType()}],id:[Gt,[],function(t){return t.id()}],zoom:[jt,[],function(t){return t.globals.zoom}],"heatmap-density":[jt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[jt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Gt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[jt,In(jt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[jt,In(jt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:jt,overloads:[[[jt,jt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[jt],function(t,e){return-e[0].evaluate(t)}]]},"/":[jt,[jt,jt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[jt,[jt,jt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[jt,[],function(){return Math.LN2}],pi:[jt,[],function(){return Math.PI}],e:[jt,[],function(){return Math.E}],"^":[jt,[jt,jt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[jt,[jt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[jt,[jt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[jt,[jt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[jt,[jt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[jt,[jt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[jt,[jt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[jt,[jt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[jt,[jt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[jt,[jt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[jt,[jt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[jt,In(jt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[jt,In(jt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[jt,[jt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[jt,[jt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[jt,[jt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[jt,[jt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[zt,[Bt,Gt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[zt,[Gt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[zt,[Bt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[zt,[Bt,Gt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[zt,[Gt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[zt,[Bt,Gt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[zt,[Gt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[zt,[Bt,Gt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[zt,[Gt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[zt,[Bt,Gt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[zt,[Gt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[zt,[Gt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[zt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[zt,[Xt(Bt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[zt,[Xt(Gt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[zt,[Bt,Xt(Gt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[zt,[Bt,Xt(Gt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[In(zt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[In(zt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[zt,[zt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[zt,[Bt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Bt,[Bt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Bt,[Bt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Bt,In(Gt),function(t,e){return e.map((function(e){return ue(e.evaluate(t))})).join("")}],"resolved-locale":[Bt,[Wt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Hn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new me,this._defaultValue=e?function(t){return"color"===t.type&&jn(t.default)?new te(0,0,0,0):"color"===t.type?te.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Yn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Tn}function Xn(t,e){var n=new Ue(Tn,[],e?function(t){var e={color:Ut,string:Bt,number:jt,enum:Bt,boolean:zt,formatted:Ht,resolvedImage:Yt};return"array"===t.type?Xt(e[t.value]||Gt,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?kn(new Hn(r,e)):Rn(n.errors)}Hn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Hn.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ce("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var qn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!je(e.expression)};qn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},qn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var Zn=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!je(e.expression),this.interpolationType=r};function Kn(t,e){if("error"===(t=Xn(t,e)).result)return t;var n=t.value.expression,r=Fe(n);if(!r&&!Ln(e))return Rn([new Dt("","data expressions not supported")]);var i=Be(n,["zoom"]);if(!i&&!Dn(e))return Rn([new Dt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof ln)n=t(e.result);else if(e instanceof un)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof Ge||e instanceof an)&&e.input instanceof _e&&"zoom"===e.input.name&&(n=e);return n instanceof Dt||e.eachChild((function(e){var r=t(e);r instanceof Dt?n=r:!n&&r?n=new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Dt?Rn([o]):o instanceof an&&!Nn(e)?Rn([new Dt("",'"interpolate" expressions cannot be used with this property')]):kn(o?new Zn(r?"camera":"composite",t.value,o.labels,o instanceof an?o.interpolation:void 0):new qn(r?"constant":"source",t.value)):Rn([new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Zn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},Zn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,t,e,n):0};var Qn=function(t,e){this._parameters=t,this._specification=e,kt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||!(s||void 0!==e.property),l=e.type||(Nn(n)?"exponential":"interval");if(a&&((e=kt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],te.parse(t[1])]}))),e.default=te.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!on[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===l)r=Gn;else if("interval"===l)r=Vn;else if("categorical"===l){r=Un,i=Object.create(null);for(var c=0,f=e.stops;c<f.length;c+=1){var p=f[c];i[p[0]]=p[1]}o=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=Wn}if(s){for(var h={},d=[],g=0;g<e.stops.length;g++){var v=e.stops[g],y=v[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},d.push(y)),h[y].stops.push([v[0].value,v[1]])}for(var m=[],_=0,b=d;_<b.length;_+=1){var x=b[_];m.push([h[x].zoom,t(h[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:m.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return Gn({stops:m,base:e.base},n,i).evaluate(i,r)}}}if(u){var S="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:an.interpolationFactor.bind(void 0,S),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?zn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function Jn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=Fn(n);if("object"!==u)return[new Mt(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=Sr;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Mt(e,n[l],'unknown property "'+l+'"'));continue}p=Sr}s=s.concat(p({key:(e?e+".":e)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new Mt(e,n,'missing required property "'+h+'"'));return s}function $n(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Sr;if("array"!==Fn(e))return[new Mt(o,e,"array expected, "+Fn(e)+" found")];if(n.length&&e.length!==n.length)return[new Mt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Mt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Fn(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function tr(t){var e=t.key,n=t.value,r=t.valueSpec,i=Fn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Mt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Mt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Mt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function er(t){var e,n,r,i=t.valueSpec,o=Rt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===Fn(t.value.stops)&&"array"===Fn(t.value.stops[0])&&"object"===Fn(t.value.stops[0][0]),c=Jn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Mt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat($n({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:f})),"array"===Fn(n)&&0===n.length&&e.push(new Mt(t.key,n,"array must have at least one stop")),e},default:function(t){return Sr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Mt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Mt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Nn(t.valueSpec)&&c.push(new Mt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!Ln(t.valueSpec)?c.push(new Mt(t.key,t.value,"property functions not supported")):s&&!Dn(t.valueSpec)&&c.push(new Mt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||c.push(new Mt(t.key,t.value,'"property" property is required')),c;function f(t){var e=[],o=t.value,s=t.key;if("array"!==Fn(o))return[new Mt(s,o,"array expected, "+Fn(o)+" found")];if(2!==o.length)return[new Mt(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Fn(o[0]))return[new Mt(s,o,"object expected, "+Fn(o[0])+" found")];if(void 0===o[0].zoom)return[new Mt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Mt(s,o,"object stop key must have value")];if(r&&r>Rt(o[0].zoom))return[new Mt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Rt(o[0].zoom)!==r&&(r=Rt(o[0].zoom),n=void 0,a={}),e=e.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:tr,value:p}}))}else e=e.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Yn(Lt(o[1]))?e.concat([new Mt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Sr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function p(t,r){var s=Fn(t.value),u=Rt(t.value),l=null!==t.value?t.value:r;if(e){if(s!==e)return[new Mt(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Mt(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Ln(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Mt(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Mt(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Mt(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Mt(t.key,l,"integer expected, found "+u)]}}function nr(t){var e=("property"===t.expressionContext?Kn:Xn)(Lt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Mt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Mt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!je(n))return[new Mt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!je(n))return[new Mt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Be(n,["zoom","feature-state"]))return[new Mt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Fe(n))return[new Mt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Rt(n))&&i.push(new Mt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Rt(n))&&i.push(new Mt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Qn.deserialize=function(t){return new Qn(t._parameters,t._specification)},Qn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ir(t)||(t=ur(t));var e=Xn(t,or);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function sr(t,e){return t<e?-1:t>e?1:0}function ur(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?lr(t[1],t[2],"=="):"!="===n?pr(lr(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?lr(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(ur))):"all"===n?["all"].concat(t.slice(1).map(ur)):"none"===n?["all"].concat(t.slice(1).map(ur).map(pr)):"in"===n?cr(t[1],t.slice(2)):"!in"===n?pr(cr(t[1],t.slice(2))):"has"===n?fr(t[1]):"!has"===n?pr(fr(t[1])):"within"!==n||t}function lr(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function cr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(sr)]]:["filter-in-small",t,["literal",e]]}}function fr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function pr(t){return["!",t]}function hr(t){return ir(Lt(t.value))?nr(kt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Fn(n))return[new Mt(r,n,"array expected, "+Fn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Mt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Rt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Rt(n[1])&&a.push(new Mt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Mt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Fn(n[1]))&&a.push(new Mt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Fn(n[s]),"$type"===Rt(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Mt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:r+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Fn(n[1]),2!==n.length?a.push(new Mt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Mt(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Fn(n[1]),2!==n.length?a.push(new Mt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Mt(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(t)}function dr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return Sr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||s[a];if(!c)return[new Mt(n,o,'unknown property "'+a+'"')];if("string"===Fn(o)&&Ln(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Mt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new Mt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&jn(Lt(o))&&"identity"===Rt(o.type)&&f.push(new Mt(n,o,'"text-font" does not support identity functions'))),f.concat(Sr({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function gr(t){return dr(t,"paint")}function vr(t){return dr(t,"layout")}function yr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Mt(r,n,'either "type" or "ref" is required'));var a,s=Rt(n.type),u=Rt(n.ref);if(n.id)for(var l=Rt(n.id),c=0;c<t.arrayIndex;c++){var f=i.layers[c];Rt(f.id)===l&&e.push(new Mt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Mt(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Rt(t.id)===u&&(a=t)})),a?a.ref?e.push(new Mt(r,n.ref,"ref cannot reference another ref layer")):s=Rt(a.type):e.push(new Mt(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],h=p&&Rt(p.type);p?"vector"===h&&"raster"===s?e.push(new Mt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?e.push(new Mt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?e.push(new Mt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&p.lineMetrics||e.push(new Mt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Mt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Mt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Mt(r,n,'missing required property "source"'));return e=e.concat(Jn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:hr,layout:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return vr(kt({layerType:s},t))}}})},paint:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return gr(kt({layerType:s},t))}}})}}}))}function mr(t){var e=t.value,n=t.key,r=Fn(e);return"string"!==r?[new Mt(n,e,"string expected, "+r+" found")]:[]}var _r={promoteId:function(t){var e=t.key,n=t.value;if("string"===Fn(n))return mr({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,mr({key:e+"."+i,value:n[i]}));return r}};function br(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Mt(n,e,'"type" is required')];var o,a=Rt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=Jn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,nr({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Mt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Fn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Mt("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&r[u[1]]&&r[u[1]].transition?Sr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Sr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new Mt(s,e[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:$n,boolean:function(t){var e=t.value,n=t.key,r=Fn(e);return"boolean"!==r?[new Mt(n,e,"boolean expected, "+r+" found")]:[]},number:tr,color:function(t){var e=t.key,n=t.value,r=Fn(n);return"string"!==r?[new Mt(e,n,"color expected, "+r+" found")]:null===$t(n)?[new Mt(e,n,'color expected, "'+n+'" found')]:[]},constants:It,enum:rr,filter:hr,function:er,layer:yr,object:Jn,source:br,light:xr,string:mr,formatted:function(t){return 0===mr(t).length?[]:nr(t)},resolvedImage:function(t){return 0===mr(t).length?[]:nr(t)}};function Sr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&jn(Rt(e))?er(t):n.expression&&Yn(Lt(e))?nr(t):n.type&&wr[n.type]?wr[n.type](t):Jn(kt({},t,{valueSpec:n.type?r[n.type]:n}))}function Er(t){var e=t.value,n=t.key,r=mr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new Mt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Mt(n,e,'"glyphs" url must include a "{range}" token'))),r}function Ar(t,e){void 0===e&&(e=Pt);var n=[];return n=n.concat(Sr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),t.constants&&(n=n.concat(It({key:"constants",value:t.constants,style:t,styleSpec:e}))),Or(n)}function Or(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Tr(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Or(t.apply(this,e))}}Ar.source=Tr(br),Ar.light=Tr(xr),Ar.layer=Tr(yr),Ar.filter=Tr(hr),Ar.paintProperty=Tr(gr),Ar.layoutProperty=Tr(vr);var Cr=Ar,Pr=Cr.light,Mr=Cr.paintProperty,Ir=Cr.layoutProperty;function kr(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new Tt(new Error(i[r].message))),n=!0;return n}var Rr=Lr;function Lr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Lr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Lr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Lr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},Lr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},Lr.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,f=0;f<u.length;f++){var p=u[f];if(void 0===a[p]){var h=4*p;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):t<=c[h+2]&&e<=c[h+3]&&n>=c[h+0]&&r>=c[h+1])?(a[p]=!0,o.push(l[p])):a[p]=!1}}},Lr.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),p=u;p<=c;p++)for(var h=l;h<=f;h++){var d=this.d*h+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(h),this._convertFromCellCoord(p+1),this._convertFromCellCoord(h+1)))&&i.call(this,t,e,n,r,d,o,a,s))return}},Lr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Lr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Lr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Dr=a.ImageData,Nr=a.ImageBitmap,Fr={};function jr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Fr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Br in jr("Object",Object),Rr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Rr.deserialize=function(t){return new Rr(t.buffer)},jr("Grid",Rr),jr("Color",te),jr("Error",Error),jr("ResolvedImage",ie),jr("StylePropertyFunction",Qn),jr("StyleExpression",Hn,{omit:["_evaluator"]}),jr("ZoomDependentExpression",Zn),jr("ZoomConstantExpression",qn),jr("CompoundExpression",_e,{omit:["_evaluate"]}),Tn)Tn[Br]._classRegistryKey||jr("Expression_"+Br,Tn[Br]);function zr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Ur(t){return Nr&&t instanceof Nr}function Vr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(zr(t)||Ur(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Dr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(Vr(o[i],e));return r}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(Fr[s].omit.indexOf(l)>=0)){var c=t[l];u[l]=Fr[s].shallow.indexOf(l)>=0?c:Vr(c,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof t)}function Gr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||zr(t)||Ur(t)||ArrayBuffer.isView(t)||t instanceof Dr)return t;if(Array.isArray(t))return t.map(Gr);if("object"==typeof t){var e=t.$name||"Object",n=Fr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=Fr[e].shallow.indexOf(a)>=0?s:Gr(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var Wr=function(){this.first=!0};Wr.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Hr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Yr(t){for(var e=0,n=t;e<n.length;e+=1)if(Xr(n[e].charCodeAt(0)))return!0;return!1}function Xr(t){return!(746!==t&&747!==t&&(t<4352||!(Hr["Bopomofo Extended"](t)||Hr.Bopomofo(t)||Hr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Hr["CJK Compatibility Ideographs"](t)||Hr["CJK Compatibility"](t)||Hr["CJK Radicals Supplement"](t)||Hr["CJK Strokes"](t)||!(!Hr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Hr["CJK Unified Ideographs Extension A"](t)||Hr["CJK Unified Ideographs"](t)||Hr["Enclosed CJK Letters and Months"](t)||Hr["Hangul Compatibility Jamo"](t)||Hr["Hangul Jamo Extended-A"](t)||Hr["Hangul Jamo Extended-B"](t)||Hr["Hangul Jamo"](t)||Hr["Hangul Syllables"](t)||Hr.Hiragana(t)||Hr["Ideographic Description Characters"](t)||Hr.Kanbun(t)||Hr["Kangxi Radicals"](t)||Hr["Katakana Phonetic Extensions"](t)||Hr.Katakana(t)&&12540!==t||!(!Hr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Hr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Hr["Unified Canadian Aboriginal Syllabics"](t)||Hr["Unified Canadian Aboriginal Syllabics Extended"](t)||Hr["Vertical Forms"](t)||Hr["Yijing Hexagram Symbols"](t)||Hr["Yi Syllables"](t)||Hr["Yi Radicals"](t))))}function qr(t){return!(Xr(t)||function(t){return!!(Hr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Hr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Hr["Letterlike Symbols"](t)||Hr["Number Forms"](t)||Hr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Hr["Control Pictures"](t)&&9251!==t||Hr["Optical Character Recognition"](t)||Hr["Enclosed Alphanumerics"](t)||Hr["Geometric Shapes"](t)||Hr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Hr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Hr["CJK Symbols and Punctuation"](t)||Hr.Katakana(t)||Hr["Private Use Area"](t)||Hr["CJK Compatibility Forms"](t)||Hr["Small Form Variants"](t)||Hr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Zr(t){return t>=1424&&t<=2303||Hr["Arabic Presentation Forms-A"](t)||Hr["Arabic Presentation Forms-B"](t)}function Kr(t,e){return!(!e&&Zr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Hr.Khmer(t))}function Qr(t){for(var e=0,n=t;e<n.length;e+=1)if(Zr(n[e].charCodeAt(0)))return!0;return!1}var Jr=null,$r="unavailable",ti=null,ei=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&($r="error"),Jr&&Jr(t)};function ni(){ri.fire(new Ot("pluginStateChange",{pluginStatus:$r,pluginURL:ti}))}var ri=new Ct,ii=function(){return $r},oi=function(){if("deferred"!==$r||!ti)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ti&&bt({url:ti},(function(t){t?ei(t):($r="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(t){$r=t.pluginStatus,ti=t.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ti}},si=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Kr(r[n].charCodeAt(0),e))return!1;return!0}(t,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var ui=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(jn(t))return new Qn(t,e);if(Yn(t)){var n=Kn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=te.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var li=function(t){this.property=t,this.value=new ui(t,void 0)};li.prototype.transitioned=function(t,e){return new fi(this.property,this.value,e,p({},t.transition,this.transition),t.now)},li.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var ci=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(t){return x(this._values[t].value.value)},ci.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new li(this._values[t].property)),this._values[t].value=new ui(this._values[t].property,null===e?void 0:x(e))},ci.prototype.getTransition=function(t){return x(this._values[t].transition)},ci.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new li(this._values[t].property)),this._values[t].transition=x(e)||void 0},ci.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},ci.prototype.transitioned=function(t,e){for(var n=new pi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},ci.prototype.untransitioned=function(){for(var t=new pi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var fi=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};fi.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return i};var pi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},pi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var hi=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};hi.prototype.getValue=function(t){return x(this._values[t].value)},hi.prototype.setValue=function(t,e){this._values[t]=new ui(this._values[t].property,null===e?void 0:x(e))},hi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},hi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r};var di=function(t,e,n){this.property=t,this.value=e,this.parameters=n};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},di.prototype.evaluate=function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)};var gi=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};gi.prototype.get=function(t){return this._values[t]};var vi=function(t){this.specification=t};vi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},vi.prototype.interpolate=function(t,e,n){var r=He[this.specification.type];return r?r(t,e,n):t};var yi=function(t,e){this.specification=t,this.overrides=e};yi.prototype.possiblyEvaluate=function(t,e,n,r){return new di(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)},yi.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new di(this,{kind:"constant",value:void 0},t.parameters);var r=He[this.specification.type];return r?new di(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},yi.prototype.evaluate=function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)};var mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0===t.value)return new di(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new di(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new di(this,{kind:"constant",value:s},e)}return new di(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(yi),_i=function(t){this.specification=t};_i.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new si(Math.floor(e.zoom-1),e)),t.expression.evaluate(new si(Math.floor(e.zoom),e)),t.expression.evaluate(new si(Math.floor(e.zoom+1),e)),e)}},_i.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},_i.prototype.interpolate=function(t){return t};var bi=function(t){this.specification=t};bi.prototype.possiblyEvaluate=function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)},bi.prototype.interpolate=function(){return!1};var xi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new li(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};jr("DataDrivenProperty",yi),jr("DataConstantProperty",vi),jr("CrossFadedDataDrivenProperty",mi),jr("CrossFadedProperty",_i),jr("ColorRampProperty",bi);var wi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new hi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gi(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Ir,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return m(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Mr,"layers."+this.id+".paint."+t,t,e,n))return!1;if(m(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&kr(this,t.call(Cr,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof di&&Ln(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Ct),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Oi(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=Si[t.type].BYTES_PER_ELEMENT,o=n=Ti(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Ti(n,Math.max(r,e)),alignment:e}}function Ti(t,e){return Math.ceil(t/e)*e}Ai.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Ai.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(t){this.reserve(t),this.length=t},Ai.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Ai);Ci.prototype.bytesPerElement=4,jr("StructArrayLayout2i4",Ci);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Ai);Pi.prototype.bytesPerElement=8,jr("StructArrayLayout4i8",Pi);var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ai);Mi.prototype.bytesPerElement=12,jr("StructArrayLayout2i4i12",Mi);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,t},e}(Ai);Ii.prototype.bytesPerElement=8,jr("StructArrayLayout2i4ub8",Ii);var ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Ai);ki.prototype.bytesPerElement=8,jr("StructArrayLayout2f8",ki);var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s,u,l)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c){var f=10*t;return this.uint16[f+0]=e,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=l,this.uint16[f+9]=c,t},e}(Ai);Ri.prototype.bytesPerElement=20,jr("StructArrayLayout10ui20",Ri);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,r,i,o,a,s,u,l,c,f)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,p){var h=12*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=u,this.int16[h+8]=l,this.int16[h+9]=c,this.int16[h+10]=f,this.int16[h+11]=p,t},e}(Ai);Li.prototype.bytesPerElement=24,jr("StructArrayLayout4i4ui4i24",Li);var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Ai);Di.prototype.bytesPerElement=12,jr("StructArrayLayout3f12",Di);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Ai);Ni.prototype.bytesPerElement=4,jr("StructArrayLayout1ul4",Ni);var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l){var c=10*t,f=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[f+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,t},e}(Ai);Fi.prototype.bytesPerElement=20,jr("StructArrayLayout6i1ul2ui20",Fi);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Ai);ji.prototype.bytesPerElement=12,jr("StructArrayLayout2i2i2i12",ji);var Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)},e.prototype.emplace=function(t,e,n,r,i,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t},e}(Ai);Bi.prototype.bytesPerElement=16,jr("StructArrayLayout2f1f2i16",Bi);var zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Ai);zi.prototype.bytesPerElement=12,jr("StructArrayLayout2ub2f12",zi);var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Ai);Ui.prototype.bytesPerElement=6,jr("StructArrayLayout3ui6",Ui);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y){var m=24*t,_=12*t,b=48*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.uint16[m+2]=r,this.uint16[m+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[m+10]=u,this.uint16[m+11]=l,this.uint16[m+12]=c,this.float32[_+7]=f,this.float32[_+8]=p,this.uint8[b+36]=h,this.uint8[b+37]=d,this.uint8[b+38]=g,this.uint32[_+10]=v,this.int16[m+22]=y,t},e}(Ai);Vi.prototype.bytesPerElement=48,jr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O,T){var C=this.length;return this.resize(C+1),this.emplace(C,t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O,T)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O,T,C){var P=34*t,M=17*t;return this.int16[P+0]=e,this.int16[P+1]=n,this.int16[P+2]=r,this.int16[P+3]=i,this.int16[P+4]=o,this.int16[P+5]=a,this.int16[P+6]=s,this.int16[P+7]=u,this.uint16[P+8]=l,this.uint16[P+9]=c,this.uint16[P+10]=f,this.uint16[P+11]=p,this.uint16[P+12]=h,this.uint16[P+13]=d,this.uint16[P+14]=g,this.uint16[P+15]=v,this.uint16[P+16]=y,this.uint16[P+17]=m,this.uint16[P+18]=_,this.uint16[P+19]=b,this.uint16[P+20]=x,this.uint16[P+21]=w,this.uint16[P+22]=S,this.uint32[M+12]=E,this.float32[M+13]=A,this.float32[M+14]=O,this.float32[M+15]=T,this.float32[M+16]=C,t},e}(Ai);Gi.prototype.bytesPerElement=68,jr("StructArrayLayout8i15ui1ul4f68",Gi);var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Ai);Wi.prototype.bytesPerElement=4,jr("StructArrayLayout1f4",Wi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Ai);Hi.prototype.bytesPerElement=6,jr("StructArrayLayout3i6",Hi);var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Ai);Yi.prototype.bytesPerElement=8,jr("StructArrayLayout1ul2ui8",Yi);var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Ai);Xi.prototype.bytesPerElement=4,jr("StructArrayLayout2ui4",Xi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Ai);qi.prototype.bytesPerElement=2,jr("StructArrayLayout1ui2",qi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Ai);Zi.prototype.bytesPerElement=16,jr("StructArrayLayout4f16",Zi);var Ki=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Ei);Ki.prototype.size=20;var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ki(this,t)},e}(Fi);jr("CollisionBoxArray",Qi);var Ji=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(Ei);Ji.prototype.size=48;var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ji(this,t)},e}(Vi);jr("PlacedSymbolArray",$i);var to=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(Ei);to.prototype.size=68;var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new to(this,t)},e}(Gi);jr("SymbolInstanceArray",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(Wi);jr("GlyphOffsetArray",no);var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Hi);jr("SymbolLineVertexArray",ro);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(Ei);io.prototype.size=8;var oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(Yi);jr("FeatureIndexArray",oo);var ao=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(t){void 0===t&&(t=[]),this.segments=t};function uo(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}so.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>so.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(t,e,n,r){return new so([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,jr("SegmentVector",so);var lo=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,u,l;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,l=0;l<r;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fo=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),po=co,ho=fo;po.murmur3=co,po.murmur2=ho;var go=function(){this.ids=[],this.positions=[],this.indexed=!1};go.prototype.add=function(t,e,n,r){this.ids.push(yo(t)),this.positions.push(e,n,r)},go.prototype.getPositions=function(t){for(var e=yo(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},go.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;mo(e,a,s),mo(n,3*a,3*s),mo(n,3*a+1,3*s+1),mo(n,3*a+2,3*s+2)}s-r<i-s?(t(e,n,r,s),r=s+1):(t(e,n,s+1,i),i=s)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},go.deserialize=function(t){var e=new go;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var vo=Math.pow(2,53)-1;function yo(t){var e=+t;return!isNaN(e)&&e<=vo?e:po(String(t))}function mo(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}jr("FeaturePositionMap",go);var _o=function(t,e){this.gl=t.gl,this.location=e},bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(_o),xo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(_o),wo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(_o),So=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(_o),Eo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(_o),Ao=function(t){function e(e,n){t.call(this,e,n),this.current=te.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(_o),Oo=new Float32Array(16),To=function(t){function e(e,n){t.call(this,e,n),this.current=Oo}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(_o);function Co(t){return[uo(255*t.r,255*t.g),uo(255*t.b,255*t.a)]}var Po=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};Po.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},Po.prototype.getBinding=function(t,e,n){return"color"===this.type?new Ao(t,e):new xo(t,e)};var Mo=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Mo.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Mo.prototype.setUniform=function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)},Mo.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new Eo(t,e):new xo(t,e)};var Io=function(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Io.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},Io.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)},Io.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var r=Co(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Io.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ko=function(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};ko.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.expression.evaluate(new si(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},ko.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)},ko.prototype._setPaintValue=function(t,e,n,r){if("color"===this.type)for(var i=Co(n),o=Co(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},ko.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ko.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ko.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)},ko.prototype.getBinding=function(t,e,n){return new xo(t,e)};var Ro=function(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ro.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)},Ro.prototype.updatePaintArray=function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)},Ro.prototype._setPaintValues=function(t,e,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Ro.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,lo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,lo.members,this.expression.isStateDependent))},Ro.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Lo=function(t,e,n){this.binders={},this._buffers=[];var r=[];for(var i in t.paint._values)if(n(i)){var o=t.paint.get(i);if(o instanceof di&&Ln(o.property.specification)){var a=No(i,t.type),s=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],f="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=f?new Mo(s.value,a):new Po(s.value,a,u),r.push("/u_"+i);else if("source"===s.kind||f){var p=Fo(i,u,"source");this.binders[i]=f?new Ro(s,u,l,e,p,t.id):new Io(s,a,u,p),r.push("/a_"+i)}else{var h=Fo(i,u,"composite");this.binders[i]=new ko(s,a,u,l,e,h),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Lo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Io||e instanceof ko?e.maxValue:0},Lo.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Io||a instanceof ko||a instanceof Ro)&&a.populatePaintArray(t,e,n,r,i)}},Lo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof Mo&&r.setConstantPatternPositions(t,e)}},Lo.prototype.updatePaintArrays=function(t,e,n,r,i){var o=!1;for(var a in t)for(var s=0,u=e.getPositions(a);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var f in this.binders){var p=this.binders[f];if((p instanceof Io||p instanceof ko||p instanceof Ro)&&!0===p.expression.isStateDependent){var h=r.paint.get(f);p.expression=h.value,p.updatePaintArray(l.start,l.end,c,t[a],i),o=!0}}}return o},Lo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof Po||n instanceof Mo)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},Lo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Io||n instanceof ko)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Ro)for(var i=0;i<lo.members.length;i++)t.push(lo.members[i].name)}return t},Lo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Po||n instanceof Mo||n instanceof ko)for(var r=0,i=n.uniformNames;r<i.length;r+=1)t.push(i[r])}return t},Lo.prototype.getPaintVertexBuffers=function(){return this._buffers},Lo.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Po||i instanceof Mo||i instanceof ko)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var u=i.getBinding(t,e[s],s);n.push({name:s,property:r,binding:u})}}}return n},Lo.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,r,n.get(u),s)}},Lo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Ro){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Io||n instanceof ko)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Lo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Io||n instanceof ko||n instanceof Ro)&&n.upload(t)}this.updatePaintBuffers()},Lo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Io||e instanceof ko||e instanceof Ro)&&e.destroy()}};var Do=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Lo(o,e,n)}this.needsUpload=!1,this._featureMap=new go,this._bufferOffset=0};function No(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Fo(t,e,n){var r={color:{source:ki,composite:Zi},number:{source:Wi,composite:ki}},i=function(t){return{"line-pattern":{source:Ri,composite:Ri},"fill-pattern":{source:Ri,composite:Ri},"fill-extrusion-pattern":{source:Ri,composite:Ri}}[t]}(t);return i&&i[n]||r[e][n]}Do.prototype.populatePaintArrays=function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Do.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}},Do.prototype.get=function(t){return this.programConfigurations[t]},Do.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Do.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},jr("ConstantBinder",Po),jr("CrossFadedConstantBinder",Mo),jr("SourceExpressionBinder",Io),jr("CrossFadedCompositeBinder",Ro),jr("CompositeExpressionBinder",ko),jr("ProgramConfiguration",Lo,{omit:["_buffers"]}),jr("ProgramConfigurationSet",Do);var jo=Math.pow(2,14)-1,Bo=-jo-1;function zo(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*e),u=Math.round(a.y*e);a.x=c(s,Bo,jo),a.y=c(u,Bo,jo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Uo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?zo(t):[]}}function Vo(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Go=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Do(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Wo(t,e){for(var n=0;n<t.length;n++)if($o(e,t[n]))return!0;for(var r=0;r<e.length;r++)if($o(t,e[r]))return!0;return!!qo(t,e)}function Ho(t,e,n){return!!$o(t,e)||!!Ko(e,t,n)}function Yo(t,e){if(1===t.length)return Jo(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if($o(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(Jo(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(qo(t,e[a]))return!0;return!1}function Xo(t,e,n){if(t.length>1){if(qo(t,e))return!0;for(var r=0;r<e.length;r++)if(Ko(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Ko(t[i],e,n))return!0;return!1}function qo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Zo(r,i,e[o],e[o+1]))return!0;return!1}function Zo(t,e,n,r){return E(t,n,r)!==E(e,n,r)&&E(t,e,n)!==E(t,e,r)}function Ko(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Qo(t,e[i-1],e[i])<r)return!0;return!1}function Qo(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function Jo(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)(r=n[s]).y>e.y!=(i=n[u]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $o(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ta(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=E(t,e,n[0]);return o!==E(t,e,n[1])||o!==E(t,e,n[2])||o!==E(t,e,n[3])}function ea(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function na(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ra(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],u=0;u<t.length;u++)s.push(t[u].sub(a));return s}Go.prototype.populate=function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.feature,c=u.id,f=u.index,p=u.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Uo(l,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var g=o?o.evaluate(d,{},n):void 0,v={id:c,properties:l.properties,type:l.type,sourceLayerIndex:p,index:f,geometry:h?d.geometry:zo(l),patterns:{},sortKey:g};i.push(v)}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var y=0,m=i;y<m.length;y+=1){var _=m[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,S=t[x].feature;this.addFeature(_,b,x,n),e.featureIndex.insert(S,b,x,w,this.index)}},Go.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Go.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Go.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Go.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Go.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Go.prototype.addFeature=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=f.vertexLength;Vo(this.layoutVertexArray,l,c,-1,-1),Vo(this.layoutVertexArray,l,c,1,-1),Vo(this.layoutVertexArray,l,c,1,1),Vo(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)},jr("CircleBucket",Go,{omit:["layers"]});var ia=new xi({"circle-sort-key":new yi(Pt.layout_circle["circle-sort-key"])}),oa={paint:new xi({"circle-radius":new yi(Pt.paint_circle["circle-radius"]),"circle-color":new yi(Pt.paint_circle["circle-color"]),"circle-blur":new yi(Pt.paint_circle["circle-blur"]),"circle-opacity":new yi(Pt.paint_circle["circle-opacity"]),"circle-translate":new vi(Pt.paint_circle["circle-translate"]),"circle-translate-anchor":new vi(Pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new vi(Pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new vi(Pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Pt.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ua(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],g=e[12],v=e[13],y=e[14],m=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*g,t[1]=_*i+b*u+x*p+w*v,t[2]=_*o+b*l+x*h+w*y,t[3]=_*a+b*c+x*d+w*m,t[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*f+(w=n[7])*g,t[5]=_*i+b*u+x*p+w*v,t[6]=_*o+b*l+x*h+w*y,t[7]=_*a+b*c+x*d+w*m,t[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*f+(w=n[11])*g,t[9]=_*i+b*u+x*p+w*v,t[10]=_*o+b*l+x*h+w*y,t[11]=_*a+b*c+x*d+w*m,t[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*f+(w=n[15])*g,t[13]=_*i+b*u+x*p+w*v,t[14]=_*o+b*l+x*h+w*y,t[15]=_*a+b*c+x*d+w*m,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var la,ca=ua;function fa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}la=new aa(3),aa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0),function(){var t=new aa(4);aa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var pa=(function(){var t=new aa(2);aa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,oa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Go(t)},e.prototype.queryRadius=function(t){var e=t;return ea("circle-radius",this,e)+ea("circle-stroke-width",this,e)+na(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var u=ra(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),f=c?u:function(t,e){return t.map((function(t){return ha(t,e)}))}(u,s),p=c?l*a:l,h=0,d=r;h<d.length;h+=1)for(var g=0,v=d[h];g<v.length;g+=1){var y=v[g],m=c?y:ha(y,s),_=p,b=fa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),Ho(f,m,_))return!0}return!1},e}(wi));function ha(t,e){var n=fa([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var da=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Go);function ga(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function va(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ga({},{width:r,height:i},n);ya(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function ya(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return e}jr("HeatmapBucket",da,{omit:["layers"]});var ma=function(t,e){ga(this,t,1,e)};ma.prototype.resize=function(t){va(this,t,1)},ma.prototype.clone=function(){return new ma({width:this.width,height:this.height},new Uint8Array(this.data))},ma.copy=function(t,e,n,r,i){ya(t,e,n,r,i,1)};var _a=function(t,e){ga(this,t,4,e)};_a.prototype.resize=function(t){va(this,t,4)},_a.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(t,e,n,r,i){ya(t,e,n,r,i,4)},jr("AlphaImage",ma),jr("RGBAImage",_a);var ba={paint:new xi({"heatmap-radius":new yi(Pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new vi(Pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new vi(Pt.paint_heatmap["heatmap-opacity"])})};function xa(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new _a({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),f=t.clips[a];o(s,l,f.start*(1-c)+f.end*c)}else for(var p=0,h=0;p<n;p++,h+=4)o(0,h,p/(n-1));return i}var wa=function(t){function e(e){t.call(this,e,ba),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new da(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=xa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(wi),Sa={paint:new xi({"hillshade-illumination-direction":new vi(Pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new vi(Pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new vi(Pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new vi(Pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new vi(Pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new vi(Pt.paint_hillshade["hillshade-accent-color"])})},Ea=function(t){function e(e){t.call(this,e,Sa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(wi),Aa=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,Oa=Ca,Ta=Ca;function Ca(t,e,n){n=n||2;var r,i,o,a,s,u,l,c=e&&e.length,f=c?e[0]*n:t.length,p=Pa(t,0,f,n,!0),h=[];if(!p||p.next===p.prev)return h;if(c&&(p=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Pa(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(za(a));for(s.sort(Na),i=0;i<s.length;i++)Fa(s[i],n),n=Ma(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<f;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Ia(p,h,n,r,i,l),h}function Pa(t,e,n,r,i){var o,a;if(i===$a(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ka(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ka(o,t[o],t[o+1],a);return a&&Wa(a,a.next)&&(Qa(a),a=a.next),a}function Ma(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Wa(r,r.next)&&0!==Ga(r.prev,r,r.next))r=r.next;else{if(Qa(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Ia(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ba(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?Ra(t,r,i,o):ka(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Qa(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?Ia(t=La(Ma(t),e,n),e,n,r,i,o,2):2===a&&Da(t,e,n,r,i,o):Ia(Ma(t),e,n,r,i,o,1);break}}}function ka(t){var e=t.prev,n=t,r=t.next;if(Ga(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ua(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ga(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ra(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Ga(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=Ba(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=Ba(s,u,e,n,r),f=t.prevZ,p=t.nextZ;f&&f.z>=l&&p&&p.z<=c;){if(f!==t.prev&&f!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ga(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=l;){if(f!==t.prev&&f!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ga(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function La(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Wa(i,o)&&Ha(i,r,r.next,o)&&qa(i,o)&&qa(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Qa(r),Qa(r.next),r=t=o),r=r.next}while(r!==t);return Ma(r)}function Da(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var u=Za(a,s);return a=Ma(a,a.next),u=Ma(u,u.next),Ia(a,e,n,r,i,o),void Ia(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Na(t,e){return t.x-e.x}function Fa(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ua(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),qa(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&ja(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}(t,e)){var n=Za(e,t);Ma(e,e.next),Ma(n,n.next)}}function ja(t,e){return Ga(t.prev,t,e.prev)<0&&Ga(e.next,t,t.next)<0}function Ba(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function za(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Ua(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ha(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(qa(t,e)&&qa(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Ga(t.prev,t,e.prev)||Ga(t,e.prev,e))||Wa(t,e)&&Ga(t.prev,t,t.next)>0&&Ga(e.prev,e,e.next)>0)}function Ga(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Wa(t,e){return t.x===e.x&&t.y===e.y}function Ha(t,e,n,r){var i=Xa(Ga(t,e,n)),o=Xa(Ga(t,e,r)),a=Xa(Ga(n,r,t)),s=Xa(Ga(n,r,e));return i!==o&&a!==s||!(0!==i||!Ya(t,n,e))||!(0!==o||!Ya(t,r,e))||!(0!==a||!Ya(n,t,r))||!(0!==s||!Ya(n,e,r))}function Ya(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Xa(t){return t>0?1:t<0?-1:0}function qa(t,e){return Ga(t.prev,t,t.next)<0?Ga(t,e,t.next)>=0&&Ga(t,t.prev,e)>=0:Ga(t,e,t.prev)<0||Ga(t,t.next,e)<0}function Za(t,e){var n=new Ja(t.i,t.x,t.y),r=new Ja(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ka(t,e,n,r){var i=new Ja(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qa(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ja(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function ts(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=e[n],p=r,h=i;for(es(e,r,n),o(e[i],f)>0&&es(e,r,i);p<h;){for(es(e,p,h),p++,h--;o(e[p],f)<0;)p++;for(;o(e[h],f)>0;)h--}0===o(e[r],f)?es(e,r,h):es(e,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(t,e,n||0,r||t.length-1,i||ns)}function es(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ns(t,e){return t<e?-1:t>e?1:0}function rs(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=A(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||(ts(o[u],e,1,o[u].length-1,is),o[u]=o[u].slice(0,e));return o}function is(t,e){return e.area-t.area}function os(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function as(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.paint.get(t+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),f=l.evaluate({zoom:r},n,{},i.availableImages),p=l.evaluate({zoom:r+1},n,{},i.availableImages);f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,o[c=c&&c.name?c.name:c]=!0,o[f]=!0,o[p]=!0,n.patterns[u.id]={min:c,mid:f,max:p}}}return n}Ca.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs($a(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs($a(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<r.length;a+=3){var l=r[a]*n,c=r[a+1]*n,f=r[a+2]*n;u+=Math.abs((t[l]-t[f])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[f+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},Ca.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Oa.default=Ta;var ss=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.indexArray2=new Xi,this.programConfigurations=new Do(t.layers,t.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ss.prototype.populate=function(t,e,n){this.hasPattern=os("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Uo(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var d=r?r.evaluate(h,{},n,e.availableImages):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:p?h.geometry:zo(u),patterns:{},sortKey:d};i.push(g)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var m=y[v],_=m.geometry,b=m.index,x=m.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,m,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(m,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},ss.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Aa),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),p=f.vertexLength,h=[],d=[],g=0,v=s;g<v.length;g+=1){var y=v[g];if(0!==y.length){y!==s[0]&&d.push(h.length/2);var m=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=m.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),h.push(y[0].x),h.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),h.push(y[b].x),h.push(y[b].y);m.vertexLength+=y.length,m.primitiveLength+=y.length}}for(var x=Oa(h,d),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);f.vertexLength+=u,f.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},jr("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new xi({"fill-sort-key":new yi(Pt.layout_fill["fill-sort-key"])}),ls={paint:new xi({"fill-antialias":new vi(Pt.paint_fill["fill-antialias"]),"fill-opacity":new yi(Pt.paint_fill["fill-opacity"]),"fill-color":new yi(Pt.paint_fill["fill-color"]),"fill-outline-color":new yi(Pt.paint_fill["fill-outline-color"]),"fill-translate":new vi(Pt.paint_fill["fill-translate"]),"fill-translate-anchor":new vi(Pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new mi(Pt.paint_fill["fill-pattern"])}),layout:us},cs=function(t){function e(e){t.call(this,e,ls)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ss(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Yo(ra(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(wi),fs=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=hs;function hs(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(ds,this,e)}function ds(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function gs(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&u.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&u.push(e),u},hs.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},hs.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=hs.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];c(u=f);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=gs(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var vs=ys;function ys(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ms,this,e),this.length=this._features.length}function ms(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function _s(t,e,n){if(3===t){var r=new vs(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ys.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,e,this.extent,this._keys,this._values)};var bs={VectorTile:function(t,e){this.layers=t.readFields(_s,{},e)},VectorTileFeature:ps,VectorTileLayer:vs},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Es=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Mi,this.indexArray=new Ui,this.programConfigurations=new Do(t.layers,t.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function As(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}Es.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,e);for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,u=o.index,l=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,f=Uo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var p={id:s,sourceLayerIndex:l,index:u,geometry:c?f.geometry:zo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,p.geometry,u,n,{}),e.featureIndex.insert(a,p.geometry,u,l,this.index,!0)}}},Es.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Es.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=rs(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=s;p<h.length;p+=1){var d=h[p];if(0!==d.length&&!((k=d).every((function(t){return t.x<0}))||k.every((function(t){return t.x>8192}))||k.every((function(t){return t.y<0}))||k.every((function(t){return t.y>8192}))))for(var g=0,v=0;v<d.length;v++){var y=d[v];if(v>=1){var m=d[v-1];if(!As(y,m)){f.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(m)._perp()._unit(),b=m.dist(y);g+b>32768&&(g=0),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,g),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,g),Ss(this.layoutVertexArray,m.x,m.y,_.x,_.y,0,0,g+=b),Ss(this.layoutVertexArray,m.x,m.y,_.x,_.y,0,1,g);var x=f.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+u>so.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[t.type]){for(var w=[],S=[],E=f.vertexLength,A=0,O=s;A<O.length;A+=1){var T=O[A];if(0!==T.length){T!==s[0]&&S.push(w.length/2);for(var C=0;C<T.length;C++){var P=T[C];Ss(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),w.push(P.x),w.push(P.y)}}}for(var M=Oa(w,S),I=0;I<M.length;I+=3)this.indexArray.emplaceBack(E+M[I],E+M[I+2],E+M[I+1]);f.primitiveLength+=M.length/3,f.vertexLength+=u}}var k;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},jr("FillExtrusionBucket",Es,{omit:["layers","features"]});var Os={paint:new xi({"fill-extrusion-opacity":new vi(Pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new vi(Pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new vi(Pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mi(Pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new vi(Pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ts=function(t){function e(e){t.call(this,e,Os)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Es(t)},e.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s,u){var l=ra(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),f=this.paint.get("fill-extrusion-base").evaluate(e,n),p=function(t,e,n,r){for(var o=[],a=0,s=t;a<s.length;a+=1){var u=s[a],l=[u.x,u.y,0,1];fa(l,l,e),o.push(new i(l[0]/l[3],l[1]/l[3]))}return o}(l,u),h=function(t,e,n,r){for(var o=[],a=[],s=r[8]*e,u=r[9]*e,l=r[10]*e,c=r[11]*e,f=r[8]*n,p=r[9]*n,h=r[10]*n,d=r[11]*n,g=0,v=t;g<v.length;g+=1){for(var y=[],m=[],_=0,b=v[g];_<b.length;_+=1){var x=b[_],w=x.x,S=x.y,E=r[0]*w+r[4]*S+r[12],A=r[1]*w+r[5]*S+r[13],O=r[2]*w+r[6]*S+r[14],T=r[3]*w+r[7]*S+r[15],C=O+l,P=T+c,M=E+f,I=A+p,k=O+h,R=T+d,L=new i((E+s)/P,(A+u)/P);L.z=C/P,y.push(L);var D=new i(M/R,I/R);D.z=k/R,m.push(D)}o.push(y),a.push(m)}return[o,a]}(r,f,c,u);return function(t,e,n){var r=1/0;Yo(n,e)&&(r=Ps(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var u=o[s],l=[u,o[s+1],a[s+1],a[s],u];Wo(n,l)&&(r=Math.min(r,Ps(n,l)))}return r!==1/0&&r}(h[0],h[1],p)},e}(wi);function Cs(t,e){return t.x*e.x+t.y*e.y}function Ps(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],s=n.sub(i),u=o.sub(i),l=a.sub(i),c=Cs(s,s),f=Cs(s,u),p=Cs(u,u),h=Cs(l,s),d=Cs(l,u),g=c*p-f*f,v=(p*h-f*d)/g,y=(c*d-f*h)/g,m=i.z*(1-v-y)+n.z*v+o.z*y;if(isFinite(m))return m}return 1/0}for(var _=1/0,b=0,x=e;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Ms=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Is=Oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,ks=bs.VectorTileFeature.types,Rs=Math.cos(Math.PI/180*37.5),Ls=Math.pow(2,14)/.5,Ds=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){e.gradients[t.id]={}})),this.layoutVertexArray=new Ii,this.layoutVertexArray2=new ki,this.indexArray=new Ui,this.programConfigurations=new Do(t.layers,t.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Ds.prototype.populate=function(t,e,n){this.hasPattern=os("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Uo(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var d=r?r.evaluate(h,{},n):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:p?h.geometry:zo(u),patterns:{},sortKey:d};i.push(g)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var m=y[v],_=m.geometry,b=m.index,x=m.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,m,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(m,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},Ds.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ds.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},Ds.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ds.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Is)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ms),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ds.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Ds.prototype.addFeature=function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),l=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,f=e;c<f.length;c+=1)this.addLine(f[c],t,a,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},Ds.prototype.addLine=function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===ks[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c,f=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),h=void 0,d=void 0,g=void 0,v=void 0;this.e1=this.e2=-1,s&&(v=t[l].sub(c=t[u-2])._unit()._perp());for(var y=l;y<u;y++)if(!(d=y===u-1?s?t[l+1]:void 0:t[y+1])||!t[y].equals(d)){v&&(g=v),c&&(h=c),c=t[y],v=d?d.sub(c)._unit()._perp():g;var m=(g=g||v).add(v);0===m.x&&0===m.y||m._unit();var _=g.x*v.x+g.y*v.y,b=m.x*v.x+m.y*v.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),S=b<Rs&&h&&d,E=g.x*v.y-g.y*v.x>0;if(S&&y>l){var A=c.dist(h);if(A>2*f){var O=c.sub(c.sub(h)._mult(f/A)._round());this.updateDistance(h,O),this.addCurrentVertex(O,g,0,0,p),h=O}}var T=h&&d,C=T?n:s?"butt":r;if(T&&"round"===C&&(x<o?C="miter":x<=2&&(C="fakeround")),"miter"===C&&x>i&&(C="bevel"),"bevel"===C&&(x>2&&(C="flipbevel"),x<i&&(C="miter")),h&&this.updateDistance(h,c),"miter"===C)m._mult(x),this.addCurrentVertex(c,m,0,0,p);else if("flipbevel"===C){if(x>100)m=v.mult(-1);else{var P=x*g.add(v).mag()/g.sub(v).mag();m._perp()._mult(P*(E?-1:1))}this.addCurrentVertex(c,m,0,0,p),this.addCurrentVertex(c,m.mult(-1),0,0,p)}else if("bevel"===C||"fakeround"===C){var M=-Math.sqrt(x*x-1),I=E?M:0,k=E?0:M;if(h&&this.addCurrentVertex(c,g,I,k,p),"fakeround"===C)for(var R=Math.round(180*w/Math.PI/20),L=1;L<R;L++){var D=L/R;if(.5!==D){var N=D-.5;D+=D*N*(D-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*N*N+(.848013+_*(.215638*_-1.06021)))}var F=v.sub(g)._mult(D)._add(g)._unit()._mult(E?-1:1);this.addHalfVertex(c,F.x,F.y,!1,E,0,p)}d&&this.addCurrentVertex(c,v,-I,-k,p)}else if("butt"===C)this.addCurrentVertex(c,m,0,0,p);else if("square"===C){var j=h?1:-1;this.addCurrentVertex(c,m,j,j,p)}else"round"===C&&(h&&(this.addCurrentVertex(c,g,0,0,p),this.addCurrentVertex(c,g,1,1,p,!0)),d&&(this.addCurrentVertex(c,v,-1,-1,p,!0),this.addCurrentVertex(c,v,0,0,p)));if(S&&y<u-1){var B=c.dist(d);if(B>2*f){var z=c.add(d.sub(c)._mult(f/B)._round());this.updateDistance(c,z),this.addCurrentVertex(z,v,0,0,p),c=z}}}}},Ds.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>Ls/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},Ds.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ls-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u},Ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ds.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},jr("LineBucket",Ds,{omit:["layers","patternFeatures"]});var Ns=new xi({"line-cap":new vi(Pt.layout_line["line-cap"]),"line-join":new yi(Pt.layout_line["line-join"]),"line-miter-limit":new vi(Pt.layout_line["line-miter-limit"]),"line-round-limit":new vi(Pt.layout_line["line-round-limit"]),"line-sort-key":new yi(Pt.layout_line["line-sort-key"])}),Fs={paint:new xi({"line-opacity":new yi(Pt.paint_line["line-opacity"]),"line-color":new yi(Pt.paint_line["line-color"]),"line-translate":new vi(Pt.paint_line["line-translate"]),"line-translate-anchor":new vi(Pt.paint_line["line-translate-anchor"]),"line-width":new yi(Pt.paint_line["line-width"]),"line-gap-width":new yi(Pt.paint_line["line-gap-width"]),"line-offset":new yi(Pt.paint_line["line-offset"]),"line-blur":new yi(Pt.paint_line["line-blur"]),"line-dasharray":new _i(Pt.paint_line["line-dasharray"]),"line-pattern":new mi(Pt.paint_line["line-pattern"]),"line-gradient":new bi(Pt.paint_line["line-gradient"])}),layout:Ns},js=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(yi))(Fs.paint.properties["line-width"].specification);js.useIntegerZoom=!0;var Bs=function(t){function e(e){t.call(this,e,Fs),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ge,this.gradientVersion=(this.gradientVersion+1)%s)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=js.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Ds(t)},e.prototype.queryRadius=function(t){var e=t,n=zs(ea("line-width",this,e),ea("line-gap-width",this,e)),r=ea("line-offset",this,e);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var u=ra(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*zs(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],u=0;u<a.length;u++){var l=a[u],c=a[u+1],f=0===u?r:l.sub(a[u-1])._unit()._perp(),p=u===a.length-1?r:c.sub(l)._unit()._perp(),h=f._add(p)._unit();h._mult(1/(h.x*p.x+h.y*p.y)),s.push(h._mult(e)._add(l))}n.push(s)}return n}(r,c*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if($o(t,i[o]))return!0;if(Xo(t,i,n))return!0}return!1}(u,r,l)},e.prototype.isTileClipped=function(){return!0},e}(wi);function zs(t,e){return e>0?e+2*t:t}var Us=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Gs=(Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ys(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),ai.applyArabicShaping&&(t=ai.applyArabicShaping(t)),t}(t.text,e,n)})),t}Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Xs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},qs=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},Zs=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+h]=255&a,h+=d,a/=256,l-=8);t[n+h-d]|=128*g},Ks=Qs;function Qs(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Qs.Varint=0,Qs.Fixed64=1,Qs.Bytes=2,Qs.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(t){return t.type===Qs.Bytes?t.readVarint()+t.pos:t.pos+1}function tu(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function eu(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function nu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function ru(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function iu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ou(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function au(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function su(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function uu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function lu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function cu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function fu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function pu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function hu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function du(t,e,n){1===t&&n.readMessage(gu,e)}function gu(t,e,n){if(3===t){var r=n.readMessage(vu,{}),i=r.width,o=r.height,a=r.left,s=r.top,u=r.advance;e.push({id:r.id,bitmap:new ma({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:u}})}}function vu(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function yu(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,u=0,l=0,c=t;l<c.length;l+=1)for(var f=c[l],p=a.length-1;p>=0;p--){var h=a[p];if(!(f.w>h.w||f.h>h.h)){if(f.x=h.x,f.y=h.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===h.w&&f.h===h.h){var d=a.pop();p<a.length&&(a[p]=d)}else f.h===h.h?(h.x+=f.w,h.w-=f.w):f.w===h.w?(h.y+=f.h,h.h-=f.h):(a.push({x:h.x+f.w,y:h.y,w:h.w-f.w,h:f.h}),h.y+=f.h,h.h-=f.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}Qs.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=fu(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=hu(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=fu(this.buf,this.pos)+4294967296*fu(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=fu(this.buf,this.pos)+4294967296*hu(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=qs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=qs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return tu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return tu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return tu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return tu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return tu(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return tu(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Js?function(t,e,n){return Js.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Qs.Bytes)return t.push(this.readVarint(e));var n=$s(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Qs.Bytes)return t.push(this.readSVarint());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Qs.Bytes)return t.push(this.readBoolean());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFloat());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Qs.Bytes)return t.push(this.readDouble());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFixed32());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Qs.Bytes)return t.push(this.readSFixed32());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Qs.Bytes)return t.push(this.readFixed64());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Qs.Bytes)return t.push(this.readSFixed64());var e=$s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Qs.Varint)for(;this.buf[this.pos++]>127;);else if(e===Qs.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Qs.Fixed32)this.pos+=4;else{if(e!==Qs.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),pu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),pu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),pu(this.buf,-1&t,this.pos),pu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),pu(this.buf,-1&t,this.pos),pu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&eu(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Zs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Zs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&eu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Qs.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,nu,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,ru,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,au,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,iu,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ou,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,su,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,uu,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,lu,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,cu,e)},writeBytesField:function(t,e){this.writeTag(t,Qs.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Qs.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Qs.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Qs.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Qs.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Qs.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Qs.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Qs.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var mu=function(t,e){var n=e.pixelRatio,r=e.version,i=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},_u={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_u.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_u.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_u.tlbr.get=function(){return this.tl.concat(this.br)},_u.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(mu.prototype,_u);var bu=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=yu(i),a=new _a({width:o.w||1,height:o.h||1});for(var s in t){var u=t[s],l=n[s].paddedRect;_a.copy(u.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in e){var f=e[c],p=r[c].paddedRect,h=p.x+1,d=p.y+1,g=f.data.width,v=f.data.height;_a.copy(f.data,a,{x:0,y:0},{x:h,y:d},f.data),_a.copy(f.data,a,{x:0,y:v-1},{x:h,y:d-1},{width:g,height:1}),_a.copy(f.data,a,{x:0,y:0},{x:h,y:d+v},{width:g,height:1}),_a.copy(f.data,a,{x:g-1,y:0},{x:h-1,y:d},{width:1,height:v}),_a.copy(f.data,a,{x:0,y:0},{x:h+g,y:d},{width:1,height:v})}this.image=a,this.iconPositions=n,this.patternPositions=r};bu.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new mu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},bu.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},bu.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},jr("ImagePosition",mu),jr("ImageAtlas",bu);var xu={horizontal:1,vertical:2,horizontalOnly:3},wu=function(){this.scale=1,this.fontStack="",this.imageName=null};wu.forText=function(t,e){var n=new wu;return n.scale=t||1,n.fontStack=e,n},wu.forImage=function(t){var e=new wu;return e.imageName=t,e};var Su=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Eu(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g){var v,y=Su.fromFeature(t,i);f===xu.vertical&&y.verticalizePunctuation();var m=ai.processBidirectionalText,_=ai.processStyledBidirectionalText;if(m&&1===y.sections.length){v=[];for(var b=0,x=m(y.toString(),Iu(y,l,o,e,r,h,d));b<x.length;b+=1){var w=x[b],S=new Su;S.text=w,S.sections=y.sections;for(var E=0;E<w.length;E++)S.sectionIndex.push(0);v.push(S)}}else if(_){v=[];for(var A=0,O=_(y.text,y.sectionIndex,Iu(y,l,o,e,r,h,d));A<O.length;A+=1){var T=O[A],C=new Su;C.text=T[0],C.sectionIndex=T[1],C.sections=y.sections,v.push(C)}}else v=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(y,Iu(y,l,o,e,r,h,d));var P=[],M={positionedLines:P,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,s,u,l,c,f){for(var p=0,h=-17,d=0,g=0,v="right"===s?1:"left"===s?0:.5,y=0,m=0,_=i;m<_.length;m+=1){var b=_[m];b.trim();var x=b.getMaxScale(),w=24*(x-1),S={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=S;var E=S.positionedGlyphs,A=0;if(b.length()){for(var O=0;O<b.length();O++){var T=b.getSection(O),C=b.getSectionIndex(O),P=b.getCharCode(O),M=0,I=null,k=null,R=null,L=24,D=!(u===xu.horizontal||!c&&!Xr(P)||c&&(Au[P]||(W=P,Hr.Arabic(W)||Hr["Arabic Supplement"](W)||Hr["Arabic Extended-A"](W)||Hr["Arabic Presentation Forms-A"](W)||Hr["Arabic Presentation Forms-B"](W))));if(T.imageName){var N=r[T.imageName];if(!N)continue;R=T.imageName,t.iconsInText=t.iconsInText||!0,k=N.paddedRect;var F=N.displaySize;T.scale=24*T.scale/f,M=w+(24-F[1]*T.scale),L=(I={width:F[0],height:F[1],left:1,top:-3,advance:D?F[1]:F[0]}).advance;var j=D?F[0]*T.scale-24*x:F[1]*T.scale-24*x;j>0&&j>A&&(A=j)}else{var B=n[T.fontStack],z=B&&B[P];if(z&&z.rect)k=z.rect,I=z.metrics;else{var U=e[T.fontStack],V=U&&U[P];if(!V)continue;I=V.metrics}M=24*(x-T.scale)}D?(t.verticalizable=!0,E.push({glyph:P,imageName:R,x:p,y:h+M,vertical:D,scale:T.scale,fontStack:T.fontStack,sectionIndex:C,metrics:I,rect:k}),p+=L*T.scale+l):(E.push({glyph:P,imageName:R,x:p,y:h+M,vertical:D,scale:T.scale,fontStack:T.fontStack,sectionIndex:C,metrics:I,rect:k}),p+=I.advance*T.scale+l)}0!==E.length&&(d=Math.max(p-l,d),Ru(E,0,E.length-1,v,A)),p=0;var G=o*x+A;S.lineOffset=Math.max(A,w),h+=G,g=Math.max(G,g),++y}else h+=o,++y}var W,H=h- -17,Y=ku(a),X=Y.horizontalAlign,q=Y.verticalAlign;(function(t,e,n,r,i,o,a,s,u){var l,c=(e-n)*i;l=o!==a?-s*r- -17:(-r*u+.5)*a;for(var f=0,p=t;f<p.length;f+=1)for(var h=0,d=p[f].positionedGlyphs;h<d.length;h+=1){var g=d[h];g.x+=c,g.y+=l}})(t.positionedLines,v,X,q,d,g,o,H,i.length),t.top+=-q*H,t.bottom=t.top+H,t.left+=-X*d,t.right=t.left+d}(M,e,n,r,v,a,s,u,f,l,p,g),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(P)&&M}Su.fromFeature=function(t,e){for(var n=new Su,r=0;r<t.sections.length;r++){var i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n},Su.prototype.length=function(){return this.text.length},Su.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Su.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Su.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Su.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&qr(r)&&!Xs[t[n+1]]||i&&qr(i)&&!Xs[t[n-1]]||!Xs[t[n]]?t[n]:Xs[t[n]]}return e}(this.text)},Su.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Au[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Au[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Su.prototype.substring=function(t,e){var n=new Su;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Su.prototype.toString=function(){return this.text},Su.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},Su.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(wu.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)},Su.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wu.forImage(e)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Su.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Au={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ou={};function Tu(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var s=n[e.fontStack],u=s&&s[t];return u?u.metrics.advance*e.scale+i:0}function Cu(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Pu(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Mu(t,e,n,r,i,o){for(var a=null,s=Cu(e,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],f=Cu(e-c.x,n,i,o)+c.badness;f<=s&&(a=c,s=f)}return{index:t,x:e,priorBreak:a,badness:s}}function Iu(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var s,u=[],l=function(t,e,n,r,i,o){for(var a=0,s=0;s<t.length();s++){var u=t.getSection(s);a+=Tu(t.getCharCode(s),u,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),c=t.text.indexOf("\u200b")>=0,f=0,p=0;p<t.length();p++){var h=t.getSection(p),d=t.getCharCode(p);if(Au[d]||(f+=Tu(d,h,r,i,e,a)),p<t.length()-1){var g=!((s=d)<11904||!(Hr["Bopomofo Extended"](s)||Hr.Bopomofo(s)||Hr["CJK Compatibility Forms"](s)||Hr["CJK Compatibility Ideographs"](s)||Hr["CJK Compatibility"](s)||Hr["CJK Radicals Supplement"](s)||Hr["CJK Strokes"](s)||Hr["CJK Symbols and Punctuation"](s)||Hr["CJK Unified Ideographs Extension A"](s)||Hr["CJK Unified Ideographs"](s)||Hr["Enclosed CJK Letters and Months"](s)||Hr["Halfwidth and Fullwidth Forms"](s)||Hr.Hiragana(s)||Hr["Ideographic Description Characters"](s)||Hr["Kangxi Radicals"](s)||Hr["Katakana Phonetic Extensions"](s)||Hr.Katakana(s)||Hr["Vertical Forms"](s)||Hr["Yi Radicals"](s)||Hr["Yi Syllables"](s)));(Ou[d]||g||h.imageName)&&u.push(Mu(p+1,f,l,u,Pu(d,t.getCharCode(p+1),g&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Mu(t.length(),f,l,u,0,!0))}function ku(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Ru(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function Lu(t,e,n,r,i,o){var a,s=t.image;if(s.content){var u=s.content,l=s.pixelRatio||1;a=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,f,p,h,d=e.left*o,g=e.right*o;"width"===n||"both"===n?(h=i[0]+d-r[3],f=i[0]+g+r[1]):f=(h=i[0]+(d+g-s.displaySize[0])/2)+s.displaySize[0];var v=e.top*o,y=e.bottom*o;return"height"===n||"both"===n?(c=i[1]+v-r[0],p=i[1]+y+r[2]):p=(c=i[1]+(v+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:p,left:h,collisionPadding:a}}Ou[10]=!0,Ou[32]=!0,Ou[38]=!0,Ou[40]=!0,Ou[41]=!0,Ou[43]=!0,Ou[45]=!0,Ou[47]=!0,Ou[173]=!0,Ou[183]=!0,Ou[8203]=!0,Ou[8208]=!0,Ou[8211]=!0,Ou[8231]=!0;var Du=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Nu(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(u)),interpolationType:i}}function Fu(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/128:"composite"===t.kind?We(i/128,n.upperSize/128,e.uSizeT):r}function ju(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?c(an.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=We(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}jr("Anchor",Du);var Bu=Object.freeze({__proto__:null,getSizeData:Nu,evaluateSizeForFeature:Fu,evaluateSizeForZoom:ju,SIZE_PACK_FACTOR:128});function zu(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a],f=t[a+1];if(!f)return!1;var p=t[a-1].angleTo(c)-c.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=c.dist(f)}return!0}function Uu(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Vu(t,e,n){return t?.6*e*n:0}function Gu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Wu(t,e,n,r,i,o){for(var a=Vu(n,i,o),s=Gu(n,r)*o,u=0,l=Uu(t)/2,c=0;c<t.length-1;c++){var f=t[c],p=t[c+1],h=f.dist(p);if(u+h>l){var d=(l-u)/h,g=We(f.x,p.x,d),v=We(f.y,p.y,d),y=new Du(g,v,p.angleTo(f),c);return y._round(),!a||zu(t,y,s,a,e)?y:void 0}u+=h}}function Hu(t,e,n,r,i,o,a,s,u){var l=Vu(r,o,a),c=Gu(r,i),f=c*a,p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-f<e/4&&(e=f+e/4),function t(e,n,r,i,o,a,s,u,l){for(var c=a/2,f=Uu(e),p=0,h=n-r,d=[],g=0;g<e.length-1;g++){for(var v=e[g],y=e[g+1],m=v.dist(y),_=y.angleTo(v);h+r<p+m;){var b=((h+=r)-p)/m,x=We(v.x,y.x,b),w=We(v.y,y.y,b);if(x>=0&&x<l&&w>=0&&w<l&&h-c>=0&&h+c<=f){var S=new Du(x,w,_,g);S._round(),i&&!zu(e,S,a,i,o)||d.push(S)}}p+=m}return u||d.length||s||(d=t(e,p/2,r,i,o,a,s,!0,l)),d}(t,p?e/2*s%e:(c/2+2*o)*a*s%e,e,l,n,f,p,!1,u)}function Yu(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],p=u[c+1];f.x<e&&p.x<e||(f.x<e?f=new i(e,f.y+(e-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x<e&&(p=new i(e,f.y+(e-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y<n&&p.y<n||(f.y<n?f=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round():p.y<n&&(p=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x>=r&&(p=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y>=o&&p.y>=o||(f.y>=o?f=new i(f.x+(o-f.y)/(p.y-f.y)*(p.x-f.x),o)._round():p.y>=o&&(p=new i(f.x+(o-f.y)/(p.y-f.y)*(p.x-f.x),o)._round()),l&&f.equals(l[l.length-1])||a.push(l=[f]),l.push(p)))))}return a}function Xu(t,e,n,r){var o=[],a=t.image,s=a.pixelRatio,u=a.paddedRect.w-2,l=a.paddedRect.h-2,c=t.right-t.left,f=t.bottom-t.top,p=a.stretchX||[[0,u]],h=a.stretchY||[[0,l]],d=function(t,e){return t+e[1]-e[0]},g=p.reduce(d,0),v=h.reduce(d,0),y=u-g,m=l-v,_=0,b=g,x=0,w=v,S=0,E=y,A=0,O=m;if(a.content&&r){var T=a.content;_=qu(p,0,T[0]),x=qu(h,0,T[1]),b=qu(p,T[0],T[2]),w=qu(h,T[1],T[3]),S=T[0]-_,A=T[1]-x,E=T[2]-T[0]-b,O=T[3]-T[1]-w}var C=function(r,o,u,l){var p=Ku(r.stretch-_,b,c,t.left),h=Qu(r.fixed-S,E,r.stretch,g),d=Ku(o.stretch-x,w,f,t.top),y=Qu(o.fixed-A,O,o.stretch,v),m=Ku(u.stretch-_,b,c,t.left),T=Qu(u.fixed-S,E,u.stretch,g),C=Ku(l.stretch-x,w,f,t.top),P=Qu(l.fixed-A,O,l.stretch,v),M=new i(p,d),I=new i(m,d),k=new i(m,C),R=new i(p,C),L=new i(h/s,y/s),D=new i(T/s,P/s),N=e*Math.PI/180;if(N){var F=Math.sin(N),j=Math.cos(N),B=[j,-F,F,j];M._matMult(B),I._matMult(B),R._matMult(B),k._matMult(B)}var z=r.stretch+r.fixed,U=o.stretch+o.fixed;return{tl:M,tr:I,bl:R,br:k,tex:{x:a.paddedRect.x+1+z,y:a.paddedRect.y+1+U,w:u.stretch+u.fixed-z,h:l.stretch+l.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:D,minFontScaleX:E/s/c,minFontScaleY:O/s/f,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var P=Zu(p,y,g),M=Zu(h,m,v),I=0;I<P.length-1;I++)for(var k=P[I],R=P[I+1],L=0;L<M.length-1;L++)o.push(C(k,M[L],R,M[L+1]));else o.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function qu(t,e,n){for(var r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];r+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return r}function Zu(t,e,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return r.push({fixed:e+1,stretch:n}),r}function Ku(t,e,n,r){return t/e*n+r}function Qu(t,e,n,r){return t-e*n/r}var Ju=function(t,e,n,r,o,a,s,u,l,c){if(this.boxStartIndex=t.length,l){var f=a.top,p=a.bottom,h=a.collisionPadding;h&&(f-=h[1],p+=h[3]);var d=p-f;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var g=a.top*s-u,v=a.bottom*s+u,y=a.left*s-u,m=a.right*s+u,_=a.collisionPadding;if(_&&(y-=_[0]*s,g-=_[1]*s,m+=_[2]*s,v+=_[3]*s),c){var b=new i(y,g),x=new i(m,g),w=new i(y,v),S=new i(m,v),E=c*Math.PI/180;b._rotate(E),x._rotate(E),w._rotate(E),S._rotate(E),y=Math.min(b.x,x.x,w.x,S.x),m=Math.max(b.x,x.x,w.x,S.x),g=Math.min(b.y,x.y,w.y,S.y),v=Math.max(b.y,x.y,w.y,S.y)}t.emplaceBack(e.x,e.y,y,g,m,v,n,r,o)}this.boxEndIndex=t.length},$u=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=tl),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function tl(t,e){return t<e?-1:t>e?1:0}function el(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<o)&&(o=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>s)&&(s=c.y)}var f=Math.min(a-r,s-o),p=f/2,h=new $u([],nl);if(0===f)return new i(r,o);for(var d=r;d<a;d+=f)for(var g=o;g<s;g+=f)h.push(new rl(d+p,g+p,p,t));for(var v=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,e+=3*c}return new rl(n/e,r/e,0,t)}(t),y=h.length;h.length;){var m=h.pop();(m.d>v.d||!v.d)&&(v=m,n&&console.log("found best %d after %d probes",Math.round(1e4*m.d)/1e4,y)),m.max-v.d<=e||(h.push(new rl(m.p.x-(p=m.h/2),m.p.y-p,p,t)),h.push(new rl(m.p.x+p,m.p.y-p,p,t)),h.push(new rl(m.p.x-p,m.p.y+p,p,t)),h.push(new rl(m.p.x+p,m.p.y+p,p,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+v.d)),v.p}function nl(t,e){return e.max-t.max}function rl(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,Qo(t,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$u.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},$u.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},$u.prototype.peek=function(){return this.data[0]},$u.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},$u.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var il=Number.POSITIVE_INFINITY;function ol(t,e){return e[1]!==il?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function al(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sl(t,e,n,r,o,a,s,u,l,c,f,p,h,d,g){var v=function(t,e,n,r,o,a,s,u){for(var l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],f=0,p=e.positionedLines;f<p.length;f+=1)for(var h=p[f],d=0,g=h.positionedGlyphs;d<g.length;d+=1){var v=g[d];if(v.rect){var y=v.rect||{},m=4,_=!0,b=1,x=0,w=(o||u)&&v.vertical,S=v.metrics.advance*v.scale/2;if(u&&e.verticalizable&&(x=h.lineOffset/2-(v.imageName?-(24-v.metrics.width*v.scale)/2:24*(v.scale-1))),v.imageName){var E=s[v.imageName];_=E.sdf,m=1/(b=E.pixelRatio)}var A=o?[v.x+S,v.y]:[0,0],O=o?[0,0]:[v.x+S+n[0],v.y+n[1]-x],T=[0,0];w&&(T=O,O=[0,0]);var C=(v.metrics.left-m)*v.scale-S+O[0],P=(-v.metrics.top-m)*v.scale+O[1],M=C+y.w*v.scale/b,I=P+y.h*v.scale/b,k=new i(C,P),R=new i(M,P),L=new i(C,I),D=new i(M,I);if(w){var N=new i(-S,S- -17),F=-Math.PI/2,j=12-S,B=new i(22-j,-(v.imageName?j:0)),z=new(Function.prototype.bind.apply(i,[null].concat(T)));k._rotateAround(F,N)._add(B)._add(z),R._rotateAround(F,N)._add(B)._add(z),L._rotateAround(F,N)._add(B)._add(z),D._rotateAround(F,N)._add(B)._add(z)}if(l){var U=Math.sin(l),V=Math.cos(l),G=[V,-U,U,V];k._matMult(G),R._matMult(G),L._matMult(G),D._matMult(G)}var W=new i(0,0),H=new i(0,0);c.push({tl:k,tr:R,bl:L,br:D,tex:y,writingMode:e.writingMode,glyphOffset:A,sectionIndex:v.sectionIndex,isSDF:_,pixelOffsetTL:W,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,o,a,s,r,t.allowVerticalPlacement),y=t.textSizeData,m=null;"source"===y.kind?(m=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((m=[128*d.compositeTextSizes[0].evaluate(s,{},g),128*d.compositeTextSizes[1].evaluate(s,{},g)])[0]>32640||m[1]>32640)&&S(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,v,m,u,a,s,c,e,l.lineStartIndex,l.lineLength,h,g);for(var _=0,b=f;_<b.length;_+=1)p[b[_]]=t.text.placedSymbolArray.length-1;return 4*v.length}function ul(t){for(var e in t)return t[e];return null}function ll(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var cl=bs.VectorTileFeature.types,fl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pl(t,e,n,r,i,o,a,s,u,l,c,f,p){var h=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(h<<1)+(u?1:0),d,16*l,16*c,256*f,256*p)}function hl(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function dl(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Qr(n[e].text))return!0;return!1}var gl=function(t){this.layoutVertexArray=new Li,this.indexArray=new Ui,this.programConfigurations=t,this.segments=new so,this.dynamicLayoutVertexArray=new Di,this.opacityVertexArray=new Ni,this.placedSymbolArray=new $i};gl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},gl.prototype.upload=function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,fl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},jr("SymbolBuffers",gl);var vl=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new zi};vl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Gs.members,!0)},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},jr("CollisionBuffers",vl);var yl=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nu(this.zoom,e["text-size"]),this.iconSizeData=Nu(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return xu[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};yl.prototype.createArrays=function(){this.text=new gl(new Do(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new gl(new Do(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new eo},yl.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=Xs[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},yl.prototype.populate=function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof re&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],u||l){for(var f=e.iconDependencies,p=e.glyphDependencies,h=e.availableImages,d=new si(this.zoom),g=0,v=t;g<v.length;g+=1){var y=v[g],m=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=r._featureFilter.needGeometry,S=Uo(m,w);if(r._featureFilter.filter(d,S,n)){w||(S.geometry=zo(m));var E=void 0;if(u){var A=r.getValueAndResolveTokens("text-field",S,n,h),O=re.factory(A);dl(O)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(E=Ys(O,r,S))}var T=void 0;if(l){var C=r.getValueAndResolveTokens("icon-image",S,n,h);T=C instanceof ie?C:ie.fromString(C)}if(E||T){var P=this.sortFeaturesByKey?c.evaluate(S,{},n):void 0;if(this.features.push({id:_,text:E,icon:T,index:b,sourceLayerIndex:x,geometry:S.geometry,properties:m.properties,type:cl[m.type],sortKey:P}),T&&(f[T.name]=!0),E){var M=o.evaluate(S,{},n).join(","),I="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xu.vertical)>=0;for(var k=0,R=E.sections;k<R.length;k+=1){var L=R[k];if(L.image)f[L.image.name]=!0;else{var D=Yr(E.toString()),N=L.fontStack||M,F=p[N]=p[N]||{};this.calculateGlyphDependencies(L.text,F,I,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.text?c.text.toString():null;if(p){var h=u(p,f),d=u(p,f,!0);if(h in n&&d in e&&n[h]!==e[d]){var g=s(h,d,f),v=a(h,d,r[g].geometry);delete e[h],delete n[d],n[u(p,r[v].geometry,!0)]=v,r[g].geometry=null}else h in n?a(h,d,f):d in e?s(h,d,f):(o(l),e[h]=i-1,n[d]=i-1)}else o(l)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},yl.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},yl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yl.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yl.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yl.prototype.addSymbols=function(t,e,n,r,i,o,a,s,u,l,c,f){for(var p=t.indexArray,h=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,h,p,this.canOverlap?o.sortKey:void 0),g=this.glyphOffsetArray.length,v=d.vertexLength,y=this.allowVerticalPlacement&&a===xu.vertical?Math.PI/2:0,m=o.text&&o.text.sections,_=0;_<e.length;_++){var b=e[_],x=b.tl,w=b.tr,S=b.bl,E=b.br,A=b.tex,O=b.pixelOffsetTL,T=b.pixelOffsetBR,C=b.minFontScaleX,P=b.minFontScaleY,M=b.glyphOffset,I=b.isSDF,k=b.sectionIndex,R=d.vertexLength,L=M[1];pl(h,s.x,s.y,x.x,L+x.y,A.x,A.y,n,I,O.x,O.y,C,P),pl(h,s.x,s.y,w.x,L+w.y,A.x+A.w,A.y,n,I,T.x,O.y,C,P),pl(h,s.x,s.y,S.x,L+S.y,A.x,A.y+A.h,n,I,O.x,T.y,C,P),pl(h,s.x,s.y,E.x,L+E.y,A.x+A.w,A.y+A.h,n,I,T.x,T.y,C,P),hl(t.dynamicLayoutVertexArray,s,y),p.emplaceBack(R,R+1,R+2),p.emplaceBack(R+1,R+2,R+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(M[0]),_!==e.length-1&&k===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(h.length,o,o.index,{},f,m&&m[k])}t.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,v,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},yl.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},yl.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,f=o.collisionVertexArray,p=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(c,f,a,p,h,new i(t,e)),this._addCollisionDebugVertex(c,f,a,p,h,new i(n,e)),this._addCollisionDebugVertex(c,f,a,p,h,new i(n,r)),this._addCollisionDebugVertex(c,f,a,p,h,new i(t,r)),u.vertexLength+=4;var d=o.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),u.primitiveLength+=4},yl.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},yl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vl(ji,Ws.members,Xi),this.iconCollisionBox=new vl(ji,Ws.members,Xi);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},yl.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,s,u){for(var l={},c=e;c<n;c++){var f=t.get(c);l.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.textFeatureIndex=f.featureIndex;break}for(var p=r;p<i;p++){var h=t.get(p);l.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.verticalTextFeatureIndex=h.featureIndex;break}for(var d=o;d<a;d++){var g=t.get(d);l.iconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},l.iconFeatureIndex=g.featureIndex;break}for(var v=s;v<u;v++){var y=t.get(v);l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}return l},yl.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},yl.prototype.hasTextData=function(){return this.text.segments.get().length>0},yl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yl.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},yl.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},yl.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},yl.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},jr("SymbolBucket",yl,{omit:["layers","collisionBoxArray","features","compareText"]}),yl.MAX_GLYPHS=65535,yl.addDynamicAttributes=hl;var ml=new xi({"symbol-placement":new vi(Pt.layout_symbol["symbol-placement"]),"symbol-spacing":new vi(Pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new vi(Pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new vi(Pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new vi(Pt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new vi(Pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new vi(Pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new vi(Pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Pt.layout_symbol["icon-size"]),"icon-text-fit":new vi(Pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new vi(Pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Pt.layout_symbol["icon-image"]),"icon-rotate":new yi(Pt.layout_symbol["icon-rotate"]),"icon-padding":new vi(Pt.layout_symbol["icon-padding"]),"icon-keep-upright":new vi(Pt.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Pt.layout_symbol["icon-offset"]),"icon-anchor":new yi(Pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new vi(Pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new vi(Pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new vi(Pt.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Pt.layout_symbol["text-field"]),"text-font":new yi(Pt.layout_symbol["text-font"]),"text-size":new yi(Pt.layout_symbol["text-size"]),"text-max-width":new yi(Pt.layout_symbol["text-max-width"]),"text-line-height":new vi(Pt.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Pt.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Pt.layout_symbol["text-justify"]),"text-radial-offset":new yi(Pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new vi(Pt.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Pt.layout_symbol["text-anchor"]),"text-max-angle":new vi(Pt.layout_symbol["text-max-angle"]),"text-writing-mode":new vi(Pt.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Pt.layout_symbol["text-rotate"]),"text-padding":new vi(Pt.layout_symbol["text-padding"]),"text-keep-upright":new vi(Pt.layout_symbol["text-keep-upright"]),"text-transform":new yi(Pt.layout_symbol["text-transform"]),"text-offset":new yi(Pt.layout_symbol["text-offset"]),"text-allow-overlap":new vi(Pt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new vi(Pt.layout_symbol["text-ignore-placement"]),"text-optional":new vi(Pt.layout_symbol["text-optional"])}),_l={paint:new xi({"icon-opacity":new yi(Pt.paint_symbol["icon-opacity"]),"icon-color":new yi(Pt.paint_symbol["icon-color"]),"icon-halo-color":new yi(Pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Pt.paint_symbol["icon-halo-blur"]),"icon-translate":new vi(Pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new vi(Pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Pt.paint_symbol["text-opacity"]),"text-color":new yi(Pt.paint_symbol["text-color"],{runtimeType:Ut,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new yi(Pt.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Pt.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Pt.paint_symbol["text-halo-blur"]),"text-translate":new vi(Pt.paint_symbol["text-translate"]),"text-translate-anchor":new vi(Pt.paint_symbol["text-translate-anchor"])}),layout:ml},bl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Ft,this.defaultValue=t};bl.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},bl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},bl.prototype.outputDefined=function(){return!1},bl.prototype.serialize=function(){return null},jr("FormatSectionOverride",bl,{omit:["defaultValue"]});var xl=function(t){function e(e){t.call(this,e,_l)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Yn(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new yl(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=_l.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new bl(o),s=new Hn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new qn("source",s):new Zn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new di(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=_l.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof re)o(n.value.value.sections);else if("source"===n.value.kind){var a=function t(e){i||(e instanceof le&&se(e.value)===Ht?o(e.value.sections):e instanceof he?o(e.sections):e.eachChild(t))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},e}(wi),wl={paint:new xi({"background-color":new vi(Pt.paint_background["background-color"]),"background-pattern":new _i(Pt.paint_background["background-pattern"]),"background-opacity":new vi(Pt.paint_background["background-opacity"])})},Sl=function(t){function e(e){t.call(this,e,wl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),El={paint:new xi({"raster-opacity":new vi(Pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new vi(Pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new vi(Pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new vi(Pt.paint_raster["raster-brightness-max"]),"raster-saturation":new vi(Pt.paint_raster["raster-saturation"]),"raster-contrast":new vi(Pt.paint_raster["raster-contrast"]),"raster-resampling":new vi(Pt.paint_raster["raster-resampling"]),"raster-fade-duration":new vi(Pt.paint_raster["raster-fade-duration"])})},Al=function(t){function e(e){t.call(this,e,El)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wi),Ol=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(wi),Tl={circle:pa,heatmap:wa,hillshade:Ea,fill:cs,"fill-extrusion":Ts,line:Bs,symbol:xl,background:Sl,raster:Al},Cl=a.HTMLImageElement,Pl=a.HTMLCanvasElement,Ml=a.HTMLVideoElement,Il=a.ImageData,kl=a.ImageBitmap,Rl=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Rl.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Cl||t instanceof Pl||t instanceof Ml||t instanceof Il||kl&&t instanceof kl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;t instanceof Cl||t instanceof Pl||t instanceof Ml||t instanceof Il||kl&&t instanceof kl?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Rl.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Rl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ll=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Ll.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},Ll.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Dl=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Ll(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?t:a};function Nl(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Dl.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=P(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Dl.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else O()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Dl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Dl.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Gr(e.error)):r(null,Gr(e.data)))}else{var i=!1,o=P(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Vr(e):null,data:Vr(r,o)},o)}:function(t){i=!0},s=null,u=Gr(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,u,a);else if(this.parent.getWorkerSource){var l=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,l[0],u.source)[l[1]](u,a)}else a(new Error("Could not find function "+e.type));!i&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Dl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Fl=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Fl.prototype.setNorthEast=function(t){return this._ne=t instanceof jl?new jl(t.lng,t.lat):jl.convert(t),this},Fl.prototype.setSouthWest=function(t){return this._sw=t instanceof jl?new jl(t.lng,t.lat):jl.convert(t),this},Fl.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof jl)e=t,n=t;else{if(!(t instanceof Fl))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Fl.convert(t)):this.extend(jl.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new jl(e.lng,e.lat),this._ne=new jl(n.lng,n.lat)),this},Fl.prototype.getCenter=function(){return new jl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Fl.prototype.getSouthWest=function(){return this._sw},Fl.prototype.getNorthEast=function(){return this._ne},Fl.prototype.getNorthWest=function(){return new jl(this.getWest(),this.getNorth())},Fl.prototype.getSouthEast=function(){return new jl(this.getEast(),this.getSouth())},Fl.prototype.getWest=function(){return this._sw.lng},Fl.prototype.getSouth=function(){return this._sw.lat},Fl.prototype.getEast=function(){return this._ne.lng},Fl.prototype.getNorth=function(){return this._ne.lat},Fl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Fl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Fl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Fl.prototype.contains=function(t){var e=jl.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Fl.convert=function(t){return!t||t instanceof Fl?t:new Fl(t)};var jl=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};jl.prototype.wrap=function(){return new jl(f(this.lng,-180,180),this.lat)},jl.prototype.toArray=function(){return[this.lng,this.lat]},jl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},jl.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},jl.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Fl(new jl(this.lng-n,this.lat-e),new jl(this.lng+n,this.lat+e))},jl.convert=function(t){if(t instanceof jl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new jl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new jl(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Bl=2*Math.PI*6371008.8;function zl(t){return Bl*Math.cos(t*Math.PI/180)}function Ul(t){return(180+t)/360}function Vl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Gl(t,e){return t/zl(e)}function Wl(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Hl=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Hl.fromLngLat=function(t,e){void 0===e&&(e=0);var n=jl.convert(t);return new Hl(Ul(n.lng),Vl(n.lat),Gl(e,n.lat))},Hl.prototype.toLngLat=function(){return new jl(360*this.x-180,Wl(this.y))},Hl.prototype.toAltitude=function(){return this.z*zl(Wl(this.y))},Hl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Bl*(t=Wl(this.y),1/Math.cos(t*Math.PI/180));var t};var Yl=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Zl(0,t,t,e,n)};Yl.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Yl.prototype.url=function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Nl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Nl(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Yl.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},Yl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Xl=function(t,e){this.wrap=t,this.canonical=e,this.key=Zl(t,e.z,e.z,e.x,e.y)},ql=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Yl(n,+r,+i),this.key=Zl(e,t,n,r,i)};function Zl(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}ql.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},ql.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new ql(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ql(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},ql.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Zl(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Zl(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},ql.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},ql.prototype.children=function(t){if(this.overscaledZ>=t)return[new ql(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new ql(e,this.wrap,e,n,r),new ql(e,this.wrap,e,n+1,r),new ql(e,this.wrap,e,n,r+1),new ql(e,this.wrap,e,n+1,r+1)]},ql.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},ql.prototype.wrapped=function(){return new ql(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ql.prototype.unwrapTo=function(t){return new ql(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},ql.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ql.prototype.toUnwrapped=function(){return new Xl(this.wrap,this.canonical)},ql.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ql.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Hl(t.x-this.wrap,t.y))},jr("CanonicalTileID",Yl),jr("OverscaledTileID",ql,{omit:["posMatrix"]});var Kl=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Kl.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Kl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Kl.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Kl.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Kl.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Kl.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kl.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=t.data[this._idx(c+s,l+u)]},jr("DEMData",Kl);var Ql=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Ql.prototype.encode=function(t){return this._stringToNumber[t]},Ql.prototype.decode=function(t){return this._numberToString[t]};var Jl=function(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i},$l={geometry:{configurable:!0}};$l.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$l.geometry.set=function(t){this._geometry=t},Jl.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Jl.prototype,$l);var tc=function(){this.state={},this.stateChanges={},this.deletedStates={}};tc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},p(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},tc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},tc.prototype.getState=function(t,e){var n=String(e),r=p({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},tc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},tc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var c=0,f=Object.keys(this.deletedStates[a][l]);c<f.length;c+=1)delete this.state[a][l][f[c]];s[l]=this.state[a][l]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in t)t[h].setFeatureState(n,e)};var ec=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Rr(8192,16,0),this.grid3D=new Rr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=e};function nc(t,e,n,r,i){return _(t,(function(t,o){var a=e instanceof gi?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function ic(t,e){return e-t}ec.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,u=0;u<e.length;u++){for(var l=e[u],c=[1/0,1/0,-1/0,-1/0],f=0;f<l.length;f++){var p=l[f];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ec.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Ql(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ec.prototype.query=function(t,e,n,r){var o=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,u=ar(a.filter),l=t.queryGeometry,c=t.queryPadding*s,f=rc(l),p=this.grid.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c),h=rc(t.cameraQueryGeometry),d=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,s=t;a<s.length;a+=1){var u=s[a];if(e<=u.x&&n<=u.y&&r>=u.x&&o>=u.y)return!0}var l=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var c=0,f=l;c<f.length;c+=1)if($o(t,f[c]))return!0;for(var p=0;p<t.length-1;p++)if(ta(t[p],t[p+1],l))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,o+c)})),g=0,v=d;g<v.length;g+=1)p.push(v[g]);p.sort(ic);for(var y,m={},_=function(i){var c=p[i];if(c!==y){y=c;var f=o.featureIndexArray.get(c),h=null;o.loadMatchingFeature(m,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,u,a.layers,a.availableImages,e,n,r,(function(e,n,r){return h||(h=zo(e)),n.queryIntersectsFeature(l,e,r,h,o.z,t.transform,s,t.pixelPosMatrix)}))}},b=0;b<p.length;b++)_(b);return m},ec.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s,u,l,c){var f=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,f)){var h=this.sourceLayerCoder.decode(n),d=this.vtLayers[h].feature(r);if(i.needGeometry){var g=Uo(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),g,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var v=this.getId(d,h),y=0;y<f.length;y++){var m=f[y];if(!(o&&o.indexOf(m)<0)){var _=s[m];if(_){var b={};void 0!==v&&l&&(b=l.getState(_.sourceLayer||"_geojsonTileLayer",v));var x=p({},u[m]);x.paint=nc(x.paint,_.paint,d,b,a),x.layout=nc(x.layout,_.layout,d,b,a);var w=!c||c(d,_,b);if(w){var S=new Jl(d,this.z,this.x,this.y,v);S.layer=x;var E=t[m];void 0===E&&(E=t[m]=[]),E.push({featureIndex:r,feature:S,intersectionZ:w})}}}}}},ec.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o,a,s){var u={};this.loadVTLayers();for(var l=ar(i),c=0,f=t;c<f.length;c+=1)this.loadMatchingFeature(u,n,r,f[c],l,o,a,s,e);return u},ec.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},ec.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},jr("FeatureIndex",ec,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(t,e){this.tileID=t,this.uid=d(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<j.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof yl&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(u))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Qi},oc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(t){return this.buckets[t.id]},oc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rl(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rl(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:a,queryPadding:this.queryPadding*u},t,e,n):{}},oc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(e&&e.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,f={z:u,x:l,y:c},p=0;p<o.length;p++){var h=o.feature(p);if(a.needGeometry){var d=Uo(h,!0);if(!a.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),h))continue;var g=n.getId(h,i),v=new Jl(h,u,l,c,g);v.tile=f,t.push(v)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=T(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=e&&e.style&&e.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<j.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=j.now()+t},oc.prototype.setDependencies=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[t]=n},oc.prototype.hasDependency=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=e;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var t=ac.getEntriesByName(this._marks.measure);return 0===t.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),t=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),t},t.Actor=Dl,t.AlphaImage=ma,t.CanonicalTileID=Yl,t.CollisionBoxArray=Qi,t.Color=te,t.DEMData=Kl,t.DataConstantProperty=vi,t.DictionaryCoder=Ql,t.EXTENT=8192,t.ErrorEvent=Tt,t.EvaluationParameters=si,t.Event=Ot,t.Evented=Ct,t.FeatureIndex=ec,t.FillBucket=ss,t.FillExtrusionBucket=Es,t.ImageAtlas=bu,t.ImagePosition=mu,t.LineBucket=Ds,t.LngLat=jl,t.LngLatBounds=Fl,t.MercatorCoordinate=Hl,t.ONE_EM=24,t.OverscaledTileID=ql,t.Point=i,t.Point$1=i,t.Properties=xi,t.Protobuf=Ks,t.RGBAImage=_a,t.RequestManager=H,t.RequestPerformance=sc,t.ResourceType=dt,t.SegmentVector=so,t.SourceFeatureState=tc,t.StructArrayLayout1ui2=qi,t.StructArrayLayout2f1f2i16=Bi,t.StructArrayLayout2i4=Ci,t.StructArrayLayout3ui6=Ui,t.StructArrayLayout4i8=Pi,t.SymbolBucket=yl,t.Texture=Rl,t.Tile=oc,t.Transitionable=ci,t.Uniform1f=xo,t.Uniform1i=bo,t.Uniform2f=wo,t.Uniform3f=So,t.Uniform4f=Eo,t.UniformColor=Ao,t.UniformMatrix4f=To,t.UnwrappedTileID=Xl,t.ValidationError=Mt,t.WritingMode=xu,t.ZoomHistory=Wr,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=hl,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=u,t.bindAll=y,t.browser=j,t.cacheEntryPossiblyAdded=function(t){++pt>ut&&(t.getActor().send("enforceCacheSizeLimit",st),pt=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=Yu,t.clone=function(t){var e=new aa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=x,t.clone$2=function(t){var e=new aa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Hs,t.config=B,t.create=function(){var t=new aa(16);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new aa(9);return aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new aa(4);return aa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Xn,t.createLayout=Oi,t.createStyleLayer=function(t){return"custom"===t.type?new Ol(t):new Tl[t.type](t)},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=l,t.emitValidationErrors=kr,t.endsWith=m,t.enforceCacheSizeLimit=function(t){lt(),tt&&tt.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=Fu,t.evaluateSizeForZoom=ju,t.evaluateVariableOffset=ol,t.evented=ri,t.extend=p,t.featureFilter=ar,t.filterObject=b,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=ku,t.getAnchorJustification=al,t.getArrayBuffer=bt,t.getImage=St,t.getJSON=function(t,e){return _t(p(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ii,t.getReferrer=mt,t.getVideo=function(t,e){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var s=a.document.createElement("source");n=t[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=t[o],i.appendChild(s)}return{cancel:function(){}}},t.identity=sa,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,S=i*l-o*u,E=c*g-f*d,A=c*v-p*d,O=c*y-h*d,T=f*v-p*g,C=f*y-h*g,P=p*y-h*v,M=m*P-_*C+b*T+x*O-w*A+S*E;return M?(t[0]=(s*P-u*C+l*T)*(M=1/M),t[1]=(i*C-r*P-o*T)*M,t[2]=(g*S-v*w+y*x)*M,t[3]=(p*w-f*S-h*x)*M,t[4]=(u*O-a*P-l*A)*M,t[5]=(n*P-i*O+o*A)*M,t[6]=(v*b-d*S-y*_)*M,t[7]=(c*S-p*b+h*_)*M,t[8]=(a*C-s*O+l*E)*M,t[9]=(r*O-n*C-o*E)*M,t[10]=(d*w-g*b+y*m)*M,t[11]=(f*b-c*w-h*m)*M,t[12]=(s*A-a*T-u*E)*M,t[13]=(n*T-r*A+i*E)*M,t[14]=(g*_-d*x-v*m)*M,t[15]=(c*x-f*_+p*m)*M,t):null},t.isChar=Hr,t.isMapboxURL=Y,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=Ul,t.mercatorYfromLat=Vl,t.mercatorZfromAltitude=Gl,t.mul=ca,t.multiply=ua,t.mvt=bs,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=We,t.offscreenCanvasSupported=ht,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},t.parseGlyphPBF=function(t){return new Ks(t).readFields(du,[])},t.pbf=Ks,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,f=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(c.minZoom),a),u["text-size"].possiblyEvaluate(new si(f),a)]}if("composite"===t.iconSizeData.kind){var p=t.iconSizeData,h=p.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(p.minZoom),a),u["icon-size"].possiblyEvaluate(new si(h),a)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new si(t.zoom+1),a),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(t.zoom+1),a),l.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),y=s.get("text-size"),m=function(){var o=b[_],u=s.get("text-font").evaluate(o,{},a).join(","),c=y.evaluate(o,{},a),f=l.layoutTextSize.evaluate(o,{},a),p=l.layoutIconSize.evaluate(o,{},a),h={horizontal:{},vertical:void 0},m=o.text,x=[0,0];if(m){var w=m.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),A=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),Hr.Arabic(r)||Hr["Arabic Supplement"](r)||Hr["Arabic Extended-A"](r)||Hr["Arabic Presentation Forms-A"](r)||Hr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?E:0,O=s.get("text-anchor").evaluate(o,{},a),T=s.get("text-variable-anchor");if(!T){var C=s.get("text-radial-offset").evaluate(o,{},a);x=C?ol(O,[24*C,il]):s.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var P=g?"center":s.get("text-justify").evaluate(o,{},a),M=s.get("symbol-placement"),I="point"===M?24*s.get("text-max-width").evaluate(o,{},a):0,k=function(){t.allowVerticalPlacement&&Yr(w)&&(h.vertical=Eu(m,e,n,i,u,I,d,O,"left",A,x,xu.vertical,!0,M,f,c))};if(!g&&T){for(var R="auto"===P?T.map((function(t){return al(t)})):[P],L=!1,D=0;D<R.length;D++){var N=R[D];if(!h.horizontal[N])if(L)h.horizontal[N]=h.horizontal[0];else{var F=Eu(m,e,n,i,u,I,d,"center",N,A,x,xu.horizontal,!1,M,f,c);F&&(h.horizontal[N]=F,L=1===F.positionedLines.length)}}k()}else{"auto"===P&&(P=al(O));var j=Eu(m,e,n,i,u,I,d,O,P,A,x,xu.horizontal,!1,M,f,c);j&&(h.horizontal[P]=j),k(),Yr(w)&&g&&v&&(h.vertical=Eu(m,e,n,i,u,I,d,O,P,A,x,xu.vertical,!1,M,f,c))}}var B=void 0,z=!1;if(o.icon&&o.icon.name){var U=r[o.icon.name];U&&(B=function(t,e,n){var r=ku(n),i=e[0]-t.displaySize[0]*r.horizontalAlign,o=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),z=U.sdf,void 0===t.sdfIcons?t.sdfIcons=U.sdf:t.sdfIcons!==U.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var V=ul(h.horizontal)||h.vertical;t.iconsInText=!!V&&V.iconsInText,(V||B)&&function(t,e,n,r,i,o,a,s,u,l,c){var f=o.textMaxSize.evaluate(e,{});void 0===f&&(f=a);var p,h=t.layers[0].layout,d=h.get("icon-offset").evaluate(e,{},c),g=ul(n.horizontal),v=a/24,y=t.tilePixelRatio*v,m=t.tilePixelRatio*f/24,_=t.tilePixelRatio*s,b=t.tilePixelRatio*h.get("symbol-spacing"),x=h.get("text-padding")*t.tilePixelRatio,w=h.get("icon-padding")*t.tilePixelRatio,E=h.get("text-max-angle")/180*Math.PI,A="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),O="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),T=h.get("symbol-placement"),C=b/2,P=h.get("icon-text-fit");r&&"none"!==P&&(t.allowVerticalPlacement&&n.vertical&&(p=Lu(r,n.vertical,P,h.get("icon-text-fit-padding"),d,v)),g&&(r=Lu(r,g,P,h.get("icon-text-fit-padding"),d,v)));var M=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,E,A){var O,T,C,P,M,I=t.addToLineVertexArray(e,n),k=0,R=0,L=0,D=0,N=-1,F=-1,j={},B=po(""),z=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(z=(O=s.layout.get("text-offset").evaluate(b,{},E).map((function(t){return 24*t})))[0],U=O[1]):(z=24*s.layout.get("text-radial-offset").evaluate(b,{},E),U=il),t.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(b,{},E)+90;P=new Ju(u,e,l,c,f,r.vertical,p,h,d,V),a&&(M=new Ju(u,e,l,c,f,a,v,y,d,V))}if(i){var G=s.layout.get("icon-rotate").evaluate(b,{}),W="none"!==s.layout.get("icon-text-fit"),H=Xu(i,G,w,W),Y=a?Xu(a,G,w,W):void 0;C=new Ju(u,e,l,c,f,i,v,y,!1,G),k=4*H.length;var X=t.iconSizeData,q=null;"source"===X.kind?(q=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===X.kind&&((q=[128*x.compositeIconSizes[0].evaluate(b,{},E),128*x.compositeIconSizes[1].evaluate(b,{},E)])[0]>32640||q[1]>32640)&&S(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,H,q,_,m,b,!1,e,I.lineStartIndex,I.lineLength,-1,E),N=t.icon.placedSymbolArray.length-1,Y&&(R=4*Y.length,t.addSymbols(t.icon,Y,q,_,m,b,xu.vertical,e,I.lineStartIndex,I.lineLength,-1,E),F=t.icon.placedSymbolArray.length-1)}for(var Z in r.horizontal){var K=r.horizontal[Z];if(!T){B=po(K.text);var Q=s.layout.get("text-rotate").evaluate(b,{},E);T=new Ju(u,e,l,c,f,K,p,h,d,Q)}var J=1===K.positionedLines.length;if(L+=sl(t,e,K,o,s,d,b,g,I,r.vertical?xu.horizontal:xu.horizontalOnly,J?Object.keys(r.horizontal):[Z],j,N,x,E),J)break}r.vertical&&(D+=sl(t,e,r.vertical,o,s,d,b,g,I,xu.vertical,["vertical"],j,F,x,E));var $=T?T.boxStartIndex:t.collisionBoxArray.length,tt=T?T.boxEndIndex:t.collisionBoxArray.length,et=P?P.boxStartIndex:t.collisionBoxArray.length,nt=P?P.boxEndIndex:t.collisionBoxArray.length,rt=C?C.boxStartIndex:t.collisionBoxArray.length,it=C?C.boxEndIndex:t.collisionBoxArray.length,ot=M?M.boxStartIndex:t.collisionBoxArray.length,at=M?M.boxEndIndex:t.collisionBoxArray.length,st=-1,ut=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=ut(T,st),st=ut(P,st),st=ut(C,st);var lt=(st=ut(M,st))>-1?1:0;lt&&(st*=A/24),t.glyphOffsetArray.length>=yl.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical||-1,N,F,B,$,tt,et,nt,rt,it,ot,at,l,L,D,k,R,lt,0,p,z,U,st)}(t,f,s,n,r,i,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,x,A,u,_,w,O,d,e,o,l,c,a)};if("line"===T)for(var I=0,k=Yu(e.geometry,0,0,8192,8192);I<k.length;I+=1)for(var R=k[I],L=0,D=Hu(R,b,E,n.vertical||g,r,24,m,t.overscaling,8192);L<D.length;L+=1){var N=D[L];g&&ll(t,g.text,C,N)||M(R,N)}else if("line-center"===T)for(var F=0,j=e.geometry;F<j.length;F+=1){var B=j[F];if(B.length>1){var z=Wu(B,E,n.vertical||g,r,24,m);z&&M(B,z)}}else if("Polygon"===e.type)for(var U=0,V=rs(e.geometry,0);U<V.length;U+=1){var G=V[U],W=el(G,16);M(G[0],new Du(W.x,W.y,0))}else if("LineString"===e.type)for(var H=0,Y=e.geometry;H<Y.length;H+=1){var X=Y[H];M(X,new Du(X[0].x,X[0].y,0))}else if("Point"===e.type)for(var q=0,Z=e.geometry;q<Z.length;q+=1)for(var K=0,Q=Z[q];K<Q.length;K+=1){var J=Q[K];M([J],new Du(J.x,J.y,0))}}(t,o,h,B,r,l,f,p,x,z,a)},_=0,b=t.features;_<b.length;_+=1)m();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=ai,t.polygonIntersectsPolygon=Wo,t.postMapLoadEvent=at,t.postTurnstileEvent=it,t.potpack=yu,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=jr,t.registerForPluginStateChange=function(t){return t({pluginStatus:$r,pluginURL:ti}),ri.on("pluginStateChange",t),t},t.renderColorRamp=xa,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){st=t,ut=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ti=j.resolveURL(t),$r="deferred",Jr=e,ni(),n||oi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Pt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Bu,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=fa,t.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,p,h,d,g=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*g+e[4]*v+e[8]*y+e[12],t[13]=e[1]*g+e[5]*v+e[9]*y+e[13],t[14]=e[2]*g+e[6]*v+e[10]*y+e[14],t[15]=e[3]*g+e[7]*v+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*g+s*v+f*y+e[12],t[13]=i*g+u*v+p*y+e[13],t[14]=o*g+l*v+h*y+e[14],t[15]=a*g+c*v+d*y+e[15]),t},t.triggerPluginCompletionEvent=ei,t.uniqueId=d,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Pr,t.validateStyle=Cr,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=bs,t.version="1.13.2",t.warnOnce=S,t.webpSupported=z,t.window=a,t.wrap=f})),r(["./shared"],(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+e(t[a[u]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=t.createStyleLayer(s);u._featureFilter=t.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=r;l<c.length;l+=1){var f=c[l];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var p=0,h=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var u in r)s.push(r[u]);return s}(t.values(this._layerConfigs),this.keyCache);p<h.length;p+=1){var d=h[p].map((function(t){return i._layers[t.id]})),g=d[0];if("none"!==g.visibility){var v=g.source||"",y=this.familiesBySource[v];y||(y=this.familiesBySource[v]={});var m=g.sourceLayer||"_geojsonTileLayer",_=y[m];_||(_=y[m]=[]),_.push(d)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=t.potpack(r),f=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var p in e){var h=e[p];for(var d in h){var g=h[+d];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var v=n[p][d].rect;t.AlphaImage.copy(g.bitmap,f,{x:0,y:0},{x:v.x+1,y:v.y+1},g.bitmap)}}}this.image=f,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}function s(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(e,n,r,o,s){var u=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var f,p,h,d,g={},v={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var m in y){var _=e.layers[m];if(_){1===_.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+m+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(m),x=[],w=0;w<_.length;w++){var S=_.feature(w),E=c.getId(S,m);x.push({feature:S,id:E,index:w,sourceLayerIndex:b})}for(var A=0,O=y[m];A<O.length;A+=1){var T=O[A],C=T[0];C.minzoom&&this.zoom<Math.floor(C.minzoom)||C.maxzoom&&this.zoom>=C.maxzoom||"none"!==C.visibility&&(a(T,this.zoom,r),(g[C.id]=C.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,v,this.tileID.canonical),c.bucketLayerIDs.push(T.map((function(t){return t.id}))))}}}var P=t.mapObject(v.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(P).length?o.send("getGlyphs",{uid:this.uid,stacks:P},(function(t,e){f||(f=t,p=e,k.call(u))})):p={};var M=Object.keys(v.iconDependencies);M.length?o.send("getImages",{icons:M,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){f||(f=t,h=e,k.call(u))})):h={};var I=Object.keys(v.patternDependencies);function k(){if(f)return s(f);if(p&&h&&d){var e=new i(p),n=new t.ImageAtlas(h,d);for(var o in g){var u=g[o];u instanceof t.SymbolBucket?(a(u.layers,this.zoom,r),t.performSymbolLayout(u,p,e.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof t.LineBucket||u instanceof t.FillBucket||u instanceof t.FillExtrusionBucket)&&(a(u.layers,this.zoom,r),u.addFeatures(v,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(g).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}I.length?o.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){f||(f=t,d=e,k.call(u))})):d={},k.call(this)};var u=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var u=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var c={};if(a){var f=a.finish();f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:u.slice(0)},r,l,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},u.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},u.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var l=t.window.ImageBitmap,c=function(){this.loaded={}};function f(t,e){if(0!==t.length){p(t[0],e);for(var n=1;n<t.length;n++)p(t[n],!e)}}function p(t,e){for(var n=0,r=0,i=t.length,o=i-1;r<i;o=r++)n+=(t[r][0]-t[o][0])*(t[o][1]+t[r][1]);n>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=l&&o instanceof l?this.getImageData(o):o,s=new t.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var h=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var f=c[l];u.push(new t.Point$1(f[0],f[1]))}o.push(u)}return o},d.prototype.toGeoJSON=function(t,e,n){return h.call(this,t,e,n)};var g=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};g.prototype.feature=function(t){return new d(this._features[t])};var v=t.vectorTile.VectorTileFeature,y=m;function m(t,e){this.options=e||{},this.features=t,this.length=t.length}function _(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}m.prototype.feature=function(t){return new _(this.features[t],this.options.extent)},_.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},_.prototype.toGeoJSON=v.prototype.toGeoJSON;var b=w,x=y;function w(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,S,t.layers[n])}(e,n),n.finish()}function S(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,E,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,P,o[n])}function E(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,A,t),e.writeVarintField(3,n.type),e.writeMessage(4,C,n)}function A(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),o[s]=u=r.length-1),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,p=a[f];void 0===p&&(i.push(l),a[f]=p=i.length-1),e.writeVarint(p)}}function O(t,e){return(e<<3)+(7&t)}function T(t){return t<<1^t>>31}function C(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),e.writeVarint(O(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&e.writeVarint(O(2,c-1));var p=u[f].x-i,h=u[f].y-o;e.writeVarint(T(p)),e.writeVarint(T(h)),i+=p,o+=h}3===r&&e.writeVarint(O(7,1))}}function P(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function M(t,e,n,r){I(t,n,r),I(e,2*n,2*r),I(e,2*n+1,2*r+1)}function I(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function k(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new y(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return w({layers:n})},b.GeoJSONWrapper=x;var R=function(t){return t[0]},L=function(t){return t[1]},D=function(t,e,n,r,i){void 0===e&&(e=R),void 0===n&&(n=L),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=n(t[u]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var p=n[2*r+a],h=i,d=o;for(M(e,n,i,r),n[2*o+a]>p&&M(e,n,i,o);h<d;){for(M(e,n,h,d),h++,d--;n[2*h+a]<p;)h++;for(;n[2*d+a]>p;)d--}n[2*i+a]===p?M(e,n,i,d):M(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};D.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),h=l.pop();if(p-h<=a)for(var d=h;d<=p;d++)u=e[2*d+1],(s=e[2*d])>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);else{var g=Math.floor((h+p)/2);u=e[2*g+1],(s=e[2*g])>=n&&s<=i&&u>=r&&u<=o&&c.push(t[g]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(h),l.push(g-1),l.push(v)),(0===f?i>=s:o>=u)&&(l.push(g+1),l.push(p),l.push(v))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},D.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var p=f;p<=c;p++)k(e[2*p],e[2*p+1],n,r)<=u&&s.push(t[p]);else{var h=Math.floor((f+c)/2),d=e[2*h],g=e[2*h+1];k(d,g,n,r)<=u&&s.push(t[h]);var v=(l+1)%2;(0===l?n-i<=d:r-i<=g)&&(a.push(f),a.push(h-1),a.push(v)),(0===l?n+i>=d:r+i>=g)&&(a.push(h+1),a.push(c),a.push(v))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var N={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},F=function(t){this.options=W(Object.create(N),t),this.trees=new Array(this.options.maxZoom+1)};function j(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function B(t,e){var n=t.geometry.coordinates,r=n[1];return{x:V(n[0]),y:G(r),zoom:1/0,index:e,parentId:-1}}function z(t){return{type:"Feature",id:t.id,properties:U(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function U(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return W(W({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function V(t){return t/360+.5}function G(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function W(t,e){for(var n in e)t[n]=e[n];return t}function H(t){return t.x}function Y(t){return t.y}function X(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function q(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Z(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Z(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Z(t,e[r][i])}(i),i}function Z(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function K(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)Q(i,s);else if("MultiPoint"===o)for(var l=0;l<i.length;l++)Q(i[l],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<i.length;l++)J(i[l],s=[],a,!1),t.push(q(u,"LineString",s,e.properties));return}$(i,s,a,!1)}else if("Polygon"===o)$(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)K(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];$(i[l],c,a,!0),s.push(c)}}t.push(q(u,o,s,e.properties))}}function Q(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function J(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var u=tt(t[s][0]),l=et(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,l=e[n],c=e[n+1],f=e[r],p=e[r+1],h=n+3;h<r;h+=3){var d=X(e[h],e[h+1],l,c,f,p);if(d>a)o=h,a=d;else if(d===a){var g=Math.abs(h-s);g<u&&(o=h,u=g)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function $(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];J(t[i],o,n,r),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.type,h=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(h>=n&&d<r)u.push(c);else if(!(d<n||h>=r)){var g=[];if("Point"===p||"MultiPoint"===p)rt(f,g,n,r,i);else if("LineString"===p)it(f,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)at(f,g,n,r,i,!1);else if("Polygon"===p)at(f,g,n,r,i,!0);else if("MultiPolygon"===p)for(var v=0;v<f.length;v++){var y=[];at(f[v],y,n,r,i,!0),y.length&&g.push(y)}if(g.length){if(s.lineMetrics&&"LineString"===p){for(v=0;v<g.length;v++)u.push(q(c.id,p,g[v],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===g.length?"Point":"MultiPoint"),u.push(q(c.id,p,g,c.tags))}}}return u.length?u:null}function rt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function it(t,e,n,r,i,o,a){for(var s,u,l=ot(t),c=0===i?ut:lt,f=t.start,p=0;p<t.length-3;p+=3){var h=t[p],d=t[p+1],g=t[p+2],v=t[p+3],y=t[p+4],m=0===i?h:d,_=0===i?v:y,b=!1;a&&(s=Math.sqrt(Math.pow(h-v,2)+Math.pow(d-y,2))),m<n?_>n&&(u=c(l,h,d,v,y,n),a&&(l.start=f+s*u)):m>r?_<r&&(u=c(l,h,d,v,y,r),a&&(l.start=f+s*u)):st(l,h,d,g),_<n&&m>=n&&(u=c(l,h,d,v,y,n),b=!0),_>r&&m<=r&&(u=c(l,h,d,v,y,r),b=!0),!o&&b&&(a&&(l.end=f+s*u),e.push(l),l=ot(t)),a&&(f+=s)}var x=t.length-3;h=t[x],d=t[x+1],g=t[x+2],(m=0===i?h:d)>=n&&m<=r&&st(l,h,d,g),x=l.length-3,o&&x>=3&&(l[x]!==l[0]||l[x+1]!==l[1])&&st(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,r,i,o){for(var a=0;a<t.length;a++)it(t[a],e,n,r,i,o,!1)}function st(t,e,n,r){t.push(e),t.push(n),t.push(r)}function ut(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function lt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=ft(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(ft(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(ft(o.geometry[s][l],e));i.push(u)}n.push(q(o.id,a,i,o.tags))}return n}function ft(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function pt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(ht(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(ht(l[r][i],l[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function ht(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function dt(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,gt(a,t[s],o,i);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function gt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)vt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)vt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)vt(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},e.tags)c[f]=e.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function vt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function yt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)K(n,t.features[r],e,r);else K(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=nt(t,1,-1-n,n,0,-1,2,e),o=nt(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=nt(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=ct(i,1).concat(r)),o&&(r=r.concat(ct(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function mt(t,e,n){return 32*((1<<t)*n+e)+t}function _t(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new g(r.features),o=b(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}F.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(B(t[u],u));this.trees[i+1]=new D(s,H,Y,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new D(s,H,Y,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},F.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,f=u.range(V(n),G(o),V(i),G(r));c<f.length;c+=1){var p=u.points[f[c]];l.push(p.numPoints?z(p):this.points[p.index])}return l},F.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(o.x,o.y,a);u<l.length;u+=1){var c=i.points[l[u]];c.parentId===t&&s.push(c.numPoints?z(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},F.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},F.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,u),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},F.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},F.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},F.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:l?U(u):this.points[u.index].properties},f=void 0;l?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(c.id=f),o.features.push(c)}},F.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},F.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,e)),s=0;s<t.length;s++){var u=t[s];if(!(u.zoom<=e)){u.zoom=e;for(var l=this.trees[e+1],c=l.within(u.x,u.y,a),f=u.numPoints||1,p=f,h=0,d=c;h<d.length;h+=1){var g=l.points[d[h]];g.zoom>e&&(p+=g.numPoints||1)}if(p>=o){for(var v=u.x*f,y=u.y*f,m=i&&f>1?this._map(u,!0):null,_=(s<<5)+(e+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=l.points[x[b]];if(!(w.zoom<=e)){w.zoom=e;var S=w.numPoints||1;v+=w.x*S,y+=w.y*S,w.parentId=_,i&&(m||(m=this._map(u,!0)),i(m,this._map(w)))}}u.parentId=_,n.push(j(v/p,y/p,_,p,m))}else if(n.push(u),p>1)for(var E=0,A=c;E<A.length;E+=1){var O=l.points[A[E]];O.zoom<=e||(O.zoom=e,n.push(O))}}}return n},F.prototype._getOriginId=function(t){return t-this.points.length>>5},F.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},F.prototype._map=function(t,e){if(t.numPoints)return e?W({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?W({},r):r},yt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},yt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,f=mt(e,n,r),p=this.tiles[f];if(!p&&(l>1&&console.time("creation"),p=this.tiles[f]=dt(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+e;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=t,i){if(e===u.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var g,v,y,m,_,b,x=.5*u.buffer/u.extent,w=.5-x,S=.5+x,E=1+x;g=v=y=m=null,_=nt(t,c,n-x,n+S,0,p.minX,p.maxX,u),b=nt(t,c,n+w,n+E,0,p.minX,p.maxX,u),t=null,_&&(g=nt(_,c,r-x,r+S,1,p.minY,p.maxY,u),v=nt(_,c,r+w,r+E,1,p.minY,p.maxY,u),_=null),b&&(y=nt(b,c,r-x,r+S,1,p.minY,p.maxY,u),m=nt(b,c,r+w,r+E,1,p.minY,p.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*r),s.push(v||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(m||[],e+1,2*n+1,2*r+1)}}},yt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=mt(t,e=(e%a+a)%a,n);if(this.tiles[s])return pt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[mt(l,c,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,f),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pt(this.tiles[s],i):null):null};var bt=function(e){function n(t,n,r,i){e.call(this,t,n,r,_t),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)f(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)f(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(t){return t.key+": "+t.message})).join(", "));var u=a.features.filter((function(t){return s.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:u}}e._geoJSONIndex=r.cluster?new F(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l+=1){var f=c[l],p=r[f],h=p[0],d=t.createExpression(p[1]),g=t.createExpression("string"==typeof h?[h,["accumulated"],["get",f]]:h);i[f]=d.value,o[f]=g.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=u;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new yt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var l={};if(i){var c=i.finish();c&&(l.resourceTiming={},l.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,l)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(u),xt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return xt.prototype.setReferrer=function(t,e){this.referrer=e},xt.prototype.setImages=function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()},xt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},xt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},xt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},xt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},xt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},xt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},xt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},xt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},xt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},xt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},xt.prototype.syncRTLPluginState=function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(t){r(t.toString())}},xt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},xt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},xt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},xt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},xt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xt(self)),xt})),r(["./shared"],(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===r[n=t&&t.failIfMajorPerformanceCaveat]&&(r[n]=function(t){var n=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document&&t.window.document.documentElement.style;function i(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});t.window.addEventListener("test",l,l),t.window.removeEventListener("test",l,l)}catch(t){u=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&u?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&u?r:r.capture)};var c=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};function f(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new t.Point(n[o].clientX-r.left-e.clientLeft,n[o].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var p=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,f=this.images[s].data,p=f.width,h=f.height;t.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c},{width:p,height:h}),t.RGBAImage.copy(f,a,{x:0,y:h-1},{x:l,y:c-1},{width:p,height:1}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:l,y:c+h},{width:p,height:1}),t.RGBAImage.copy(f,a,{x:p-1,y:0},{x:l-1,y:c},{width:1,height:h}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:l+p,y:c},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];f(i)&&this.updateImage(r,i)}}},n}(t.Evented),h=v,d=v,g=1e20;function v(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)r[u]=t[u*e+s];for(m(r,i,o,a,n),u=0;u<n;u++)t[u*e+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)r[s]=t[u*e+s];for(m(r,i,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(i[s])}}function m(t,e,n,r,i){n[0]=0,r[0]=-g,r[1]=+g;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+g}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}v.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?g:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?g:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},h.default=d;var _=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};_.prototype.setURL=function(t){this.url=t},_.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:i,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],_.loadGlyphRange(n,s,r.url,r.requestManager,(function(t,e){if(e){for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[s]}))),u.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},_.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},_.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new _.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},_.TinySDF=h;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var x=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),S=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},S.prototype.getDashRanges=function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],u=1;u<t.length;u++){var l=t[u];r.push({left:i=s*n,right:o=(s+=l)*n,isDash:a=!a,zeroLength:0===l})}return r},S.prototype.addRoundDash=function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=t[a],u=0;u<this.width;u++){u/s.right>1&&(s=t[++a]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),f=Math.min(l,c),p=void 0,h=i/n*(r+1);if(s.isDash){var d=r-Math.abs(h);p=Math.sqrt(f*f+d*d)}else p=r-Math.sqrt(f*f+h*h);this.data[o+u]=Math.max(0,Math.min(255,p+128))}},S.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=t[s],l=0;l<this.width;l++){l/u.right>1&&(u=t[++s]);var c=Math.abs(l-u.left),f=Math.abs(l-u.right),p=Math.min(c,f);this.data[a+l]=Math.max(0,Math.min(255,(u.isDash?p:-p)+128))}},S.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(e,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,l},S.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var E=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function A(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}E.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=t.Actor;var O=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};O.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},O.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var T=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=A(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new O(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),C=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=A(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new O(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),P=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(C),M=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),I=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),k=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var l=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),f=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*f),Math.floor((r+o)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),R=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(k),L=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(k),D={vector:T,raster:C,"raster-dem":P,geojson:M,video:R,image:k,canvas:L};function N(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function F(t,e,n,r,i,o){var a=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,e,t.id),s=o.maxPitchScaleFactor(),u=t.tilesIn(r,s,a);u.sort(j);for(var l=[],c=0,f=u;c<f.length;c+=1){var p=f[c];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,n,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,o,s,N(t.transform,p.tileID))})}var h=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},p=e[l]=e[l]||[],h=0,d=c;h<d.length;h+=1){var g=d[h];f[g.featureIndex]||(f[g.featureIndex]=!0,p.push(g))}}return e}(l);for(var d in h)h[d].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function j(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var B=function(t,e){this.max=t,this.onRemove=e,this.reset()};B.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},B.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},B.prototype.has=function(t){return t.wrapped().key in this.data},B.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},B.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},B.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},B.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},B.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},B.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},B.prototype.filter=function(t){var e=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var z=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};z.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},z.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},z.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},V.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var G=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};G.prototype.get=function(){return this.current},G.prototype.set=function(t){},G.prototype.getDefault=function(){return this.default},G.prototype.setDefault=function(){this.set(this.default)};var W=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(G),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(G),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(G),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(G),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(G),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(G),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(G),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(G),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(G),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(G),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(G),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(G),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(G),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(G),it=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(G),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(G),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(G),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(G),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(G),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(G),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(G),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(G),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(G),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(G),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(G),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(G),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(G),yt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(G),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(G),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(G),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(G),xt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(G),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(xt),St=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(xt),Et=function(t,e,n,r){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new wt(t,i),r&&(this.depthAttachment=new St(t,i))};Et.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var At=function(t,e,n){this.func=t,this.mask=e,this.range=n};At.ReadOnly=!1,At.ReadWrite=!0,At.disabled=new At(519,At.ReadOnly,[0,1]);var Ot=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ot.disabled=new Ot({func:519,mask:0},0,0,7680,7680,7680);var Tt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Tt.disabled=new Tt(Tt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Tt.unblended=new Tt(Tt.Replace,t.Color.transparent,[!0,!0,!0,!0]),Tt.alphaBlended=new Tt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Ct=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var Pt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new H(this),this.clearStencil=new Y(this),this.colorMask=new X(this),this.depthMask=new q(this),this.stencilMask=new Z(this),this.stencilFunc=new K(this),this.stencilOp=new Q(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new rt(this),this.blendColor=new it(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new ut(this),this.program=new lt(this),this.activeTexture=new ct(this),this.viewport=new ft(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new ht(this),this.bindTexture=new dt(this),this.bindVertexBuffer=new gt(this),this.bindElementBuffer=new vt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new yt(this),this.pixelStoreUnpack=new mt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Pt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pt.prototype.createIndexBuffer=function(t,e){return new z(this,t,e)},Pt.prototype.createVertexBuffer=function(t,e,n){return new V(this,t,e,n)},Pt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Pt.prototype.createFramebuffer=function(t,e,n){return new Et(this,t,e,n)},Pt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Pt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Pt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Pt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Pt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Tt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Pt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Mt=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new D[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new B(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(It).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,e)&&r.push(this._tiles[i]);return e?r.sort((function(e,r){var i=e.tileID,o=r.tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(It).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,o);if(kt(this._source.type)){for(var l={},c={},f=0,p=Object.keys(u);f<p.length;f+=1){var h=p[f],d=u[h],g=this._tiles[h];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=t.browser.now())){var v=this.findLoadedParent(d,a);v&&(this._addTile(v.tileID),l[v.tileID.key]=v.tileID),c[h]=d}}for(var y in this._retainLoadedChildren(c,o,s,u),l)u[y]||(this._coveredTiles[y]=!0,u[y]=l[y])}for(var m in u)this._tiles[m].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,u);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=t;u<l.length;u+=1){var c=l[u],f=this._addTile(c);r[c.key]=c,f.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var p=0,h=t;p<h.length;p+=1){var d=h[p],g=this._tiles[d.key];if(!g.hasData()){if(e+1>this._source.maxzoom){var v=d.children(this._source.maxzoom)[0],y=this.getTile(v);if(y&&y.hasData()){r[v.key]=v;continue}}else{var m=d.children(this._source.maxzoom);if(r[m[0].key]&&r[m[1].key]&&r[m[2].key]&&r[m[3].key])continue}for(var _=g.wasRequested(),b=d.overscaledZ-1;b>=o;--b){var x=d.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(g=this.getTile(x))&&_&&(g=this._addTile(x)),g&&(r[x.key]=x,_=g.wasRequested(),g.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,u=e.map((function(t){return a.pointCoordinate(t)})),l=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),f=1/0,p=1/0,h=-1/0,d=-1/0,g=0,v=l;g<v.length;g+=1){var y=v[g];f=Math.min(f,y.x),p=Math.min(p,y.y),h=Math.max(h,y.x),d=Math.max(d,y.y)}for(var m=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,g=Math.pow(2,a.zoom-r.tileID.overscaledZ),v=n*r.queryPadding*t.EXTENT/r.tileSize/g,y=[s.getTilePoint(new t.MercatorCoordinate(f,p)),s.getTilePoint(new t.MercatorCoordinate(h,d))];if(y[0].x-v<t.EXTENT&&y[0].y-v<t.EXTENT&&y[1].x+v>=0&&y[1].y+v>=0){var m=u.map((function(t){return s.getTilePoint(t)})),_=l.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:m,cameraQueryGeometry:_,scale:g})}}},_=0;_<c.length;_++)m(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(kt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function It(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function kt(t){return"raster"===t||"image"===t||"video"===t}function Rt(){return new t.window.Worker(Zi.workerUrl)}Mt.maxOverzooming=10,Mt.maxUnderzooming=3;var Lt="mapboxgl_preloaded_worker_pool",Dt=function(){this.active={}};Dt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Dt.workerCount;)this.workers.push(new Rt);return this.active[t]=!0,this.workers.slice()},Dt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Dt.prototype.isPreloaded=function(){return!!this.active[Lt]},Dt.prototype.numActive=function(){return Object.keys(this.active).length};var Nt,Ft=Math.floor(t.browser.hardwareConcurrency/2);function jt(){return Nt||(Nt=new Dt),Nt}function Bt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function zt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Bt(t[r],e[t[r].ref]));return t}Dt.workerCount=Math.max(Math.min(Ft,6),1);var Ut={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Vt(t,e,n){n.push({command:Ut.addSource,args:[t,e[t]]})}function Gt(t,e,n){e.push({command:Ut.removeSource,args:[t]}),n[t]=!0}function Wt(t,e,n,r){Gt(t,n,r),Vt(t,e,n)}function Ht(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Yt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Xt(t){return t.id}function qt(t,e){return t[e.id]=e,t}var Zt=function(t,e){this.reset(t,e)};Zt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Zt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Kt=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Qt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Jt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function $t(e,n){var r=[e.x,e.y,0,1];ce(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function ne(e,n,r,i,o,a,s,u){var l=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var h=e.lineVertexArray,d=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=r.transform.width/r.transform.height,v=!1,y=0;y<d.length;y++){var m=d.get(y);if(m.hidden||m.writingMode===t.WritingMode.vertical&&!v)le(m.numGlyphs,p);else{v=!1;var _=[m.anchorX,m.anchorY,0,1];if(t.transformMat4(_,_,n),ee(_,f)){var b=te(r.transform.cameraToCenterDistance,_[3]),x=t.evaluateSizeForFeature(l,c,m),w=s?x/b:x*b,S=new t.Point(m.anchorX,m.anchorY),E=$t(S,o).point,A={},O=oe(m,w,!1,u,n,o,a,e.glyphOffsetArray,h,p,E,S,A,g);v=O.useVertical,(O.notEnoughRoom||v||O.needsFlipping&&oe(m,w,!0,u,n,o,a,e.glyphOffsetArray,h,p,E,S,A,g).notEnoughRoom)&&le(m.numGlyphs,p)}else le(m.numGlyphs,p)}}i?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function re(t,e,n,r,i,o,a,s,u,l,c){var f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,d=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(f-1),v=se(t*d,n,r,i,o,a,s.segment,p,h,u,l,c);if(!v)return null;var y=se(t*g,n,r,i,o,a,s.segment,p,h,u,l,c);return y?{first:v,last:y}:null}function ie(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function oe(e,n,r,i,o,a,s,u,l,c,f,p,h,d){var g,v=n/24,y=e.lineOffsetX*v,m=e.lineOffsetY*v;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=re(v,u,y,m,r,f,p,e,l,a,h);if(!w)return{notEnoughRoom:!0};var S=$t(w.first.point,s).point,E=$t(w.last.point,s).point;if(i&&!r){var A=ie(e.writingMode,S,E,d);if(A)return A}g=[w.first];for(var O=e.glyphStartIndex+1;O<_-1;O++)g.push(se(v*u.getoffsetX(O),y,m,r,f,p,e.segment,b,x,l,a,h));g.push(w.last)}else{if(i&&!r){var T=$t(p,o).point,C=e.lineStartIndex+e.segment+1,P=new t.Point(l.getx(C),l.gety(C)),M=$t(P,o),I=M.signedDistanceFromCamera>0?M.point:ae(p,P,T,1,o),k=ie(e.writingMode,T,I,d);if(k)return k}var R=se(v*u.getoffsetX(e.glyphStartIndex),y,m,r,f,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,h);if(!R)return{notEnoughRoom:!0};g=[R]}for(var L=0,D=g;L<D.length;L+=1){var N=D[L];t.addDynamicAttributes(c,N.point,N.angle)}return{}}function ae(t,e,n,r,i){var o=$t(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function se(e,n,r,i,o,a,s,u,l,c,f,p){var h=i?e-n:e+n,d=h>0?1:-1,g=0;i&&(d*=-1,g=Math.PI),d<0&&(g+=Math.PI);for(var v=d>0?u+s:u+s+1,y=o,m=o,_=0,b=0,x=Math.abs(h),w=[];_+b<=x;){if((v+=d)<u||v>=l)return null;if(m=y,w.push(y),void 0===(y=p[v])){var S=new t.Point(c.getx(v),c.gety(v)),E=$t(S,f);if(E.signedDistanceFromCamera>0)y=p[v]=E.point;else{var A=v-d;y=ae(0===_?a:new t.Point(c.getx(A),c.gety(A)),S,m,x-_+1,f)}}_+=b,b=m.dist(y)}var O=(x-_)/b,T=y.sub(m),C=T.mult(O)._add(m);C._add(T._unit()._perp()._mult(r*d));var P=g+Math.atan2(y.y-m.y,y.x-m.x);return w.push(C),{point:C,angle:P,path:w}}Kt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Kt.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Kt.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Kt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Kt.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Kt.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-f,y1:c-f,x2:l+f,y2:c+f})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Kt.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,l,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},Kt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Kt.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Kt.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Kt.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,p=l;f<p.length;f+=1){var h=p[f];if(!u.box[h]){u.box[h]=!0;var d=4*h;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var g=this.circleCells[i];if(null!==g)for(var v=this.circles,y=0,m=g;y<m.length;y+=1){var _=m[y];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(v[b],v[b+1],v[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=v[b],w=v[b+1],S=v[b+2];o.push({key:this.circleKeys[_],x1:x-S,y1:w-S,x2:x+S,y2:w+S})}}}},Kt.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,p=0,h=c;p<h.length;p+=1){var d=h[p];if(!l.box[d]){l.box[d]=!0;var g=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[g+0],f[g+1],f[g+2],f[g+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var v=this.circleCells[i];if(null!==v)for(var y=this.circles,m=0,_=v;m<_.length;m+=1){var b=_[m];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Kt.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),p=u;p<=c;p++)for(var h=l;h<=f;h++)if(i.call(this,t,e,n,r,this.xCellCount*h+p,o,a,s))return},Kt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Kt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Kt.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return u*u>a*a+s*s},Kt.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(e-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,p=c-l;return f*f+p*p<=n*n};var ue=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function le(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(ue,3*r)}}function ce(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var fe=function(t,e,n){void 0===e&&(e=new Kt(t.width+200,t.height+200,25)),void 0===n&&(n=new Kt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function pe(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}fe.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,u=t.y1*a+o.point.y,l=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},fe.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,u,l,c,f,p,h){var d=[],g=new t.Point(n.anchorX,n.anchorY),v=$t(g,a),y=te(this.transform.cameraToCenterDistance,v.signedDistanceFromCamera),m=(c?o/y:o*y)/t.ONE_EM,_=$t(g,s).point,b=re(m,i,n.lineOffsetX*m,n.lineOffsetY*m,!1,_,g,n,r,s,{}),x=!1,w=!1,S=!0;if(b){for(var E=.5*p*y+h,A=new t.Point(-100,-100),O=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),T=new Zt,C=b.first,P=b.last,M=[],I=C.path.length-1;I>=1;I--)M.push(C.path[I]);for(var k=1;k<P.path.length;k++)M.push(P.path[k]);var R=2.5*E;if(u){var L=M.map((function(t){return $t(t,u)}));M=L.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:L.map((function(t){return t.point}))}var D=[];if(M.length>0){for(var N=M[0].clone(),F=M[0].clone(),j=1;j<M.length;j++)N.x=Math.min(N.x,M[j].x),N.y=Math.min(N.y,M[j].y),F.x=Math.max(F.x,M[j].x),F.y=Math.max(F.y,M[j].y);D=N.x>=A.x&&F.x<=O.x&&N.y>=A.y&&F.y<=O.y?[M]:F.x<A.x||N.x>O.x||F.y<A.y||N.y>O.y?[]:t.clipLine([M],A.x,A.y,O.x,O.y)}for(var B=0,z=D;B<z.length;B+=1){var U;T.reset(z[B],.25*E),U=T.length<=.5*E?1:Math.ceil(T.paddedLength/R)+1;for(var V=0;V<U;V++){var G=V/Math.max(U-1,1),W=T.lerp(G),H=W.x+100,Y=W.y+100;d.push(H,Y,E,0);var X=H-E,q=Y-E,Z=H+E,K=Y+E;if(S=S&&this.isOffscreen(X,q,Z,K),w=w||this.isInsideGrid(X,q,Z,K),!e&&this.grid.hitTestCircle(H,Y,E,f)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!w?[]:d,offscreen:S,collisionDetected:x}},fe.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.Point(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var f={},p={},h=0,d=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<d.length;h+=1){var g=d[h],v=g.key;if(void 0===f[v.bucketInstanceId]&&(f[v.bucketInstanceId]={}),!f[v.bucketInstanceId][v.featureIndex]){var y=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(n,y)&&(f[v.bucketInstanceId][v.featureIndex]=!0,void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]=[]),p[v.bucketInstanceId].push(v.featureIndex))}}return p},fe.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},fe.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},fe.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ce(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},fe.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},fe.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},fe.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var he=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};he.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var de=function(t,e,n,r,i){this.text=new he(t?t.text:null,e,n,i),this.icon=new he(t?t.icon:null,e,r,i)};de.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ge=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ve=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},ye=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},me=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function _e(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,l=t.evaluateVariableOffset(e,i);return new t.Point(s+l[0]*o,u+l[1]*o)}function be(e,n,r,i,o,a){var s=e.x1,u=e.x2,l=e.y1,c=e.y2,f=e.anchorPointX,p=e.anchorPointY,h=new t.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:l+h.y,x2:u+h.x,y2:c+h.y,anchorPointX:f,anchorPointY:p}}me.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var xe=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new fe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new me(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function we(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}xe.prototype.getBucketParts=function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,f=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===u.get("text-pitch-alignment"),h="map"===u.get("text-rotation-alignment"),d=pe(r,1,this.transform.zoom),g=Qt(f,p,h,this.transform,d),v=null;if(p){var y=Jt(f,p,h,this.transform,d);v=t.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new ye(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var m={bucket:o,layout:u,posMatrix:f,textLabelPlaneMatrix:g,labelToScreenMatrix:v,scale:l,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:m})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:m})}},xe.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d){var g,v=[f.textOffset0,f.textOffset1],y=_e(t,n,r,v,i),m=this.collisionIndex.placeCollisionBox(be(e,y.x,y.y,o,a,this.transform.angle),c,s,u,l.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(be(d,y.x,y.y,o,a,this.transform.angle),c,s,u,l.predicate).box.length)return m.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(g=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:v,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:g},this.markUsedJustification(p,t,f,h),p.allowVerticalPlacement&&(this.markUsedOrientation(p,h,f),this.placedOrientations[f.crossTileID]=h),{shift:y,placedGlyphBoxes:m}):void 0},xe.prototype.placeLayerBucketPart=function(e,n,r){var i=this,o=e.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,l=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,f=o.textPixelRatio,p=o.holdingForFade,h=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,g=o.collisionGroup,v=s.get("text-optional"),y=s.get("icon-optional"),m=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),E=m&&(_||!a.hasIconData()||y),A=_&&(m||!a.hasTextData()||v);!a.collisionArrays&&h&&a.deserializeCollisionBoxes(h);var O=function(e,o){if(!n[e.crossTileID])if(p)i.placements[e.crossTileID]=new ge(!1,!1,!1);else{var h,S=!1,O=!1,T=!0,C=null,P={box:null,offscreen:null},M={box:null,offscreen:null},I=null,k=null,R=0,L=0,D=0;o.textFeatureIndex?R=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(R=e.featureIndex),o.verticalTextFeatureIndex&&(L=o.verticalTextFeatureIndex);var N=o.textBox;if(N){var F=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,i.markUsedOrientation(a,r=o,e))}return r},j=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===t.WritingMode.vertical?(P=r(),M=P):P=n(),!(P&&P.box&&P.box.length));i+=1);else P=n()};if(s.get("text-variable-anchor")){var B=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var z=i.prevPlacement.variableOffsets[e.crossTileID];B.indexOf(z.anchor)>0&&(B=B.filter((function(t){return t!==z.anchor}))).unshift(z.anchor)}var U=function(t,n,r){for(var o=t.x2-t.x1,s=t.y2-t.y1,l=e.textBoxScale,c=w&&!_?n:null,p={box:[],offscreen:!1},h=m?2*B.length:B.length,d=0;d<h;++d){var v=i.attemptAnchorPlacement(B[d%B.length],t,o,s,l,b,x,f,u,g,d>=B.length,e,a,r,c);if(v&&(p=v.placedGlyphBoxes)&&p.box&&p.box.length){S=!0,C=v.shift;break}}return p};j((function(){return U(N,o.iconBox,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&e.numVerticalGlyphVertices>0&&n?U(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),P&&(S=P.box,T=P.offscreen);var V=F(P&&P.box);if(!S&&i.prevPlacement){var G=i.prevPlacement.variableOffsets[e.crossTileID];G&&(i.variableOffsets[e.crossTileID]=G,i.markUsedJustification(a,G.anchor,e,V))}}else{var W=function(t,n){var r=i.collisionIndex.placeCollisionBox(t,m,f,u,g.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,e),i.placedOrientations[e.crossTileID]=n),r};j((function(){return W(N,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?W(n,t.WritingMode.vertical):{box:null,offscreen:null}})),F(P&&P.box&&P.box.length)}}if(S=(h=P)&&h.box&&h.box.length>0,T=h&&h.offscreen,e.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),Y=t.evaluateSizeForFeature(a.textSizeData,d,H),X=s.get("text-padding");I=i.collisionIndex.placeCollisionCircles(m,H,a.lineVertexArray,a.glyphOffsetArray,Y,u,l,c,r,x,g.predicate,e.collisionCircleDiameter,X),S=m||I.circles.length>0&&!I.collisionDetected,T=T&&I.offscreen}if(o.iconFeatureIndex&&(D=o.iconFeatureIndex),o.iconBox){var q=function(t){var e=w&&C?be(t,C.x,C.y,b,x,i.transform.angle):t;return i.collisionIndex.placeCollisionBox(e,_,f,u,g.predicate)};O=M&&M.box&&M.box.length&&o.verticalIconBox?(k=q(o.verticalIconBox)).box.length>0:(k=q(o.iconBox)).box.length>0,T=T&&k.offscreen}var Z=v||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,K=y||0===e.numIconVertices;if(Z||K?K?Z||(O=O&&S):S=O&&S:O=S=O&&S,S&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),a.bucketInstanceId,M&&M.box&&L?L:R,g.ID),O&&k&&i.collisionIndex.insertCollisionBox(k.box,s.get("icon-ignore-placement"),a.bucketInstanceId,D,g.ID),I&&(S&&i.collisionIndex.insertCollisionCircles(I.circles,s.get("text-ignore-placement"),a.bucketInstanceId,R,g.ID),r)){var Q=a.bucketInstanceId,J=i.collisionCircleArrays[Q];void 0===J&&(J=i.collisionCircleArrays[Q]=new ve);for(var $=0;$<I.circles.length;$+=4)J.circles.push(I.circles[$+0]),J.circles.push(I.circles[$+1]),J.circles.push(I.circles[$+2]),J.circles.push(I.collisionDetected?1:0)}i.placements[e.crossTileID]=new ge(S||E,O||A,T||a.justReloaded),n[e.crossTileID]=!0}};if(S)for(var T=a.getSortedSymbolIndexes(this.transform.angle),C=T.length-1;C>=0;--C){var P=T[C];O(a.symbolInstances.get(P),a.collisionArrays[P])}else for(var M=e.symbolInstanceStart;M<e.symbolInstanceEnd;M++)O(a.symbolInstances.get(M),a.collisionArrays[M]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var I=this.collisionCircleArrays[a.bucketInstanceId];t.invert(I.invProjMatrix,u),I.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},xe.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(e.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:r.crossTileID)}},xe.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},xe.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new de(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new de(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var p=new de(f,r,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||f.text.placed||f.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},xe.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},xe.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new de(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),f="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),h=new de(null,0,s&&(u||!e.hasIconData()||o.get("icon-optional")),u&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var d=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},g=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,g=o.crossTileID,v=i.opacities[g];n[g]?v=a:v||(i.opacities[g]=v=h),n[g]=!0;var y=o.numIconVertices>0,m=i.placedOrientations[o.crossTileID],_=m===t.WritingMode.vertical,b=m===t.WritingMode.horizontal||m===t.WritingMode.horizontalOnly;if(s>0||u>0){var x=Me(v.text);d(e.text,s,_?Ie:x),d(e.text,u,b?Ie:x);var w=v.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var S=i.variableOffsets[o.crossTileID];S&&i.markUsedJustification(e,S.anchor,o,m);var E=i.placedOrientations[o.crossTileID];E&&(i.markUsedJustification(e,"left",o,E),i.markUsedOrientation(e,E,o))}if(y){var A=Me(v.icon),O=!(p&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(d(e.icon,o.numIconVertices,O?A:Ie),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=v.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(e.icon,o.numVerticalIconVertices,O?Ie:A),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=v.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var T=e.collisionArrays[r];if(T){var C=new t.Point(0,0);if(T.textBox||T.verticalTextBox){var P=!0;if(l){var M=i.variableOffsets[g];M?(C=_e(M.anchor,M.width,M.height,M.textOffset,M.textBoxScale),c&&C._rotate(f?i.transform.angle:-i.transform.angle)):P=!1}T.textBox&&we(e.textCollisionBox.collisionVertexArray,v.text.placed,!P||_,C.x,C.y),T.verticalTextBox&&we(e.textCollisionBox.collisionVertexArray,v.text.placed,!P||b,C.x,C.y)}var I=Boolean(!b&&T.verticalIconBox);T.iconBox&&we(e.iconCollisionBox.collisionVertexArray,v.icon.placed,I,p?C.x:0,p?C.y:0),T.verticalIconBox&&we(e.iconCollisionBox.collisionVertexArray,v.icon.placed,!I,p?C.x:0,p?C.y:0)}}},v=0;v<e.symbolInstances.length;v++)g(v);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=y.invProjMatrix,e.placementViewportMatrix=y.viewportMatrix,e.collisionCircleArray=y.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},xe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xe.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},xe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},xe.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},xe.prototype.setStale=function(){this.stale=!0};var Se=Math.pow(2,25),Ee=Math.pow(2,24),Ae=Math.pow(2,17),Oe=Math.pow(2,16),Te=Math.pow(2,9),Ce=Math.pow(2,8),Pe=Math.pow(2,1);function Me(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Se+e*Ee+n*Ae+e*Oe+n*Te+e*Ce+n*Pe+e}var Ie=0,ke=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ke.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Re=function(t,e,n,r,i,o,a){this.placement=new xe(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Re.prototype.isDone=function(){return this._done},Re.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new ke(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Re.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Le=512/t.EXTENT/2,De=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};De.prototype.getScaledCoordinates=function(e,n){var r=Le/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},De.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Ne=function(){this.maxCrossTileID=0};Ne.prototype.generate=function(){return++this.maxCrossTileID};var Fe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Fe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Fe.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,i)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var f=e.symbolInstances.get(c);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new De(t,e.symbolInstances,e.bucketInstanceId),!0},Fe.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},Fe.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var je=function(){this.layerIndexes={},this.crossTileIDs=new Ne,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};je.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Fe);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},je.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Be=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},ze=t.pick(Ut,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ue=t.pick(Ut,["setCenter","setZoom","setBearing","setPitch"]),Ve=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i,o=t.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(e[r]=i)}return e}(),Ge=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new E(jt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new _(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new je,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ve,!1)},n.prototype._load=function(e,n){if(!n||!Be(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=zt(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){u=null,a||(a=t,i=e,c())})),l=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){l=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,f=u.x,p=u.y,h=u.sdf,d=u.pixelRatio,g=u.stretchX,v=u.stretchY,y=u.content,m=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,m,{x:f,y:p},{x:0,y:0},{width:l,height:c}),n[s]={data:m,pixelRatio:d,sdf:h,stretchX:g,stretchY:v,content:y}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var f=0,p=this._order;f<p.length;f+=1){var h=this._layers[p[f]];h.recalculate(e,this._availableImages),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var d in u){var g=this.sourceCaches[d];u[d]!==g.used&&g.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Be(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=zt(e.layers);var r=function(e,n){if(!e)return[{command:Ut.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Ut.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Ut.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Ut.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Ut.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Ut.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Ut.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Ut.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Ut.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Ut.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Gt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Ht(e,n,o)?r.push({command:Ut.setGeoJSONSourceData,args:[o,n[o].data]}):Wt(o,n,r,i)):Vt(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Ut.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,u,l,c,f=(e=e||[]).map(Xt),p=n.map(Xt),h=e.reduce(qt,{}),d=n.reduce(qt,{}),g=f.slice(),v=Object.create(null);for(i=0,o=0;i<f.length;i++)d.hasOwnProperty(a=f[i])?o++:(r.push({command:Ut.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(i=0,o=0;i<p.length;i++)g[g.length-1-i]!==(a=p[p.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Ut.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,r.push({command:Ut.addLayer,args:[d[a],l=g[g.length-i]]}),g.splice(g.length-i,0,a),v[a]=!0);for(i=0;i<p.length;i++)if(s=h[a=p[i]],u=d[a],!v[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(c in Yt(s.layout,u.layout,r,a,null,Ut.setLayoutProperty),Yt(s.paint,u.paint,r,a,null,Ut.setPaintProperty),t.deepEqual(s.filter,u.filter)||r.push({command:Ut.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ut.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Yt(s[c],u[c],r,a,c.slice(6),Ut.setPaintProperty):t.deepEqual(s[c],u[c])||r.push({command:Ut.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Yt(s[c],u[c],r,a,c.slice(6),Ut.setPaintProperty):t.deepEqual(s[c],u[c])||r.push({command:Ut.setLayerProperty,args:[a,c,u[c]]}))}else r.push({command:Ut.removeLayer,args:[a]}),l=g[g.lastIndexOf(a)+1],r.push({command:Ut.addLayer,args:[u,l]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ut.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Ue)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in ze)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new Mt(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(Be(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,u=t;s<u.length;s+=1){var l=u[s][a];if(l)for(var c=0,f=l;c<f.length;c+=1)i.push(f[c])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var p=[],h=this._order.length-1;h>=0;h--){var d=this._order[h];if(n(d))for(var g=i.length-1;g>=0;g--){var v=i[g].feature;if(r[v.layer.id]<h)break;p.push(v),i.pop()}else for(var y=0,m=t;y<m.length;y+=1){var _=m[y][d];if(_)for(var b=0,x=_;b<x.length;b+=1)p.push(x[b].feature)}}return p},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||l.push(F(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,r));return this.placement&&l.push(function(t,e,n,r,i,o,a){for(var s={},u=o.queryRenderedSymbols(r),l=[],c=0,f=Object.keys(u).map(Number);c<f.length;c+=1)l.push(a[f[c]]);l.sort(j);for(var p=function(){var n=d[h],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=s[o]=s[o]||[],l=r[o];l.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));for(var c=0,f=l;c<f.length;c+=1)a.push(f[c])}},h=0,d=l;h<d.length;h+=1)p();var g=function(e){s[e].forEach((function(r){var i=r.feature,o=n[t[e].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var v in s)g(v);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Be(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var f=this._layers[c[l]];if("symbol"===f.type){if(!u[f.source]){var p=this.sourceCaches[f.source];u[f.source]=p.getRenderableIds(!0).map((function(t){return p.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(f,u[f.source],e.center.lng);a=a||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Re(e,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,g=this._order;d<g.length;d+=1){var v=this._layers[g[d]];"symbol"===v.type&&this.placement.updateLayerOpacities(v,u[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);Ge.getSourceType=function(t){return D[t]},Ge.setSourceType=function(t,e){D[t]=e},Ge.registerForPluginStateChange=t.registerForPluginStateChange;var We=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),He=mn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ye=mn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=mn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),qe=mn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ze=mn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ke=mn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Qe=mn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Je=mn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=mn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=mn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=mn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=mn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=mn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=mn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=mn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=mn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=mn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=mn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=mn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fn=mn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=mn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hn=mn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=mn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),gn=mn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vn=mn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=mn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function mn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,i){return s[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:He,background:Ye,backgroundPattern:Xe,circle:qe,clippingMask:Ze,heatmap:Ke,heatmapTexture:Qe,collisionBox:Je,collisionCircle:$e,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:fn,linePattern:pn,lineSDF:hn,raster:dn,symbolIcon:gn,symbolSDF:vn,symbolTextAndIcon:yn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}bn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)},bn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}e.enableAttributes(c,t);for(var p=0,h=n;p<h.length;p+=1)h[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,g=n;d<g.length;d+=1){var v=g[d];v.bind(),v.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),l.currentNumAttributes=u},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(t,e,n,r,i,o){var a=t.gl;this.program=a.createProgram();for(var s=xn(n.staticAttributes),u=r?r.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?xn(n.staticUniforms):[],f=r?r.getBinderUniforms():[],p=[],h=0,d=c.concat(f);h<d.length;h+=1){var g=d[h];p.indexOf(g)<0&&p.push(g)}var v=r?r.defines():[];o&&v.push("#define OVERDRAW_INSPECTOR;");var y=v.concat(He.fragmentSource,n.fragmentSource).join("\n"),m=v.concat(He.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,m),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=l.length;for(var w=0;w<this.numAttributes;w++)l[w]&&(a.bindAttribLocation(this.program,w,l[w]),this.attributes[l[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var S=0;S<p.length;S++){var E=p[S];if(E&&!x[E]){var A=a.getUniformLocation(this.program,E);A&&(x[E]=A)}}this.fixedUniforms=i(t,x),this.binderUniforms=r?r.getUniforms(t,x):[]}}};function Sn(t,e,n){var r=1/pe(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g){var v,y=t.gl;if(!this.failedToCreate){for(var m in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[m].set(a[m]);h&&h.setUniforms(t,this.binderUniforms,f,{zoom:p});for(var _=(v={},v[y.LINES]=2,v[y.TRIANGLES]=3,v[y.LINE_STRIP]=1,v)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new bn)).bind(t,this,u,h?h.getPaintVertexBuffers():[],l,w.vertexOffset,d,g),y.drawElements(e,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var En=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},An=function(e,n,r,i,o,a,s){return t.extend(En(e,n,r,i),Sn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},On=function(t){return{u_matrix:t}},Tn=function(e,n,r,i){return t.extend(On(e),Sn(r,n,i))},Cn=function(t,e){return{u_matrix:t,u_world:e}},Pn=function(e,n,r,i,o){return t.extend(Tn(e,n,r,i),{u_world:o})},Mn=function(e,n,r,i){var o,a,s=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=pe(r,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},In=function(t,e,n){var r=pe(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},kn=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Rn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},Ln=function(t){return{u_matrix:t}},Dn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:pe(e,1,n),u_intensity:r}},Nn=function(e,n,r){var i=e.transform;return{u_matrix:Un(e,n,r),u_ratio:1/pe(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Fn=function(e,n,r,i){return t.extend(Nn(e,n,r),{u_image:0,u_image_height:i})},jn=function(e,n,r,i){var o=e.transform,a=zn(n,o);return{u_matrix:Un(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pe(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Bn=function(e,n,r,i,o){var a=e.lineAtlas,s=zn(n,e.transform),u="round"===r.layout.get("line-cap"),l=a.getDash(i.from,u),c=a.getDash(i.to,u),f=l.width*o.fromScale,p=c.width*o.toScale;return t.extend(Nn(e,n,r),{u_patternscale_a:[s/f,-l.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:a.width/(256*Math.min(f,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:o.t})};function zn(t,e){return 1/pe(t,1,e.tileZoom)}function Un(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Gn(i.paint.get("raster-hue-rotate"))};var o,a};function Gn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Wn,Hn=function(t,e,n,r,i,o,a,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Yn=function(e,n,r,i,o,a,s,u,l,c,f){var p=o.transform;return t.extend(Hn(e,n,r,i,o,a,s,u,l,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+f})},Xn=function(e,n,r,i,o,a,s,u,l,c){return t.extend(Yn(e,n,r,i,o,a,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},qn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Zn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,f=c*(r.tileID.canonical.x+r.tileID.wrap*l),p=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/pe(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,p>>16],u_pixel_coord_lower:[65535&f,65535&p]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Kn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Qn(e,n,r,i,o,a,s){for(var u=e.context,l=u.gl,c=e.useProgram("collisionBox"),f=[],p=0,h=0,d=0;d<i.length;d++){var g=i[d],v=n.getTile(g),y=v.getBucket(r);if(y){var m=g.posMatrix;0===o[0]&&0===o[1]||(m=e.translatePosMatrix(g.posMatrix,v,o,a));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=t.create(),w=m;t.mul(x,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,y.placementViewportMatrix),f.push({circleArray:b,circleOffset:h,transform:w,invTransform:x}),h=p+=b.length/4}_&&c.draw(u,l.LINES,At.disabled,Ot.disabled,e.colorModeForRenderPass(),Ct.disabled,In(m,e.transform,v),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&f.length){var S=e.useProgram("collisionCircle"),E=new t.StructArrayLayout2f1f2i16;E.resize(4*p),E._trim();for(var A=0,O=0,T=f;O<T.length;O+=1)for(var C=T[O],P=0;P<C.circleArray.length/4;P++){var M=4*P,I=C.circleArray[M+0],k=C.circleArray[M+1],R=C.circleArray[M+2],L=C.circleArray[M+3];E.emplace(A++,I,k,R,L,0),E.emplace(A++,I,k,R,L,1),E.emplace(A++,I,k,R,L,2),E.emplace(A++,I,k,R,L,3)}(!Wn||Wn.length<2*p)&&(Wn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(p));for(var D=u.createIndexBuffer(Wn,!0),N=u.createVertexBuffer(E,t.collisionCircleLayout.members,!0),F=0,j=f;F<j.length;F+=1){var B=j[F],z=kn(B.transform,B.invTransform,e.transform);S.draw(u,l.TRIANGLES,At.disabled,Ot.disabled,e.colorModeForRenderPass(),Ct.disabled,z,r.id,N,D,t.SegmentVector.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,e.transform.zoom,null,null,null)}N.destroy(),D.destroy()}}var Jn=t.identity(new Float32Array(16));function $n(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((u/o+c[0])*a,(l/o+c[1])*a)}function tr(e,n,r,i,o,a,s,u,l,c,f){var p=e.text.placedSymbolArray,h=e.text.dynamicLayoutVertexArray,d=e.icon.dynamicLayoutVertexArray,g={};h.clear();for(var v=0;v<p.length;v++){var y=p.get(v),m=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(m){var _=new t.Point(y.anchorX,y.anchorY),b=$t(_,r?u:s),x=te(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(e.textSizeData,c,y)*x/t.ONE_EM;r&&(w*=e.tilePixelRatio/l);for(var S=$n(m.anchor,m.width,m.height,m.textOffset,m.textBoxScale,w),E=r?$t(_.add(S),s).point:b.point.add(n?S.rotate(-a.angle):S),A=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,O=0;O<y.numGlyphs;O++)t.addDynamicAttributes(h,E,A);f&&y.associatedIconIndex>=0&&(g[y.associatedIconIndex]={shiftedAnchor:E,angle:A})}else le(y.numGlyphs,h)}if(f){d.clear();for(var T=e.icon.placedSymbolArray,C=0;C<T.length;C++){var P=T.get(C);if(P.hidden)le(P.numGlyphs,d);else{var M=g[C];if(M)for(var I=0;I<P.numGlyphs;I++)t.addDynamicAttributes(d,M.shiftedAnchor,M.angle);else le(P.numGlyphs,d)}}e.icon.dynamicLayoutVertexBuffer.updateData(d)}e.text.dynamicLayoutVertexBuffer.updateData(h)}function er(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function nr(e,n,r,i,o,a,s,u,l,c,f,p){for(var h=e.context,d=h.gl,g=e.transform,v="map"===u,y="map"===l,m=v&&"point"!==r.layout.get("symbol-placement"),_=v&&!y&&!m,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=e.depthModeForSublayer(0,At.ReadOnly),S=r.layout.get("text-variable-anchor"),E=[],A=0,O=i;A<O.length;A+=1){var T=O[A],C=n.getTile(T),P=C.getBucket(r);if(P){var M=o?P.text:P.icon;if(M&&M.segments.get().length){var I=M.programConfigurations.get(r.id),k=o||P.sdfIcons,R=o?P.textSizeData:P.iconSizeData,L=y||0!==g.pitch,D=e.useProgram(er(k,o,P),I),N=t.evaluateSizeForZoom(R,g.zoom),F=void 0,j=[0,0],B=void 0,z=void 0,U=null,V=void 0;if(o)B=C.glyphAtlasTexture,z=d.LINEAR,F=C.glyphAtlasTexture.size,P.iconsInText&&(j=C.imageAtlasTexture.size,U=C.imageAtlasTexture,V=L||e.options.rotating||e.options.zooming||"composite"===R.kind||"camera"===R.kind?d.LINEAR:d.NEAREST);else{var G=1!==r.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear;B=C.imageAtlasTexture,z=k||e.options.rotating||e.options.zooming||G||L?d.LINEAR:d.NEAREST,F=C.imageAtlasTexture.size}var W=pe(C,1,e.transform.zoom),H=Qt(T.posMatrix,y,v,e.transform,W),Y=Jt(T.posMatrix,y,v,e.transform,W),X=S&&P.hasTextData(),q="none"!==r.layout.get("icon-text-fit")&&X&&P.hasIconData();m&&ne(P,T.posMatrix,e,o,H,Y,y,c);var Z=e.translatePosMatrix(T.posMatrix,C,a,s),K=m||o&&S||q?Jn:H,Q=e.translatePosMatrix(Y,C,a,s,!0),J=k&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:D,buffers:M,uniformValues:k?P.iconsInText?Xn(R.kind,N,_,y,e,Z,K,Q,F,j):Yn(R.kind,N,_,y,e,Z,K,Q,o,F,!0):Hn(R.kind,N,_,y,e,Z,K,Q,o,F),atlasTexture:B,atlasTextureIcon:U,atlasInterpolation:z,atlasInterpolationIcon:V,isSDF:k,hasHalo:J};if(b&&P.canOverlap){x=!0;for(var tt=0,et=M.segments.get();tt<et.length;tt+=1){var nt=et[tt];E.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:$})}}else E.push({segments:M.segments,sortKey:0,state:$})}}}x&&E.sort((function(t,e){return t.sortKey-e.sortKey}));for(var rt=0,it=E;rt<it.length;rt+=1){var ot=it[rt],at=ot.state;if(h.activeTexture.set(d.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,d.CLAMP_TO_EDGE),at.atlasTextureIcon&&(h.activeTexture.set(d.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,rr(at.buffers,ot.segments,r,e,at.program,w,f,p,st)),st.u_is_halo=0}rr(at.buffers,ot.segments,r,e,at.program,w,f,p,at.uniformValues)}}function rr(t,e,n,r,i,o,a,s,u){var l=r.context;i.draw(l,l.gl.TRIANGLES,o,a,s,Ct.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ir(t,e,n,r,i,o,a){var s,u,l,c,f,p=t.context.gl,h=n.paint.get("fill-pattern"),d=h&&h.constantOr(1),g=n.getCrossfadeParameters();a?(u=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=d?"fillPattern":"fill",s=p.TRIANGLES);for(var v=0,y=r;v<y.length;v+=1){var m=y[v],_=e.getTile(m);if(!d||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(u,x);d&&(t.context.activeTexture.set(p.TEXTURE0),_.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(g));var S=h.constantOr(null);if(S&&_.imageAtlas){var E=_.imageAtlas,A=E.patternPositions[S.to.toString()],O=E.patternPositions[S.from.toString()];A&&O&&x.setConstantPatternPositions(A,O)}var T=t.translatePosMatrix(m.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,f=b.segments2;var C=[p.drawingBufferWidth,p.drawingBufferHeight];l="fillOutlinePattern"===u&&d?Pn(T,t,g,_,C):Cn(T,C)}else c=b.indexBuffer,f=b.segments,l=d?Tn(T,t,g,_):On(T);w.draw(t.context,s,i,t.stencilModeForClipping(m),o,Ct.disabled,l,n.id,b.layoutVertexBuffer,c,f,n.paint,t.transform.zoom,x)}}}}function or(t,e,n,r,i,o,a){for(var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),f=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),h=0,d=r;h<d.length;h+=1){var g=d[h],v=e.getTile(g),y=v.getBucket(n);if(y){var m=y.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",m);c&&(t.context.activeTexture.set(u.TEXTURE0),v.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),m.updatePaintBuffers(f));var b=l.constantOr(null);if(b&&v.imageAtlas){var x=v.imageAtlas,w=x.patternPositions[b.to.toString()],S=x.patternPositions[b.from.toString()];w&&S&&m.setConstantPatternPositions(w,S)}var E=t.translatePosMatrix(g.posMatrix,v,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),A=n.paint.get("fill-extrusion-vertical-gradient"),O=c?An(E,t,A,p,g,f,v):En(E,t,A,p);_.draw(s,s.gl.TRIANGLES,i,o,a,Ct.backCCW,O,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,m)}}}function ar(e,n,r,i,o,a){var s=e.context,u=s.gl,l=n.fbo;if(l){var c=e.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var f=function(e,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var u,l,c,f=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),f),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new t.MercatorCoordinate(0,c/l).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(e,n,r);c.draw(s,u.TRIANGLES,i,o,a,Ct.disabled,f,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function sr(e,n,r,i,o,a){var s=e.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,f=l.stride,p=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(f),n.demTexture){var h=n.demTexture;h.update(p,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var d=n.fbo;if(!d){var g=new t.Texture(s,{width:c,height:c,data:null},u.RGBA);g.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(g.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,Ct.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=r.getSource(),f=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(e.tileID.overscaledZ-f),h=p&&e.refreshedUponExpiration?1:t.clamp(p?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var lr=new t.Color(1,0,0,1),cr=new t.Color(0,1,0,1),fr=new t.Color(0,0,1,1),pr=new t.Color(1,0,1,1),hr=new t.Color(0,1,1,1);function dr(t,e,n,r){vr(t,0,e+n/2,t.transform.width,n,r)}function gr(t,e,n,r){vr(t,e-n/2,0,n,t.transform.height,r)}function vr(e,n,r,i,o,a){var s=e.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function yr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),u=At.disabled,l=Ot.disabled,c=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,u,l,c,Ct.disabled,Rn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),h=n.getTile(r).tileSize,d=512/Math.min(h,512)*(r.overscaledZ/e.transform.zoom)*.5,g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,g+" "+p+"kb"),s.draw(i,o.TRIANGLES,u,l,Tt.alphaBlended,Ct.disabled,Rn(a,t.Color.transparent,d),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var mr={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=Ot.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,f=0,p=e;f<p.length;f+=1){var h=p[f],d=i.getTile(h),g=d.getBucket(r);if(g&&g.text&&g.text.segments.get().length){var v=t.evaluateSizeForZoom(g.textSizeData,u.zoom),y=pe(d,1,n.transform.zoom),m=Qt(h.posMatrix,c,l,n.transform,y),_="none"!==r.layout.get("icon-text-fit")&&g.hasIconData();if(v){var b=Math.pow(2,u.zoom-d.tileID.overscaledZ);tr(g,l,c,s,t.symbolSize,u,m,h.posMatrix,b,v,_)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Qn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Qn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,c=l.gl,f=e.depthModeForSublayer(0,At.ReadOnly),p=Ot.disabled,h=e.colorModeForRenderPass(),d=[],g=0;g<i.length;g++){var v=i[g],y=n.getTile(v),m=y.getBucket(r);if(m){var _=m.programConfigurations.get(r.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:m.layoutVertexBuffer,indexBuffer:m.indexBuffer,uniformValues:Mn(e,v,y,r)};if(u)for(var x=0,w=m.segments.get();x<w.length;x+=1){var S=w[x];d.push({segments:new t.SegmentVector([S]),sortKey:S.sortKey,state:b})}else d.push({segments:m.segments,sortKey:0,state:b})}}u&&d.sort((function(t,e){return t.sortKey-e.sortKey}));for(var E=0,A=d;E<A.length;E+=1){var O=A[E],T=O.state;T.program.draw(l,c.TRIANGLES,f,p,h,Ct.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,O.segments,r.paint,e.transform.zoom,T.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=Ot.disabled,u=new Tt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var l=0;l<i.length;l++){var c=i[l];if(!n.hasRenderableParent(c)){var f=n.getTile(c),p=f.getBucket(r);if(p){var h=p.programConfigurations.get(r.id);e.useProgram("heatmap",h).draw(o,a.TRIANGLES,At.disabled,s,u,Ct.disabled,Dn(c.posMatrix,f,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,e.transform.zoom,h)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,At.disabled,Ot.disabled,e.colorModeForRenderPass(),Ct.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,At.ReadOnly),u=e.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),f=c.constantOr(1),p=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),d=f?"linePattern":l?"lineSDF":p?"lineGradient":"line",g=e.context,v=g.gl,y=!0,m=0,_=i;m<_.length;m+=1){var b=_[m],x=n.getTile(b);if(!f||x.patternsLoaded()){var w=x.getBucket(r);if(w){var S=w.programConfigurations.get(r.id),E=e.context.program.get(),A=e.useProgram(d,S),O=y||A.program!==E,T=c.constantOr(null);if(T&&x.imageAtlas){var C=x.imageAtlas,P=C.patternPositions[T.to.toString()],M=C.patternPositions[T.from.toString()];P&&M&&S.setConstantPatternPositions(P,M)}var I=f?jn(e,x,r,h):l?Bn(e,x,r,l,h):p?Fn(e,x,r,w.lineClipsArray.length):Nn(e,x,r);if(f)g.activeTexture.set(v.TEXTURE0),x.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),S.updatePaintBuffers(h);else if(l&&(O||e.lineAtlas.dirty))g.activeTexture.set(v.TEXTURE0),e.lineAtlas.bind(g);else if(p){var k=w.gradients[r.id],R=k.texture;if(r.gradientVersion!==k.version){var L=256;if(r.stepInterpolant){var D=n.getSource().maxzoom,N=b.canonical.z===D?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;L=t.clamp(t.nextPowerOfTwo(w.maxLineLength/t.EXTENT*1024*N),256,g.maxTextureSize)}k.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:L,image:k.gradient||void 0,clips:w.lineClipsArray}),k.texture?k.texture.update(k.gradient):k.texture=new t.Texture(g,k.gradient,v.RGBA),k.version=r.gradientVersion,R=k.texture}g.activeTexture.set(v.TEXTURE0),R.bind(r.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}A.draw(g,v.TRIANGLES,s,e.stencilModeForClipping(b),u,Ct.disabled,I,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,S,w.layoutVertexBuffer2),y=!1}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?At.ReadWrite:At.ReadOnly);ir(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var f=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,At.ReadOnly);ir(e,n,r,i,f,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new At(t.context.gl.LEQUAL,At.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(t,e,n,r,o,Ot.disabled,Tt.disabled),or(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();or(t,e,n,r,o,Ot.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=t.depthModeForSublayer(0,At.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],u=s[0],l=0,c=s[1];l<c.length;l+=1){var f=c[l],p=e.getTile(f);p.needsHillshadePrepare&&"offscreen"===t.renderPass?sr(t,p,n,o,Ot.disabled,a):"translucent"===t.renderPass&&ar(t,p,n,o,u[f.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),u=t.colorModeForRenderPass(),l=a instanceof k?[{},r]:t.stencilConfigForOverlap(r),c=l[0],f=l[1],p=f[f.length-1].overscaledZ,h=!t.options.moving,d=0,g=f;d<g.length;d+=1){var v=g[d],y=t.depthModeForSublayer(v.overscaledZ-p,1===n.paint.get("raster-opacity")?At.ReadWrite:At.ReadOnly,o.LESS),m=e.getTile(v),_=t.transform.calculatePosMatrix(v.toUnwrapped(),h);m.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(v,0),x=ur(m,b,e,n,t.transform),w=void 0,S=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),m.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-m.tileID.overscaledZ),S=[m.tileID.canonical.x*w%1,m.tileID.canonical.y*w%1]):m.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var A=Vn(_,S||[0,0],w||1,x,n);a instanceof k?s.draw(i,o.TRIANGLES,y,Ot.disabled,u,Ct.disabled,A,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,y,c[v.overscaledZ],u,Ct.disabled,A,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!t.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var f=Ot.disabled,p=t.depthModeForSublayer(0,"opaque"===c?At.ReadWrite:At.ReadOnly),h=t.colorModeForRenderPass(),d=t.useProgram(l?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var v=n.getCrossfadeParameters(),y=0,m=g;y<m.length;y+=1){var _=m[y],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=l?Zn(b,i,t,l,{tileID:_,tileSize:u},v):qn(b,i,r);d.draw(o,a.TRIANGLES,p,f,h,Ct.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)yr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(Ot.disabled);var a="3d"===i.renderingMode?new At(t.context.gl.LEQUAL,At.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,At.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(t,e){this.context=new Pt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=Mt.maxUnderzooming+Mt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new je,this.gpuTimers={}};_r.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,We.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,We.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,I.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,We.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Ot({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},_r.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,At.disabled,this.stencilClearMode,Tt.disabled,Ct.disabled,Ln(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Tt.disabled),n.setDepthMode(At.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,At.disabled,new Ot({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Tt.disabled,Ct.disabled,Ln(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ot({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ot({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Ot({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(e={},e[i]=Ot.disabled,e),r]},_r.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Tt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Tt.unblended:Tt.alphaBlended},_r.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return At.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new At(n||this.context.gl.LEQUAL,e,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,l,c={},f={},p={};for(var h in o){var d=o[h];c[h]=d.getVisibleCoordinates(),f[h]=c[h].slice().reverse(),p[h]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var g=0;g<i.length;g++)if(this.style._layers[i[g]].is3D()){this.opaquePassCutoff=g;break}this.renderPass="offscreen";for(var v=0,y=i;v<y.length;v+=1){var m=this.style._layers[y[v]];if(m.hasOffscreenPass()&&!m.isHidden(this.transform.zoom)){var _=f[m.source];("custom"===m.type||_.length)&&this.renderLayer(this,o[m.source],m,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],E=o[S.source],A=("symbol"===S.type?p:f)[S.source];this._renderTileClippingMasks(S,c[S.source]),this.renderLayer(this,E,S,A)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(l&&l.id)&&(l=r.style.sourceCaches[t.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))})),u&&mr.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;dr(t,t.transform.height-(e.top||0),3,lr),dr(t,e.bottom||0,3,cr),gr(t,e.left||0,3,fr),gr(t,t.transform.width-(e.right||0),3,pr);var n=t.transform.centerPoint;!function(t,e,n,r){vr(t,e-1,n-10,2,20,r),vr(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,hr)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),mr[n.type](t,e,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},_r.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e},_r.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[o?r[0]:pe(n,r[0],this.transform.zoom),o?r[1]:pe(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,l),c},_r.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},_r.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},_r.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},_r.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,t,_n[t],e,Kn[t],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var br=function(t,e){this.points=t,this.planes=e};br.fromInvProjectionMatrix=function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],o[e[0]],o[e[1]]),r=t.sub([],o[e[2]],o[e[1]]),i=t.normalize([],t.cross([],n,r)),a=-t.dot(i,o[e[1]]);return i.concat(a)}));return new br(o,a)};var xr=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],r=t.clone$2(this.min),i=t.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},xr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<e.planes.length;i++){for(var o=e.planes[i],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<e.points.length;f++){var p=e.points[f][u]-this.min[u];l=Math.min(l,p),c=Math.max(c,p)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var wr=function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r};wr.prototype.interpolate=function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this},wr.prototype.getCenter=function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)},wr.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sr=function(e,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Er={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sr.prototype.clone=function(){var t=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Er.minZoom.get=function(){return this._minZoom},Er.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Er.maxZoom.get=function(){return this._maxZoom},Er.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Er.minPitch.get=function(){return this._minPitch},Er.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Er.maxPitch.get=function(){return this._maxPitch},Er.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Er.renderWorldCopies.get=function(){return this._renderWorldCopies},Er.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Er.worldSize.get=function(){return this.tileSize*this.scale},Er.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Er.size.get=function(){return new t.Point(this.width,this.height)},Er.bearing.get=function(){return-this.angle/Math.PI*180},Er.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Er.pitch.get=function(){return this._pitch/Math.PI*180},Er.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Er.fov.get=function(){return this._fov/Math.PI*180},Er.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Er.zoom.get=function(){return this._zoom},Er.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Er.center.get=function(){return this._center},Er.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Er.padding.get=function(){return this._edgeInsets.toJSON()},Er.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Er.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sr.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},Sr.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},Sr.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},Sr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},Sr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=br.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(t){return{aabb:new xr([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],f=[],p=n,h=e.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var d=1;d<=3;d++)c.push(l(-d)),c.push(l(d));for(c.push(l(0));c.length>0;){var g=c.pop(),v=g.x,y=g.y,m=g.fullyVisible;if(!m){var _=g.aabb.intersects(s);if(0===_)continue;m=2===_}var b=g.aabb.distanceX(a),x=g.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(g.zoom===p||w>3+(1<<p-g.zoom)-2&&g.zoom>=u)f.push({tileID:new t.OverscaledTileID(g.zoom===p?h:g.zoom,g.wrap,g.zoom,v,y),distanceSq:t.sqrLen([a[0]-.5-v,a[1]-.5-y])});else for(var S=0;S<4;S++){var E=(v<<1)+S%2,A=(y<<1)+(S>>1);c.push({aabb:g.aabb.quadrant(S),zoom:g.zoom+1,x:E,y:A,wrap:g.wrap,fullyVisible:m})}}return f.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},Sr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Er.unmodified.get=function(){return this._unmodified},Sr.prototype.zoomScale=function(t){return Math.pow(2,t)},Sr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Sr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},Sr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Er.point.get=function(){return this.project(this.center)},Sr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Sr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Sr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Sr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},Sr.prototype.coordinateLocation=function(t){return t.toLngLat()},Sr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,u=n[2]/i,l=r[2]/o,c=u===l?0:(0-u)/(l-u);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},Sr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},Sr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},Sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,o.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},Sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=t.mercatorYfromLat(f[1])*this.worldSize,e=(a=t.mercatorYfromLat(f[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,n=(u=t.mercatorXfromLng(p[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var h=this.point,d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.Point(n?(u+s)/2:h.x,e?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var g=h.y,v=l.y/2;g-v<o&&(i=o+v),g+v>a&&(i=a-v)}if(this.lngRange){var y=h.x,m=l.x/2;y-m<s&&(r=s+m),y+m>u&&(r=u-m)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=c,this._constraining=!1}},Sr.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var f=this.width%2/2,p=this.height%2/2,h=Math.cos(this.angle),d=Math.sin(this.angle),g=a-Math.round(a)+h*f+d*p,v=s-Math.round(s)+h*p+d*f,y=new Float64Array(c);if(t.translate(y,y,[g>.5?g-1:g,v>.5?v-1:v,0]),this.alignedProjMatrix=y,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},Sr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,u=e;s<u.length;s+=1){var l=u[s];r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(Sr.prototype,Er);var Ar=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Ar.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ar.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ar.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var f=this._hashName,p=!1,h=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===f?(p=!0,e+"="+c):t})).filter((function(t){return t}));return p||h.push(f+"="+c),"#"+h.join("&")}return"#"+c},Ar.prototype._getCurrentHash=function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},Ar.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Ar.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var Or={linearity:.3,easing:t.bezier(0,0,.3,1)},Tr=t.extend({deceleration:2500,maxSpeed:1400},Or),Cr=t.extend({deceleration:20,maxSpeed:1400},Or),Pr=t.extend({deceleration:1e3,maxSpeed:360},Or),Mr=t.extend({deceleration:1e3,maxSpeed:90},Or),Ir=function(t){this._map=t,this.clear()};function kr(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Rr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=t.clamp(e*o/(n/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}Ir.prototype.clear=function(){this._inertiaBuffer=[]},Ir.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Ir.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Ir.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Rr(n.pan.mag(),a,t.extend({},Tr,e||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,kr(s,u)}if(n.zoom){var l=Rr(n.zoom,a,Cr);s.zoom=this._map.transform.zoom+l.amount,kr(s,l)}if(n.bearing){var c=Rr(n.bearing,a,Pr);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),kr(s,c)}if(n.pitch){var f=Rr(n.pitch,a,Mr);s.pitch=this._map.transform.pitch+f.amount,kr(s,f)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var Lr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),u=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Dr=function(e){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),u=s.map((function(t){return i.unproject(t)})),l=s.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),c=i.unproject(l);e.call(this,r,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Nr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),Fr=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Fr.prototype.reset=function(){delete this._mousedownPos},Fr.prototype.wheel=function(t){return this._firePreventable(new Nr(t.type,this._map,t))},Fr.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Lr(t.type,this._map,t))},Fr.prototype.mouseup=function(t){this._map.fire(new Lr(t.type,this._map,t))},Fr.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Lr(t.type,this._map,t))},Fr.prototype.dblclick=function(t){return this._firePreventable(new Lr(t.type,this._map,t))},Fr.prototype.mouseover=function(t){this._map.fire(new Lr(t.type,this._map,t))},Fr.prototype.mouseout=function(t){this._map.fire(new Lr(t.type,this._map,t))},Fr.prototype.touchstart=function(t){return this._firePreventable(new Dr(t.type,this._map,t))},Fr.prototype.touchmove=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.touchend=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.touchcancel=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Fr.prototype.isEnabled=function(){return!0},Fr.prototype.isActive=function(){return!1},Fr.prototype.enable=function(){},Fr.prototype.disable=function(){};var jr=function(t){this._map=t};jr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},jr.prototype.mousemove=function(t){this._map.fire(new Lr(t.type,this._map,t))},jr.prototype.mousedown=function(){this._delayContextMenu=!0},jr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},jr.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Lr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},jr.prototype.isEnabled=function(){return!0},jr.prototype.isActive=function(){return!1},jr.prototype.enable=function(){},jr.prototype.disable=function(){};var Br=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function zr(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}Br.prototype.isEnabled=function(){return!!this._enabled},Br.prototype.isActive=function(){return!!this._active},Br.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Br.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Br.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},Br.prototype.mousemoveWindow=function(t,e){if(this._active){var r=e;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},Br.prototype.mouseupWindow=function(e,r){var i=this;if(this._active&&0===e.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},Br.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},Br.prototype.blur=function(){this.reset()},Br.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Br.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Ur=function(t){this.reset(),this.numTouches=t.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),r=0,i=e;r<i.length;r+=1)n._add(i[r]);return n.div(e.length)}(n),this.touches=zr(r,n)))},Ur.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var r=zr(n,e);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(t){this.singleTap=new Ur(t),this.numTaps=t.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Vr.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Vr.prototype.touchend=function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Gr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};Gr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Gr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Gr.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Gr.prototype.touchend=function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Gr.prototype.touchcancel=function(){this.reset()},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},Hr=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};Hr.prototype.blur=function(){this.reset()},Hr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hr.prototype._correctButton=function(t,e){return!1},Hr.prototype._move=function(t,e){return{}},Hr.prototype.mousedown=function(t,e){if(!this._lastPoint){var r=n.mouseButton(t);this._correctButton(t,r)&&(this._lastPoint=e,this._eventButton=r)}},Hr.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Wr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},Hr.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(Hr),Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hr),qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hr),Zr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Zr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Zr.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Zr.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Zr.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Zr.prototype.touchcancel=function(){this.reset()},Zr.prototype._calculateTransform=function(e,n,r){r.length>0&&(this._active=!0);var i=zr(r,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var u in i){var l=i[u],c=this._touches[u];c&&(o._add(l),a._add(l.sub(c)),s++,i[u]=l)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var f=a.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:f}}},Zr.prototype.enable=function(){this._enabled=!0},Zr.prototype.disable=function(){this._enabled=!1,this.reset()},Zr.prototype.isEnabled=function(){return this._enabled},Zr.prototype.isActive=function(){return this._active};var Kr=function(){this.reset()};function Qr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Jr(t,e){return Math.log(t/e)/Math.LN2}Kr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kr.prototype._start=function(t){},Kr.prototype._move=function(t,e,n){return{}},Kr.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Kr.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Qr(n,e,r[0]),a=Qr(n,e,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},Kr.prototype.touchend=function(t,e,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Qr(r,e,i[0]),s=Qr(r,e,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var $r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Jr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jr(this._distance,n),pinchAround:e}},e}(Kr);function ti(t,e){return 180*t.angleWith(e)/Math.PI}var ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ti(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=ti(t,this._startVector);return Math.abs(n)<e},e}(Kr);function ni(t){return Math.abs(t.y)>Math.abs(t.x)}var ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,ni(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return ni(t)&&ni(e)&&o}},e}(Kr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var t=ii;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ai(t){return t*(2-t)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(u)+n*(t.shiftKey?2:1):u,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(t){this._defaultZoomRate=t},si.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},si.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},si.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var f=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=l(f);a=t.number(u,s,p),f<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var ui=function(t,e){this._clickZoom=t,this._tapZoom=e};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var li=function(){this.reset()};li.prototype.reset=function(){this._active=!1},li.prototype.blur=function(){this.reset()},li.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},ci.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)},ci.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var fi=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};fi.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hi=function(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};hi.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(t){return t.zoom||t.drag||t.pitch||t.rotate},gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function vi(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var yi=function(e,r){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ir(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var e=0,r=this._listeners;e<r.length;e+=1){var i=r[e],o=i[0];n.removeEventListener(o,i[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Fr(e,t));var r=e.boxZoom=new Br(e,t);this._add("boxZoom",r);var i=new Gr,o=new li;e.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=e.touchPitch=new ri;this._add("touchPitch",s);var u=new Xr(t),l=new qr(t);e.dragRotate=new pi(t,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Yr(t),f=new Zr(t);e.dragPan=new fi(n,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var p=new ei,h=new $r;e.touchZoomRotate=new hi(n,h,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var d=e.scrollZoom=new si(e,this);this._add("scrollZoom",d,["mousePan"]);var g=e.keyboard=new oi;this._add("keyboard",g),this._add("blockableMapEvent",new jr(e));for(var v=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<y.length;v+=1){var m=y[v];t.interactive&&t[m]&&e[m].enable(t[m])}},yi.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},yi.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},yi.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},yi.prototype._getMapTouches=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&e.push(i)}return e},yi.prototype.handleEvent=function(t,e){this._updatingCamera=!0;for(var r="renderFrame"===t.type?void 0:t,i={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,t),l=0,c=this._handlers;l<c.length;l+=1){var f=c[l],p=f.handlerName,h=f.handler,d=f.allowed;if(h.isEnabled()){var g=void 0;this._blockedByActive(a,d,p)?h.reset():h[e||t.type]&&(g=h[e||t.type](t,u,s),this.mergeHandlerResult(i,o,g,p,r),g&&g.needsRenderFrame&&this._triggerRenderFrame()),(g||h.isActive())&&(a[p]=h)}}var v={};for(var y in this._previousActiveHandlers)a[y]||(v[y]=r);this._previousActiveHandlers=a,(Object.keys(v).length||vi(i))&&(this._changes.push([i,o,v]),this._triggerRenderFrame()),(Object.keys(a).length||vi(i))&&this._map._stop(!0),this._updatingCamera=!1;var m=i.cameraAnimation;m&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],m(this._map))},yi.prototype.mergeHandlerResult=function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},yi.prototype._applyChanges=function(){for(var e={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,u),t.extend(r,l)}this._updateMapTransform(e,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(t,e,n){var r=this._map,i=r.transform;if(!vi(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,u=t.pitchDelta,l=t.around,c=t.pinchAround;void 0!==c&&(l=c),r._stop(!0),l=l||r.transform.centerPoint;var f=i.pointLocation(o?l.sub(o):l);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(f,l),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},yi.prototype._fireEvents=function(e,n,r){var i=this,o=di(this._eventsInProgress),a=di(e),s={};for(var u in e)this._eventsInProgress[u]||(s[u+"start"]=e[u].originalEvent),this._eventsInProgress[u]=e[u];for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var f,p={};for(var h in this._eventsInProgress){var d=this._eventsInProgress[h],g=d.handlerName,v=d.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[h],p[h+"end"]=f=n[g]||v)}for(var y in p)this._fireEvent(y,p[y]);var m=di(this._eventsInProgress);if(r&&(o||a)&&!m){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:f})):(this._map.fire(new t.Event("moveend",{originalEvent:f})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new gi("renderFrame",{timeStamp:e})),t._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var mi=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=t.extend(o,i.padding);var s=this.transform,u=s.padding,l=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),f=l.rotate(-r*Math.PI/180),p=c.rotate(-r*Math.PI/180),h=new t.Point(Math.max(f.x,p.x),Math.max(f.y,p.y)),d=new t.Point(Math.min(f.x,p.x),Math.min(f.y,p.y)),g=h.sub(d),v=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/g.x,y=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/g.y;if(!(y<0||v<0)){var m=Math.min(s.scaleZoom(s.scale*Math.min(v,y)),i.maxZoom),_="number"==typeof i.offset.x?new t.Point(i.offset.x,i.offset.y):t.Point.convert(i.offset),b=new t.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(m));return{center:s.unproject(l.add(c).div(2).sub(x)),zoom:m,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,f="pitch"in e?+e.pitch:s,p="padding"in e?e.padding:i.padding,h=t.Point.convert(e.offset),d=i.centerPoint.add(h),g=i.pointLocation(d),v=t.LngLat.convert(e.center||g);this._normalizeCenter(v);var y,m,_=i.project(g),b=i.project(v).sub(_),x=i.zoomScale(l-o);e.around&&(y=t.LngLat.convert(e.around),m=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(p),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,l,e)),r._rotating&&(i.bearing=t.number(a,c,e)),r._pitching&&(i.pitch=t.number(s,f,e)),r._padding&&(i.interpolatePadding(u,p,e),d=i.centerPoint.add(h)),y)i.setLocationAtPoint(y,m);else{var g=i.zoomScale(i.zoom-o),v=l>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(v,1-e),S=i.unproject(_.add(b.mult(e*w)).mult(g));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,d)}r._fireMoveEvents(n)}),(function(t){r._afterEase(n,t)}),e),this},n.prototype._prepareEase=function(e,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,f="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:u,h="padding"in e?e.padding:o.padding,d=o.zoomScale(c-a),g=t.Point.convert(e.offset),v=o.centerPoint.add(g),y=o.pointLocation(v),m=t.LngLat.convert(e.center||y);this._normalizeCenter(m);var _=o.project(y),b=o.project(m).sub(_),x=e.curve,w=Math.max(o.width,o.height),S=w/d,E=b.mag();if("minZoom"in e){var A=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),O=w/o.zoomScale(A-a);x=Math.sqrt(O/E*2)}var T=x*x;function C(t){var e=(S*S-w*w+(t?-1:1)*T*T*E*E)/(2*(t?S:w)*T*E);return Math.log(Math.sqrt(e*e+1)-e)}function P(t){return(Math.exp(t)-Math.exp(-t))/2}function M(t){return(Math.exp(t)+Math.exp(-t))/2}var I=C(0),k=function(t){return M(I)/M(I+x*t)},R=function(t){return w*((M(I)*(P(e=I+x*t)/M(e))-P(I))/T)/E;var e},L=(C(1)-I)/x;if(Math.abs(E)<1e-6||!isFinite(L)){if(Math.abs(w-S)<1e-6)return this.easeTo(e,n);var D=S<w?-1:1;L=Math.abs(Math.log(S/w))/x,R=function(){return 0},k=function(t){return Math.exp(D*x*t)}}return e.duration="duration"in e?+e.duration:1e3*L/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=p!==u,this._padding=!o.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((function(e){var i=e*L,d=1/k(i);o.zoom=1===e?c:a+o.scaleZoom(d),r._rotating&&(o.bearing=t.number(s,f,e)),r._pitching&&(o.pitch=t.number(u,p,e)),r._padding&&(o.interpolatePadding(l,h,e),v=o.centerPoint.add(g));var y=1===e?m:o.unproject(_.add(b.mult(R(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,v),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),_i=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},_i.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},xi.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},xi.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=t.window.HTMLImageElement,Ei=t.window.HTMLElement,Ai=t.window.ImageBitmap,Oi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ti=function(r){function i(e){var n=this;if(null!=(e=t.extend({},Oi,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sr(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(r.call(this,i,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},wi,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Ei))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,e),this._hash=e.hash&&new Ar("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _i({customAttribution:e.customAttribution})),this.addControl(new bi,e.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){n.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(t,e,n){var r,i=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new Lr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Lr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new Lr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}},i.prototype.on=function(t,e,n){if(void 0===n)return r.prototype.on.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(t,e,n){if(void 0===n)return r.prototype.once.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(t,e,n){var i=this;return void 0===n?r.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(r){for(var o=r[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ge(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ge(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof Si||Ai&&n instanceof Ai){var l=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Si||Ai&&n instanceof Ai?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Si||Ai&&n instanceof Ai)),void this.style.updateImage(e,r))},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(e,n){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(e){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=t.browser.now();this.style.zoomHistory.update(s,u);var l=new t.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new t.Event("gpu-timing-frame",{cpuTime:f,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(p);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}var h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ci(this._canvasContainer),Ci(this._controlContainer),Ci(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render(t)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(i.prototype,o),i}(mi);function Ci(t){t.parentNode&&t.parentNode.removeChild(t)}var Pi={showCompass:!0,showZoom:!0,visualizePitch:!1},Mi=function(e){var r=this;this.options=t.extend({},Pi,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Mi.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Mi.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Mi.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ii(this._map,this._compass,this.options.visualizePitch)),this._container},Mi.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Mi.prototype._createButton=function(t,e){var r=n.create("button",t,this._container);return r.type="button",r.addEventListener("click",e),r},Mi.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Ii=function(e,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Xr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new qr({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function ki(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Ii.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Ii.prototype.move=function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Ii.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Ii.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Ii.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Ii.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Ii.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Ii.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Ii.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Ii.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ii.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ri={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Li(t,e,n){var r=t.classList;for(var i in Ri)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Di,Ni=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var f=c[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",f.rx),p.setAttributeNS(null,"ry",f.ry),u.appendChild(p)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var v=n.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(v);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),m.appendChild(_),m.appendChild(b),s.appendChild(u),s.appendChild(h),s.appendChild(g),s.appendChild(y),s.appendChild(m),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),Li(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ki(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Ri[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+e)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(t.Evented),Fi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ji=0,Bi=!1,zi=function(e){function r(n){e.call(this),this.options=t.extend({},Fi,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Di?r(Di):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(Di="denied"!==t.state)})):r(Di=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ji=0,Bi=!1},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Bi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ni(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ni({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ji--,Bi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++ji>1?(e={maximumAge:6e5,timeout:0},Bi=!0):(e=this.options.positionOptions,Bi=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(e){this.options=t.extend({},Ui,e),t.bindAll(["_onMove","setUnit"],this)};function Gi(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Wi(e,r,u/5280,t._getUIString("ScaleControl.Miles")):Wi(e,r,u,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):Wi(e,r,s,t._getUIString("ScaleControl.Meters"))}function Wi(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Gi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(t){this.options.unit=t,Gi(this._map,this._container,this.options)};var Hi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Hi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Yi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),qi=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(Yi),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},r.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},r.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},r.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(t){this._update(t.point)},r.prototype._onMouseMove=function(t){this._update(t.point)},r.prototype._onDrag=function(t){this._update(t.point)},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ki(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+a.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Ri[o]+" translate("+c.x+"px,"+c.y+"px)"),Li(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Xi);t&&t.focus()}},r.prototype._onClose=function(){this.remove()},r}(t.Evented),Zi={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Ti,NavigationControl:Mi,GeolocateControl:zi,AttributionControl:_i,ScaleControl:Vi,FullscreenControl:Hi,Popup:qi,Marker:Ni,Style:Ge,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){jt().acquire(Lt)},clearPrewarmedResources:function(){var t=Nt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Lt),Nt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Dt.workerCount},set workerCount(t){Dt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Zi})),n}()},1725:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(e){s=e(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},6891:function(t){"use strict";var e;t.exports=function(t){var n,r="&"+t+";";if((e=e||document.createElement("i")).innerHTML=r,59===(n=e.textContent).charCodeAt(n.length-1)&&"semi"!==t)return!1;return n!==r&&n}},5434:function(t,e,n){"use strict";var r=n(7452),i=n(3580),o=n(7194),a=n(5504),s=n(4929),u=n(6891);t.exports=function(t,e){var n,o,a={};e||(e={});for(o in p)n=e[o],a[o]=null===n||void 0===n?p[o]:n;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(t,e){var n,o,a,p,x,w,S,E,A,O,T,C,P,M,I,k,R,L,D,N=e.additional,F=e.nonTerminated,j=e.text,B=e.reference,z=e.warning,U=e.textContext,V=e.referenceContext,G=e.warningContext,W=e.position,H=e.indent||[],Y=t.length,X=0,q=-1,Z=W.column||1,K=W.line||1,Q="",J=[];"string"===typeof N&&(N=N.charCodeAt(0));k=$(),E=z?tt:f,X--,Y++;for(;++X<Y;)if(10===x&&(Z=H[q]||1),38===(x=t.charCodeAt(X))){if(9===(S=t.charCodeAt(X+1))||10===S||12===S||32===S||38===S||60===S||S!==S||N&&S===N){Q+=c(x),Z++;continue}for(C=P=X+1,D=P,35===S?(D=++C,88===(S=t.charCodeAt(D))||120===S?(M=d,D=++C):M=g):M=h,n="",T="",p="",I=y[M],D--;++D<Y&&I(S=t.charCodeAt(D));)p+=c(S),M===h&&l.call(r,p)&&(n=p,T=r[p]);(a=59===t.charCodeAt(D))&&(D++,(o=M===h&&u(p))&&(n=p,T=o)),L=1+D-P,(a||F)&&(p?M===h?(a&&!T?E(5,1):(n!==p&&(L=1+(D=C+n.length)-C,a=!1),a||(A=n?1:3,e.attribute?61===(S=t.charCodeAt(D))?(E(A,L),T=null):s(S)?T=null:E(A,L):E(A,L))),w=T):(a||E(2,L),_(w=parseInt(p,v[M]))?(E(7,L),w=c(65533)):w in i?(E(6,L),w=i[w]):(O="",b(w)&&E(6,L),w>65535&&(O+=c((w-=65536)>>>10|55296),w=56320|1023&w),w=O+c(w))):M!==h&&E(4,L)),w?(et(),k=$(),X=D-1,Z+=D-P+1,J.push(w),(R=$()).offset++,B&&B.call(V,w,{start:k,end:R},t.slice(P-1,D)),k=R):(p=t.slice(P-1,D),Q+=p,Z+=p.length,X=D-1)}else 10===x&&(K++,q++,Z=0),x===x?(Q+=c(x),Z++):et();return J.join("");function $(){return{line:K,column:Z,offset:X+(W.offset||0)}}function tt(t,e){var n=$();n.column+=e,n.offset+=e,z.call(G,m[t],n,t)}function et(){Q&&(J.push(Q),j&&j.call(U,Q,{start:k,end:$()}),Q="")}}(t,a)};var l={}.hasOwnProperty,c=String.fromCharCode,f=Function.prototype,p={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},h="named",d="hexadecimal",g="decimal",v={hexadecimal:16,decimal:10},y={};y.named=s,y[g]=o,y[d]=a;var m={};function _(t){return t>=55296&&t<=57343||t>1114111}function b(t){return t>=1&&t<=8||11===t||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535===(65535&t)||65534===(65535&t)}m[1]="Named character references must be terminated by a semicolon",m[2]="Numeric character references must be terminated by a semicolon",m[3]="Named character references cannot be empty",m[4]="Numeric character references cannot be empty",m[5]="Named character references must be known",m[6]="Numeric character references cannot be disallowed",m[7]="Numeric character references cannot be outside the permissible Unicode range"},216:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printIteratorEntries=function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:": ",s="",u=t.next();if(!u.done){s+=e.spacingOuter;for(var l=n+e.indent;!u.done;){var c=o(u.value[0],e,l,r,i),f=o(u.value[1],e,l,r,i);s+=l+c+a+f,(u=t.next()).done?e.min||(s+=","):s+=","+e.spacingInner}s+=e.spacingOuter+n}return s},e.printIteratorValues=function(t,e,n,r,i,o){var a="",s=t.next();if(!s.done){a+=e.spacingOuter;for(var u=n+e.indent;!s.done;)a+=u+o(s.value,e,u,r,i),(s=t.next()).done?e.min||(a+=","):a+=","+e.spacingInner;a+=e.spacingOuter+n}return a},e.printListItems=function(t,e,n,r,i,o){var a="";if(t.length){a+=e.spacingOuter;for(var s=n+e.indent,u=0;u<t.length;u++)a+=s,u in t&&(a+=o(t[u],e,s,r,i)),u<t.length-1?a+=","+e.spacingInner:e.min||(a+=",");a+=e.spacingOuter+n}return a},e.printObjectProperties=function(t,e,n,r,i,o){var a="",s=function(t,e){var n=Object.keys(t).sort(e);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(e){Object.getOwnPropertyDescriptor(t,e).enumerable&&n.push(e)}));return n}(t,e.compareKeys);if(s.length){a+=e.spacingOuter;for(var u=n+e.indent,l=0;l<s.length;l++){var c=s[l],f=o(c,e,u,r,i),p=o(t[c],e,u,r,i);a+=u+f+": "+p,l<s.length-1?a+=","+e.spacingInner:e.min||(a+=",")}a+=e.spacingOuter+n}return a}},7220:function(t,e,n){"use strict";var r=n(3913).default,i=n(4575).default,o=n(2205).default,a=n(9842).default,s=n(5957).default;e.WU=V,e.Gr=void 0;var u=y(n(4348)),l=n(216),c=y(n(6406)),f=y(n(4157)),p=y(n(5882)),h=y(n(9593)),d=y(n(2979)),g=y(n(4260)),v=y(n(3591));function y(t){return t&&t.__esModule?t:{default:t}}var m=Object.prototype.toString,_=Date.prototype.toISOString,b=Error.prototype.toString,x=RegExp.prototype.toString,w=function(t){return"function"===typeof t.constructor&&t.constructor.name||"Object"},S=/^Symbol\((.*)\)(.*)$/,E=/\n/gi,A=function(t){o(n,t);var e=a(n);function n(t,r){var o;return i(this,n),(o=e.call(this,t)).stack=r,o.name=o.constructor.name,o}return r(n)}(s(Error));function O(t,e){return e?"[Function "+(t.name||"anonymous")+"]":"[Function]"}function T(t){return String(t).replace(S,"Symbol($1)")}function C(t){return"["+b.call(t)+"]"}function P(t,e,n,r){if(!0===t||!1===t)return""+t;if(void 0===t)return"undefined";if(null===t)return"null";var i=typeof t;if("number"===i)return function(t){return Object.is(t,-0)?"-0":String(t)}(t);if("bigint"===i)return function(t){return String("".concat(t,"n"))}(t);if("string"===i)return r?'"'+t.replace(/"|\\/g,"\\$&")+'"':'"'+t+'"';if("function"===i)return O(t,e);if("symbol"===i)return T(t);var o=m.call(t);return"[object WeakMap]"===o?"WeakMap {}":"[object WeakSet]"===o?"WeakSet {}":"[object Function]"===o||"[object GeneratorFunction]"===o?O(t,e):"[object Symbol]"===o?T(t):"[object Date]"===o?isNaN(+t)?"Date { NaN }":_.call(t):"[object Error]"===o?C(t):"[object RegExp]"===o?n?x.call(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):x.call(t):t instanceof Error?C(t):null}function M(t,e,n,r,i,o){if(-1!==i.indexOf(t))return"[Circular]";(i=i.slice()).push(t);var a=++r>e.maxDepth,s=e.min;if(e.callToJSON&&!a&&t.toJSON&&"function"===typeof t.toJSON&&!o)return R(t.toJSON(),e,n,r,i,!0);var u=m.call(t);return"[object Arguments]"===u?a?"[Arguments]":(s?"":"Arguments ")+"["+(0,l.printListItems)(t,e,n,r,i,R)+"]":function(t){return"[object Array]"===t||"[object ArrayBuffer]"===t||"[object DataView]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t}(u)?a?"["+t.constructor.name+"]":(s?"":e.printBasicPrototype||"Array"!==t.constructor.name?t.constructor.name+" ":"")+"["+(0,l.printListItems)(t,e,n,r,i,R)+"]":"[object Map]"===u?a?"[Map]":"Map {"+(0,l.printIteratorEntries)(t.entries(),e,n,r,i,R," => ")+"}":"[object Set]"===u?a?"[Set]":"Set {"+(0,l.printIteratorValues)(t.values(),e,n,r,i,R)+"}":a||function(t){return"undefined"!==typeof window&&t===window}(t)?"["+w(t)+"]":(s?"":e.printBasicPrototype||"Object"!==w(t)?w(t)+" ":"")+"{"+(0,l.printObjectProperties)(t,e,n,r,i,R)+"}"}function I(t,e,n,r,i,o){var a;try{a=function(t){return null!=t.serialize}(t)?t.serialize(e,n,r,i,o,R):t.print(e,(function(t){return R(t,n,r,i,o)}),(function(t){var e=r+n.indent;return e+t.replace(E,"\n"+e)}),{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(s){throw new A(s.message,s.stack)}if("string"!==typeof a)throw new Error('pretty-format: Plugin must return type "string" but instead returned "'.concat(typeof a,'".'));return a}function k(t,e){for(var n=0;n<t.length;n++)try{if(t[n].test(e))return t[n]}catch(r){throw new A(r.message,r.stack)}return null}function R(t,e,n,r,i,o){var a=k(e.plugins,t);if(null!==a)return I(a,t,e,n,r,i);var s=P(t,e.printFunctionName,e.escapeRegex,e.escapeString);return null!==s?s:M(t,e,n,r,i,o)}var L={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},D=Object.keys(L),N={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:L};var F=function(t){return D.reduce((function(e,n){var r=t.theme&&void 0!==t.theme[n]?t.theme[n]:L[n],i=r&&u.default[r];if(!i||"string"!==typeof i.close||"string"!==typeof i.open)throw new Error('pretty-format: Option "theme" has a key "'.concat(n,'" whose value "').concat(r,'" is undefined in ansi-styles.'));return e[n]=i,e}),Object.create(null))},j=function(t){return t&&void 0!==t.printFunctionName?t.printFunctionName:N.printFunctionName},B=function(t){return t&&void 0!==t.escapeRegex?t.escapeRegex:N.escapeRegex},z=function(t){return t&&void 0!==t.escapeString?t.escapeString:N.escapeString},U=function(t){var e,n;return{callToJSON:t&&void 0!==t.callToJSON?t.callToJSON:N.callToJSON,colors:t&&t.highlight?F(t):D.reduce((function(t,e){return t[e]={close:"",open:""},t}),Object.create(null)),compareKeys:t&&"function"===typeof t.compareKeys?t.compareKeys:N.compareKeys,escapeRegex:B(t),escapeString:z(t),indent:t&&t.min?"":(n=t&&void 0!==t.indent?t.indent:N.indent,new Array(n+1).join(" ")),maxDepth:t&&void 0!==t.maxDepth?t.maxDepth:N.maxDepth,min:t&&void 0!==t.min?t.min:N.min,plugins:t&&void 0!==t.plugins?t.plugins:N.plugins,printBasicPrototype:null===(e=null===t||void 0===t?void 0:t.printBasicPrototype)||void 0===e||e,printFunctionName:j(t),spacingInner:t&&t.min?" ":"\n",spacingOuter:t&&t.min?"":"\n"}};function V(t,e){if(e&&(function(t){if(Object.keys(t).forEach((function(t){if(!N.hasOwnProperty(t))throw new Error('pretty-format: Unknown option "'.concat(t,'".'))})),t.min&&void 0!==t.indent&&0!==t.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==t.theme){if(null===t.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!==typeof t.theme)throw new Error('pretty-format: Option "theme" must be of type "object" but instead received "'.concat(typeof t.theme,'".'))}}(e),e.plugins)){var n=k(e.plugins,t);if(null!==n)return I(n,t,U(e),"",0,[])}var r=P(t,j(e),B(e),z(e));return null!==r?r:M(t,U(e),"",0,[])}var G={AsymmetricMatcher:c.default,ConvertAnsi:f.default,DOMCollection:p.default,DOMElement:h.default,Immutable:d.default,ReactElement:g.default,ReactTestComponent:v.default};e.Gr=G},6406:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=n(216),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol,a="function"===typeof o&&o.for?o.for("jest.asymmetricMatcher"):1267621,s=" ",u=function(t,e,n,i,o,a){var u=t.toString();return"ArrayContaining"===u||"ArrayNotContaining"===u?++i>e.maxDepth?"["+u+"]":u+s+"["+(0,r.printListItems)(t.sample,e,n,i,o,a)+"]":"ObjectContaining"===u||"ObjectNotContaining"===u?++i>e.maxDepth?"["+u+"]":u+s+"{"+(0,r.printObjectProperties)(t.sample,e,n,i,o,a)+"}":"StringMatching"===u||"StringNotMatching"===u||"StringContaining"===u||"StringNotContaining"===u?u+s+a(t.sample,e,n,i,o):t.toAsymmetricMatcher()};e.serialize=u;var l=function(t){return t&&t.$$typeof===a};e.test=l;var c={serialize:u,test:l};e.default=c},4157:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=o(n(6587)),i=o(n(4348));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){return"string"===typeof t&&!!t.match((0,r.default)())};e.test=a;var s=function(t,e,n,o,a,s){return s(t.replace((0,r.default)(),(function(t){switch(t){case i.default.red.close:case i.default.green.close:case i.default.cyan.close:case i.default.gray.close:case i.default.white.close:case i.default.yellow.close:case i.default.bgRed.close:case i.default.bgGreen.close:case i.default.bgYellow.close:case i.default.inverse.close:case i.default.dim.close:case i.default.bold.close:case i.default.reset.open:case i.default.reset.close:return"</>";case i.default.red.open:return"<red>";case i.default.green.open:return"<green>";case i.default.cyan.open:return"<cyan>";case i.default.gray.open:return"<gray>";case i.default.white.open:return"<white>";case i.default.yellow.open:return"<yellow>";case i.default.bgRed.open:return"<bgRed>";case i.default.bgGreen.open:return"<bgGreen>";case i.default.bgYellow.open:return"<bgYellow>";case i.default.inverse.open:return"<inverse>";case i.default.dim.open:return"<dim>";case i.default.bold.open:return"<bold>";default:return""}})),e,n,o,a)};e.serialize=s;var u={serialize:s,test:a};e.default=u},5882:function(t,e,n){"use strict";var r=n(1109).default;Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var i=n(216),o=["DOMStringMap","NamedNodeMap"],a=/^(HTML\w*Collection|NodeList)$/,s=function(t){return t&&t.constructor&&!!t.constructor.name&&(e=t.constructor.name,-1!==o.indexOf(e)||a.test(e));var e};e.test=s;var u=function(t,e,n,a,s,u){var l=t.constructor.name;return++a>e.maxDepth?"["+l+"]":(e.min?"":l+" ")+(-1!==o.indexOf(l)?"{"+(0,i.printObjectProperties)(function(t){return"NamedNodeMap"===t.constructor.name}(t)?Array.from(t).reduce((function(t,e){return t[e.name]=e.value,t}),{}):r({},t),e,n,a,s,u)+"}":"["+(0,i.printListItems)(Array.from(t),e,n,a,s,u)+"]")};e.serialize=u;var l={serialize:u,test:s};e.default=l},9593:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=n(9355),i=/^((HTML|SVG)\w*)?Element$/,o=function(t){var e;return(null===t||void 0===t||null===(e=t.constructor)||void 0===e?void 0:e.name)&&function(t){var e=t.constructor.name,n=t.nodeType,r=t.tagName,o="string"===typeof r&&r.includes("-")||function(t){try{return"function"===typeof t.hasAttribute&&t.hasAttribute("is")}catch(e){return!1}}(t);return 1===n&&(i.test(e)||o)||3===n&&"Text"===e||8===n&&"Comment"===e||11===n&&"DocumentFragment"===e}(t)};function a(t){return 11===t.nodeType}e.test=o;var s=function(t,e,n,i,o,s){if(function(t){return 3===t.nodeType}(t))return(0,r.printText)(t.data,e);if(function(t){return 8===t.nodeType}(t))return(0,r.printComment)(t.data,e);var u=a(t)?"DocumentFragment":t.tagName.toLowerCase();return++i>e.maxDepth?(0,r.printElementAsLeaf)(u,e):(0,r.printElement)(u,(0,r.printProps)(a(t)?[]:Array.from(t.attributes).map((function(t){return t.name})).sort(),a(t)?{}:Array.from(t.attributes).reduce((function(t,e){return t[e.name]=e.value,t}),{}),e,n+e.indent,i,o,s),(0,r.printChildren)(Array.prototype.slice.call(t.childNodes||t.children),e,n+e.indent,i,o,s),e,n)};e.serialize=s;var u={serialize:s,test:o};e.default=u},2979:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=n(216),i="@@__IMMUTABLE_ORDERED__@@",o=function(t){return"Immutable."+t},a=function(t){return"["+t+"]"},s=" ";var u=function(t,e,n,i,u,l,c){return++i>e.maxDepth?a(o(c)):o(c)+s+"["+(0,r.printIteratorValues)(t.values(),e,n,i,u,l)+"]"},l=function(t,e,n,l,c,f){return t["@@__IMMUTABLE_MAP__@@"]?function(t,e,n,i,u,l,c){return++i>e.maxDepth?a(o(c)):o(c)+s+"{"+(0,r.printIteratorEntries)(t.entries(),e,n,i,u,l)+"}"}(t,e,n,l,c,f,t[i]?"OrderedMap":"Map"):t["@@__IMMUTABLE_LIST__@@"]?u(t,e,n,l,c,f,"List"):t["@@__IMMUTABLE_SET__@@"]?u(t,e,n,l,c,f,t[i]?"OrderedSet":"Set"):t["@@__IMMUTABLE_STACK__@@"]?u(t,e,n,l,c,f,"Stack"):t["@@__IMMUTABLE_SEQ__@@"]?function(t,e,n,i,u,l){var c=o("Seq");return++i>e.maxDepth?a(c):t["@@__IMMUTABLE_KEYED__@@"]?c+s+"{"+(t._iter||t._object?(0,r.printIteratorEntries)(t.entries(),e,n,i,u,l):"\u2026")+"}":c+s+"["+(t._iter||t._array||t._collection||t._iterable?(0,r.printIteratorValues)(t.values(),e,n,i,u,l):"\u2026")+"]"}(t,e,n,l,c,f):function(t,e,n,i,u,l){var c=o(t._name||"Record");return++i>e.maxDepth?a(c):c+s+"{"+(0,r.printIteratorEntries)(function(t){var e=0;return{next:function(){if(e<t._keys.length){var n=t._keys[e++];return{done:!1,value:[n,t.get(n)]}}return{done:!0,value:void 0}}}}(t),e,n,i,u,l)+"}"}(t,e,n,l,c,f)};e.serialize=l;var c=function(t){return t&&(!0===t["@@__IMMUTABLE_ITERABLE__@@"]||!0===t["@@__IMMUTABLE_RECORD__@@"])};e.test=c;var f={serialize:l,test:c};e.default=f},4260:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(7441)),i=n(9355);function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}var a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e.forEach((function(e){t(e,n)})):null!=e&&!1!==e&&n.push(e),n},s=function(t){var e=t.type;if("string"===typeof e)return e;if("function"===typeof e)return e.displayName||e.name||"Unknown";if(r.isFragment(t))return"React.Fragment";if(r.isSuspense(t))return"React.Suspense";if("object"===typeof e&&null!==e){if(r.isContextProvider(t))return"Context.Provider";if(r.isContextConsumer(t))return"Context.Consumer";if(r.isForwardRef(t)){if(e.displayName)return e.displayName;var n=e.render.displayName||e.render.name||"";return""!==n?"ForwardRef("+n+")":"ForwardRef"}if(r.isMemo(t)){var i=e.displayName||e.type.displayName||e.type.name||"";return""!==i?"Memo("+i+")":"Memo"}}return"UNDEFINED"},u=function(t,e,n,r,o,u){return++r>e.maxDepth?(0,i.printElementAsLeaf)(s(t),e):(0,i.printElement)(s(t),(0,i.printProps)(function(t){var e=t.props;return Object.keys(e).filter((function(t){return"children"!==t&&void 0!==e[t]})).sort()}(t),t.props,e,n+e.indent,r,o,u),(0,i.printChildren)(a(t.props.children),e,n+e.indent,r,o,u),e,n)};e.serialize=u;var l=function(t){return null!=t&&r.isElement(t)};e.test=l;var c={serialize:u,test:l};e.default=c},3591:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.test=e.serialize=e.default=void 0;var r=n(9355),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol,a="function"===typeof o&&o.for?o.for("react.test.json"):245830487,s=function(t,e,n,i,o,a){return++i>e.maxDepth?(0,r.printElementAsLeaf)(t.type,e):(0,r.printElement)(t.type,t.props?(0,r.printProps)(function(t){var e=t.props;return e?Object.keys(e).filter((function(t){return void 0!==e[t]})).sort():[]}(t),t.props,e,n+e.indent,i,o,a):"",t.children?(0,r.printChildren)(t.children,e,n+e.indent,i,o,a):"",e,n)};e.serialize=s;var u=function(t){return t&&t.$$typeof===a};e.test=u;var l={serialize:s,test:u};e.default=l},2109:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},9355:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printText=e.printProps=e.printElementAsLeaf=e.printElement=e.printComment=e.printChildren=void 0;var r,i=(r=n(2109))&&r.__esModule?r:{default:r};e.printProps=function(t,e,n,r,i,o,a){var s=r+n.indent,u=n.colors;return t.map((function(t){var l=e[t],c=a(l,n,s,i,o);return"string"!==typeof l&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+u.prop.open+t+u.prop.close+"="+u.value.open+c+u.value.close})).join("")};e.printChildren=function(t,e,n,r,i,a){return t.map((function(t){return e.spacingOuter+n+("string"===typeof t?o(t,e):a(t,e,n,r,i))})).join("")};var o=function(t,e){var n=e.colors.content;return n.open+(0,i.default)(t)+n.close};e.printText=o;e.printComment=function(t,e){var n=e.colors.comment;return n.open+"\x3c!--"+(0,i.default)(t)+"--\x3e"+n.close};e.printElement=function(t,e,n,r,i){var o=r.colors.tag;return o.open+"<"+t+(e&&o.close+e+r.spacingOuter+i+o.open)+(n?">"+o.close+n+r.spacingOuter+i+o.open+"</"+t:(e&&!r.min?"":" ")+"/")+">"+o.close};e.printElementAsLeaf=function(t,e){var n=e.colors.tag;return n.open+"<"+t+n.close+" \u2026"+n.open+" />"+n.close}},6587:function(t){"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onlyFirst,n=void 0!==e&&e,r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,n?void 0:"g")}},4348:function(t,e,n){"use strict";t=n.nmd(t);var r=n(319).default,i=n(2857).default,o=n(3038).default,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return"\x1b[".concat(38+t,";5;").concat(e,"m")}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,n,r){return"\x1b[".concat(38+t,";2;").concat(e,";").concat(n,";").concat(r,"m")}};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){var t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(var n=0,u=Object.entries(e);n<u.length;n++){for(var l=o(u[n],2),c=l[0],f=l[1],p=0,h=Object.entries(f);p<h.length;p++){var d=o(h[p],2),g=d[0],v=d[1];e[g]={open:"\x1b[".concat(v[0],"m"),close:"\x1b[".concat(v[1],"m")},f[g]=e[g],t.set(v[0],v[1])}Object.defineProperty(e,c,{value:f,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1b[39m",e.bgColor.close="\x1b[49m",e.color.ansi256=a(),e.color.ansi16m=s(),e.bgColor.ansi256=a(10),e.bgColor.ansi16m=s(10),Object.defineProperties(e,{rgbToAnsi256:{value:function(t,e,n){return t===e&&e===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value:function(t){var e=i(/([a-f\d]{6}|[a-f\d]{3})/i,{colorString:1}).exec(t.toString(16));if(!e)return[0,0,0];var n=e.groups.colorString;3===n.length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:function(t){return e.rgbToAnsi256.apply(e,r(e.hexToRgb(t)))},enumerable:!1}}),e}})},3693:function(t,e,n){var r=function(t){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(e){return e instanceof o?new o(e.type,t(e.content),e.alias):Array.isArray(e)?e.map(t):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var r,o;switch(n=n||{},i.util.type(e)){case"Object":if(o=i.util.objId(e),n[o])return n[o];for(var a in r={},n[o]=r,e)e.hasOwnProperty(a)&&(r[a]=t(e[a],n));return r;case"Array":return o=i.util.objId(e),n[o]?n[o]:(r=[],n[o]=r,e.forEach((function(e,i){r[i]=t(e,n)})),r);default:return e}},getLanguage:function(t){for(;t;){var n=e.exec(t.className);if(n)return n[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,n){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+n)},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var n in e)if(e[n].src==t)return e[n]}return null}},isActive:function(t,e,n){for(var r="no-"+e;t;){var i=t.classList;if(i.contains(e))return!0;if(i.contains(r))return!1;t=t.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){var o=(r=r||i.languages)[t],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==e)for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u]);n.hasOwnProperty(s)||(a[s]=o[s])}var l=r[t];return r[t]=a,i.languages.DFS(i.languages,(function(e,n){n===l&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,r,o){o=o||{};var a=i.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],r||s);var u=e[s],l=i.util.type(u);"Object"!==l||o[a(u)]?"Array"!==l||o[a(u)]||(o[a(u)]=!0,t(u,n,s,o)):(o[a(u)]=!0,t(u,n,null,o))}}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var r={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===e,r.callback)},highlightElement:function(e,n,r){var o=i.util.getLanguage(e),a=i.languages[o];i.util.setLanguage(e,o);var s=e.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var u={element:e,language:o,grammar:a,code:e.textContent};function l(t){u.highlightedCode=t,i.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,i.hooks.run("after-highlight",u),i.hooks.run("complete",u),r&&r.call(u.element)}if(i.hooks.run("before-sanity-check",u),(s=u.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!u.code)return i.hooks.run("complete",u),void(r&&r.call(u.element));if(i.hooks.run("before-highlight",u),u.grammar)if(n&&t.Worker){var c=new Worker(i.filename);c.onmessage=function(t){l(t.data)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else l(i.highlight(u.code,u.grammar,u.language));else l(i.util.encode(u.code))},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var i=new u;return l(i,i.head,t),s(t,i,e,i.head,0),function(t){var e=[],n=t.head.next;for(;n!==t.tail;)e.push(n.value),n=n.next;return e}(i)},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var r,o=0;r=n[o++];)r(e)}},Token:o};function o(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length}function a(t,e,n,r){t.lastIndex=e;var i=t.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(t,e,n,r,u,f){for(var p in n)if(n.hasOwnProperty(p)&&n[p]){var h=n[p];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(f&&f.cause==p+","+d)return;var g=h[d],v=g.inside,y=!!g.lookbehind,m=!!g.greedy,_=g.alias;if(m&&!g.pattern.global){var b=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,b+"g")}for(var x=g.pattern||g,w=r.next,S=u;w!==e.tail&&!(f&&S>=f.reach);S+=w.value.length,w=w.next){var E=w.value;if(e.length>t.length)return;if(!(E instanceof o)){var A,O=1;if(m){if(!(A=a(x,S,t,y))||A.index>=t.length)break;var T=A.index,C=A.index+A[0].length,P=S;for(P+=w.value.length;T>=P;)P+=(w=w.next).value.length;if(S=P-=w.value.length,w.value instanceof o)continue;for(var M=w;M!==e.tail&&(P<C||"string"===typeof M.value);M=M.next)O++,P+=M.value.length;O--,E=t.slice(S,P),A.index-=S}else if(!(A=a(x,0,E,y)))continue;T=A.index;var I=A[0],k=E.slice(0,T),R=E.slice(T+I.length),L=S+E.length;f&&L>f.reach&&(f.reach=L);var D=w.prev;if(k&&(D=l(e,D,k),S+=k.length),c(e,D,O),w=l(e,D,new o(p,v?i.tokenize(I,v):I,_,I)),R&&l(e,w,R),O>1){var N={cause:p+","+d,reach:L};s(t,e,n,w.prev,S,N),f&&N.reach>f.reach&&(f.reach=N.reach)}}}}}}function u(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function l(t,e,n){var r=e.next,i={value:n,prev:e,next:r};return e.next=i,r.prev=i,t.length++,i}function c(t,e,n){for(var r=e.next,i=0;i<n&&r!==t.tail;i++)r=r.next;e.next=r,r.prev=e,t.length-=i}if(t.Prism=i,o.stringify=function t(e,n){if("string"==typeof e)return e;if(Array.isArray(e)){var r="";return e.forEach((function(e){r+=t(e,n)})),r}var o={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},a=e.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var u in o.attributes)s+=" "+u+'="'+(o.attributes[u]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),r=n.language,o=n.code,a=n.immediateClose;t.postMessage(i.highlight(o,i.languages[r],r)),a&&t.close()}),!1),i):i;var f=i.util.currentScript();function p(){i.manual||i.highlightAll()}if(f&&(i.filename=f.src,f.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var h=document.readyState;"loading"===h||"interactive"===h&&f&&f.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return i}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=r),"undefined"!==typeof n.g&&(n.g.Prism=r)},888:function(t,e,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3644:function(t,e,n){"use strict";var r=n(15),i=n(9110),o=n(6966),a="data";t.exports=function(t,e){var n=r(e),p=e,h=o;if(n in t.normal)return t.property[t.normal[n]];n.length>4&&n.slice(0,4)===a&&s.test(e)&&("-"===e.charAt(4)?p=function(t){var e=t.slice(5).replace(u,f);return a+e.charAt(0).toUpperCase()+e.slice(1)}(e):e=function(t){var e=t.slice(4);if(u.test(e))return t;"-"!==(e=e.replace(l,c)).charAt(0)&&(e="-"+e);return a+e}(e),h=i);return new h(p,e)};var s=/^data[-\w.:]+$/i,u=/-[a-z]/g,l=/[A-Z]/g;function c(t){return"-"+t.toLowerCase()}function f(t){return t.charAt(1).toUpperCase()}},5706:function(t,e,n){"use strict";var r=n(5132),i=n(7743),o=n(238),a=n(6744),s=n(3388),u=n(6485);t.exports=r([o,i,a,s,u])},3388:function(t,e,n){"use strict";var r=n(8056),i=n(6863),o=r.booleanish,a=r.number,s=r.spaceSeparated;t.exports=i({transform:function(t,e){return"role"===e?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:o,ariaAutoComplete:null,ariaBusy:o,ariaChecked:o,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:o,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:o,ariaFlowTo:s,ariaGrabbed:o,ariaHasPopup:null,ariaHidden:o,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:o,ariaMultiLine:o,ariaMultiSelectable:o,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:o,ariaReadOnly:o,ariaRelevant:null,ariaRequired:o,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:o,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},6485:function(t,e,n){"use strict";var r=n(8056),i=n(6863),o=n(1736),a=r.boolean,s=r.overloadedBoolean,u=r.booleanish,l=r.number,c=r.spaceSeparated,f=r.commaSeparated;t.exports=i({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:o,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:f,acceptCharset:c,accessKey:c,action:null,allow:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:c,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:c,cols:l,colSpan:null,content:null,contentEditable:u,controls:a,controlsList:c,coords:l|f,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:u,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:c,height:l,hidden:a,high:l,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,imageSizes:null,imageSrcSet:f,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:c,itemRef:c,itemScope:a,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:a,low:l,manifest:null,max:null,maxLength:l,media:null,method:null,min:null,minLength:l,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:a,optimum:l,pattern:null,ping:c,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:c,required:a,reversed:a,rows:l,rowSpan:l,sandbox:c,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:l,sizes:null,slot:null,span:l,spellCheck:u,src:null,srcDoc:null,srcLang:null,srcSet:f,start:l,step:null,style:null,tabIndex:l,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:u,width:l,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:l,borderColor:null,bottomMargin:l,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:l,leftMargin:l,link:null,longDesc:null,lowSrc:null,marginHeight:l,marginWidth:l,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:l,rules:null,scheme:null,scrolling:u,standby:null,summary:null,text:null,topMargin:l,valueType:null,version:null,vAlign:null,vLink:null,vSpace:l,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:a,disableRemotePlayback:a,prefix:null,property:null,results:l,security:null,unselectable:null}})},1736:function(t,e,n){"use strict";var r=n(1408);t.exports=function(t,e){return r(t,e.toLowerCase())}},1408:function(t){"use strict";t.exports=function(t,e){return e in t?t[e]:e}},6863:function(t,e,n){"use strict";var r=n(15),i=n(1609),o=n(9110);t.exports=function(t){var e,n,a=t.space,s=t.mustUseProperty||[],u=t.attributes||{},l=t.properties,c=t.transform,f={},p={};for(e in l)n=new o(e,c(u,e),l[e],a),-1!==s.indexOf(e)&&(n.mustUseProperty=!0),f[e]=n,p[r(e)]=e,p[r(n.attribute)]=e;return new i(f,p,a)}},9110:function(t,e,n){"use strict";var r=n(6966),i=n(8056);t.exports=s,s.prototype=new r,s.prototype.defined=!0;var o=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],a=o.length;function s(t,e,n,s){var l,c=-1;for(u(this,"space",s),r.call(this,t,e);++c<a;)u(this,l=o[c],(n&i[l])===i[l])}function u(t,e,n){n&&(t[e]=n)}},6966:function(t){"use strict";t.exports=n;var e=n.prototype;function n(t,e){this.property=t,this.attribute=e}e.space=null,e.attribute=null,e.property=null,e.boolean=!1,e.booleanish=!1,e.overloadedBoolean=!1,e.number=!1,e.commaSeparated=!1,e.spaceSeparated=!1,e.commaOrSpaceSeparated=!1,e.mustUseProperty=!1,e.defined=!1},5132:function(t,e,n){"use strict";var r=n(5887),i=n(1609);t.exports=function(t){var e,n,o=t.length,a=[],s=[],u=-1;for(;++u<o;)e=t[u],a.push(e.property),s.push(e.normal),n=e.space;return new i(r.apply(null,a),r.apply(null,s),n)}},1609:function(t){"use strict";t.exports=n;var e=n.prototype;function n(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}e.space=null,e.normal={},e.property={}},8056:function(t,e){"use strict";var n=0;function r(){return Math.pow(2,++n)}e.boolean=r(),e.booleanish=r(),e.overloadedBoolean=r(),e.number=r(),e.spaceSeparated=r(),e.commaSeparated=r(),e.commaOrSpaceSeparated=r()},7743:function(t,e,n){"use strict";var r=n(6863);t.exports=r({space:"xlink",transform:function(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},238:function(t,e,n){"use strict";var r=n(6863);t.exports=r({space:"xml",transform:function(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},6744:function(t,e,n){"use strict";var r=n(6863),i=n(1736);t.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:i,properties:{xmlns:null,xmlnsXLink:null}})},15:function(t){"use strict";t.exports=function(t){return t.toLowerCase()}},4463:function(t,e,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,d={},g={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(g,t)||!h.call(d,t)&&(p.test(t)?g[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,_);y[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,_);y[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,_);y[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,E=60107,A=60108,O=60114,T=60109,C=60110,P=60112,M=60113,I=60120,k=60115,R=60116,L=60121,D=60128,N=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),S=B("react.portal"),E=B("react.fragment"),A=B("react.strict_mode"),O=B("react.profiler"),T=B("react.provider"),C=B("react.context"),P=B("react.forward_ref"),M=B("react.suspense"),I=B("react.suspense_list"),k=B("react.memo"),R=B("react.lazy"),L=B("react.block"),B("react.scope"),D=B("react.opaque.id"),N=B("react.debug_trace_mode"),F=B("react.offscreen"),j=B("react.legacy_hidden")}var z,U="function"===typeof Symbol&&Symbol.iterator;function V(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=U&&t[U]||t["@@iterator"])?t:null}function G(t){if(void 0===z)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);z=e&&e[1]||""}return"\n"+z+t}var W=!1;function H(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function Y(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 22:return t=H(t.type._render,!1);case 1:return t=H(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case S:return"Portal";case O:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case k:return X(t.type);case L:return X(t._render);case R:e=t._payload,t=t._init;try{return X(t(e))}catch(n){}}return null}function q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Z(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=Z(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function lt(t,e){var n=q(e.value),r=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml",pt="http://www.w3.org/2000/svg";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gt,vt,yt=(vt=function(t,e){if(t.namespaceURI!==pt||"innerHTML"in t)t.innerHTML=e;else{for((gt=gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return vt(t,e)}))}:vt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(_t).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var St=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(t,e){if(e){if(St[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function At(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ot(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Tt=null,Ct=null,Pt=null;function Mt(t){if(t=ri(t)){if("function"!==typeof Tt)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Tt(t.stateNode,t.type,e))}}function It(t){Ct?Pt?Pt.push(t):Pt=[t]:Ct=t}function kt(){if(Ct){var t=Ct,e=Pt;if(Pt=Ct=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function Rt(t,e){return t(e)}function Lt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Nt=Rt,Ft=!1,jt=!1;function Bt(){null===Ct&&null===Pt||(Dt(),kt())}function zt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ut=!1;if(f)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(vt){Ut=!1}function Gt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Wt=!1,Ht=null,Yt=!1,Xt=null,qt={onError:function(t){Wt=!0,Ht=t}};function Zt(t,e,n,r,i,o,a,s,u){Wt=!1,Ht=null,Gt.apply(qt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Kt(t)!==t)throw Error(a(188))}function $t(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,le=null,ce=new Map,fe=new Map,pe=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ge(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(e.pointerId)}}function ve(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ye(t){var e=ni(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Qt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){me(t)&&n.delete(e)}function be(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==le&&me(le)&&(le=null),ce.forEach(_e),fe.forEach(_e)}function xe(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,be)))}function we(t){function e(e){return xe(e,t)}if(0<ae.length){xe(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&xe(se,t),null!==ue&&xe(ue,t),null!==le&&xe(le,t),ce.forEach(e),fe.forEach(e),n=0;n<pe.length;n++)(r=pe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<pe.length&&null===(n=pe[0]).blockedOn;)ye(n),null===n.blockedOn&&pe.shift()}function Se(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ee={animationend:Se("Animation","AnimationEnd"),animationiteration:Se("Animation","AnimationIteration"),animationstart:Se("Animation","AnimationStart"),transitionend:Se("Transition","TransitionEnd")},Ae={},Oe={};function Te(t){if(Ae[t])return Ae[t];if(!Ee[t])return t;var e,n=Ee[t];for(e in n)if(n.hasOwnProperty(e)&&e in Oe)return Ae[t]=n[e];return t}f&&(Oe=document.createElement("div").style,"AnimationEvent"in window||(delete Ee.animationend.animation,delete Ee.animationiteration.animation,delete Ee.animationstart.animation),"TransitionEvent"in window||delete Ee.transitionend.transition);var Ce=Te("animationend"),Pe=Te("animationiteration"),Me=Te("animationstart"),Ie=Te("transitionend"),ke=new Map,Re=new Map,Le=["abort","abort",Ce,"animationEnd",Pe,"animationIteration",Me,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ie,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),ke.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Ne=8;function Fe(t){if(0!==(1&t))return Ne=15,1;if(0!==(2&t))return Ne=14,2;if(0!==(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!==(32&t)?(Ne=11,32):0!==(e=192&t)?(Ne=10,e):0!==(256&t)?(Ne=9,256):0!==(e=3584&t)?(Ne=8,e):0!==(4096&t)?(Ne=7,4096):0!==(e=4186112&t)?(Ne=6,e):0!==(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!==(134217728&t)?(Ne=3,134217728):0!==(e=805306368&t)?(Ne=2,e):0!==(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Ne=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Fe(u),i=Ne):0!==(s&=o)&&(r=Fe(s),i=Ne)}else 0!==(o=n&~a)?(r=Fe(o),i=Ne):0!==s&&(r=Fe(s),i=Ne);if(0===r)return 0;if(r=n&((0>(r=31-We(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Fe(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-We(e)),r|=t[n],e&=~i;return r}function Be(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ze(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?ze(10,e):t;case 10:return 0===(t=Ue(192&~e))?ze(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&(0===(t=Ue(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ge(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(He(t)/Ye|0)|0},He=Math.log,Ye=Math.LN2;var Xe=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,Ze=!0;function Ke(t,e,n,r){Ft||Dt();var i=Je,o=Ft;Ft=!0;try{Lt(i,t,e,n,r)}finally{(Ft=o)||Bt()}}function Qe(t,e,n,r){qe(Xe,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Ze)if((i=0===(4&e))&&0<ae.length&&-1<he.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=$e(t,e,n,r);if(null===o)i&&ge(t,r);else{if(i){if(-1<he.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ve(se,t,e,n,r,i),!0;case"dragenter":return ue=ve(ue,t,e,n,r,i),!0;case"mouseover":return le=ve(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ve(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fe.set(o,ve(fe.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ge(t,r)}Dr(t,e,r,null,n)}}}function $e(t,e,n,r){var i=Ot(r);if(null!==(i=ni(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,fn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(pn),dn=i({},pn,{view:0,detail:0}),gn=un(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&"mousemove"===t.type?(ln=t.screenX-fn.screenX,cn=t.screenY-fn.screenY):cn=ln=0,fn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),yn=un(vn),mn=un(i({},vn,{dataTransfer:0})),_n=un(i({},dn,{relatedTarget:0})),bn=un(i({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=un(xn),Sn=un(i({},pn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=On[t])&&!!e[t]}function Cn(){return Tn}var Pn=i({},dn,{key:function(t){if(t.key){var e=En[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Mn=un(Pn),In=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},vn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(Ln),Nn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Bn=f&&"TextEvent"in window&&!jn,zn=f&&(!Fn||jn&&8<jn&&11>=jn),Un=String.fromCharCode(32),Vn=!1;function Gn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Yn[t.type]:"textarea"===e}function qn(t,e,n,r){It(r),0<(e=Fr(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zn=null,Kn=null;function Qn(t){Pr(t,0)}function Jn(t){if(Q(ii(t)))return t}function $n(t,e){if("change"===t)return e}var tr=!1;if(f){var er;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Zn&&(Zn.detachEvent("onpropertychange",or),Kn=Zn=null)}function or(t){if("value"===t.propertyName&&Jn(Kn)){var e=[];if(qn(e,Kn,t,Ot(t)),t=Qn,Ft)t(e);else{Ft=!0;try{Rt(t,e)}finally{Ft=!1,Bt()}}}}function ar(t,e,n){"focusin"===t?(ir(),Kn=n,(Zn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Jn(Kn)}function ur(t,e){if("click"===t)return Jn(e)}function lr(t,e){if("input"===t||"change"===t)return Jn(e)}var cr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},fr=Object.prototype.hasOwnProperty;function pr(t,e){if(cr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(e,n[r])||!cr(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function gr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?gr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function vr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,xr=null,wr=!1;function Sr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==J(r)||("selectionStart"in(r=_r)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&pr(xr,r)||(xr=r,0<(r=Fr(br,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Le,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ar=0;Ar<Er.length;Ar++)Re.set(Er[Ar],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Cr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,l){if(Zt.apply(this,arguments),Wt){if(!Wt)throw Error(a(198));var c=Ht;Wt=!1,Ht=null,Yt||(Yt=!0,Xt=c)}}(r,e,void 0,t),t.currentTarget=null}function Pr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Cr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Cr(i,s,l),o=u}}}if(Yt)throw t=Xt,Yt=!1,Xt=null,t}function Mr(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Lr(e,t,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function kr(t){t[Ir]||(t[Ir]=!0,s.forEach((function(e){Tr.has(e)||Rr(e,!1,t,null),Rr(e,!0,t,null)})))}function Rr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Tr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Lr(o,t,i,e),a.add(s))}function Lr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=Qe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Ut||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(jt)return t(e,n);jt=!0;try{Nt(t,e,n)}finally{jt=!1,Bt()}}((function(){var r=o,i=Ot(n),a=[];t:{var s=ke.get(t);if(void 0!==s){var u=hn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=Mn;break;case"focusin":l="focus",u=_n;break;case"focusout":l="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=kn;break;case Ce:case Pe:case Me:u=bn;break;case Ie:u=Rn;break;case"scroll":u=gn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&e),f=!c&&"scroll"===t,p=c?null!==s?s+"Capture":null:s;c=[];for(var h,d=r;null!==d;){var g=(h=d).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==p&&(null!=(g=zt(d,p))&&c.push(Nr(d,g,h)))),f)break;d=d.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Kt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,g="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=In,g="onPointerLeave",p="onPointerEnter",d="pointer"),f=null==u?s:ii(u),h=null==l?s:ii(l),(s=new c(g,d+"leave",u,n,i)).target=f,s.relatedTarget=h,g=null,ni(i)===r&&((c=new c(p,d+"enter",l,n,i)).target=h,c.relatedTarget=f,g=c),f=g,u&&l)t:{for(p=l,d=0,h=c=u;h;h=jr(h))d++;for(h=0,g=p;g;g=jr(g))h++;for(;0<d-h;)c=jr(c),d--;for(;0<h-d;)p=jr(p),h--;for(;d--;){if(c===p||null!==p&&c===p.alternate)break t;c=jr(c),p=jr(p)}c=null}else c=null;null!==u&&Br(a,s,u,c,!1),null!==l&&null!==f&&Br(a,f,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Xn(s))if(tr)v=lr;else{v=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(t,r))?qn(a,v,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&it(s,"number",s.value)),y=r?ii(r):window,t){case"focusin":(Xn(y)||"true"===y.contentEditable)&&(_r=y,br=r,xr=null);break;case"focusout":xr=br=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(Fn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Hn?Gn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Hn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Hn=!0)),0<(y=Fr(r,_)).length&&(_=new Sn(_,t,null,n,i),a.push({event:_,listeners:y}),m?_.data=m:null!==(m=Wn(n))&&(_.data=m))),(m=Bn?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Un);case"textInput":return(t=e.data)===Un&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Fn&&Gn(t,e)?(t=rn(),nn=en=tn=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Pr(a,e)}))}function Nr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=zt(t,n))&&r.unshift(Nr(t,o,i)),null!=(o=zt(t,e))&&r.push(Nr(t,o,i))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Br(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=zt(n,o))&&a.unshift(Nr(n,u,s)):i||null!=(u=zt(n,o))&&a.push(Nr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function zr(){}var Ur=null,Vr=null;function Gr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Wr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function qr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Zr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0;var Qr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,ti="__reactContainer$"+Qr,ei="__reactEvents$"+Qr;function ni(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[Jr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Zr(t);null!==t;){if(n=t[Jr])return n;t=Zr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[Jr]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[$r]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],ui=-1;function li(t){return{current:t}}function ci(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function fi(t,e){ui++,si[ui]=t.current,t.current=e}var pi={},hi=li(pi),di=li(!1),gi=pi;function vi(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function yi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function mi(){ci(di),ci(hi)}function _i(t,e,n){if(hi.current!==pi)throw Error(a(168));fi(hi,e),fi(di,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return i({},n,r)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,gi=hi.current,fi(hi,t),fi(di,di.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=bi(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,ci(di),ci(hi),fi(hi,t)):ci(di),fi(di,n)}var Si=null,Ei=null,Ai=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Mi=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Fi={},ji=void 0!==Pi?Pi:function(){},Bi=null,zi=null,Ui=!1,Vi=Mi(),Gi=1e4>Vi?Mi:function(){return Mi()-Vi};function Wi(){switch(Ii()){case ki:return 99;case Ri:return 98;case Li:return 97;case Di:return 96;case Ni:return 95;default:throw Error(a(332))}}function Hi(t){switch(t){case 99:return ki;case 98:return Ri;case 97:return Li;case 96:return Di;case 95:return Ni;default:throw Error(a(332))}}function Yi(t,e){return t=Hi(t),Ai(t,e)}function Xi(t,e,n){return t=Hi(t),Oi(t,e,n)}function qi(){if(null!==zi){var t=zi;zi=null,Ti(t)}Zi()}function Zi(){if(!Ui&&null!==Bi){Ui=!0;var t=0;try{var e=Bi;Yi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(t+1)),Oi(ki,qi),n}finally{Ui=!1}}}var Ki=x.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Ji=li(null),$i=null,to=null,eo=null;function no(){eo=to=$i=null}function ro(t){var e=Ji.current;ci(Ji),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){$i=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Fa=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===$i)throw Error(a(308));to=e,$i.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function po(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=t.alternate;if(null!==f){var p=(f=f.updateQueue).lastBaseUpdate;p!==s&&(null===p?f.firstBaseUpdate=c:p.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(p=o.baseState,s=0,f=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,g=a;switch(u=e,h=n,g.tag){case 1:if("function"===typeof(d=g.payload)){p=d.call(h,p,u);break t}p=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=g.payload)?d.call(h,p,u):d)||void 0===u)break t;p=i({},p,u);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,l=p):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=p),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Us|=s,t.lanes=s,t.memoizedState=p}}function go(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function yo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var mo={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pu(),i=hu(t),o=co(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),du(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pu(),i=hu(t),o=co(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),du(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pu(),r=hu(t),i=co(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),fo(t,i),du(t,r,n)}};function _o(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!pr(n,r)||!pr(i,o))}function bo(t,e,n){var r=!1,i=pi,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(e)?gi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?vi(t,i):pi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=mo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vo,uo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(e)?gi:hi.current,i.context=vi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(yo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&mo.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var So=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===vo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Ao(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Oo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Yu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Ku(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Eo(t,e,n),r.return=t,r):((r=Xu(n.type,n.key,n.props,null,t.mode,r)).ref=Eo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=qu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Ku(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Xu(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case S:return(e=Qu(e,t.mode,n)).return=t,e}if(So(e)||V(e))return(e=qu(e,t.mode,n,null)).return=t,e;Ao(t,e)}return null}function h(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case S:return n.key===i?c(t,e,n,r):null}if(So(n)||V(n))return null!==i?null:f(t,e,n,r,null);Ao(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===E?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case S:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||V(r))return f(e,t=t.get(n)||null,r,i,null);Ao(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var y=h(i,f,s[g],u);if(null===y){null===f&&(f=v);break}t&&f&&null===y.alternate&&e(i,f),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y,f=v}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)null!==(f=p(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)null!==(v=d(f,i,g,s[g],u))&&(t&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v);return t&&f.forEach((function(t){return e(i,t)})),l}function v(i,s,u,l){var c=V(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var _=h(i,g,m.value,l);if(null===_){null===g&&(g=y);break}t&&g&&null===_.alternate&&e(i,g),s=o(_,s,v),null===f?c=_:f.sibling=_,f=_,g=y}if(m.done)return n(i,g),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=p(i,m.value,l))&&(s=o(m,s,v),null===f?c=m:f.sibling=m,f=m);return c}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=d(g,i,v,m.value,l))&&(t&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?c=m:f.sibling=m,f=m);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===E&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===E){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=Eo(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===E?((r=qu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Xu(o.type,o.key,o.props,null,t.mode,u)).ref=Eo(t,r,o),u.return=t,t=u)}return s(t);case S:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Qu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Ku(o,t.mode,u)).return=t,t=r),s(t);if(So(o))return g(t,r,o,u);if(V(o))return v(t,r,o,u);if(c&&Ao(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,r)}}var To=Oo(!0),Co=Oo(!1),Po={},Mo=li(Po),Io=li(Po),ko=li(Po);function Ro(t){if(t===Po)throw Error(a(174));return t}function Lo(t,e){switch(fi(ko,e),fi(Io,t),fi(Mo,Po),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Mo),fi(Mo,e)}function Do(){ci(Mo),ci(Io),ci(ko)}function No(t){Ro(ko.current);var e=Ro(Mo.current),n=dt(e,t.type);e!==n&&(fi(Io,t),fi(Mo,n))}function Fo(t){Io.current===t&&(ci(Mo),ci(Io))}var jo=li(0);function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zo=null,Uo=null,Vo=!1;function Go(t,e){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Wo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ho(t){if(Vo){var e=Uo;if(e){var n=e;if(!Wo(t,e)){if(!(e=qr(n.nextSibling))||!Wo(t,e))return t.flags=-1025&t.flags|2,Vo=!1,void(zo=t);Go(zo,n)}zo=t,Uo=qr(e.firstChild)}else t.flags=-1025&t.flags|2,Vo=!1,zo=t}}function Yo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;zo=t}function Xo(t){if(t!==zo)return!1;if(!Vo)return Yo(t),Vo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Wr(e,t.memoizedProps))for(e=Uo;e;)Go(t,e),e=qr(e.nextSibling);if(Yo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Uo=qr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Uo=null}}else Uo=zo?qr(t.stateNode.nextSibling):null;return!0}function qo(){Uo=zo=null,Vo=!1}var Zo=[];function Ko(){for(var t=0;t<Zo.length;t++)Zo[t]._workInProgressVersionPrimary=null;Zo.length=0}var Qo=x.ReactCurrentDispatcher,Jo=x.ReactCurrentBatchConfig,$o=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if($o=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qo.current=null===t||null===t.memoizedState?Ra:La,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Qo.current=Da,t=n(r,i)}while(ia)}if(Qo.current=ka,e=null!==ea&&null!==ea.next,$o=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function la(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ca(t,e){return"function"===typeof e?e(t):e}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if(($o&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ta.lanes|=c,Us|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,e.memoizedState)||(Fa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function pa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);cr(o,e.memoizedState)||(Fa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=($o&t)===t)&&(e._workInProgressVersionPrimary=r,Zo.push(e))),t)return n(e._source);throw Zo.push(e),Error(a(350))}function da(t,e,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Qo.current,l=u.useState((function(){return ha(i,e,n)})),c=l[1],f=l[0];l=na;var p=t.memoizedState,h=p.refs,d=h.getSnapshot,g=p.source;p=p.subscribe;var v=ta;return t.memoizedState={refs:h,source:e,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var t=o(e._source);if(!cr(s,t)){t=n(e._source),cr(f,t)||(c(t),t=hu(v),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-We(a),l=1<<u;r[u]|=t,a&=~l}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=h.getSnapshot,n=h.setSnapshot;try{n(t(e._source));var r=hu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),cr(d,n)&&cr(g,e)&&cr(p,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Ia.bind(null,ta,t),l.queue=t,l.baseQueue=null,f=ha(i,e,n),l.memoizedState=l.baseState=f),f}function ga(t,e,n){return da(la(),t,e,n)}function va(t){var e=ua();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t}).dispatch=Ia.bind(null,ta,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ma(t){return t={current:t},ua().memoizedState=t}function _a(){return la().memoizedState}function ba(t,e,n,r){var i=ua();ta.flags|=t,i.memoizedState=ya(1|e,n,void 0,void 0===r?null:r)}function xa(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(e,n,o,r)}ta.flags|=t,i.memoizedState=ya(1|e,n,o,r)}function wa(t,e){return ba(516,4,t,e)}function Sa(t,e){return xa(516,4,t,e)}function Ea(t,e){return xa(4,2,t,e)}function Aa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,xa(4,2,Aa.bind(null,e,t),n)}function Ta(){}function Ca(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ma(t,e){var n=Wi();Yi(98>n?98:n,(function(){t(!0)})),Yi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{t(!1),e()}finally{Jo.transition=n}}))}function Ia(t,e,n){var r=pu(),i=hu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}du(t,i,r)}}var ka={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(t,e){return ua().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ba(4,2,Aa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ia.bind(null,ta,t),[r.memoizedState,t]},useRef:ma,useState:va,useDebugValue:Ta,useDeferredValue:function(t){var e=va(t),n=e[0],r=e[1];return wa((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=va(!1),e=t[0];return ma(t=Ma.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ua();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},da(r,t,e,n)},useOpaqueIdentifier:function(){if(Vo){var t=!1,e=function(t){return{$$typeof:D,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=va(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,ya(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return va(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Oa,useLayoutEffect:Ea,useMemo:Pa,useReducer:fa,useRef:_a,useState:function(){return fa(ca)},useDebugValue:Ta,useDeferredValue:function(t){var e=fa(ca),n=e[0],r=e[1];return Sa((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ca)[0];return[_a().current,t]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Oa,useLayoutEffect:Ea,useMemo:Pa,useReducer:pa,useRef:_a,useState:function(){return pa(ca)},useDebugValue:Ta,useDeferredValue:function(t){var e=pa(ca),n=e[0],r=e[1];return Sa((function(){var e=Jo.transition;Jo.transition=1;try{r(t)}finally{Jo.transition=e}}),[t]),n},useTransition:function(){var t=pa(ca)[0];return[_a().current,t]},useMutableSource:ga,useOpaqueIdentifier:function(){return pa(ca)[0]},unstable_isNewReconciler:!1},Na=x.ReactCurrentOwner,Fa=!1;function ja(t,e,n,r){e.child=null===t?Co(e,null,n,r):To(e,t.child,n,r)}function Ba(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,ja(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function za(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Xu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ua(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:pr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Yu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ua(t,e,n,r,i,o){if(null!==t&&pr(t.memoizedProps,r)&&t.ref===e.ref){if(Fa=!1,0===(o&i))return e.lanes=t.lanes,os(t,e,o);0!==(16384&t.flags)&&(Fa=!0)}return Wa(t,e,n,r,o)}function Va(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},wu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},wu(e,t),null;e.memoizedState={baseLanes:0},wu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,wu(e,r);return ja(t,e,i,n),e.child}function Ga(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Wa(t,e,n,r,i){var o=yi(n)?gi:hi.current;return o=vi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,ja(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Ha(t,e,n,r,i){if(yi(n)){var o=!0;xi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),bo(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=vi(e,l=yi(n)?gi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&xo(e,a,r,l),so=!1;var p=e.memoizedState;a.state=p,ho(e,r,a,i),u=e.memoizedState,s!==r||p!==u||di.current||so?("function"===typeof c&&(yo(e,n,c,r),u=e.memoizedState),(s=so||_o(e,n,s,r,p,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Qi(e.type,s),a.props=l,f=e.pendingProps,p=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(e,u=yi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||p!==u)&&xo(e,a,r,u),so=!1,p=e.memoizedState,a.state=p,ho(e,r,a,i);var d=e.memoizedState;s!==f||p!==d||di.current||so?("function"===typeof h&&(yo(e,n,h,r),d=e.memoizedState),(l=so||_o(e,n,l,r,p,d,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),r=!1)}return Ya(t,e,n,r,o,i)}function Ya(t,e,n,r,i,o){Ga(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&wi(e,n,!1),os(t,e,o);r=e.stateNode,Na.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=To(e,t.child,null,o),e.child=To(e,null,s,o)):ja(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Xa(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),Lo(t,e.containerInfo)}var qa,Za,Ka,Qa={dehydrated:null,retryLane:0};function Ja(t,e,n){var r,i=e.pendingProps,o=jo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(jo,1&o),null===t?(void 0!==i.fallback&&Ho(e),t=i.children,o=i.fallback,a?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,t):"number"===typeof i.unstable_expectedLoadTime?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,e.lanes=33554432,t):((n=Zu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Qa,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function $a(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Zu(e,i,0,null),n=qu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Yu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Yu(a,s),null!==t?r=Yu(t,r):(r=qu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(jo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Bo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Us|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Yu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Yu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!Vo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(e.type)&&mi(),null;case 3:return Do(),ci(di),ci(hi),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Xo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Fo(e);var o=Ro(ko.current);if(n=e.type,null!==t&&null!=e.stateNode)Za(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Ro(Mo.current),Xo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Jr]=e,r[$r]=s,n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(t=0;t<Or.length;t++)Mr(Or[t],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":tt(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":ut(r,s),Mr("invalid",r)}for(var l in Et(n,s),t=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Mr("scroll",r));switch(n){case"input":K(r),rt(r,s,!0);break;case"textarea":K(r),ct(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Jr]=e,t[$r]=r,qa(t,e),e.stateNode=t,l=At(n,r),n){case"dialog":Mr("cancel",t),Mr("close",t),o=r;break;case"iframe":case"object":case"embed":Mr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Mr(Or[o],t);o=r;break;case"source":Mr("error",t),o=r;break;case"img":case"image":case"link":Mr("error",t),Mr("load",t),o=r;break;case"details":Mr("toggle",t),o=r;break;case"input":tt(t,r),o=$(t,r),Mr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Mr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Mr("invalid",t);break;default:o=r}Et(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?wt(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&yt(t,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&mt(t,f):"number"===typeof f&&mt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Mr("scroll",t):null!=f&&b(t,s,f,l))}switch(n){case"input":K(t),rt(t,r,!1);break;case"textarea":K(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=zr)}Gr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Ro(ko.current),Ro(Mo.current),Xo(e)?(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=e,e.stateNode=r)}return null;case 13:return ci(jo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Xo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Rs||0===(134217727&Us)&&0===(134217727&Vs)||mu(Rs,Ds))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&kr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ci(jo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Bo(t))){for(e.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fi(jo,1&jo.current|2),e.child}t=t.sibling}null!==r.tail&&Gi()>Ys&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Bo(l))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Ys&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,e=jo.current,fi(jo,s?1&e|2:1&e),n):null;case 23:case 24:return Su(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function us(t){switch(t.tag){case 1:yi(t.type)&&mi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ci(di),ci(hi),Ko(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Fo(t),null;case 13:return ci(jo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(jo),null;case 4:return Do(),null;case 10:return ro(t),null;case 23:case 24:return Su(),null;default:return null}}function ls(t,e){try{var n="",r=e;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function cs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ro(Mo.current);var a,s=null;switch(n){case"input":o=$(t,o),r=$(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=zr)}for(f in Et(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Mr("scroll",t),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,Qs=r),cs(0,e)},n}function hs(t,e,n){(n=co(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return cs(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function gs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){zu(t,n)}else e.current=null}function vs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Xr(e.stateNode.containerInfo))}throw Error(a(163))}function ys(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,t),Nu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&go(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}go(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Gr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(a(163))}function ms(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(t,e){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(e,n);else{r=e;try{i()}catch(o){zu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(gs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){zu(e,o)}break;case 5:gs(e);break;case 4:As(t,e)}}function bs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function xs(t){return 5===t.tag||3===t.tag||4===t.tag}function ws(t){t:{for(var e=t.return;null!==e;){if(xs(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?Ss(t,n,e):Es(t,n,e)}function Ss(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=zr));else if(4!==r&&null!==(t=t.child))for(Ss(t,e,n),t=t.sibling;null!==t;)Ss(t,e,n),t=t.sibling}function Es(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Es(t,e,n),t=t.sibling;null!==t;)Es(t,e,n),t=t.sibling}function As(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,l=u;;)if(_s(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Os(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[$r]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),At(t,i),e=At(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?wt(n,u):"dangerouslySetInnerHTML"===s?yt(n,u):"children"===s?mt(n,u):b(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Hs=Gi(),ms(e.child,!0)),void Ts(e);case 19:return void Ts(e);case 23:case 24:return void ms(e,null!==e.memoizedState)}throw Error(a(163))}function Ts(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ds),e.forEach((function(e){var r=Vu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ps=Math.ceil,Ms=x.ReactCurrentDispatcher,Is=x.ReactCurrentOwner,ks=0,Rs=null,Ls=null,Ds=0,Ns=0,Fs=li(0),js=0,Bs=null,zs=0,Us=0,Vs=0,Gs=0,Ws=null,Hs=0,Ys=1/0;function Xs(){Ys=Gi()+500}var qs,Zs=null,Ks=!1,Qs=null,Js=null,$s=!1,tu=null,eu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,fu=!1;function pu(){return 0!==(48&ks)?Gi():-1!==su?su:su=Gi()}function hu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Wi()?1:2;if(0===uu&&(uu=zs),0!==Ki.transition){0!==lu&&(lu=null!==Ws?Ws.pendingLanes:0),t=uu;var e=4186112&~lu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Wi(),0!==(4&ks)&&98===t?t=ze(12,uu):t=ze(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),uu),t}function du(t,e,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(t=gu(t,e)))return null;Ge(t,e,n),t===Rs&&(Vs|=e,4===js&&mu(t,Ds));var r=Wi();1===e?0!==(8&ks)&&0===(48&ks)?_u(t):(vu(t,n),0===ks&&(Xs(),qi())):(0===(4&ks)||98!==r&&99!==r||(null===iu?iu=new Set([t]):iu.add(t)),vu(t,n)),Ws=t}function gu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function vu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-We(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=e,Fe(l);var f=Ne;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);s&=~l}if(r=je(t,t===Rs?Ds:0),e=Ne,0===r)null!==n&&(n!==Fi&&Ti(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Fi&&Ti(n)}15===e?(n=_u.bind(null,t),null===Bi?(Bi=[n],zi=Oi(ki,Zi)):Bi.push(n),n=Fi):14===e?n=Xi(99,_u.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Xi(n,yu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function yu(t){if(su=-1,lu=uu=0,0!==(48&ks))throw Error(a(327));var e=t.callbackNode;if(Du()&&t.callbackNode!==e)return null;var n=je(t,t===Rs?Ds:0);if(0===n)return null;var r=n,i=ks;ks|=16;var o=Ou();for(Rs===t&&Ds===r||(Xs(),Eu(t,r));;)try{Pu();break}catch(u){Au(t,u)}if(no(),Ms.current=o,ks=i,null!==Ls?r=0:(Rs=null,Ds=0,r=js),0!==(zs&Vs))Eu(t,0);else if(0!==r){if(2===r&&(ks|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(n=Be(t))&&(r=Tu(t,n))),1===r)throw e=Bs,Eu(t,0),mu(t,n),vu(t,Gi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:ku(t);break;case 3:if(mu(t,n),(62914560&n)===n&&10<(r=Hs+500-Gi())){if(0!==je(t,0))break;if(((i=t.suspendedLanes)&n)!==n){pu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hr(ku.bind(null,t),r);break}ku(t);break;case 4:if(mu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-We(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){t.timeoutHandle=Hr(ku.bind(null,t),n);break}ku(t);break;default:throw Error(a(329))}}return vu(t,Gi()),t.callbackNode===e?yu.bind(null,t):null}function mu(t,e){for(e&=~Gs,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if(0!==(48&ks))throw Error(a(327));if(Du(),t===Rs&&0!==(t.expiredLanes&Ds)){var e=Ds,n=Tu(t,e);0!==(zs&Vs)&&(n=Tu(t,e=je(t,e)))}else n=Tu(t,e=je(t,0));if(0!==t.tag&&2===n&&(ks|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(e=Be(t))&&(n=Tu(t,e))),1===n)throw n=Bs,Eu(t,0),mu(t,e),vu(t,Gi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ku(t),vu(t,Gi()),null}function bu(t,e){var n=ks;ks|=1;try{return t(e)}finally{0===(ks=n)&&(Xs(),qi())}}function xu(t,e){var n=ks;ks&=-2,ks|=8;try{return t(e)}finally{0===(ks=n)&&(Xs(),qi())}}function wu(t,e){fi(Fs,Ns),Ns|=e,zs|=e}function Su(){Ns=Fs.current,ci(Fs)}function Eu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Yr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Do(),ci(di),ci(hi),Ko();break;case 5:Fo(r);break;case 4:Do();break;case 13:case 19:ci(jo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Rs=t,Ls=Yu(t.current,null),Ds=Ns=zs=e,js=0,Bs=null,Gs=Vs=Us=0}function Au(t,e){for(;;){var n=Ls;try{if(no(),Qo.current=ka,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ea=ta=null,ia=!1,Is.current=null,null===n||null===n.return){js=1,Bs=e,Ls=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&jo.current),p=a;do{var h;if(h=13===p.tag){var d=p.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var g=p.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=p.updateQueue;if(null===v){var y=new Set;y.add(l),p.updateQueue=y}else v.add(l);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=co(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break t}u=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new fs,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var b=Uu.bind(null,o,l,s);l.then(b,b)}p.flags|=4096,p.lanes=e;break t}p=p.return}while(null!==p);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=ls(u,s),p=a;do{switch(p.tag){case 3:o=u,p.flags|=4096,e&=-e,p.lanes|=e,po(p,ps(0,o,e));break t;case 1:o=u;var x=p.type,w=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){p.flags|=4096,e&=-e,p.lanes|=e,po(p,hs(p,o,e));break t}}p=p.return}while(null!==p)}Iu(n)}catch(S){e=S,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function Ou(){var t=Ms.current;return Ms.current=ka,null===t?ka:t}function Tu(t,e){var n=ks;ks|=16;var r=Ou();for(Rs===t&&Ds===e||Eu(t,e);;)try{Cu();break}catch(i){Au(t,i)}if(no(),ks=n,Ms.current=r,null!==Ls)throw Error(a(261));return Rs=null,Ds=0,js}function Cu(){for(;null!==Ls;)Mu(Ls)}function Pu(){for(;null!==Ls&&!Ci();)Mu(Ls)}function Mu(t){var e=qs(t.alternate,t,Ns);t.memoizedProps=t.pendingProps,null===e?Iu(t):Ls=e,Is.current=null}function Iu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=ss(n,e,Ns)))return void(Ls=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=us(e)))return n.flags&=2047,void(Ls=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ls=e);Ls=e=t}while(null!==e);0===js&&(js=5)}function ku(t){var e=Wi();return Yi(99,Ru.bind(null,t,e)),null}function Ru(t,e){do{Du()}while(null!==tu);if(0!==(48&ks))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var l=31-We(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(t)&&iu.delete(t),t===Rs&&(Ls=Rs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ks,ks|=32,Is.current=null,Ur=Ze,yr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(O){u=null;break t}var f=0,p=-1,h=-1,d=0,g=0,v=s,y=null;e:for(;;){for(var m;v!==u||0!==o&&3!==v.nodeType||(p=f+o),v!==l||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===s)break e;if(y===u&&++d===o&&(p=f),y===l&&++g===c&&(h=f),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}u=-1===p||-1===h?null:{start:p,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Ze=!1,cu=null,fu=!1,Zs=r;do{try{Lu()}catch(O){if(null===Zs)throw Error(a(330));zu(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);cu=null,Zs=r;do{try{for(s=t;null!==Zs;){var _=Zs.flags;if(16&_&&mt(Zs.stateNode,""),128&_){var b=Zs.alternate;if(null!==b){var x=b.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:ws(Zs),Zs.flags&=-3;break;case 6:ws(Zs),Zs.flags&=-3,Os(Zs.alternate,Zs);break;case 1024:Zs.flags&=-1025;break;case 1028:Zs.flags&=-1025,Os(Zs.alternate,Zs);break;case 4:Os(Zs.alternate,Zs);break;case 8:As(s,u=Zs);var w=u.alternate;bs(u),null!==w&&bs(w)}Zs=Zs.nextEffect}}catch(O){if(null===Zs)throw Error(a(330));zu(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);if(x=Vr,b=vr(),_=x.focusedElem,s=x.selectionRange,b!==_&&_&&_.ownerDocument&&gr(_.ownerDocument.documentElement,_)){null!==s&&yr(_)&&(b=s.start,void 0===(x=s.end)&&(x=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(x,_.value.length)):(x=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),u=_.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=dr(_,w),o=dr(_,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=_;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(x=b[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ze=!!Ur,Vr=Ur=null,t.current=n,Zs=r;do{try{for(_=t;null!==Zs;){var S=Zs.flags;if(36&S&&ys(_,Zs.alternate,Zs),128&S){b=void 0;var E=Zs.ref;if(null!==E){var A=Zs.stateNode;Zs.tag,b=A,"function"===typeof E?E(b):E.current=b}}Zs=Zs.nextEffect}}catch(O){if(null===Zs)throw Error(a(330));zu(Zs,O),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,ji(),ks=i}else t.current=n;if($s)$s=!1,tu=t,eu=e;else for(Zs=r;null!==Zs;)e=Zs.nextEffect,Zs.nextEffect=null,8&Zs.flags&&((S=Zs).sibling=null,S.stateNode=null),Zs=e;if(0===(r=t.pendingLanes)&&(Js=null),1===r?t===au?ou++:(ou=0,au=t):ou=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(O){}if(vu(t,Gi()),Ks)throw Ks=!1,t=Qs,Qs=null,t;return 0!==(8&ks)||qi(),null}function Lu(){for(;null!==Zs;){var t=Zs.alternate;fu||null===cu||(0!==(8&Zs.flags)?te(Zs,cu)&&(fu=!0):13===Zs.tag&&Cs(t,Zs)&&te(Zs,cu)&&(fu=!0));var e=Zs.flags;0!==(256&e)&&vs(t,Zs),0===(512&e)||$s||($s=!0,Xi(97,(function(){return Du(),null}))),Zs=Zs.nextEffect}}function Du(){if(90!==eu){var t=97<eu?97:eu;return eu=90,Yi(t,ju)}return!1}function Nu(t,e){nu.push(e,t),$s||($s=!0,Xi(97,(function(){return Du(),null})))}function Fu(t,e){ru.push(e,t),$s||($s=!0,Xi(97,(function(){return Du(),null})))}function ju(){if(null===tu)return!1;var t=tu;if(tu=null,0!==(48&ks))throw Error(a(331));var e=ks;ks|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return ks=e,qi(),!0}function Bu(t,e,n){fo(t,e=ps(0,e=ls(n,e),1)),e=pu(),null!==(t=gu(t,1))&&(Ge(t,1,e),vu(t,e))}function zu(t,e){if(3===t.tag)Bu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Bu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=hs(n,t=ls(e,t),1);if(fo(n,i),i=pu(),null!==(n=gu(n,1)))Ge(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Uu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=pu(),t.pingedLanes|=t.suspendedLanes&n,Rs===t&&(Ds&n)===n&&(4===js||3===js&&(62914560&Ds)===Ds&&500>Gi()-Hs?Eu(t,0):Gs|=n),vu(t,e)}function Vu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Wi()?1:2:(0===uu&&(uu=zs),0===(e=Ue(62914560&~uu))&&(e=4194304))),n=pu(),null!==(t=gu(t,e))&&(Ge(t,e,n),vu(t,n))}function Gu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(t,e,n,r){return new Gu(t,e,n,r)}function Hu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Yu(t,e){var n=t.alternate;return null===n?((n=Wu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Hu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return qu(n.children,i,o,e);case N:s=8,i|=16;break;case A:s=8,i|=1;break;case O:return(t=Wu(12,n,e,8|i)).elementType=O,t.type=O,t.lanes=o,t;case M:return(t=Wu(13,n,e,i)).type=M,t.elementType=M,t.lanes=o,t;case I:return(t=Wu(19,n,e,i)).elementType=I,t.lanes=o,t;case F:return Zu(n,i,o,e);case j:return(t=Wu(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case C:s=9;break t;case P:s=11;break t;case k:s=14;break t;case R:s=16,r=null;break t;case L:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Wu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function qu(t,e,n,r){return(t=Wu(7,t,r,e)).lanes=n,t}function Zu(t,e,n,r){return(t=Wu(23,t,r,e)).elementType=F,t.lanes=n,t}function Ku(t,e,n){return(t=Wu(6,t,null,e)).lanes=n,t}function Qu(t,e,n){return(e=Wu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ju(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function $u(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tl(t,e,n,r){var i=e.current,o=pu(),s=hu(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(yi(l)){n=bi(n,l,u);break t}}n=u}else n=pi;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),du(i,s,o),s}function el(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rl(t,e){nl(t,e),(t=t.alternate)&&nl(t,e)}function il(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(t,e,null!=n&&!0===n.hydrate),e=Wu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,uo(e),t[ti]=n.current,kr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function al(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=el(a);s.call(t)}}tl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new il(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=el(a);u.call(t)}}xu((function(){tl(e,a,t,i)}))}return el(a)}function sl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(e))throw Error(a(200));return $u(t,e,null,n)}qs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,e.tag){case 3:Xa(e),qo();break;case 5:No(e);break;case 1:yi(e.type)&&xi(e);break;case 4:Lo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ja(t,e,n):(fi(jo,1&jo.current),null!==(e=os(t,e,n))?e.sibling:null);fi(jo,1&jo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(jo,jo.current),r)break;return null;case 23:case 24:return e.lanes=0,Va(t,e,n)}return os(t,e,n)}Fa=0!==(16384&t.flags)}else Fa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=vi(e,hi.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)){var o=!0;xi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(e,r,s,t),i.updater=mo,e.stateNode=i,i._reactInternals=e,wo(e,r,t,n),e=Ya(null,e,r,!0,o,n)}else e.tag=0,ja(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Hu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===k)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=Wa(null,e,i,t,n);break t;case 1:e=Ha(null,e,i,t,n);break t;case 11:e=Ba(null,e,i,t,n);break t;case 14:e=za(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Wa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ha(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(Xa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)qo(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Uo=qr(e.stateNode.containerInfo.firstChild),zo=e,o=Vo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Zo.push(o);for(n=Co(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(t,e,r,n),qo();e=e.child}return e;case 5:return No(e),null===t&&Ho(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(e.flags|=16),Ga(t,e),ja(t,e,s,n),e.child;case 6:return null===t&&Ho(e),null;case 13:return Ja(t,e,n);case 4:return Lo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=To(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,fo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,ja(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),za(t,e,i,o=Qi(i.type,o),r,n);case 15:return Ua(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,yi(r)?(t=!0,xi(e)):t=!1,oo(e,n),bo(e,r,i),wo(e,r,i,n),Ya(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return Va(t,e,n)}throw Error(a(156,e.tag))},il.prototype.render=function(t){tl(t,this._internalRoot,null,null)},il.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tl(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(du(t,4,pu()),rl(t,4))},ne=function(t){13===t.tag&&(du(t,67108864,pu()),rl(t,67108864))},re=function(t){if(13===t.tag){var e=pu(),n=hu(t);du(t,n,e),rl(t,n)}},ie=function(t,e){return e()},Tt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));Q(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Rt=bu,Lt=function(t,e,n,r,i){var o=ks;ks|=4;try{return Yi(98,t.bind(null,e,n,r,i))}finally{0===(ks=o)&&(Xs(),qi())}},Dt=function(){0===(49&ks)&&(function(){if(null!==iu){var t=iu;iu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,vu(t,Gi())}))}qi()}(),Du())},Nt=function(t,e){var n=ks;ks|=2;try{return t(e)}finally{0===(ks=n)&&(Xs(),qi())}};var ul={Events:[ri,ii,oi,It,kt,Du,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Si=fl.inject(cl),Ei=fl}catch(vt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,e.createPortal=sl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t,e){var n=ks;if(0!==(48&n))return t(e);ks|=1;try{if(t)return Yi(99,t.bind(null,e))}finally{ks=n,qi()}},e.hydrate=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!0,n)},e.render=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ol(t))throw Error(a(40));return!!t._reactRootContainer&&(xu((function(){al(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=bu,e.unstable_createPortal=function(t,e){return sl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ol(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return al(t,e,n,!1,r)},e.version="17.0.2"},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},1372:function(t,e){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,f=60120,p=60115,h=60116,d=60121,g=60122,v=60117,y=60129,m=60131;if("function"===typeof Symbol&&Symbol.for){var _=Symbol.for;n=_("react.element"),r=_("react.portal"),i=_("react.fragment"),o=_("react.strict_mode"),a=_("react.profiler"),s=_("react.provider"),u=_("react.context"),l=_("react.forward_ref"),c=_("react.suspense"),f=_("react.suspense_list"),p=_("react.memo"),h=_("react.lazy"),d=_("react.block"),g=_("react.server.block"),v=_("react.fundamental"),y=_("react.debug_trace_mode"),m=_("react.legacy_hidden")}function b(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case i:case a:case o:case c:case f:return t;default:switch(t=t&&t.$$typeof){case u:case l:case h:case p:case s:return t;default:return e}}case r:return e}}}var x=s,w=n,S=l,E=i,A=h,O=p,T=r,C=a,P=o,M=c;e.ContextConsumer=u,e.ContextProvider=x,e.Element=w,e.ForwardRef=S,e.Fragment=E,e.Lazy=A,e.Memo=O,e.Portal=T,e.Profiler=C,e.StrictMode=P,e.Suspense=M,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return b(t)===u},e.isContextProvider=function(t){return b(t)===s},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return b(t)===l},e.isFragment=function(t){return b(t)===i},e.isLazy=function(t){return b(t)===h},e.isMemo=function(t){return b(t)===p},e.isPortal=function(t){return b(t)===r},e.isProfiler=function(t){return b(t)===a},e.isStrictMode=function(t){return b(t)===o},e.isSuspense=function(t){return b(t)===c},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===a||t===y||t===o||t===c||t===f||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===h||t.$$typeof===p||t.$$typeof===s||t.$$typeof===u||t.$$typeof===l||t.$$typeof===v||t.$$typeof===d||t[0]===g)},e.typeOf=b},7441:function(t,e,n){"use strict";t.exports=n(1372)},799:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==d(t)&&"function"!==typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(2791)),i=p(n(2007)),o=p(n(4164)),a=p(n(1694)),s=n(9016),u=n(7407),l=n(1307),c=p(n(1240)),f=p(n(3436));function p(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g.apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?O(t):e}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(n,t);var e=E(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),C(O(r=e.call(this,t)),"onDragStart",(function(t,e){if((0,f.default)("Draggable: onDragStart: %j",e),!1===r.props.onStart(t,(0,u.createDraggableData)(O(r),e)))return!1;r.setState({dragging:!0,dragged:!0})})),C(O(r),"onDrag",(function(t,e){if(!r.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",e);var n=(0,u.createDraggableData)(O(r),e),i={x:n.x,y:n.y};if(r.props.bounds){var o=i.x,a=i.y;i.x+=r.state.slackX,i.y+=r.state.slackY;var s=y((0,u.getBoundPosition)(O(r),i.x,i.y),2),l=s[0],c=s[1];i.x=l,i.y=c,i.slackX=r.state.slackX+(o-i.x),i.slackY=r.state.slackY+(a-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-r.state.x,n.deltaY=i.y-r.state.y}if(!1===r.props.onDrag(t,n))return!1;r.setState(i)})),C(O(r),"onDragStop",(function(t,e){if(!r.state.dragging)return!1;if(!1===r.props.onStop(t,(0,u.createDraggableData)(O(r),e)))return!1;(0,f.default)("Draggable: onDragStop: %j",e);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var i=r.props.position,o=i.x,a=i.y;n.x=o,n.y=a}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:b({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return w(n,null,[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}]),w(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),i=e.defaultPosition,o=e.defaultClassName,l=e.defaultClassNameDragging,f=e.defaultClassNameDragged,p=e.position,h=e.positionOffset,d=(e.scale,v(e,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),y={},m=null,_=!Boolean(p)||this.state.dragging,x=p||i,w={x:(0,u.canDragX)(this)&&_?this.state.x:x.x,y:(0,u.canDragY)(this)&&_?this.state.y:x.y};this.state.isElementSVG?m=(0,s.createSVGTransform)(w,h):y=(0,s.createCSSTransform)(w,h);var S=(0,a.default)(n.props.className||"",o,(C(t={},l,this.state.dragging),C(t,f,this.state.dragged),t));return r.createElement(c.default,g({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:b(b({},n.props.style),y),transform:m}))}}]),n}(r.Component);e.default=P,C(P,"displayName","Draggable"),C(P,"propTypes",b(b({},c.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),C(P,"defaultProps",b(b({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},1240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==p(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(2791)),i=c(n(2007)),o=c(n(4164)),a=n(9016),s=n(7407),u=n(1307),l=c(n(3436));function c(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function p(t){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S={start:"touchstart",move:"touchmove",stop:"touchend"},E={start:"mousedown",move:"mousemove",stop:"mouseup"},A=E,O=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,n,i,u=m(c);function c(){var t;g(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(b(t=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(b(t),"mounted",!1),w(b(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,a.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,s.getControlPosition)(e,i,b(t));if(null!=o){var u=o.x,c=o.y,f=(0,s.createCoreData)(b(t),u,c);(0,l.default)("DraggableCore: handleDragStart: %j",f),(0,l.default)("calling",t.props.onStart),!1!==t.props.onStart(e,f)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:u,lastY:c}),(0,a.addEvent)(r,A.move,t.handleDrag),(0,a.addEvent)(r,A.stop,t.handleDragStop))}}})),w(b(t),"handleDrag",(function(e){var n=(0,s.getControlPosition)(e,t.state.touchIdentifier,b(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,a=i-t.state.lastY,u=h((0,s.snapToGrid)(t.props.grid,o,a),2);if(o=u[0],a=u[1],!o&&!a)return;r=t.state.lastX+o,i=t.state.lastY+a}var c=(0,s.createCoreData)(b(t),r,i);if((0,l.default)("DraggableCore: handleDrag: %j",c),!1!==t.props.onDrag(e,c)&&!1!==t.mounted)t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(p){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(f)}}})),w(b(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,s.getControlPosition)(e,t.state.touchIdentifier,b(t));if(null!=n){var r=n.x,i=n.y,o=(0,s.createCoreData)(b(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var u=t.findDOMNode();u&&t.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(u.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),u&&((0,l.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(u.ownerDocument,A.move,t.handleDrag),(0,a.removeEvent)(u.ownerDocument,A.stop,t.handleDragStop))}}})),w(b(t),"onMouseDown",(function(e){return A=E,t.handleDragStart(e)})),w(b(t),"onMouseUp",(function(e){return A=E,t.handleDragStop(e)})),w(b(t),"onTouchStart",(function(e){return A=S,t.handleDragStart(e)})),w(b(t),"onTouchEnd",(function(e){return A=S,t.handleDragStop(e)})),t}return e=c,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,a.addEvent)(t,S.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,a.removeEvent)(e,E.move,this.handleDrag),(0,a.removeEvent)(e,S.move,this.handleDrag),(0,a.removeEvent)(e,E.stop,this.handleDragStop),(0,a.removeEvent)(e,S.stop,this.handleDragStop),(0,a.removeEvent)(t,S.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(e.prototype,n),i&&v(e,i),c}(r.Component);e.default=O,w(O,"displayName","DraggableCore"),w(O,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),w(O,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},6729:function(t,e,n){"use strict";var r=n(799),i=r.default,o=r.DraggableCore;t.exports=i,t.exports.default=i,t.exports.DraggableCore=o},9016:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=f,e.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(f(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},e.addEvent=function(t,e,n,r){if(!t)return;var i=u({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},e.removeEvent=function(t,e,n,r){if(!t)return;var i=u({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},e.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,i.int)(n.borderTopWidth),e+=(0,i.int)(n.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,i.int)(n.borderLeftWidth),e+=(0,i.int)(n.borderRightWidth)},e.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,i.int)(n.paddingTop),e-=(0,i.int)(n.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,i.int)(n.paddingLeft),e-=(0,i.int)(n.paddingRight)},e.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),i=(t.clientX+e.scrollLeft-r.left)/n,o=(t.clientY+e.scrollTop-r.top)/n;return{x:i,y:o}},e.createCSSTransform=function(t,e){var n=p(t,e,"px");return l({},(0,o.browserPrefixToKey)("transform",o.default),n)},e.createSVGTransform=function(t,e){return p(t,e,"")},e.getTranslation=p,e.getTouch=function(t,e){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,i.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier},e.addUserSelectStyles=function(t){if(!t)return;var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e));t.body&&h(t.body,"react-draggable-transparent-selection")},e.removeUserSelectStyles=function(t){if(!t)return;try{if(t.body&&d(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(n){}},e.addClassName=h,e.removeClassName=d;var i=n(1307),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(2824));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="";function f(t,e){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,i.isFunction)(t[e])}))),!!(0,i.isFunction)(t[c])&&t[c](e)}function p(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var a="".concat("string"===typeof e.x?e.x:e.x+n),s="".concat("string"===typeof e.y?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function h(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function d(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},2824:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=r,e.browserPrefixToKey=i,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var r=0;r<n.length;r++)if(i(t,n[r])in e)return n[r];return""}function i(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var o=r();e.default=o},3436:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){0}},7407:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var a=t.props.bounds;a="string"===typeof a?a:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(a);var s=o(t);if("string"===typeof a){var u,l=s.ownerDocument,c=l.defaultView;if(!((u="parent"===a?s.parentNode:l.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var f=c.getComputedStyle(s),p=c.getComputedStyle(u);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(f.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(f.marginTop),right:(0,i.innerWidth)(u)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,i.innerHeight)(u)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(f.marginBottom)}}(0,r.isNum)(a.right)&&(e=Math.min(e,a.right));(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,r.isNum)(a.left)&&(e=Math.max(e,a.left));(0,r.isNum)(a.top)&&(n=Math.max(n,a.top));return[e,n]},e.snapToGrid=function(t,e,n){var r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]},e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.getControlPosition=function(t,e,n){var r="number"===typeof e?(0,i.getTouch)(t,e):null;if("number"===typeof e&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||t,s,n.props.scale)},e.createCoreData=function(t,e,n){var i=t.state,a=!(0,r.isNum)(i.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var r=n(1307),i=n(9016);function o(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},1307:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},e.isFunction=function(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"===typeof t&&!isNaN(t)},e.int=function(t){return parseInt(t,10)},e.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}},6374:function(t,e,n){"use strict";n(1725);var r=n(2791),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},9117:function(t,e,n){"use strict";var r=n(1725),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),e.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function h(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||d}function y(){}function m(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||d}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(h(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var _=m.prototype=new y;_.constructor=m,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!w.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var A=/\/+/g;function O(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+O(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(A,"$&/")+"/"),T(a,e,n,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+O(s=t[l],l);u+=T(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=T(s=s.value,e,n,c=r+O(s,l++),a);else if("object"===s)throw e=""+t,Error(h(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function C(t,e,n){if(null==t)return t;var r=[],i=0;return T(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function P(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var M={current:null};function I(){var t=M.current;if(null===t)throw Error(h(321));return t}var k={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:C,forEach:function(t,e,n){C(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error(h(143));return t}},e.Component=v,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(h(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return I().useCallback(t,e)},e.useContext=function(t,e){return I().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return I().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return I().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return I().useLayoutEffect(t,e)},e.useMemo=function(t,e){return I().useMemo(t,e)},e.useReducer=function(t,e,n){return I().useReducer(t,e,n)},e.useRef=function(t){return I().useRef(t)},e.useState=function(t){return I().useState(t)},e.version="17.0.2"},2791:function(t,e,n){"use strict";t.exports=n(9117)},184:function(t,e,n){"use strict";t.exports=n(6374)},6121:function(t,e,n){var r;!function(t){!function(e){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(t);function o(t,e){return function(n,r){"function"!==typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=t:i=o(r.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return rt(Object.create(null))}:a?function(){return rt({__proto__:null})}:function(){return rt({})},has:s?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:s?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),c="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,f=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?tt():Map,p=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?et():Set,h=new(c||"function"!==typeof WeakMap?nt():WeakMap);function d(t,e,n,r){if(D(n)){if(!W(t))throw new TypeError;if(!Y(e))throw new TypeError;return E(t,e)}if(!W(t))throw new TypeError;if(!j(e))throw new TypeError;if(!j(r)&&!D(r)&&!N(r))throw new TypeError;return N(r)&&(r=void 0),A(t,e,n=G(n),r)}function g(t,e){function n(n,r){if(!j(n))throw new TypeError;if(!D(r)&&!X(r))throw new TypeError;I(t,e,n,r)}return n}function v(t,e,n,r){if(!j(n))throw new TypeError;return D(r)||(r=G(r)),I(t,e,n,r)}function y(t,e,n){if(!j(e))throw new TypeError;return D(n)||(n=G(n)),T(t,e,n)}function m(t,e,n){if(!j(e))throw new TypeError;return D(n)||(n=G(n)),C(t,e,n)}function _(t,e,n){if(!j(e))throw new TypeError;return D(n)||(n=G(n)),P(t,e,n)}function b(t,e,n){if(!j(e))throw new TypeError;return D(n)||(n=G(n)),M(t,e,n)}function x(t,e){if(!j(t))throw new TypeError;return D(e)||(e=G(e)),k(t,e)}function w(t,e){if(!j(t))throw new TypeError;return D(e)||(e=G(e)),R(t,e)}function S(t,e,n){if(!j(e))throw new TypeError;D(n)||(n=G(n));var r=O(e,n,!1);if(D(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=h.get(e);return i.delete(n),i.size>0||h.delete(e),!0}function E(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!D(r)&&!N(r)){if(!Y(r))throw new TypeError;e=r}}return e}function A(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!D(o)&&!N(o)){if(!j(o))throw new TypeError;r=o}}return r}function O(t,e,n){var r=h.get(t);if(D(r)){if(!n)return;r=new f,h.set(t,r)}var i=r.get(e);if(D(i)){if(!n)return;i=new f,r.set(e,i)}return i}function T(t,e,n){if(C(t,e,n))return!0;var r=$(e);return!N(r)&&T(t,r,n)}function C(t,e,n){var r=O(e,n,!1);return!D(r)&&U(r.has(t))}function P(t,e,n){if(C(t,e,n))return M(t,e,n);var r=$(e);return N(r)?void 0:P(t,r,n)}function M(t,e,n){var r=O(e,n,!1);if(!D(r))return r.get(t)}function I(t,e,n,r){O(n,r,!0).set(t,e)}function k(t,e){var n=R(t,e),r=$(t);if(null===r)return n;var i=k(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,a=[],s=0,u=n;s<u.length;s++){var l=u[s];o.has(l)||(o.add(l),a.push(l))}for(var c=0,f=i;c<f.length;c++){l=f[c];o.has(l)||(o.add(l),a.push(l))}return a}function R(t,e){var n=[],r=O(t,e,!1);if(D(r))return n;for(var i=Z(r.keys()),o=0;;){var a=Q(i);if(!a)return n.length=o,n;var s=K(a);try{n[o]=s}catch(u){try{J(i)}finally{throw u}}o++}}function L(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function D(t){return void 0===t}function N(t){return null===t}function F(t){return"symbol"===typeof t}function j(t){return"object"===typeof t?null!==t:"function"===typeof t}function B(t,e){switch(L(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=q(t,r);if(void 0!==i){var o=i.call(t,n);if(j(o))throw new TypeError;return o}return z(t,"default"===n?"number":n)}function z(t,e){if("string"===e){var n=t.toString;if(H(n))if(!j(i=n.call(t)))return i;if(H(r=t.valueOf))if(!j(i=r.call(t)))return i}else{var r;if(H(r=t.valueOf))if(!j(i=r.call(t)))return i;var i,o=t.toString;if(H(o))if(!j(i=o.call(t)))return i}throw new TypeError}function U(t){return!!t}function V(t){return""+t}function G(t){var e=B(t,3);return F(e)?e:V(e)}function W(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function H(t){return"function"===typeof t}function Y(t){return"function"===typeof t}function X(t){switch(L(t)){case 3:case 4:return!0;default:return!1}}function q(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!H(n))throw new TypeError;return n}}function Z(t){var e=q(t,i);if(!H(e))throw new TypeError;var n=e.call(t);if(!j(n))throw new TypeError;return n}function K(t){return t.value}function Q(t){var e=t.next();return!e.done&&e}function J(t){var e=t.return;e&&e.call(t)}function $(t){var e=Object.getPrototypeOf(t);if("function"!==typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!==typeof i||i===t?e:i}function tt(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}function et(){return function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}()}function nt(){var t=16,n=u.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+l()}while(u.has(n,t));return n[t]=!0,t}function o(t,n){if(!e.call(t,r)){if(!n)return;Object.defineProperty(t,r,{value:u.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t)}function l(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<t;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function rt(t){return t.__=void 0,delete t.__,t}t("decorate",d),t("metadata",g),t("defineMetadata",v),t("hasMetadata",y),t("hasOwnMetadata",m),t("getMetadata",_),t("getOwnMetadata",b),t("getMetadataKeys",x),t("getOwnMetadataKeys",w),t("deleteMetadata",S)}(i)}()}(r||(r={}))},8959:function(t,e,n){"use strict";var r="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:{},i=function(){var t="Prism"in r,e=t?r.Prism:void 0;return function(){t?r.Prism=e:delete r.Prism;t=void 0,e=void 0}}();r.Prism={manual:!0,disableWorkerMessageHandler:!0};var o=n(6913),a=n(5434),s=n(3693),u=n(2357),l=n(9625),c=n(3052),f=n(7556);i();var p={}.hasOwnProperty;function h(){}h.prototype=s;var d=new h;function g(t){if("function"!==typeof t||!t.displayName)throw new Error("Expected `function` for `grammar`, got `"+t+"`");void 0===d.languages[t.displayName]&&t(d)}t.exports=d,d.highlight=function(t,e){var n,r=s.highlight;if("string"!==typeof t)throw new Error("Expected `string` for `value`, got `"+t+"`");if("Object"===d.util.type(e))n=e,e=null;else{if("string"!==typeof e)throw new Error("Expected `string` for `name`, got `"+e+"`");if(!p.call(d.languages,e))throw new Error("Unknown language: `"+e+"` is not registered");n=d.languages[e]}return r.call(this,t,n,e)},d.register=g,d.alias=function(t,e){var n,r,i,o,a=d.languages,s=t;e&&((s={})[t]=e);for(n in s)for(r=s[n],i=(r="string"===typeof r?[r]:r).length,o=-1;++o<i;)a[r[o]]=a[n]},d.registered=function(t){if("string"!==typeof t)throw new Error("Expected `string` for `language`, got `"+t+"`");return p.call(d.languages,t)},d.listLanguages=function(){var t,e=d.languages,n=[];for(t in e)p.call(e,t)&&"object"===typeof e[t]&&n.push(t);return n},g(u),g(l),g(c),g(f),d.util.encode=function(t){return t},d.Token.stringify=function(t,e,n){var r;if("string"===typeof t)return{type:"text",value:t};if("Array"===d.util.type(t))return function(t,e){var n,r=[],i=t.length,o=-1;for(;++o<i;)""!==(n=t[o])&&null!==n&&void 0!==n&&r.push(n);o=-1,i=r.length;for(;++o<i;)n=r[o],r[o]=d.Token.stringify(n,e,r);return r}(t,e);r={type:t.type,content:d.Token.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n},t.alias&&(r.classes=r.classes.concat(t.alias));return d.hooks.run("wrap",r),o(r.tag+"."+r.classes.join("."),function(t){var e;for(e in t)t[e]=a(t[e]);return t}(r.attributes),r.content)}},3052:function(t){"use strict";function e(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}t.exports=e,e.displayName="clike",e.aliases=[]},9625:function(t){"use strict";function e(t){!function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t)}t.exports=e,e.displayName="css",e.aliases=[]},7556:function(t){"use strict";function e(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}t.exports=e,e.displayName="javascript",e.aliases=["js"]},765:function(t){"use strict";function e(t){!function(t){var e=t.util.clone(t.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(t,e){return t=t.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return i})),RegExp(t,e)}i=o(i).source,t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=e.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function t(e){return e?"string"===typeof e?e:"string"===typeof e.content?e.content:e.content.map(t).join(""):""},s=function e(n){for(var r=[],i=0;i<n.length;i++){var o=n[i],s=!1;if("string"!==typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?r.length>0&&r[r.length-1].tagName===a(o.content[0].content[1])&&r.pop():"/>"===o.content[o.content.length-1].content||r.push({tagName:a(o.content[0].content[1]),openedBraces:0}):r.length>0&&"punctuation"===o.type&&"{"===o.content?r[r.length-1].openedBraces++:r.length>0&&r[r.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?r[r.length-1].openedBraces--:s=!0),(s||"string"===typeof o)&&r.length>0&&0===r[r.length-1].openedBraces){var u=a(o);i<n.length-1&&("string"===typeof n[i+1]||"plain-text"===n[i+1].type)&&(u+=a(n[i+1]),n.splice(i+1,1)),i>0&&("string"===typeof n[i-1]||"plain-text"===n[i-1].type)&&(u=a(n[i-1])+u,n.splice(i-1,1),i--),n[i]=new t.Token("plain-text",u,null,u)}o.content&&"string"!==typeof o.content&&e(o.content)}};t.hooks.add("after-tokenize",(function(t){"jsx"!==t.language&&"tsx"!==t.language||s(t.tokens)}))}(t)}t.exports=e,e.displayName="jsx",e.aliases=[]},9135:function(t){"use strict";function e(t){t.languages.less=t.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),t.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}t.exports=e,e.displayName="less",e.aliases=[]},2357:function(t){"use strict";function e(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}t.exports=e,e.displayName="markup",e.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},9727:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(I){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",g={};function v(){}function y(){}function m(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(P([])));x&&x!==n&&r.call(x,o)&&(_=x);var w=m.prototype=v.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function A(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return y.prototype=m,u(w,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6813:function(t,e){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(f,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var d=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,m=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();_=t+m;try{v(!0,t)?x.postMessage(null):(g=!1,v=null)}catch(n){throw x.postMessage(null),n}}else g=!1},n=function(t){v=t,g||(g=!0,x.postMessage(null))},r=function(t,n){y=p((function(){t(e.unstable_now())}),n)},i=function(){h(y),y=-1}}function w(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function E(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>A(a,n))void 0!==u&&0>A(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>A(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],T=[],C=1,P=null,M=3,I=!1,k=!1,R=!1;function L(t){for(var e=S(T);null!==e;){if(null===e.callback)E(T);else{if(!(e.startTime<=t))break;E(T),e.sortIndex=e.expirationTime,w(O,e)}e=S(T)}}function D(t){if(R=!1,L(t),!k)if(null!==S(O))k=!0,n(N);else{var e=S(T);null!==e&&r(D,e.startTime-t)}}function N(t,n){k=!1,R&&(R=!1,i()),I=!0;var o=M;try{for(L(n),P=S(O);null!==P&&(!(P.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,M=P.priorityLevel;var s=a(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?P.callback=s:P===S(O)&&E(O),L(n)}else E(O);P=S(O)}if(null!==P)var u=!0;else{var l=S(T);null!==l&&r(D,l.startTime-n),u=!1}return u}finally{P=null,M=o,I=!1}}var F=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){k||I||(k=!0,n(N))},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return S(O)},e.unstable_next=function(t){switch(M){case 1:case 2:case 3:var e=3;break;default:e=M}var n=M;M=e;try{return t()}finally{M=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=M;M=t;try{return e()}finally{M=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:C++,callback:o,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,w(T,t),null===S(O)&&t===S(T)&&(R?i():R=!0,r(D,a-s))):(t.sortIndex=u,w(O,t),k||I||(k=!0,n(N))),t},e.unstable_wrapCallback=function(t){var e=M;return function(){var n=M;M=e;try{return t.apply(this,arguments)}finally{M=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},9544:function(t,e){"use strict";e.Q=function(t){var e=String(t||"").trim();return""===e?[]:e.split(n)};var n=/[ \t\n\r\f]+/g},4480:function(t){t.exports=function(){"use strict";function t(n,r,i,o,a,s){if(!(a-o<=i)){var u=o+a>>1;e(n,r,u,o,a,s%2),t(n,r,i,o,u-1,s+1),t(n,r,i,u+1,a,s+1)}}function e(t,r,i,o,a,s){for(;a>o;){if(a-o>600){var u=a-o+1,l=i-o+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1);e(t,r,i,Math.max(o,Math.floor(i-l*f/u+p)),Math.min(a,Math.floor(i+(u-l)*f/u+p)),s)}var h=r[2*i+s],d=o,g=a;for(n(t,r,o,i),r[2*a+s]>h&&n(t,r,o,a);d<g;){for(n(t,r,d,g),d++,g--;r[2*d+s]<h;)d++;for(;r[2*g+s]>h;)g--}r[2*o+s]===h?n(t,r,o,g):n(t,r,++g,a),g<=i&&(o=g+1),i<=g&&(a=g-1)}}function n(t,e,n,i){r(t,n,i),r(e,2*n,2*i),r(e,2*n+1,2*i+1)}function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),h=l.pop();if(p-h<=a)for(var d=h;d<=p;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);else{var g=Math.floor((h+p)/2);s=e[2*g],u=e[2*g+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[g]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(h),l.push(g-1),l.push(v)),(0===f?i>=s:o>=u)&&(l.push(g+1),l.push(p),l.push(v))}}return c}function o(t,e,n,r,i,o){for(var s=[0,t.length-1,0],u=[],l=i*i;s.length;){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=o)for(var h=p;h<=f;h++)a(e[2*h],e[2*h+1],n,r)<=l&&u.push(t[h]);else{var d=Math.floor((p+f)/2),g=e[2*d],v=e[2*d+1];a(g,v,n,r)<=l&&u.push(t[d]);var y=(c+1)%2;(0===c?n-i<=g:r-i<=v)&&(s.push(p),s.push(d-1),s.push(y)),(0===c?n+i>=g:r+i>=v)&&(s.push(d+1),s.push(f),s.push(y))}}return u}function a(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}var s=function(t){return t[0]},u=function(t){return t[1]},l=function(e,n,r,i,o){void 0===n&&(n=s),void 0===r&&(r=u),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(e.length),c=this.coords=new o(2*e.length),f=0;f<e.length;f++)l[f]=f,c[2*f]=n(e[f]),c[2*f+1]=r(e[f]);t(l,c,i,0,l.length-1,0)};l.prototype.range=function(t,e,n,r){return i(this.ids,this.coords,t,e,n,r,this.nodeSize)},l.prototype.within=function(t,e,n){return o(this.ids,this.coords,t,e,n,this.nodeSize)};var c,f={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},p=Math.fround||(c=new Float32Array(1),function(t){return c[0]=+t,c[0]}),h=function(t){this.options=w(Object.create(f),t),this.trees=new Array(this.options.maxZoom+1)};function d(t,e,n,r,i){return{x:p(t),y:p(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function g(t,e){var n=t.geometry.coordinates,r=n[0],i=n[1];return{x:p(m(r)),y:p(_(i)),zoom:1/0,index:e,parentId:-1}}function v(t){return{type:"Feature",id:t.id,properties:y(t),geometry:{type:"Point",coordinates:[b(t.x),x(t.y)]}}}function y(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return w(w({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function m(t){return t/360+.5}function _(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function b(t){return 360*(t-.5)}function x(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function w(t,e){for(var n in e)t[n]=e[n];return t}function S(t){return t.x}function E(t){return t.y}return h.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(g(t[u],u));this.trees[i+1]=new l(s,S,E,o,Float32Array),n&&console.timeEnd(a);for(var c=i;c>=r;c--){var f=+Date.now();s=this._cluster(s,c),this.trees[c]=new l(s,S,E,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-f)}return n&&console.timeEnd("total time"),this},h.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,f=u.range(m(n),_(o),m(i),_(r));c<f.length;c+=1){var p=f[c],h=u.points[p];l.push(h.numPoints?v(h):this.points[h.index])}return l},h.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(o.x,o.y,a);u<l.length;u+=1){var c=l[u],f=i.points[c];f.parentId===t&&s.push(f.numPoints?v(f):this.points[f.index])}if(0===s.length)throw new Error(r);return s},h.prototype.getLeaves=function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r},h.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,l),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null},h.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},h.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},h.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l=u.numPoints,c=void 0,f=void 0,p=void 0;if(l)c=y(u),f=u.x,p=u.y;else{var h=this.points[u.index];c=h.properties,f=m(h.geometry.coordinates[0]),p=_(h.geometry.coordinates[1])}var d={type:1,geometry:[[Math.round(this.options.extent*(f*i-n)),Math.round(this.options.extent*(p*i-r))]],tags:c},g=void 0;l?g=u.id:this.options.generateId?g=u.index:this.points[u.index].id&&(g=this.points[u.index].id),void 0!==g&&(d.id=g),o.features.push(d)}},h.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))},h.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,u=i/(o*Math.pow(2,e)),l=0;l<t.length;l++){var c=t[l];if(!(c.zoom<=e)){c.zoom=e;for(var f=this.trees[e+1],p=f.within(c.x,c.y,u),h=c.numPoints||1,g=h,v=0,y=p;v<y.length;v+=1){var m=y[v],_=f.points[m];_.zoom>e&&(g+=_.numPoints||1)}if(g>h&&g>=s){for(var b=c.x*h,x=c.y*h,w=a&&h>1?this._map(c,!0):null,S=(l<<5)+(e+1)+this.points.length,E=0,A=p;E<A.length;E+=1){var O=A[E],T=f.points[O];if(!(T.zoom<=e)){T.zoom=e;var C=T.numPoints||1;b+=T.x*C,x+=T.y*C,T.parentId=S,a&&(w||(w=this._map(c,!0)),a(w,this._map(T)))}}c.parentId=S,n.push(d(b/g,x/g,S,g,w))}else if(n.push(c),g>1)for(var P=0,M=p;P<M.length;P+=1){var I=M[P],k=f.points[I];k.zoom<=e||(k.zoom=e,n.push(k))}}}return n},h.prototype._getOriginId=function(t){return t-this.points.length>>5},h.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},h.prototype._map=function(t,e){if(t.numPoints)return e?w({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?w({},r):r},h}()},7551:function(t){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},5887:function(t){t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)e.call(r,i)&&(t[i]=r[i])}return t};var e=Object.prototype.hasOwnProperty},4146:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAFACAMAAAB9U37bAAAC/VBMVEUjJjAkKDIlKzZdlpklLTkkKTUmLzsjKDElLjomMD0kLDcoPkokKDMlKjUnNUInOkYnMj4lKzgmMDwmMz8pQEsmNUEmNEAnOUWMjIySk5gmN0MnOES/v78nO0cnPUglMj4oPUklLTclKzUnNkEmMz6Ml56PlJuHmaH///8lLTqJiYl3d3mLi4uGhocuMTmBnaQ9QEZXWV0mKTOOlJtXiu9X0KJ4eHpqW+59fn+BgoIoKzVERUwxNDx7e30/QEd1dnhoaGxUVVpgYWVaW2A2OUBwcHNkZWknOENZkZXrtRtabI9ThYpdXWI5PENRUldEZmw0Nj9PfYJKcndLTFIqLTeDg4SAgIFAX2VPUFY5OkJvb3KAnKOLi4xNen88PUQ7V142TFU1SVJBQ0osLzhXjJBzc3UyQEkuPEUwMjtUh4xGanBclJlak5dYj5Jqa248VFzn6OlQg4hQgIVCY2kwUFlabI5MdntIbnRtbXA5YWksN0BzY/ZVio41VF05UFiHiY4/Y2srSVMqLTbrtxxSg4dId31Gc3pfYmg5XGRHSU8qND0pMDpDcHY9Zm5NTlQrRE9LfoNLe4A/anHO0NJ+n6U0Rk7h4uRcXWEyV18uOUO7vcA0W2M+XGI+WmAvSFIyQ0xcj/S0tbhpam1dkKiOj5RdXmKkpalsbG9l0qlatZ708/lnlfGFlZpoephch5VDbXMvTFbs7v3Z3ft+n6b4+fmvpfeWivSIrPNzZO+7xs6l5M2An6ZbppxylJlgZ2/x+PyBcvemsMKH3r2Jlq91mqCHjJNbfJLxy1qsqFLsvS/tuidej/Dq7O7W3+RZjdu30NFYx6Fec5JSfYIuQEvA0vnIwvmlwPbW9Ojh5ebM19llcM9bkrmjrLFqnKBbm5pnlpptmYpccnzBrUGkv/bq+fT9+u399+PA7txdkc/67chifrz45Kj02IKIoHOUomdNUFXXsitxbOXG1NyyvMCYvL+QuLp/rK6Lpaj014BoZeGiw8afwcLNzqXz2IR2m4F9hR7wAAAbsUlEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAACYXfsLaSqKAzj+G+dhD6O3+3B67KmDTSlh4t8ypYeLmRZaFv1RCsH+uUoIIRpqOchCybCyehiIbuKbvTQnwhD2h0TfLCiZwz+IfxCK8qGic+butnSXQNC7e3Y+Fzm4+yJ8vdu5dz8hRdj7eq1Wh80OQtqwkah+ENJEN1lY8QUCvo150gNCWughy0E5IrhEukFIA/1kSY5ZJjYQuGcn80E5JrhAxG6OfzayISdYIX0g8M5BfLIc9q+GQmv+sCz7SC8IvLOSgLyGokL+ALGCwDsrCf9BcasTIjr/HJPoXz9B4N0oYlb96+v+tRBizoDAtzrEhNs2+UX1NFB/C1HrbYpfP0R13j0pQ9T75WBbBHsM+1RU59x1RL35TBZ+sy9cVubJJ5MUqX4fBE7VIuqZJA2RqC8S9RhRV0DgUgd7c39uomYPfvho/TY0a2KkLvryzXoQeFRB4zZ0Stu03KEnTu8DvTAaIc5gAOE/d2vNkmn70cT29BWgE+X4JMRkZx6KvT6Qm1FUXAg7xuEsmvEuLdslJdWMqIegC8bbidFPYSV6jRlnFNGfAtghHmfRGhH1yrRJ2rKyzdy116AD5wdwPHpWqVmJXpmBSw2QX4zzWkFL3WTO7XU6ve6xFJhFy35Eu7ZLKloe6OO+7VgmxrHoJdVmjJXoJfgCUIZcXAMa6iGLlk3Oae1n0d4hqkkyqRzNiKqDVHciJyenWon+kv6Sq0Q/iwuAOU7ja6efTFtiFrWeRTtQplzoKtrp+UugB0dYdMXhaPR8jLOAOYrzQDN2Mua0xM1pPIv2FlFNJnWd7L+iEXQgafRKbDYCU4gvGkErNuK2JHBrO4vW0ZBwoavv4Bs6IPUljV6OMyHiKsb5oBUH8VqmXB7PzIzH5ZqyeLWdRTsX+0RXP9gjmnuQ+pJGv6xEr8K4CrbYT+3JOkicHqSYcTnJoHJeg9XItu5fJWp4ZHhEZR1HCN0Y2sW/Y0+u9CyMWzWLPvEdJfJMahm9FlHj7L78BaW2sqc3ozqN/pe9c2ltIori+JW7yGKQ2QzkgkyIrqRaS7sQfL9iCRQfrdaKD3y0tVitJRqqllQMGClpYmKxGIltQRAtCPYL+B3EjXYhLv0E7s057W2Kpp3XnTs3Or9BLq5mnOOce865/3OSYC0E2c9YBwmIPvonL0hw9NTunzOsmKQ1ZojqNDR6fz16byXB0HGfAridf15YWPbzYyQohrAYZ2hWV7kp9BQNjU5a2cGVuuwhEgAoUAFq8dsKCxToJgFxD6vu1lRpjSGiOI2NfocdhiWymx0jQTBDge9LX9dkbL8CtPpeyNeqmjX4qQ8TxWls9OsMSnKRI6zlNAmA1xT4WPq2/ef71TLsUi44VdKj2p1Thh2qIKcYJ2rT2OjkMGMHOvcw1k4C4BGtcbtqaMbS6oELaNFygR1fXkaRlGbnutsEufo6Ro8cgcOY3jMkANC3JysG0ECLFoAq6Qb8J8wadsCy3EAzlOUasutEPwmCoVvw2iqGBtS1aPj3cjDOcxjyNX5+brVCCPqahDghDzFTJm00BFVJl2VXhqfgrlXDJkVKadc2EmKfTbB93ly3xv2QBhAdXwEzGprNq5RplsM2ZTi1XAVZl0IAUoUvoHs2bDNNKb1LQhw2E2jrU0KxcYRIZJ7WWNRskx1pCgmNMuS7LEvcFSo5UELn89xwQKE51HKqMAwbenbjPbMACZ1E2enmDIjdNcP+lYb8oymEsSrwiNoIk7MDUj8k3HEGSoYDUC3XR0LsMA7mnLbMh4u0xlUiix6QSfH721sr4LA6SIgNemxunmUIj2XFcuO3MZ1wRqp52l0CZhTKbWkbe2aFSsyEZyFJ1wxnVxEP/0MsyWfAudveM59IKnp141M5JJuklIaty/Yi95Sh2WER3ukskcENrnZ3xtNmamINjhnqoMA9baUwlyCZsawmjDTtWZss0I0WNJuUMrKSoieYpDsnhb4oxFIsk8naDpWK8KlL2NXB/ySzcEcXodwXErIRr0YcflGS+saGMUl3QXYkDOWsuI8yBQcUpagkt2W4IDIM5USDpc5baU1T7SgLnitjaG7Aqlw4wsdimEtBc0RBRlvBfXwud6TCA1bLWlwyqzkiLUEkOZXEITPuKIYHrBux7QketDgk579wahTqRZpLFhVO1SMREjSzmK7FNWdXxX9l7BjIeOKay6usrFauPkeuo/1Qa+/g+Yj0OXI446GoOabsd1vBONdJueOhqqcu9TlyZw8wtqeXscGI7DlyfSg2jTtmEvxnnvgGqmDLcddkk2oKaNbMketk5xKEHGxl7ZLnyOUHoC4Td45x0+da7Bg+mHtyKrY9rJ0j13+JnYD1DOuNyJ0jdw8kEXE3YC12K/EL9O7ZuHuqKpZi63PkwNgHcN3Uwk5InSM3Dk6wGndDNvn3mHV1vHvNFQ0oWorlDYxvWSdBBtkzqXPkUGAcc0cBxBS+ZR/o3WNeKChaiuVGf8PaeZNyu8w5ctiuWI25I+1f7zL37jEvVCBEJerBjX6BneRjYd9KnCOHH3o55pbnPmZF6N1j3uhSc+4QN/pxdp4b/ajEOXL5EZjU1Rar0VbD6YojXj74M7rrB6X0Mb+fyxUUPp/UHSm2+qV3sqPy5shhjv7jYpsZM2MX21ysKXyr4o3OvTu/j8s1Df88dY3+gB3hRn8pb47c5i78nNwDWVuSF2iU8+6xWEpJ/86NfrQevZ+UN0duFM+rTfeUfNPFYuxuemVayfgdjb52Ylwruy5vjhyKyk0vYNZGRMO9u+mVtJLxOzd6gu1MwLqPtXRImyN3Dc/Rvb1VnxrbZqF8YHpHSf8ORkd2sMG9hOw6xzrlzZHrAWGK6Q2fBnN2L3v3f9O/rxo90cJa3lzYyXr7Jc2R490juq6bcLlcJ3Ewpx+Plizx+7hf1fTvaHQkMXiJsZ3vdsmbI4f6YtMj8Zs+HKvjKVDOFIGi9ZlVOhKJTRLnyGET8ITuFTxr20zEAgKuSV0EH1X078HRB7GS7pm5W+IL8DOgzzB0EUyo6N8Dgk9W1r2TE1+Ax41HF4Pq/l0qo/AJmLp3KsJDOWxsqeh66N9Fg5OVoyIQ/iNJ2NhiRsUQ+vc68zhZWa+hXiiHjS26KGAbmychYrfNUlJsKDeVxLRCFIVwwNgKeZEv9imEcoKjDV0YE9hgG7Jc2+7Wo3BFo17XCbGh3BgcA3l/Lr6aA2rq3+2hZvUDEPobGuO8OiyKHIp2Q8TFxwj+tO1eIk4+kYoK5GFT/Fib//SAB40KwwCp3ahyueQKc3B6o2j/qkSGYPLEXDS6JSroD0TIl0W2LQp8tuVCwlXyv3MP8rWoQFBLMS8uxPzN3rm0NhFFcXzKgGEQx9A48TKDtFqlISZFI0haX/hqQ31GxVZRY6pSNa22PuoDUqP4iM9aRcVXRBAXYlO3LlxIpStF1I0b8SMIois3zjnGBy40Te65c2X8DdO7yeJ0Zu4995x77v+O58rgv3BCHzVrIM2ZtpDxFpe2H54rt9H9EDe7sE3DlENxORAI74GhD+DTZnlJFFxXbXLc7MK2uvN/Uq7QmbgyATUkOakY9lucOfE/KYe1SOMsvlyCNFoFp+I4izOH/iflVsA0zjIti+ed47OZsR3cRB9n26yjqtuTcmN24DSON3xqKVqgOM7iTrfbk3K9MBCb3EmjsByP0T1rcmfQ7Uk5zMaZTabJ+YbetILLdIO/bWmXJ+W+xUQmfzJ4iDWH6YbJn+pOOZNydQtmBteun6ZQ68hhEaxJQF+s7AT8RMwamQSckLJSri3MgnOCbMN0hVhHDhdVdd3Uud/lJ+B7IXVmUth2CDdaSsaWMFsQUTzLg2wdrY5cEkrKR5sUlK8RjOUTJgWPZAzalhY2JV9jBxVSHTksOtRp6C9zDG3HBTadhCUSKsWCklhBcKSOUEeuUBun15BcWZzKlXk0E5Ft5yQM2uoLMgSeIGuj1JHDshTd0Gvs2+DdWuV1pwoUQyGwC9qb8EFKdtLDPHb6u55UK6WOXBzKUnQqzpc1lduMKVidhnEp+VbaGtlBbD8wNp9QR+6OatNXYxgGyd3XAVO5ss5PJrPtonwrbetCKC81LQwtmY4cJj/e19bW6LpeW0vQnixDYuyhapOgsAvbZzAKySEp9oMFoD0xL7RtF1tNpyMX2QFagbW1Oj4Mghajthml2fcEKnSbaOwqvPSOs3K9dOV01NYeaYxsY3PpdOSSMJuZoBMSL30QxZNkdDKsrVJmYhtWehQlyhaR6cgVgnSD8EpAd11T6jROzRHaJl8mtqGuAdvZoXCETEfubCcG6aRA2HW71GncCZ0MGTOxrYXXO501KmQ6criSbtCSgUdbarl72iAkJ10mdiXDQH1akG0i05HDzrTTqCG9cLNLb4nHB9HaJl8mdiFj0QWLgxC4UenIHU5BatsgZrC0BM1xzMaRIl/5jKe1nrHQnFaFTkcuAeXuBjU4il4pLRtnkJKWMBPr2b7smEKpI7cROpOfnB7oUCVl4/y0VHfIl4mlph1TsIbfMGjvUiokUbE0TW1bXL5MLDVYJ+UXQAn72gaF2JaR9SBOOkAuIuunB7t66vqIB6G0nxoIWWMTFReB1cXVPr+AKw65r5EWwcbp7Rofc5t65F6cKgkhMcKjd/HMqISfnn6XOXUPpCbSPjHsGdnDbYFY0ieADOYQ3AMusDX5/YWhjrbFYrkzIzrXOSvCrn0uc+qgEDnoEwXKxY7E8XT7RNDkLqc+EXrTPp8ostClihSmuN6BHV0I7nLqkOZc4pss7MLdjMWPQd2C7HKXUz8AL8EnDOzqqfaiY/SsTwzg1Dvc4tRxj0OuSiDQ1Q8U+zl2VwnCgOeQVNwB6EnFvZMFXtki5UjuYEcXZtdGnGG6Azy51CuUfiihWVPU8lq3VxgucuooRPDG/tK94u5HajGdqhd+dUucXTChTbnDqd+CokOvZl9e+CumXVHEEuthiCT7Bdrlc49TR/ker2BwO2PP3wf3VNIrENc4dYiKYmM1zasJvdPq38qhE/CLjFC7Mm7REYTRfZVXPKv+cs52ewwHd6Hgngo3OHUY0hJalfDrTScsvIz5Y0wRywm2yiVO/TCkoaqrHACD9fifVlTVlirBbJRudxMJCYhNNUc48Ie4bbdq06MJBp36a0USGqbPCdZvW17BX0euBzqUV3Pk2vNL3Hbq3o2urrtHTv2yYTFeI9yinEROva6ehaJhxqZGeOvInUlB6bPmDFbqx0EfRwIF7mP6tQNr9jTxSOTUF7Ops5WKtno2nbeOHJ7joDkFdGicwl8OPH86NDAw9PRB4KqitG/Fj0FzAHmceiTIFkG7ms3krSMHgVOmUnPqalGB21cDj1/tRwZeBC4nj+On4IhFGegEigzUsRB68za2VuGrI3cWhzPNORIq8Onj/h88/qICGc0RJHLqc9gmaBpZo8JXRw5rZiqdJKkCqeH9BYbBncPo4xDyOPULoeg65diFYHiZwldHDqKmnZWOktuqAvn8cHPzcD6mOvfOEXmcujIryMJBVg+enaeO3CR44L2VztL3Tv2dbKVjtEjj1O2pOgttYBvsWTtXHTkcW/32vzrFptKp9u3LlPorn186aM9DdOoSSIo1RNm8TRWRWWvZTA9XHbmdIOc3ymaKjWNtV2Ag//O15wcCXU7aAzYkJXjps1i0Ab14mC3iqSPnAbnAxCj7C3f0vhsYan41nM+nUrZjf9U8FLjhnC3yOPXG7zpSu9h8njpyV2CxZewop/nK3r28NhHEcQCfbrKbZUnA3OaaCDKiFrWLiC9Qq0jFRwqiQrVW1KDgAwUVEeNBEBW8FHsQxUdsD0YPLULwkuIhp2hBW3pRT734F+jV+U1jqO3uujCLMwy/z/Djd+0Suq+Z/U6Tfehb4APrcRTS5aJ+ne7/Exc6mmSO3BWYbHGUa7DXb/s6Pn9kDUehZ5o8qe+kL0XPbKX3ksyRuwPrDh1X+fjGPvV1vGdNtX+NJk/q+wbE1g6ZUbqmO8EcOZHlMu1oAF7D9gnwGtZR66omF/V1lG7YsXsjXb05yRw5uHqVXC0snHBxFXuiyUWdbN5KKV19+miiOXJf4NUXnNAcXop7k7V9U/73TKc4PRLlNvX2rk82R64skpVd5Vf0+dHogUUUzYar/C9x53egMBOcxvY6aImSWJxtpmMw2eKmcSwet7WLiU2MiNM+AdcxrL8L5ptvEiMNwrLzZWm0xPIUd5+YqB+CAVwUYK8er2eSVxSZfCv5IWItrmumfsf4KMWVXRRg0NRwAphsKaVRkDLMPhIDleAU5qbdlVhLCy59ZWIc8cA2lEaBrmq3i09iG3LddNIo0GEReWYcuEHtz6c9MbAv6kPwhpoY5xQ8sKVRMEeT1TPJOiMe2PKFvIB9cb9sYiD04fYDWwErsM6ZGAgtdmHLezhCxi0Dt256IB7Y8igMpGieJ2Y5ATNsDj84Dyu44Eb3BjHKOfHAhsL1i5hqo9yEBzYLhXsiNoo0SVk8sHmFQgErpJ7psg46MU/hiDwUBT6jXU8Uerir455sjtzdyotLP+EbjoKHI2KUVK+DHqUd2yVz5MYYY+9S3C8PRTmgeh10d++844fWbJHLkRthk3P1H/x4vr8b8VCEE5qsg85cGDgplyM3zCZqvv+VH8/XCTbsWThCx314lUHUW0fXEakcuQqb8bkqP54f/gxrWijcWS3WQa9dvSpDZHLk7rLxFv/Np1LclN8aZw2raFlYwXVNBJgq1rUBEihkcuResVmfg0t6lfdZ9spCoQZ1+Ez9CN0FTSJH7jGr+5y4pPNeZ4+tYrGIFVzTGuznsukQPQpdIkfuEqs958TZnfcau2St4CzLwh7Q9/D0UoWRYuAIXSW6RI5c+0ev8rN7q/2j96zogYPEHtBhzcEbtT/6qnbClESO3Iv50/tUtToFvc5eWCjcFeXroA/SgW4CJHLkKmzOX2CONa2cJWAP6EPK10HvpKeJIJEjd5dN1vyO2iRrWCjcA+XroE93sqQkcuTG2ITfMcHGcigKvJ4pEoUO0XtEkMqRG2EzLV9ozbCRHIrUr3iirZvSXgIkc+SG2fhsvVarz46zYZsfF1ZEweqZQaLONjqwHrp0jlyFtVVy6B/U38kB2Ry5zqZ3j181bPQvMNF2h5jCzuGIM2D9aI4YwkaxXE0ZFB1p52ybVw57dD8s7uQMYdtZMbBH9yGTFr/bKJYbJt3JZW0cscZ5bULA8T/9vzlmUMpUFsWjfnYVf/T/7pZBd3JZFE/ZoM8Ysygm2K4rQ4zQhWIqmXMn14ViOmDOnVwXiumiOXdyv9s7mxangTiMT7zkKzwHP0CISbA5pEnf0k1fLrpS6La0ZemhUlkUPHgq7EEQQYrgUdGLuL6BN8Vd1pvfwJMXP4IX0ZuenExT17i+LM6YjeX/K+v0EB7+8382ySTsPGrEEbmwOis5XaPP0T4neCDFJbYSaMRRubIyKzmdOCoXVyZaTCOOSi72rpLp2XI/B3tXyfSMubky/4ePfuyr4v/nc527fpcdD+uN0PTbDhMkOXJ0pmfAGW76qwdXb7DsKVswA8CusO9z5Gj1/s958oab/sUwjCcsa2qm2S2x5hQtlsqRI9P/MbeNT3FCz97uM+M2y5gQA3FZh+nK5MgdmM7Eh8Y/jDx37yM3/VKxuM9z91imbFl9JpjMS6kcOTrT/ylXjbfFYpy697lYLL41rrIsWUPElqRz5AjVpHP39ovF99z0d9z0/edGpqu5NrobjVYwvXPthxy5FfmjjpzyyNgtLkx/X+TsGo9YhszQrcK0gX7zxxw54t9xz9jjXr+LV3JFzp5xj2VICDuoaXrTg6f9PkfuJKGOl8br7e1tsZLb5rw2Xv72cKYWD9ZQnNs25ukcOTJdOWnTOXHu3jGY3kK4vLk3JHLklvyiPtI6lLu3V+S8e/jw3eLy/oBlyA7aTFDATipHbjWam1etq3whF7O9LYbdbJ/ZzmHEBBGiVI7cajQ3r1o3jGf7B6bvP8v2ka0CeyN5CddN5citRnNzq8Vz9w5Mf5H16/cpnrrc5gh9N5UjtyLNza3WbePt/sL0/beZv3zf8BG0oyrsSSpHbmWam1stnru3u/f69d4uz91jWVOJTTZbnVSO3Ao1N7daB7l77DiodPR0jhyRBUnu3g1GEARBEARBEARBEARBEH+Dc7a83Nr0w04nRVoC0jpWhjvxtrcttqSAmhhd+1TqMMtToVVuJWgK6irdqvfscC5fl9v6xkxBXadnAT+kw3JLwYJd5T9ltkDv+3ryFxjfm+768FRoRUhw5bXcKRCYQCRdVwnfMOXrKgC2D5hzllNqMLs6K7URJC5MsBYPTsNKmR5twlOhFaKyIZDX0kYYNVnpAzCW1dKbCY8RSdc1tjDQWSWCvcHyySk0EjPWmOCy6XCLexbwvekT3IGnQEu3A2V11eCX4nGEhrRWwro51aS1Cni6uASgzHKJZqIivnThi9ExL/N/73ie53/XkPNBy4GnQKuCkbK62uguNOfrsloJThA4Kupa/l7cYrmkAmjiyxiWOG3WMFmuRr5ryMx2tuAp0CqjwUodV0Vdur15Xt0cBVOUFWjN0RKHWnBYLnGXlZWBTtxJv68fbsgtdJkwXVqrgMLUglWdyGs58Fm5XfXrZXmtpVtTFf0qVdFw2foMdZZTApwTYx0YivtkgR1qSMWeMWG6vNYOYM9mAVCQ1moiPGch2AQiaS2B28dYSb9KLVg28Di3m0fXYNfE84YlJlG3nEOT0ELbEaYr0PLR1rjiWVhNWa0JbLQ3WGnNwlxWS1DATEm/2KQHmEB1yHKKdgqbYb2KRh9bjG2YybzTl+Q5E6Yr0NrqMEELbVmtMhKT7qAqqSXQepgo6dfAMgsOq7Rh5XT1zmfRCAC/oFtw41/g8qFJrFs7LDFdSitFF6Gs1hioLXfhuwrqmsDWVPSLVTEQY4QZyy/OFv+BHdcbaIcmEaEacjyYYXheQivFGD3ZujpInp50Cx0FddURKenXFiw3WXTYOX0bf97RklNvFFtRYD8x/QBHUmsYDZZnuidbl25jfbkL/5qUlqBk4rSSfg0PNopbOY2EuIw7yU12zlh70/lJcxdU4Om6rFYTPXe5y1ZCK/0SpIu+nJagBktT0i93eeGZw2f55BbMymJR6rKSOWI/bUhyT5fX0n3U3eRI6bpqm2aND80AAwVzHMBX1K8ZTjl86ARosHyiTWGFkYe4fwOUf2+6vFbTRNCOQlgDaS3x3DSNZiZGmoI5RniqqF9OD/bOY15XmNNbOmPXHpuAGY75V6+n/8F0ea3mbDM+ZF1JXR+mJtAv6Cq0pmio6pcTmQDsgsvyi1YZivLcW6ez0HKbTU1ZXe7wWh7nqFXGTm7fxxEEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQSjlK8eoj+9dMv7dAAAAAElFTkSuQmCC"},575:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAFACAMAAAB9U37bAAABblBMVEUjJjCSk5hbj/mMjIy/v7////9MTVZrbHKKiopBREomKjNyc3UlKDJjlfmFhoZ4eHp+fn9hYWVdXWIqLTaIiYk8PkUtLzhwcHNhkvhbjPKCg4M5O0IzNT12dnhUVVqIiIgvMjpekPV7e31WWF1FZaqAgIExMzwwPVtKTFJlZWlYWV5tbXBpam0/QUc6UIBISlA2OEApLDVnaGtFRk0oKzVcjvNVhOV9fX5QUVZQetE/WZFbXGAtN1ErNEwmKjlRfdZKcLxHaK9CX508U4VPeMw3Snc2SHIyQGMpL0I4TXx0dXdYie5LcsJAXZhOUFWNjZAzRGpRUldXh+l1dnhUguA9VYw0RW34+v+80/1JbbdTf9pNdcfd6P5Ia7RDY6RajfYuOVYnLT55pPsqMkjM3f6cvPvl7v/I2v3F1/2xyvyhv/yUt/tDYqFfkfjv9P+FrPvX4/6Osvygvvxtm/qpxf1qmfp2ksiJk6lQU1ihoaQf537gAAAOm0lEQVR42uzXwUrDUBCF4SkHNGnDNbHRxcUmpaESiYG0KSj4Btn5/i8jITv3Ren83+ac/WEWYwAAAAAAAAAAAAAAAAAAAABwo8bioz40a4Mfj1KI0i4zeNEo7zNLoxqDE5eyHOasNBmcaPW2jD+OBic6MbY7ufZDsTt23wY3avVBoZSmrcGHtVRPg2VpUGG/3a9Wqzvyj/J6TlK8zCVV8szo/yuvJtHXUo5KDT5EtUvZ6NPgQ6dqKQd+NzdaTTZ7SZJXgw/boGqOjd4NXjzVeijOUTmH7kjfBSmeTwZXhr0BAAAAAAAAAAAAAAAAAADgh707bU4aCOMA/kx2mKkdoq1n4h0nNZ7RqjAGwxFCCAjMIAIKCIUe9pBW6/X5Le4CCZTxgBAC+3vDK3jzJ7ubPE92F5Qqi0qwEioDtTDyRYFjWZYLxMJALYZ4gD3Y+/juw/vPHC8DtQhEYfODDztgeQmckWoCNTPSgW++nl0umILJM0SF5wuxHJ09ZkMkyu35+nYEDSZO4zl28/MPTgjS2WMmSPwnn8UHNgqTVhQ2t49OfvvjARuoAOU+Wdj3WbxjhbrYzoVKejqZNyU1nGotw3g0YcdHfGEDBlCuE4Vtn9XmITNoIxMsRhO1WEUT47mQLhvk7xDxw1+QA5ah5GNnpUiNzfnQR+MLxaqSyMbqYiPeGRyMcl5qqlutCPSkMt+OfH37QhYolw0P78z4yOCg1LIVLXa447P4yBaBcpssDCzkism0XgrFG2I9lk0o1WCBZ8bC7fusfvAtoFyVijMM+8dbtkhqS22a+aQh66FcW9Qq2ZoSLRYyG38Vun36+EwndZfJ1ZNUDv//4cxyKxVuSmbZsAwO0WrQ9m/g9uxrBp4+oXGTmcWxHE7+Maw/kgqrUmdwEIXvPosjNkNPWnHPVhtHXpAdLbio/LHPYptLAOUWPYgzb0ccLq1mbSu5zUAcKHfkazjyrOR4E4XJs5Z1IlcFyhVhEUceTIPDSLl+l0zon7iMCeNbX0Pr0Hf3CnENqFFKBZx53A9TEee544O97f2db0LGgAl4hmyhP0EY3e59pHICRx5rwrTki7zAcZzAiykYDwnZHvordO/Cb/S+4HSqhiOvGjBFqhHSKnE9D5Nw++yjFVvoD9F1oEbyh3iceQ6868rVC/bQ124BNVJSwZFXVPCuN+g52EJfR2/Bf50ez3WqZh1HHk2Chz29eB/soV9Cz1aXELp6k07pgyI5UgIPgZf5z62tD4T+EqGl14/uIHQFKBujijOve7zccR49hoHQV9GNywDw5CJ6SQ/js3zqFbJmL3v8XLZLaBUGQ7/8dLl7jDoNvf/5E0ce+On1w/jW11aWLaHb3UZoGShMLuLMtS3wuudo7UbHRXTjxhkYtISeAmUtmify4H3PUd89wNZXz/eudHrf1pHqFs11mCcr1njPomtkFb8CFIBOSitiCuYKmdMfPLoPAPfRndsAcO0sugdUt2heM2HOkNBfo6sAsL6Cbj06/3CJHsDYL5rP40uDttDhwupFhJZW6HUOpQzOvBGB+ee/fu0FLLyyQtqhaJP5ougVzdNAOaZlxBMzszuTP7RB2qHokOegZHSGdmdKRkk7FN3kxUligN3ZnZHdmZoVUjSnL/87qhRg3zuwO9M4RfONHG0ocJTJs+/sLwC6xiiSormX26G8IKJw2wOv+rpEiuHIFU+3Q3mCObw7kytacRx5xtvtUN6gC9/t23fwEXBBOkiK5jNw/zD/NGHXZ7UpyC2YNqlGiuaz8aRg7p22O1MxFsqnYGpSDVI0LwE1DWaWG7E7UzCWK2/BFOiktCJ6vx3KC1J6jWEOBxZyjFUhm0s6m4WZIEXzeWiHmn1mA/el4EczxLFQjDIDMtm4EQZHbHWL5vPVDjWjOhc5IbBHvq73XCEMLyRdG06+5kDyJZ4UzeesHWom5cUMgxVLLTHAfulmzvJJwJZPS55PtNMqTEqZ/H527tqhZs9WKcEQdRNO5ALs15Pdmb68P+Z4A6z8kiwqzICNRGMSyYfrpGguA+WwvJZhsGopApiUIKXVftfp6OQJRZSbMIYQg8XprpsOC5d66Wkm9EXSDaVziwajNUckL8H/SFZJ0Zy2QzmsrPEMFtUj8K9I8okNZkBU0yU//As1Rr5J26GcpYYUhhAlGEcz3RhOvlonyf+5HWu5VzRfhEZXFyXr3ZgU3Q8ToJ4kzw8nXzIjpw7mvXasfmmlTkd2J6mh6PBFPpnk28PJFyv25O3tWPEs+e/RdigH+ZMVhlBkcIBqtGsZZkAwFsq3ACsJlnasbtGctkP9Yu9empoGozCOn8nZxIKlpRQKLfc7VG4CdnDKTS7DbQHiQhwEB104g447/fgOTShJoKOLhr59+/9twv6ZQ9rk6Xvic31y4XiuPl9LLPzktx8nf1ZJfn8lWMeqpL5FHSo2id1Nx7dzIPErP5n8UbiOlXN2qEPFZnL73PH03j7jZJX3to/PnIDoW7xVQTzWD6pD/mlXnl1576SafM6IOpb9Hob8aLssjXLjJZ+L1LF6uaHX35e5Y8d33Pi7583xj6+EHrP921XHc2bG4ue54e/8e4+L34wwaMg9k4b06i11V3/yrJ6Y0zFc38iF61iXgvoP+aZZ5fGDlXAdy4ibjg0e6k+ra8bVzcaGg3UsU247TS5Qf/poZI84WMfiPUt960/na6Y2j6p1LNsOAWyAUP3p0uRKqV/HMuvDRnN6qD9dfDB1yPEf8rMpN7W08NSk+HWjx/WnLZOHHP9UcnUwperOP31P3Cw/qj9tvOMJV3Ob6HJLIoW0DnZHPv1WV0WH609bFM2aXqem5c4bfR2qmP0KnP7k1Z+8Iad0ZIE2zfqLGAfk3kHvy5+ButGV4xtjyO1QGs34R0Pnazy7/pbzOo78AMwyibT2135L5ThXY5ygaZnOtqQWE7XfRzsMuX3aulTH/9Q+CGj4d8P3pLXkNWbdo66eErph19idaj91oxaReZX3/1DNUDdqDQs6LhXtrhYCX9nMOLAXsWi/37aZ1WTo4YwhR3MjDkveKu1CSqfDj2ENOYQfMcj0abKyjG8kEX3hYsi6DdSbv4xPkzPLkVerBi3WQQwmst1P1o2MWaEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK0sq50SNNHjywtsVYyEPq++FwI75Wc1EvpbncpUsHHNTv1J1Wjos1oQWKyno6OjLxL6+KDAdjPh0Bf1vbQXMgKbRULP6lLaVe0b4JZusUjoJVX3sDii2iOwViT0tLfOY75LSxJiwF6yVr/GFnr3QkLujGqK0A27xhB62JBqQmCpGqGLqwsCS4VDX0x3Vied723Wikx6UvP+p/iUwFbV0GeK0yIyrSNDIpJP6pTAVtXQD7VPRBZTOlhZxlcUWCscur+Mz00x562lvZBfFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgL/t3d+OmmAQBfBJTi8+PwmC8icBFYORyLJGVkw08Q282Gbjy7Rv34XFlqZJaZVJtc7vxk2cnB04rnKhqxBCCCGEEEKIe+GlsbPIViQeh2sCuwh4IvEo9A7+iGgK5ZJ4EAVMXd6m8h+BH0cKm0ouIvmSrkcxwJpKWsnXbz6MAO75B7mAfxQOcqrEKEg8BvWb0r9+Ev/SnM64/tJ3v5TufBJ/5W5aN+FSZYHeL6UPiRM+HYjT509PxOnzz6XcUX6MNZUMhVxKv5FSuPMzHKiUQ22l9BsphTt/D0uXtzaOJKXfSCnc+V6EslpXYSml30op7PmvQJAOgD5J6TdTCnt+YQGIhlpKv6FS+PNHYUJCCCGEEEIIIYQQQghxj4z7eSv5FD36ED5bTrxJqOLZA2fhuz/N8eX3yrvsGVv+0g+ieOjx5NdCNaAL+NCt+YVfM6gTI+t8UHOFaKdgFlULJlTsAE/NObZ8GzB3CpHLlL8BggAwxxz5Nb3DJaXngG4/P6hp6oDRi1Ef1ApqSbRNEWgiz4Stid4UwsYcV34BpyDyMgQjlvw1ApfI7WPAs39dzAWlvyxNQLfmHzEeVeh6ycIBzgc1qR9VJ0yJhjhSaYisMceVH+MLvdMLFCz59Yd5PGDEkV/pYfjXpa8DhXe6Nd8MqDPJ4F30cVDG+dNNS+yI+nil0gzwGnM8+fr8Lr0NDhz5hlJUMRFy5Je8wJ/9delFmQ/o1vMPn7rV/zioMWBQyS0rWGBFFYVeY44nP0FAlWc8ceS/zN+olMA0uM5PZs7K0i8A6Lb8Agfa5rr70rWCR6UCGNMEayqNgNfGHGN+/fTOmD87Ysi1/yuWdHnpbflzzPsKKu51XTot8Ha+0g0pRXZ+H920MceUX7Nhaa58I5s4asq1fxJldEXpbfnPgJllATDvuvQpzBURvUEhpFBVB+Oaqlk6a75O4bh8+UoBkxVPvnEyvWtKb8vfITWIjCFU3nHpxgQ4bmIcFpgR2UC8Oan+M5aNOcZ8dwfT5dyfxilUyJI/x5quKb0tP6m79pF2XDoZhwCw5qSqLdaWQpDqPlaNObZ8bQOZx5ZfyzDkyA/VM11V+p/uv8Spy9JrXlLublJlOyaiHfLGHFf+LMaix7Z/skqoUiDmyLcRT94NEE0m3iWlt+R/58LsuHTPM+qHk0/04m2plChTN+aY8j0Lmy3f/ntszict4Mi38cPsktJb8kN7T/Vdg45Lf8aQSj7WRHtMqDSH3Zjjyk+Rcu7vItBUekLGkV9LLn56b8nPEdQjnb+mvyIaf1xEaqIxyl9NrgO3MceUnyB64dxfW9XVL/UUlkzn57rX9LZ8CxtdTTjjrq/e+1Ane4BoRe8OgGX7DqbNOab8JaJBbc2yv6tgpfYRSBn276D0tvzcwSK1J1B76rh0Gg0jQE1cquwDQO32P80x5dv47o1n/9xXAKwlw/5dlN6+fwZAnUJiYIxD3TgId/T/5Bt5OLrn/XWe38/7coQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEOI3vgG7i5qN3gFgagAAAABJRU5ErkJggg=="},5537:function(t,e,n){"use strict";t.exports=n.p+"static/media/map_dot.f59fcb90482e7c0f86ab.png"},3121:function(t,e,n){"use strict";t.exports=n.p+"static/media/map_hexbin.df5f2095ba22b441df76.png"},6226:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOwAAAF4CAMAAABgjeXHAAAC91BMVEUjJjBabIxXiu9Xz6FZWVldcJJbj/lb2aYlKDE3OD7///9MTU8xMzlVVVZPUFEpLDVAQUU7PUJHR0pXV1c6O0BTVFUoKjRCQ0c+P0QvMThYWFhKS00mKjQqLTYlKTNISUwtLzhRUlMyNTtERUgsLzdNTlA1NjxGRko1OD1MpYT7/f1MWnZFUWr6+vxHVG0yUEtDREdPXXk9R1w0PE0wMzvu7vBTU1QyOUkxN0ZFjHQ5QlUuM0NXaIcuOVUrMD8mLjVXV1gsLjbR3/pLmn5SYX5JV3EwSkhBQkbP3fpXiOxTgd2bprtSuZJVZoVKn4BCTWQvO1k2Nz0pNDlNdcdDY6N4hqFWyJw+WJBRtI9QX3wxP2A/SV83P1EpLjtplvFSftjV1ddRe9Gys7ZUwZdmd5U8VIpYaolEhXA7bF6xyPj39/fy8vPl5+lVhebS1+BOd8tHarJGZ6tBXpxAW5ZOrIk6UYNIlHg3S3dBgW05Zlo2XFM0VlA4OkP2/fvJ2PrOz9Fq1Kth0aaen6NZ0aI/eWdeYGdBS2I3YFY/QUomKzpbjPDj4+RPr4x9foNTY4E4Tnxxc3g0RWwtN1EtMkDG1vrp6u3g4+nC7t2p5tCh5MqY4sRLcb+7u75KbrlIbLVy17CrrLCkpag2SHIqM0kvR0YrOz0oLDjr+fXc3N667Ni+xtOyu8rAwcSB3Ll72bVd0KSXmJxMnYxkZm0zRGpDUGZSVVxFSFDt8v7V4fu8z/mLr/Pk+PDJ8OGx6NSrtMSTnrRxgJyQkpiMjZKIiY5NcX11dnw9c2OcuvaAp/N0nvHd9uvX9OjQ8uTDydWI3b1QfryFkqtsfJlhcpJPpo5qbHI8P0fD1fnx+/ipw/akv/aUtfVai/JikvDX3OOOmrF+jKZJgpqDhYpRa4BNfH88RVpPUVkyND7z9//p7/3b5fyQsvSR4MGlsMFKjZlSu5NNi4JSaIJYWWBMTlYzNj7B0/l4ovLIyMtMg64uQkKy1smboK5ye41ZfXX0xfrDAAAT/klEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAgNmvY9WEoSiM4+f7Jp/CF6gEkgwGtZnMYKBUaEA0lk66SbQivoHQRdGOYocKfc5OLbRoTDLcmyv+3uDPWc53c1NG1S+/6bnDhjPaLLeD7u74XJUr5LtOzR7jB3+Fh/nnTq5FxYutPv7hX50kWgzEcFXPucMpPKFzGHXFVPU4GOMMnjGZLgwMrj+2kYIpXmZbMYi36iMd0yW9ezFCM7ZxES/6WL5J2Xk1ZMEMwtdyn9ezkA2zicqbW7eQFWl2rhsgO9LkXL+GPEhzcytOC7kwl0mvRHvBtZETc3oqy5/xbiE35hYdpQTiMVTEMlyIbn6AIljEvitaDddQF8twKfpUViiIBfVEl+YdVMdy5osWjRbUxzIZiAYrQEcsJxtRrgZNseRcFAugL5aRKGVDZyynolAbemO5F2UeoDuWiSgC6I9lKEqsSxH7zby9vEQVxXEA/54fBNNv4z8g0qLV2A3MBkXThRiMDlIQIpqOOpgw4ziaEW0kQRBMsczSTRZmEKItRPO5MC1CXUgqEiU+CLIXbXouatO9M2VW5h2dc65+Fpc7yy/n3HN+5zGUAQvEir0Rlgqh3GGxV8LSTSh2QuydsFSFv+2dGtFQeizrcm5c7I2K4sLyDIrUGSh0Wuzcsdj7SYnR2OhSytXzVZWFtHPnoUzSjoMeii/Af925cHbHgS9AkeSdrekun0iAqZM5FbQjV6GELXYnbXo/AWHKO1dM21ecChNWDU65RwqwHf23KCwNqpdA+WK7jsfDID/u4ghtcAXSpW63SjycDJ2SuGmfaYPMFphQvVrPzceOdVaYhX1qsrq1dIYtPR2DCETnlJuEVVpbXCuV2YPNpZzdTtiMPIRYX/4fS4IEVzJpE0uhsNeJ3F7n8wYlS4J4Eb7YZEjRUkl/+/KWXy+GwrqHnE95eD1tJ6SxxYmwnbBBljMZ9Af362dTTl4Mhh1JIxrl9SnoFKQ5IsKVlQ+J8ipoo+dDROTU3EbY4YtE5OVp6SuC1LBr4vRrkOrOqT/CaktEbs1rhPXqmWlJm1yvGgus3vxPT4VsN+i3afYS0UVn8JvV0hqIhiZln+/Fh501CvJVkq7B7SbdCL8jGg62LL1j55R3yE2/ZN6xtHZKhxI5RJNDzMPTeuY0vjj8xk1O44MdfcPOadl7NAnhFohQpMrLb71O1kb1tJOfny2REXYTKdbVE3FQZSE4w4xq2hSFbAwrt2kTwyyboIyHn5CRlofcW4bNaLGqYQugTDvnnyKdly9uGZaqLGrYBKjTy815GcaQ/JbfbRm2vMWSOfYlVIh+XDtRDwxyV8yZ0Dz7hoJGppQcySeLcByCCmuNzFz2AejgR6Hp9jqHUjbQ5jLvqF+z50ZBgUFHY1N9k70LqHZoAy2ZRLTIz2hLOeqvE8RDhQ6tHsBt1p8L7N9/xRiQzcJmFqgenu5DicYa6F74ogDUclf1WaJh/kJb65S1VZztKhGbuHwXShT5bYCtxlFT1Aybhx3fJtPYq/IeTa74zaXxuNhEPtSY4Doc9HDjVx/XwvbQx/z6OZkpllIWz8/4uE1s4jgUedUExNx7bEN1Fw8ARxf6islcnoST52x/2wqPBd+6l7sfmJQTktXxbRg6ld5+S//dhbv39XC2/raicWsZt61/vYehXjV3IOgWmToVaS+en9FcQvj9+uucT5vVs3NA/JQI9Zq5CUH9ZC4lsooi2+/I1p/co793s0voAjxnJB8b+w6lFjqigY+OxiiE3bRnIroENO8LdtoxoxeX2B3C0MOrQoyXOWbKbkMhWzs31nrsjfX4qV/ZFZroUmGYtXNrz6poaxVG/x0Thm4jeaCs5Hgdr0GhmFoH+3pfAQi7acsvRfTJlrgCdnbwTLD7jgvDMs+LOX4vkup5AYY1Tx+UiAol3UbT9kdWPhl5/cxl4/P21tBPe5sQD3g8K6qPBwDYHmk19bBEsaLJJ1Zs0OZ40C1WuVsYXNxjPPadgMcRBVTf494YWOOcmtu5NrHBnB7PaMz3whDg4PC8klhnnwDqWlvrYJU8MpMRHekWqotng2FDRVSocHzv67K3x0T38r39sE4FmcmLeN2eLXTjvKw/9wU4VC/G1Q2gvkZ7BCvlkJkcSduKMxyYnQ1wYL0sbi5rXMPHpjobrHJSyUebK/61r0dj5uUSYcjCgQ72HMAEF7XWfIJVCsmMtMvxJSuuVRFy+GOX7zEwwL046q+FVSrJTDK2K1WYmdCKBoHQ7NP+FVY5T2ZOSj+oLAlwbRR0/g4AXR5YpYXMdEq/WlDi6kOQMRoPchMsUyj/EvKhcI/tijywtZcdhWUq5d+mjwv3GGCgtabI3gfrVMn/81qpMJGEn442v6iHhc5L35qJFmYSsUuuSv/Dz11h5hp2SQqZkT/N3sUuuURmLkk/q8SuyZBdQiUIE1nYNeVkokX2Ta907JpM2fVivjARi11TLHv5nrSHw/5g705anAiiOIC/8C5jXfwCzeDBS4Ia3JC45dAaUGKUCDGi4mjQBBdECCGLwcSJxkNcwEMWd5wYAsZxRL04c3A9ODIeZPDqhhdxw4MKHkwbF+IkU912dXcp9fsE+dNV1dW1vOxhfbFpDsdhT1LvrP1HYddSvwT+o2a8mfUq1FyOw+5m/WQX8BtWot8zZT2DOgpWWcR85XgTv9PFJcw3pCX251DN2wG5ABrx+z1LP0ciMa8fsxEscoy6H82+MNAGsMg66koF+wW35WCRk+yPB83i9oN2BfvVxTm8DsdrDNiznGvNMWO6bQZsf9BnFavBEqeNOOS2mNPZ8W5q2F4jilxJYIELhpw5Xs1npz1GDXvGkBJBM8ACew059UVfJl/VA+bDoUcGVE3qsfHYjpPYNPSJ+YnjZeZfcqHzoULJy7Yg4zV6O74IJvPjb0NPO04c9xp1JfolmCyCbR4/Xcmo0FnPdmuuQ9NbcXveLZT9Smb3hBeAqVLY1CHvWv0VYzfaeHvVythF4c0j2luW/i3A10pUCicRbOVdo6MGLFfrFTJOztvMq6uADkfrbimkGzL0Evj6XjCLHemSeq6U0s0Bk+SQLioZW+B38QkwhSeAdDmjr4HPAlP4UIUBw+uPLAQT3EcVZONrQa1aChQmNWJM6C63zsM8SrKjCiG/7vrNPIzIYVTDBfr0LLNx0G0TqErKpDKEJ8BAn0Oohgx6XVxldfEr8EdNeLCUiYVZBzd77ahKDPQ7YbO4iJsd1XECA6vNKEU4fvv8kX26ssaAhU2UXstke/qjg5D5HyhZaQ/W1Lqw20G76bcvgeLGvqu7lHoU7dxeVMkFClMr/i4FrU6R+T8jHiTHoZ0zhGp5QGFuVf25oM1V0ncYoOf4dQCYR85Dm2QA1QqDgmm5VPYzxwNkHzT1KW15CjnXeUWcruAGZhbY1Fvu1hR2ByjOk9tTx/va7mpWY6heEhiaYVPthTcP6t0jN76H3TnTQUifBL/kvYg6GrE5xavvIqI8AGq92nmpVyk2eOnG1lPPfg/G/jCijkZs0p8mvH+MipwbVLpN9j+7Nf+Py8YRL6KORmxWgdh32FLIg0pXHITsvNc2CNtRkzCwtmm9ukb8S8wD6uw7flAZkcfvHdh67ngvDMSQgtKIzRqRn7e9GH0J1T/j450+8t1+GbVKggFe0j9qh7CdN+4BFaZe2dGMeefD+NcvpIQa3QdDzKC+dbBF4+Od1kfm3x4HZy6K+DCNZnRYOmk2rcN25HXlJZjMeXJqXipeQEWZZFALO1AY9Pdp70PYTUCO+KGr+bvkt/jDCDmLWviBwpgvgu1DOCmvL57wuKGN35O/L4fSw/hTI/0EtfCAgTZQOixVIPQ2GLW3BAP43YMH2JKpO8gYB4MTdY3mLv61ChkZRDxbHiWk1kANfGCwa1067Fv8a/0PiKPmIIQ8qPTzMThRXkAy6jA4cvNJbbicQU4GYsos+QWykSkXi685ytppZ+85slFykJujjhJHWSemXRxEJiqknkG87MhylHVC2nfIxnAdm/rJWZ6y/tFv7yIjxRFEzBbTWcvfOe0WMu2w2Va8y46RcjHtqJi1IK79IM32Auo2mH5YySidtkZqdWojzoHplq5n2GFfP3SQUZUv2gRYQJrBssNmK828D0rUx+p1gjUOtRZiWMm+Hk6Tm5PntVfBKi9tj5GpwbFiM+/IZewiLIF1roWQoexYI4v9Y/UnpNYxbjAJ1gojK2cfEkKefE/ZqJdwIpcfrJbyIhOX07XS5bP1m9hFMA8ccIeRheLooNJpuy24uarAh3wQ9RsuY9NY57DBBHCj6kLdyjcz2UaRDONEoZwbeOLRHbd/lBCSLvXjBGFeWvBvzhjq1Kg0BnEC2Qk8SsnIXJSLMdiUuDK/URWecAgZ8cYHgHf+iB0Z8CX4GoG7SrkCqEswzOeo1Fk1EgvhX7Ln/qWkPzjjUdQqIEc+wz/Kn3cFUa2QL560/rtGH7cz4iogRdAVGeiB/0SvJxJ3+aLeALYLFXyuXCL1rz/QLqTqgPOXqgSCIAiCIAiCIAiCIAiCIAiCIAiCIAiC8K19O2l5GojDAP4XHnVCknnN3iS1ae2iBxE3xAU3cEEQd8SbeBC8uuB2VQQvinj2Jn4Uv4RfRieTmnZMdQoao8zvIC9vac2TzExnfNAwDMMwDMP4I0I/piZXzw9IUeylfxOLKwXSWOrTIh/b1fgo6N/kACreEJZRbQqLOurKjdtbtmy5fvc1NYqtig3PkhyqbLOqsH0+rdOmgLuM0Q+sPMp4Eld/x5ifOpQfpBLbNg1cO6Q/YHB/S+XCW2rEKj4mTKLKafAqLJ3HmCrMBrcFjsiWGKl8IIqAYFLeHRcYBUCvvKARELmATb/diTtbag+oyQyKEVXGsOZhyUZYZfVRhXPQoxWuIjpIzLHBxTtGyPtEHuCUH3doSHTQRY9+t+tbFt2lBhuWNJ0P4xlJceay72HjKEurOxBs0K/CcjmrYyAm2oWA0Tc7UZS/Kj/Hgsvo93q4ZdlxatS86vbQW/h9ikPi6kK4DjWFnYUWzbEMVAqQipB7SUhFaAucBCZe+q1ef1HC3ieVE8wBWVCx6ZthlsWLNyHBeSLq20M6HZbOIw9LffrGhktzg55Hwvby8XHskvmA0/XkF/Pit3qyRfGFVKe3NQhFqhG8pSfODs2fhYVlqRq2Ek+REJE7f18Eh/xqOMgffqcbW1RX6EdMQaUCxdLwjmkGPg+7zfnGw06nNCgHguPQkmKaydt1CkMqjTCjHB6V9iKh3+rDFtU7+pGHJZkcge5osBi2F+ygPBpWYXcpc7ZJlgFc3ABgQkI5nu067N6/E/a8VeNZNb4ntBA2RdSnPiO9sBI7vRNiCc8an+wYyd8Yxh4cquVZwyrNxHUK2mGlAtuIgnrO7qBi/qad4iVqdYGSYaMFp9SwwxljBXbSGmG3O9upNANfWo2HtLdejT0SWvzqkWHHXm2UkWo7Bx+QNEmSJEeefFNgmkjqZYfwqXQQLlFePcMhwMjDlEoudpDQxqZCfxiTE6Bg9UawAVffgUi+YRsKolBuRyiBTTSplqsZTjGqtLVdlGFHvBYoYSc7sTi72MZ3V5FsSLHI5Y9pjo0wZiJRBosoDnBeHpbCckm2B0TxIfhUa+cgIMP622rLw3joA9EuUqnbRXVTcTDDaGcyhZzqIeCOOZDLjRlO+Tng9qnW2hFv9TAeejYQeYzWDkunc3wzsuR7Z4cAZNsYCRMb3xQxKVo4vC+FjZ10VzbfJvkugEMiqlZYFZukC3kG6faFl4YTRq1Tww4BBCGVEpzKvdOkUMP+cybhBlUcJ2UkDXYw+rmNXkqGYRiGYei2eP9NW7dOi/fPt3XrtHjdb+tWOXfk4tatWx99Pqnf4nW9rVtl8Hhr5eY93Rav623dKtduba091Wzxut7WrfJo66KXei1ex9u6VZ5uXfZRr8XrdFu3yskXStjHmi1el9u6VZ5tVbzQbPG63NatcmSr6pxei9fltm6VS1tVzzVbvA63dWuE1WvxutzWrTGMNf7duONtnf4CpdPidbyt0//q0Wnxut7W6W8qNIZx59s6ze2iVovX+bZO7yCg1+J1v63TPOLpDON/oa3TOLzrtXj/RVun2+L9F22dZotn2jrDMAzD+P28PKYGfkL0/7V7PrZTA5cT/Tf/F08/bBF2v907vPvN5s2b9+3vrxnW8kuZ6wsencdYu92TUvB22z22e3Nl09GfV5ZT9KzFsmcbFhUWct12rz7ac2qz3ft0ZnPtcvPtV82vg5VczoRZxpl2uyftBTi12e7t27xof2NYf0cpRyh/gP3jnJ1lUUy67Z60A9tE2PbavVebl71vCttT5mymhJWXNtFu96R+ZG+IsK21e/1NStg92mFndgWB+ENOT712TyqCDRm2rXbv6GbFJu2wVvRdAASRpN/uhbBIhG2v3du9WXVMN2wtdOEPSNJu97YHBYmwLbZ7ZzerDqwbdjYCr1Nod0BTN5ZhNdq9FsJqrcaTHG7IaO2wPVylKmxb7V7zMNb/nt2VA0mfSv2rY850w6bwqQ6r0e61t0AVyg6qDMucnQGCAOKanXAvBxClumETjKbfcGTTaazR7rX31RN5ypw9VMjN4tRiNgp+Ct+MxtZp/XYvQW2jjXaveVOhfRDYPh6Wtz+yd/astE+CdrvHqs8QL7TY7qnbRe2wkg2qHRxv12z3JDlnNdq99g4C+mE9HNQovJSw7bV76hFv7bA5Fi6JY7B+WO12r/3Du6oHvrNSuMjXLby62+41hd0oMswF+cb/0+5Ze5uePZsz7Z5hGIZhGIZhGIZhGIZhGIZhGH/SV7NRu+XQRAChAAAAAElFTkSuQmCC"},4069:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAEsCAMAAADq03kgAAABYlBMVEUjJjBXz6FXiu9ZWVkkKDEnKTNERUhUVFVNTU8rLjZYWFhSUlQ6O0AoKzRLS05WVldHSEtISUwmKTIvMjkxNDpCQkc+P0MtLjcuMDhPUFEzNjwrOz5RUVM8PUI2OD04YVc4OT82SXNEiXE0VU9HarNAQEVLcL5VxJk/WpNFjXQpNTlBXZpSuJFCg25Aemg/d2YxP2AzNDtUgd5SfddLoYFLc8NTvZQ0RWxDREdbj/lJl3oyUEwnLzcqLDVRtZBQsIxMpYQ4THowSEdb2aY6Z1svPFsoL0JQedBJbbhDYqFJmn0rM0pEZKZOqohGkXY8bmAuOlc2XFQtQkJOdslGZ6xUwZc8U4dBfWolKTc+V44tN1FVhOVXy54xTkonLDtXiOtIk3gtQEFMp4Y6UIEzQWU9cmI6a141WVIvRURWyp1KnX8xMjlOrIpMmZdMkKBSiMxPiblOjKpZ1KNOo5JVieJBcHwEv+ubAAATxElEQVR42uzd+1MSURQH8HOOiL3oNb23yXiMiDwHBBqkfAyGCKHiI7XSytJy+v9/ziJrrFT27gJn8fv5A/an7+w9596zdwkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAFE+8qr5OhZmny43RiPcryJpvNVVfzC43xvWBme4cA2spzo6n3r6J8kvzlTb42u+wjuNjm0jMF/i/5r+raHlJzUbUqpSifSk61OzZerBNcKNZo6AWfSc5WrRWHCS6GL+lXfC45V65WRCk8+KylSe6EdCLbCG4SDK5ypfSWOyMdysWXCQaSbyW2zh2Tzi3M4jUzeKxUgu2QH/CauahaySjbIzY1MgSDYi70le0S2yJFgkEw1WQDYmAsSOB14RIbESOriIy3TS2yITEUQS3jXVaSjYmxGg6aPGqpwObEXHYL+zIedDDDTogTq2iYvKYVY2fEmQbWJS8JpKPskDiU2yPwivA3dkwci8wTeEKaWUNgZHeLQD+rxEoCIxJ5SaDcygvWExipfiJQLcWsKTAiGwR6tQ5ZW2CkhsFftUYLrC8wkke3pNRrZo2BkSyOsFUKsdLAiKC/VqjJegMjawTKHLLmwMgqgSozrDswkiVQZJq1B0aEQI0EeyAwSIwaUWYvBAaJUYKPeCIwSIwK63zEG4FBYhRo17seCQwS03eT/JNXAoPu2oTe/d0/pEvyBH2U5F88ExicEtjgobywdE2cwBal8wxHEoupz/ujB1NzHybKO/Xt+WJwb6s2lhOXjRPYoHAck/nrt9jSuzKdop6ZjefFLZh26JNRdsnM/gc632ZmI5IVd2Ciqg9aBXbDYWWCOuabH8+JC3LbBJ3QNgBzuG+RTZvBiDi3QHA+ZQVMIv2BjGyPV9Eqec0KOzS9VCZzs2Pi0CxBD1kv2JFXFR85U4yII2/w8UkvldiJyVFyQWZNnBgjOIeS+xkmD8gly2vYjfGEMJubrpCLglUxh/s2eyTwjU2tpwPkqp04FiX10mwqaZHrMgtYlHRrRU1XozB1xcYuFiXNYmymOUFdMp/HoqTXAZv5TN2zGRcTuG6oF2ZULUfHgjkxkcMleN22xCZKE9Rl9QjOlDSyCmygST3QEBM4IeiuJBuIUU/ExUCEoIum2ECIemQL03faLCprj/7yCR8q6RJm+w6oh15iMkaVEtsWpp7awStGEYMKZoV6bBtVjB5Ntmufeq6IAwIt5tiuFPXBntiFH/51R0htP31SHHsxKrS+sj2L1CcRsQk/yemGJNuTsKhP6jlcAdJ/VlR7g/RHECdK/ZfyQsFrWsY0CFzmS3ikgPlpMy/21MmRJ3d9NExtTp90mwbCilcKmLb5XRdH7x7dOuEa/cM/NHxv5DK54OZQgAZCzDMFTNuGi5t394ZO8NMR35W2Z8eBef545IErgRmmQVBe1zgBc5YFsWX5zMDcod/utwNDfv/NoRG//+lxYCjw8EaA/hHwP7wycunRrwddb2un7MGtq1ce3rxMJ9waGowlqcJ2FCzqu+/s3euX00QYBvAn8ySZXJs0vaRd2lrUldUDSgGhXoqichdR8QqIqHi84Cf//w82yaYt2V1Mt0tJtvmdwzn0wuHLc5qZed+ZOSuWsrNsYACVBqD2Iwbb/X7LGCCrIWn10l8l9JgwMOUw/sjawqIaVRwHy9Wp76IAlpsp3TtkYAIuMJDVo65Cc8gtRN/tabEAgGlxW4XmU2pYYFs4Dk48VJZwAUXw6LpYxtnDBQaNSJ2jxlSIjC12VUzpHAPo0MfMmDVEbDqYU8kQx8BdZRkfoBBOHtX+gTYH5kwzE5jZGGaX6zjhwr/cRsSJ0zFkHzM2t3a/UsNch2zjGLigLOEMCuIbsYTzQc5ZUiYwg+04MBOgYzcANEkHqa12BxE9jkqLI2ghYgHpItKkxNyANFB+fypL+LYAI97El0fU5PC0Heuy1Y6MEGkZBj3DcH12AJ0OAtsK08BkDOlNABgcRqPcmgkgJBEzSczpNI7DQsw7pfyBAb450vKAThNzvpS0pHQ12Y0+6sFPgqI1my4WDWqSXRNTkpS+4dFqAh16iLlkgJRr9Tp0UHp3lPwefo3CWGpqfe4RMq6dvHlj99fEzQZmPoYZ0IFB6qxjX9se6Y3VOBoOALdGO8BTSsQ0UkOqzT4MWfqlu19KtmZ3yM6YJ5mwXH/vvfd+RkR66sGBge/0yR4NFQfQBpI+oJqT5KXkAI35L8w8MKqkiwG3UXJLrdr9hAK5JJbw4zNhiby7c1YFELKOODD6diJ4JjBokBxwCwfr0Aowo3M7egcxc+GR5HAMqD2r7KOYN5X83kehvCHyu7E3LPMHxZTO1DwwbhNwpeFTq9kq9mg2VcS6i3lqsw5tPkvysKthySDOn49yO13cfUj/54rI78E0LOejrIg4LHMGW0lgmmZC3Q1Md2zpcLvS1ak12MIekiZiNToYjJuI6dFXPSavHBpIuJKj5POSP5SWmVTfQcFcF/ndy4YlMaHFxt4xjOmQXivs2NbTeOHOZxNZBvuIBB47cFhLRypDoE4/ftFN06Ea1BHTZLlnSr8r+b2DgtkR+b0xDQv28rll9IJMYDo90hiq2PKsEeLABL1pcoDQ95tIOfQ6ALQ6bRWmFedA1dlTgVFcX1L7tExEAn8+zQolRyivv5X8/kTB3F/5jpMRuwitrvlsYFxvHGLKkJ20NGBKr5NduKuRtZYv6YVJfbo71m16jSSH7Ol2Wgowu6ypSDU8q8S/MaeU3D5G4bwucnuAfQRx0Wdgef06TcypiHXCeS2pYQ2zgYEjSVr+JMlel6RXdxFreyTlEJGBl+Ql1fRYL+tyzE/FPNojr5MrdlG16MfBsEl2a74+bo11v4kFw+EwWahBiH24DRMzWsfE3KThpv9JtuZo9mhPUErL1AV+QeH8cH61zl7fDhBr9H3Dlp7FqRALDNLaxkqGsoGMwC9rFfLjsjXCZOystmdWDZGhqgEWTcIwwIo07FXWR9LFknXaZV0VuZ1HZWUfKvl9ggJSz4ncjkc/7cv1iZLbZRTSDZFbddvs6l4paaF6bqc6KWad3lZyewWF9KS6e2CdHiu5fYhC+qHalL9Od8pbeEzdq467W6NT5Tjg42i2tJ1DZUVvKbl9hoK6InJ7hMpqfird/rWVesG/RGVt/byF2Y+Udbs65Hl9vlfyeojCqi6aXZ8zZV/njZyvbmhbm1fLXapedu/ATVRW87jo537ncbNauVubW+Xt/577sTpFfm0uFPnmkqO/r+IGKqv5teylx8jJqjawNh+Vdc/j4erV91BZzeVyt9st26V5HZXVXCzzjoHU/aqrN4d1F6vfQmFdq8rVa/NQyavADdQ/iLx+RmVdgSnwkedVYNbnVNkbNJd7JD1AZTUXj8MY5n41hlmby+VvhwHOVrOktfnoOEyrL1ULd2vza3nPEjpMU++7qKzmQjnPW33Wd1UtaW1ulb8HHNip2hvW5vFxaG/4vLryfG1ePQ4dd69XHXdrc6bMByKm3qiawNfmeyWvb1FYD0ReO6is5jOl/Eu9t0Vuv6FSbZW9JHJ7gspq3lLKP03aEbndRmVFp8p+Yhlwo+puWKM75d8re75q6V2jx6Uf9d4W1ULvGr2t5PYHCumSqGbVa/SKktv3KKQfRW5XUFnVJ6W+/GbJC3CuoqS07SYSqhNiX4OWCg1HYdAKjubo+L8K2dZ77YHI7RpKqk0HCYdt7Eun1pYmjoBPF89xsbQ3hCauiOPfAq5KGrXIFnrTv8VMqFZinAZm0pOdIwmM9vzrb8pdsH5dHP8GzRalTdq2PXQobTn9Y9smoOs+pa4P08DA7Xou9qjXEvH32rVEkrJO3ba6vpn5PoMjumDrdAH3Jt3+WRz7WvWAXRUtbgGhZQfQPENdvL1f7UcMtvv9ljFAlstd25jqMWFgyiGt3vTPFhbVqK466k19hcL5TRz7SpJqeyYQyC7Q6DYB9OksBibgAgNZTepaTEX03Z4WCwCYFrdVaD6lhgW2hec6Ver7TG6I/H5AOblNTA2cAEDLDqG2zcXAoBGpc9SYCpGRxCvVoY+ZMWuI2HQwp5Ihnud9JbeLhZsn3RdiEzrAt5pAiyYQeFJFKg3MbAyzy3UW594+O5gZso8Zm1uItFnDYqbYxoE++P7XW0qJb8D5TmzE5TeesRsYh7v8hcAMtuPATICO3UD2quQuVUwmSLQ4ghYiFpAuIk1KzA1IA/tRp2H599NPP/1Vye8xCuZdsQHLdvPAaLbVSgwBtAyDnmG48W+ITgeBbYV7AmP1+h7p6RqmDA6jUW7NBBCSiJkk5nQadJGhvhaFZer0m6+8dbm81z5+KcRG7KtOA+PTwWS2EOtLSUtKV5NdQGcv/nhKazZdpEKSXd8gpQtAktI3PFpNoENvNo8KkHKtXodOJix3ZmFJdg7k9wUK5XMhNmKLyW5ghqwDDmUzM4YZ0IFB6qxjjwFlI7nJ3Y+j4QBwa7QDPKVETCM1pNrsw5BaNiyXX43DktYfS9qoeVaIzejn3Q1M09YAPJVsZQa9vtMnezRU7KGZGiJPSReqOUnelBygsfALoy0sKrsYcBu7/sqEJXJCKeso5hshNuNK2eEAiCpFKiJa3ckEBg2SA27hOWw2MaNzGx1aiJkLjySHY0DtWS4SF9KwZLruSllQeiKE2Ixuu2DrWY2FwLhNwJWGT61mqziYQQczbdahzWdJHnY1LBnE+fNXrg6kbqEwXhfi+NcFYiaf1Z0Fpju2dLhd6erUGmxhj/Z4Ml91GYybiOnRVz0mrxwaSLiSo9kv0MH+VBSlhI13l8QyzqLETNZHI53OaFTjaDSSXcRMh/RaYce2nsYLdz6byKqzn86WJnBYS0cqw+gjP37RTdOhGtSRDnKc/zn0o3z34LwhxAZUqmMmW4CTLLcAsOPAdHqkMVSx5VkjxIEJetPkAKHvN5Ea0ovec7vUAdOKc6Dq7KnAiNwC1D4tE5HAn0+zQskRDnRXUZTS3RYa3TCwKXex7RsY1xuHmDJkJy0NmNLrZBfufLLW8j323KQ+3R3rNr3G7kc93U5LAWaXNRWphmc5OMiJh8oSPnJRBNEi76ZcD7pvYKAi1gnntaSGNcwGRnUkSbmdfHvUJenVXcTaXvTREJGBl+Ql1fRY155bgCzX1UnfCbEZhUdAr9do1+s9GvW6ZL1et7x6fYAFw+FQeiqmQuzDbbiY0Tom5ibpR609NUezR3uy0p781LcFOFHz6gMhNqPwCBj2PhwsMEhrGysZygYyAt/AAT78VlnGGbxsajzirTZV75qEYYAVabneS72pKKVavdsRU9WWx5fnK2UpH72Fl+qSiFQ72F4e9bSiKKWpWl+7LpbyoLQbkorrbWU5v2P9sl0N1VmIL9GJU0pphjFXRGQzeu2K64xSlmHM/XNiakNap4rr67+U5byPl+P2PSHE5tQdi+tVRSnFwPddIao5dRF8oiQKvq/thljWJVReiC+URKF3578ulnUDlRfjA0VRij65/lws7SQqRypbsy5y+92OiGxOnbrgXlOmirwcc0VMVVWB4ril7CrmESBPRGJzWjOLbmEUU8Aj5X8TohrBFMwZ5RDexlrcFFPVGkyxnLioKEohZ9ePkvW6qopUMHeVw7h1Ai/Y1XMitTG718rhY+UwTn+FF+qKOJTzVR/MC/eHoiiFG8jsiLlNObChNN5UlII9lq4m5YBqza6Yvj6lKEV6LD3a+VksOv7HrJbNO8phvXkCR+7kPXFYN1FZB/cf5bAu3sXR+vJzcWjnjvlepOL4r727a00bCuMAfv7SXe6mt7kIJLBMmxdos1yoaBAvhqCim9ituqlgq1L7QrvvP0aLHYO+zBNzcuL/9xnCk+ftnGNje2FFJOf026aY5hApywJI8AyRkF8fCg/Ygsm6MiQMvL5IgN2q/ZXtcm0q04waZIyKYyFpPAFwVdjaCROYVPUgqWwLCY0O/nDvC4+4x5t1PmS1g4XYStWc4NG68GR/bvfQ0wry4vlU/KfDXjHCxuCaHRhd9CMkIew2xJtVbcvFA6kQ8+mHoNSZSEitaFbFq0qmN1viX842IeZY7/vstDVEctp+s2KIZ5Qq58XnyrI1tzL1YSFZo1poBeem3ZiWDg6rJWO6GFfOrXiAl9ww4dVHB+rdscOrkRXUu+HVHhqJodwdd6Z0Uodyt/vyxk0+uFDtsvBmZweCVHMgIeUQw0MCWQDV6vvxAEV+DKDYFb8XvdShlnvP/5FeQkhIJ8Qcc+CYJR0oFR2/OqA+FZQlHpRas7+rGw8qOddcmNLNECqtOW/Ujg+FRi+EmI+CMsmMIC35EHPGE46Z1V9BnZtnxtNs12WZDynJrzkcvROUZb0aJCQdYo65vpt5RhkSkg0xn78Lyr4AityyOtKTfQlp8msOJzw+rY33gQM58iHmiMNpnfSLUKD2lL3wGUfdXMRI39Xjqjd7dTrqRkjTZpPq50euMujJ8JCeTYj5ylpaX5UW0jX4wtpIb3YZKYpNQbqrdJCSsi0oDxrWEju3tBqC8qLvOdgp1zcE5Ynhu9iZy25VUN4c9IoD7ELITDevqs3yCMlq+0xdcs3ohkhMHCwE5d4iaCMB8Zx57t6YNosuZITNkqD9spivHGzBmVnmoaC9NA7iCG82qk/mF/wP7btqw/QnbQcvcltDsy+INkrj5tCzJq1wVq9FzmgZ1Wetjud3TXs8LfEuQyIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiSsJvvJpWhW6KR+AAAAAASUVORK5CYII="},3748:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMBAMAAAC5Vc5IAAAAG1BMVEUjJjAE4/Anl6IqTFYcyNQK4OwqjZgpUVokrrrr9gZOAAAA+ElEQVR42u3du20CUBBE0RFIzp+NPyGOnNolELgASy4ASoAO6BxypoGVzq3gBBvPJrn8rjH9f+XeZo1qn+T69p0xbU8fyWY3SHw3H/Y5v2RUP+/5PGZUT885jLqLZLvLX4b1mpVhLeTHkJFryMg1ZOQaMnINGbmGjFxDRq4hI9eQkWvIyDVk5Boycg0ZuYaMXENGriEj15CRa8jINWTkGjJyDRm5hoxcQ0auISPXkJFryMg1ZOQaMnINGbmGjFxDRq4hI9eQkWvIyDVk5Boycg0ZuYaMXENGriEj15CTNXFmd+CY8cDJ6IHD3APnzweOzE+c8h/3MOEGjQ5JURqjGeEAAAAASUVORK5CYII="},6472:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMCAMAAAB8pSNJAAABL1BMVEUjJjAE4/AkKDIpTVcqT1krTlgkKjQqU13///8rXWglLjgqVV8qWGIqWWMqV2ErWmQqUlwqUVskLDYsXGYqW2YqVmAsYmwqX2ksX2krY24mMTsmND8sW2UlMDoqYWslMz0mNkErZG8sYWsjKzUkLjgkMTwsZ3HJ1tmLqa8tZXAtYGqUrrOPrbKEoqhpkZgrZXD3+vr8/f3b5Oahub5LeYJ6m6Jgh49pi5JZg4s0aXTo7u+4x8uctbtRfYXU3uGasrfu8vPF09a9zM/h6eq1xsqwxMjz9/dxkpk7bnhLdH1EcHrN2dzC0NM9a3Rii5M0ZG91l55ReIGOqq+An6VYf4crbHWuwcVDdn8nPEYmprEnl6IoS1WqvsEZztkcyNS+ztEnnqkqjZgpR1AhusQkrrqiJ4VSAAALk0lEQVR42uyaf2/SQBzGQWf8mondAmtpgiT0D7CdjB9jbODYYMCGwH65oS66aPT9vwef792VK6LDStQu8ZFVXEw+ez53XLtrYw+Ryc1t/H/+QG5vJuyXJd/E/+eP5UZK/hqPf56sP1R5JLKysrIusra29lhldQN5xnnKSchjImEkZAyD3/G38V82NlZXVx+LrK2vr4g84jwMJPYXE+TO91xDVMtV3TMhG/o9jbA91yef4/Gv6Il5fDuZhys2R7IRtsuKBTeh1aZSKT7wO0l/JrKK+PTISZ5xvBbsyYJZq+iZWLbn5BZzOTaJxyd3wvUkBlkIZiJeSCaTSSaTqVQGX0gymTGQ6Sj79PUgPUKSVxBdE4KnPbVZTmqJnuw3dhP/fJdjZmu4RKcMZjKM0cknePE/cUhmMilE8vVnac2nR0ay7qlrTnsmVCBVusVhpify6z0/x29it/HJHQMcZDPcMCQ7w1A/eKffJwU9gehBXluLpGTRc9axWA0NGeF4+Z6T+G0sHl8JsH8CV2xw8RLgKdt68iSdTj+x0k/SFt4jaowRTQ8OcQQkq5qIqqnWCt0TkYKX7rkej0PynXDFBjyh2NNJnAbVSiOgWvIIvAzj1RjLD1JUJWvHG7qndsyRDdPe7/b8qeT17+FYj1MCLsCAgc3YrOd4jmU5WcvCi78vIk8NPl0PsQD8c8na8fQSdYMjz3go6feUk8jz5ntav9RTS14I59PtabHOaLlMQPDri8u042Szpml6pmOaWcTEN9KIoGeY7p8V9BBHTPL0ym3quH71mnuKpLlnTfVEHHypntmFPRdLnhvgE3obZHtX9MZxznf8nII9LogMCyr7GGLQ9RBHSvJKsKf8uCYQ44hOkil/lch6RXpjBnuaoXvOS56fyOrK7ZCKQrIl4I6Am0Py07Jtu1ypVqvHVKtUKkQ4dDJGIkCPjuQfTmTlONOmU7UgWlnM4eV6askL4MVer/fqVZNGr1R6YJuA22bjhZ9BDvAmfoIxvfY875BavFyBPgtHoiiZr93Qk8t9ovK0Z1b1tJfpqSQvgPfou5QdZ7NTpW7nhY3kOHaupEd4ZzRq0sFodA26HOLvP0cRksw15Y7BfE/TnPbMTXu6IXsulsyLxfASKVLhsiVy3Wo55hFx+oJcyqljudzv95tU26Rmt9tt0+4UviGubiIlWa6Kei7h1P4auS5T/bJ2eVnjL9PvKRtyUUgO01NLvhMuVmQj9Yl2sE7xJaLDp9jBsE/7w9q2zjvAm41Go8PwveurwSbgSV6t7oNk1JS/hGzTK9XTROwleoaQLB0bQyqfSziuXwC33SbGt0Y6e/lSmTgCvk91DX8aMckzF6pqtYBj1DQuK1hkLQQ9EdnTDd8zvGTA9+koKSUr+BYoLxtbyFvq81+DfOlwX2QwheOcoM67kZX8WEs2kAKNURMtVc9cyJ7hJTNcSj5vU/XIzy5LPiJq01Xu3cB9QS/ze+/y+fzFC5kdwLdpT8HVeTfakjeU5Aui5oGfaxuSw/YMJVmPMEu+okCKkHxGBdqsVmoFegf4Dr0EvEAyVcB7NLwHkte/k3xRpkDqtux5uGxPLVnD5yUP23SBM+8JjXCsnZq2W+0W6eXe0aBSzQP+jkaA7+HDdFzd2qoDXi2b901ywnhB1KW3YknOZnuQHKLnspKN8yr1Mliqrqmj1uQ6FQHP5Xdom+H5g8oA9OpBvl3AhU79zQmN94pvXt8ryZltou3dGcmqp/vjniXdc/nlIjOm9umsZPegwZJLHToT8EO6yOcbFcCJ6MKuNenq+Hg3fa8kX1OlmJqVrHq64XqGlwz6NlV2sYkclGwPbJZcp27eZfgZ9fP5Fh232u1Pn7Y+lumtuXVcuYi65NkTX3/XMGYlo2eOJYfqGf4SDpK9duXEgOTkk4BkW0juUNEV8Ea56WKoqVkulHJu9XjTzFr18kdcP96zSzhIVpdwkMw9heTQPcNfJ1+dGJcnnDd0cCLCdIaP2w03dwh4rkA1t1veOqbm1VnrrNY4R+pDL5q/jPz8KgqSmwWZtpCse7rcsxSiZzjJoH+kYMqgmzyTc7XcqFuheil3VnPPqFdqjSiYIeD3Y+9C/VoNydNoybmS7HlWKoXtqSXfvTsFyYndQ539/U0TwRYgb01tdw825cZJY7yHXarWzubH/tG408FkGOuNk+jtwmnJeiqz5N6pzBHVHcwlnkw26nHPfK4Usuevb3VCcoIXZd7J5nsi2awDyW7DtWX8rU4XfyGm6Th884/vzDA8uM8aIck/nExG+vRc9rQauAdizvaEYj6E7blYsr5jAMucNE4KvJktIuAg440KfjLH8ywE7Pu1aR+cTDybxM28+Z65cD215MX3vlhyUvHxEziOI8YZLBWAcQQ8a6mbuWBH9B7f7Dac6gnLsqd81AItURU9TT82/oToGeJGKlsGXQwy4j9ukcXL8RxHSwZVHsWTCf5t3Kd3Sv4Q+3t58OGOG6n6I2sYajJhyRCz2cOUlT3t2Z7ZuZ7hJQdvVz9FgPct68c9PEss0I7DWCR4qxzo4AD/aEn+EvuL+bLwkQCxLOueabwseLY8z3NC9wz13AXoPj4losZZDLR66MPjhz7S3z30odk/fbjlfewv5v2vPtzCkvUDJhb+iJ6Yz9zTDNdTS15o+VnwGbEkEpzQ6six9FNizE7MsudWi+exv5hvzJvdSgMxEIXLKgUXpLAiStoQwebGJyrsXd//ITyTv2kYu+O6XZtPI7bSfjknWduL1I4P6iWLmNRy2U0559einNpZuOow3I5b5hOHBF040MJdTjvCzO4WNjK2spbzdSrnG76Q8z3nfFJyipInjpSC6kjpM4Z6dBZuUkv3Y9XxdvOvbE9qznzJAmRAzYtyTpTMdnE4upw/51PgBNnLrcMO5Jdbcl85gT6u37FseRQlX8+J/lDzwpxcsn7MH5R3GRFaaowDIO0hXF/kT8f8y4cpxCdWQsPnk9ncAXs6j3Ny7jjny+ycdcn8XrKwJQbQR6y1xhjn3D7wMcE+4pwB1uLBx+MwbIkusbkXek5DIOUtc3LJmj3pgz/8JEsRsprNQV25Wyn5dzmBzFnQc+olw/4Z9Gz3hHPeRfYVXG+AzFATpG6sYwStcw4yJ1icU5QsW/6EPerZjyf13ngMB6DiJS9y+ivoQVrelkuWOa3Xc7qJnErJwg595feWMPg2eb0NKMuaxBZEM9QtbmSRM8bknJ6SIkgo2/kY7k85ZcnSDj0o9vSsaQYwJaLUe756CKhBVLfV8c85B84JbpFTliztWV/vZ+4bI6x2mExcfnYPoLibK3lOTkA5gZpzdsmwJz3bj5FeAKvvK6K51Y6VnP1UTjsjpyxZLjHBiwxgxqjtuFlZM+HBULfYMVBygsU5uWRljQuwYyQu1JGkrVaWdkfXasdTOQfOyczJqZYMvfAzQ+HyBuz5ThaDrt2O18ypl8x2OYWuzEHOBaMS45e2O14/J5es6uU8JPAKGv5XsXZOWbKu1/3y3q71bfzNDh2kAAgAIRS9/63bFBIDGYjQmP8C4jP+5MiYF9pC7PrJkdEPiK0/gUzKJz6z/AQyLx3Y+BPIvHhf5aeMjJJt5Z86MrrP5AFf4ZTyE8hiabzCzwfk9roif7Qiz4q8sSLPiryxIs+KvLEiH+3VsQnEQBBD0RELzt3eBAsL7r+GM+YyxRMI/ivhI5AjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjciIiOyInIrIjcqIv8lUYdEm1tQqDlna1TmHQUdctpjxpSXdVa1N5zNrqej3SWbzfgGsd6alPC2O6/u7ewoDdd71+cb0xNjrU+csAAAAASUVORK5CYII="},2993:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMCAMAAAB8pSNJAAAA6lBMVEUjJjAkKDIE4/AlKjQjKTMpTlgqUlwmLDYrUVsqVF4lLjgqVmEpV2EpUFolLzoqVWAmMTv///8kLDYlMj0qVF8mLjgkMTu3xcl8lZyKoKf3+PlRdX4wWmT7+/yPpKvy9fZrh49afIRggIg6YmyXq7Hm6+zV3uDK1NbF0NNVeYEpTFVvi5KesbdAZ3A1Xmj9/v7r7/C7yMxIbXYsWGKsvMCjtLmGnqRNcXobytXAzM+nuL0nl6KBmqHb4uPQ2txmhIywv8MI4ezg5uh3kZgkqra1w8cqjZgsbHYnRk8nPkgmn6omPEYlN0Egu8Tskw+bAAAIL0lEQVR42uzaa2+aYBTAccfSZuw8DTkZiYAgcvfGRfFSnbfpuu76/b/ODgxL66Xqsr0R/iFPIbZvfjk9TWsrN9Tj5/tPXNk/79P9x7sKlSB/5sr+Wx//IP/iuO+PtzdZd9TtTnyaKAoCAAivlbwqpvF5t9vePesu6Wa/N1TlSnrb/sJxn+mG5vj+8SYrRz5qvMO8+wSEvKNMHUGmrhqZat8ns/zIcWSc98ogw1MvVPMALlAuBnKlzXF3lc/c95vXkfkMmQx3mXfF0/aRqQx5X/nakStfaJTvLx7kXJn9ScjKXzqgXFjkNndf+cTdXj7IjNpD3hnzs5CpXeRrU37Lfapw3HnbYteYbNm2Q8jUS+WiIpMwXZcOMtsrM75UuUTOken7ftMQYrJbtuKtsbGxWF6G3FEhqT9rZMo8H/BZy5F/ZJRLZJ4fOxKvu0LXVSEKA8hYq1hj4+ZTowTZxAUk1XC+HeWO3smQq9g4iEwVDPnuALI4X4u6O9amYKED7BmygU8NEuQejsCUqQhtOk1C3ijhrEQ+jcx3epbuNlwLTHRsapYjr9Q0k5AB+qEewDSHnwqk3IpwdBiZKizy3kq2J5OJptPRGmGay9hDM8JFz8CmmTZKkbtoQ82QJBenkkSXkSCL44VfIp9E7ikKYqgoynKAdmdGsIxFSOkv1gWoURQY+ABjba3CSiPiFFnMdzJ/EJkqFPKBbUGJPUfRBn1SxBZroc0Y8/0JLn0D3Xq9rmt0LAHqKI89NGIP6aGmOZYgWDJV4+0htcbJkOqXyIeQgwdc6pETrjpIwA2U2LOdTHeOwiiwQgwRe+oU3Vm3ulBwJQg1pGQxwjzzJPLVKZ+BrDpo87prTeQe4pzN0Nwi+w2cd7tdXetSAXjeStP6gYaU5iwcNAVLkgaEvOxQC9o1lPXueSVyNsnTEQ1zFyBeOyvs05Uhe46EeRYAyEifVpc7hq+qseGOBUoi5Bc7uUQ+hExGnuaTYUsyUHYcEo4NO0Ks1nHYarUipUWpAH1lrsZ9MN0RSFgXQCiRz0ZuKgqiQgGwtYNDQu4j1WFT7OQ7GVQ3HA2jB5ihnCILJfL5yHY1wkm1qifIdUSDUT25iTXWQ8PzPC2kow/gIjXfgI2bY8h8iXwQmeprTVGc4YCQx6jH+a/Vc81HTac0rAE0tUWXPgDRp8jxFjlYlsgnkavoLU1N7xNyD7H+hDzGuYU9Rk0TZF8FUDeyqitqiiy54xS563ol8klkY6UgogQAM/Qizdgi29h9jgxBY6rjQx0nkCLP0BQEOhGHFyC3C4o8th0MUen6crgIzFA3iTVeYG2ONQvndYoeAAYa4mIkaRrdb3Ao9LBFyB4q0iU/+L4WEjlwERXbmjl6ndYDY6NQG7PBGpUxuszCLIKtru0+GCGOAMAPkb5KJeTpuiZegvytkMj8oClZoiiotcDzGSXRhpAdV2LyiJC9FlVNdzJQcXUDSY3BZGAKlB+IFyH/LCZyEiEfeHsvZrEVMEq1YthNSMv/NSDw1TP+Ctd+XyKzo72CzG87jUzb4uqRb/4aWRD+CXL7w/UZn0KmXiLD2cjCEzKfd/KdkR9XOMhnIlP/BPn2FPLX9wVBvnsVGY4YU0eQ+fORv354UwTkI0uZejI8jbxvnCOfMC4o8m927SZHYRgGwzBROqoUjRAq6hyCkwyauf95KGnoV2LHTsuuzsum/KweWSaL0Ktwm5BrLsPB2DyyOMqf34W7/QVnBfmr5ubst3yrE8jVF5Rv92mMLSGXlMtXZxMpPSNrxrHb7/0/OHdw5C7mU8NSeDaO51eXVVeuS9Z5XXjWz/n3nDuycRXyCGSFefowvjjk0JCnPFUWkKVBvnLGArKzgwxlfZSvbJdskhnjhqwqa4OcvmKMG3JXVA6pc1l5ecLnnLHhlSwjU+WfqRcmaNlBJsRA9haRHZB15chMZVdHity4IQOZVw5UeQqLgTYvFRA35BlZHuUUkBM0iGdTPPFzDGNb/3tA3q6Mx0SLxlGaY2uDnJAxyqJygPI7eE4co/vY6CAvyOzCgDKYs1jjVJ1xZwiZVeacqTIljgVKDGPUHd44Ice4haFPcyaMCsvY4CADWVMO68rGiF8UFgcZyLoyy4z3xBjCkrE5ZAfkKuXw3oj6RRiZNQZyhXIflHoxztgksqKsMTdjAVlShrb3yWsXM2NsFtm5orKO3DdjBRkBmWHmoXstztjCGRnIW5TVhqFqH9sZZCBn7VceYurZLWbDGMi0fcpDKv3O83WWBnlGPp0+V8bURmHEAdsyBvI25gK17IpMLYsFuaDspXYa2xtkIO9QbsabkD9WFnew8WXxaNeOUSOGgSgMD7O1L6ITCFQZFt//SBEhYZe8eMdYVjH4/2tXHw9LhV7Ioix3uSh2HCAPKrPjUeQugvFlyC9lZcb4AuRgy70PiBgfQ4633Nsj3CXGWJAj5d6u33+4GAty9MsIegPGOEAOx3w87seCfIkyM46R5yvfkliQA2aMh5FVWYN4HDlmPmgJcYA8suadL2/rK8inmJX4Jo8phpFjZojHkZVZ+yMM8RlkddZ+hSEeQY6dDeDTyFrIiPApZA2+08j0HsgZA1kDOWMgayBnDGQN5IyBrIGcMZA1kDMGsgZyxkDWQM4YyBrIGQNZAzljIGsgZwxkDeSMgayBnDGQNZAzBrIGcsZA1kDOGMgayBkDWQM5YyBrIGcMZG0G8uoPo4k9fLXqxWhixas134wmtnmzxZnyzIr7Yta8ojytUr1Z7+m+FU6/CT3K5v6075rTtJr9tLS6Ol3eWttivS9kEdqqbDQalAAAAABJRU5ErkJggg=="},1695:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAACWCAMAAAAynWeiAAACkVBMVEUjJjA3PEUqT1kpTVc2PkcqUVs3P0g3QEkqVV////8qVmAqW2UqU14rWmQqV2EqWGIqTFYsXGYkKTMsYmwlLTcqU10rXWcqWWPg4uMqXmglLzne3+ArWWM4QkskKzUmMDopXGYqYWssWGI4PkcsXmgsW2UmND4qYGomMj0mKzUsX2ktZXAkLTcpWmSkpqosX2opV2EqWWQtY24kMDorZG+ur7I4Q0wlMjzV1tcrY21dYGhSVV2Fh4zNzdDIycsrZnEnNkBxdHm5ur2Ji5A1OEGNjpNFSFD7/PyKp61XWmBOUlqBhYrR0dNLT1bY2dpBRk7b2933+fopVF5AQ0yPk5djZ23y9vfd3t/Fxci2t7p8f4T+/v7AwsSys7aDpKqbnKCYmJ3LzM6nqax6m6JsjpUvZnExND3P2t3K19rJ1Ne4x8uvwsarrK93e4AsZW8D4/B/n6VEdH6+vsGWsLafoKRiiZF/godHeIE8QUre5+kb0dylub6ztbiOq7FaXWRUV1+pvcFucHZIS1Pu8vOipKhGcHk4bHYzanTr8PHT3d+Ulptwkpl3eH4mN0ElNkAsLznk6uzT1NYqvMhVf4h6e4DAztG7y8+xtLeEoKaRlJgpLDbn7O7b5OXX4eNljJRsi5JchY5ihY07Z3A2YmzFx8metrybrrSZm59PfIVMc3w9cXppbHL09/etsLMmprErfYg2aHJmZ21hZGrx9PUQ2+fDxMZxj5ZbfYZOdn9BbHUxYGo3OkPE0tWds7h/m6F2l55manA3RE3f5efGyMu1x8uXrLJ7mZ9WeoJph49zdnwnLzkJ4e3g6OmJoqgpSVInO0UqiZQrdYAoRE4bydQjtsEqkZ05U1wxqrU4gYs4SVIoP0lOt9T6AAAUgUlEQVR42syV3WqrQBRGS0sh+DNWgorgRQwRQQjGV/H9H+asb+9BQj3hXJ3aVbtnz5Q0uPjcvn2Jj433jU+nqqqTkUB4PAoIIXQdq7dF5GElhMThE856WtdKsHrz+Qz73Zl4f+bjiS/j7T/jYl56qaoscy8BkqK4XhtRdDLDWuBlWZaGnp0wM4EqHuLkZjJWMAvVdy8Zhy/FwLFi8LIRtYBnRTTNsuRdvlDFHZp7ky/WIsYrbqRH6Xo4xCeyCmUw2sh8BXUvxcARYvaBgc1LIuyBaSQkTVMKDEOZ0+WD7e53rvswyNp1sQdNjixEiAHzuwLP2Elm5DzL1jVzKi7nX5H5YTF7LxloUmiONJaW1LhcyrIcSqC15iJwRZuLDtI7n8AN6F8kER9XuMlihCj2PVGP8xc1B4jZBWbzopvAClq6Ls8HiahRUIq65vdSA217KVM2cpVKkbJEegAzLkdqVHxcsYhoykomNj17M8eIee2FgduhRXmQirat65toxY29YFuDioWHn2EY0jh84issCNkBVyNTjuSIb2peROZAMVUVvfAe6nJgpnDX5mCepts0Te00UjkZOaOp6fnDrYZLWqIxBcy4GBs4EhPnMjKsT2w6czmbmr2Z48UoMJsX0gI8P62Bi3kex6mf536knfq+H2Fqx5mdi2nJFovmkcYyifNZDCGhIKZIIMAD7CBsQ+jZzC8Qs3uQ3AtidIOliUHAOJ7PyDif534GaxHTj/1ZW1KkWIGCE8lze5UXQBFYCkW4huCWON3EiGhmL8Y5VIxNgD/M181r2nAYB/DTDg8hBZG2FHqwoaFgkGDIxZPH5JpLLoFeZkmqIIoEkTIIiG94EUQRbH2ZtFTZoSDoKmsLZd16aP+nPU+SZmUdO65+iUkMIvjh+T2/x8BlK0RtBQHQwc/VzL3Qe5+qeYQXUcz3UtEDkT4fiVxFsD+HcBt/7FViMa9uOJoS+bsF3WAtkcu2KzPpLan3BDRvSuZ/wvx9Jb1sSOTy+fhVrGPikNq5zJnRDd999HNFPjY0EOhAbMMZri63QTf1Jm1VKJOGIdYMho2jR3w7BH0O462y69ttyhA61HQ8mvWDCQoG65waTAXmlmWahmFi5pBHly5gtE5WBy/4MCGFu6AmbBVThgKebVHcudOM3j62Gz6UhhQTo9mGRxhcWitoeS7s9i5/Cs8089zAw8ZbmXeEeVswAQxLMB1sGlFdp9XSQQNJUs2M0qrJkq59orQgn5CkvDGvJRwI4ogo067D8z6NOghDexTL83GWvnUF99yuC4PHtGwssJwa0LnwsvAX0/rB+JMd/gK+AoaCAaCzAXkJI0taSc5mdV2W5YRsQRGfncNNoj3K5Rrg5HJ4jLDdRHe+NirUhwmGZmOEYSnMFBp4oYrEB/Gl8mXKTJQANeOXzB9j3rvCfHgF4467FSgVMIpC5ycoylmpOptpT7OZQDCC7MIItXK5OoLviUuldBTOKCNqx2KUNvLoC0zEh2EwQ+gzJONJxXvgMLdgDt2k4Ye7mtYTxi8YgjHHGE0b27ZtQlHIZi2/s+i6IAtJD6YA6qUJtmDBIBxuK/3q3t61imlHCyeYEnToMg3xLBNBGBXgJ0tGLgwTS4UmdVhw44cpx90rE3+e2VwvmM1gJaELwryOC3NimaBZ1kzXk4KQFBAmOzPAAOgeOXB2eJ5uaJDZC7cBo0br8Dtj968nyjgAFyTCuyVEeYBWiDuBR24J3zb+AUNZB5itFRZKb244g8FAxVdNQIvkIdTxxoNJIgzqYENWilUFMErfbIEdruZyGYRJNTEm3DSbi8W1D7OqG9opywQwIWZVhmE8noYl58AtbU0eDGVNYX5RY/8uaoNhHMDnL3IFCS3c1h7t4juUShanjHHNkiWQxQa1gWAQkSCCEEwiLoIognr1FIsWB+GgZ4t3B4f1OrT/U5/Hs9J2aFfvO2X+kPf5dbqcFdVWSZLKHXQsWTCM5fHfIXTN5HgMI0QVU9mppm9HrmUlR40Zz30FgqFCc3pKNYYXBQ7D3GBd4T61h+GtfFWlPyhPf8y32njfs48X5hXDFAHcfY80qPbMlRWGofkk0m2hYx+GKS+80CqL86GZzKBKc80ehurvAebZL5gh3s+Nu5dUjuOMEp8MPuyOFRHyNN48eRww98V0z46g2eVg0J8xjOtPNS8Ns2DuEygiHBrpSrQRJtI7GOlfMJ/gxZ930TvA9FChxeNkzmXod5inRwyTeH1u60b+JgjcWQ1+Wwgr6weaZ+VcZdS0hMicK4oihqAMMqKI2//CrHTjIva8vrhc7WFetow6w/xAA9nHAMM1xlcBLHwND+mXRQmmonlKKJQc3oo2WiHB5NTGtC07oovRw1N6sYdZvv0bZuyhxsesHlqfCYZq7xbdGOWzj6sNvj2Cp8QwH97ZlenX9CWao7YbXrdGwlpbDCNIyLOEssFUOMINhRxmqpa+sHYwmeFsBzMd5hKJP4rvZI3hhGHiazQmfFOPD3BFLvE8VZjxZX/+KGCoyLi1/krqY5nxp2UlIIRQEbQSCJFDgbq1u1BnjhBBs+ZjU0UnxTCSiRLB9ABU+AzKk+8DzGqAuzHVX2rWkwaGc4L5hCy5fKnhsn52doPonq8PR9iuafL9bVXq5VUMLr5EWJoRjHXTcpJCMIxTQCvkybeIriNsFciaBVWdpVJbVKQu2gSTh7ZN8EH4ALNd0AOKxXYwJ+MBFrcnJw3u3Ff0fXFGqUC/Os4B749d6R3Q2ErrLPykZGUaQNFJyjLDuDrOZU7oYyS634tluWQgTaXFNQBoFu1KtVY7cYChu0xsZaAzjlEYhmQ6UOtz7S4euzHQv39zxrmGVj8+mL+36/vrFd3Ac4hMPjukSvaSt2tHH8iBvZEfUrWD5MdkKpVKdjOyRGnaHbvE23V9mTjA/GTWbFIbhKIwOi0REpw8EYSmwZBRkIiT7KAb6ajQDXXW0kWk0GHoqC10RT3fvc9E7I8diV/0KSQkeLgv4js36H92/XKdJi0Ykh7fwPO63R7unx6LQlzm8+PtbHpP1x0w8fFay71ogLiqyX24JnuWG+qbZs/YNHcgqXnLoo9dkQ1g8lxcpFUeDs8hEZg1QBxMITAcdNxttyWnwkJmqwktO/y6gpdABpUEGCOjvSYNMKBUN6oUnYgZWMwaMJRYA18WT4ObuACMnT9M4w7AwIvNwexstXwe3dOUVvC+/8lApohkkGyoEoExOFDo5SoeAIMwqBjln8zFRZ9rKgU1ueY7DUymL2fPOGSZpGULxrlMDky3ZNwSkJCiCTZ5awk0dpF4MVUCIutUlb4WjiaQuQSMuzdvlyBmUzRxdJ6xEWyug7lQfvInU9EnLRkX+R2vVFEVSgUKIWHusJmCO3kl4l4pcKDq4JIZGMGIvgQwJgk8UDmbpSHj9jlwWaOYSGaTjFuIKrKUcYQQwk0mUkzEK686JjJn9hFNH4qFInHhJqlEYOLTRmQWli6YQS6A+ehfx3hg+u46SUOU17rRlLEwVEXuroNBExiSL0Um8Zii1TzyjrSVRjA4mPnCHC05cfmHu36/HLiscbodQONkvN1hWZqWDERgDJbj0GCdMgxItsTaHVQwpxpZtBQWpvcBM+u1XQ1xGS6YMfpjiDVTFURrEMlSCaf+GDZeFEhIAizO/THs0iK61XDrUTmwk8gBMN4uY3Es/Jql7QL5A8wXs2as2jAMRVGPpSFQgicN0lYScCYNWv0N/a/4wzw00LFf03vfuwpWE49pfbCe9GIn8A6yZIi/Y/d03lamjMzojSrbNc6YNg7qty14v5MLt8HxntiydPYtGFZNCBpwDYiu4fXFzfgdJPRK1bqX66F7NhKzZgboPVZbF/gYQjm25vhT2k6yzkjsvzNsx75e170GmBCoQRTUQDEf/vNUVK1Iy5qYz69r6v6cQyXGOAxD34eQ0tF4B+M4Xi7TNI02uKgDOmFnEO1aNIKvFmuppFJSyzzPiDnnkoPoyUBiPCzo/pHWzAB6UwNQm4pF1RwZ6iBDIqxDcqQRgnizUfvsXQg45jlk57eXCLbjhWJEbNWUUrzSBvmYlPh52hCFVswsa7aYASJ/NqCRbK2/YVY2JuaBGWK1SY7mAQJdKEdvQ78iHeHDtYDgCqhCIBF1rA9OJMYNemnMAJkJwN2IZIXzoIpEJQRCFpRsVA8uoLoWAzElDMY2vTRmiOrQTYBa0xo5mzAqpMdAJ/JyJ+LkIHWYiFjZmJflAixOPZEdEgQVqG8mhwjkTgRcI3Wi5RGBtF62puWhGVKLxWEwUatLai/qxcMPM3WMwzAIQ2FYSNbzKdqFqRfo/XuzxpFjYR7yCt9QFTNE/CLxMO+PswDm6TI76fPSFvoFF01e5juw1TP5GZ+GYaXO/7vYZUC/tU0sDOuGyvg5oot70thgOnXqwryTPyjpu7LUYSKNTqarEBO/PRRgygLcv0ksx81dWTgM6zflo4Z5ogTgDopMRDDbXKUOwy9UHJYy2BJYdIEANXEYtAOkMMzKMNWUa5gnEEMh0mqlnYDCsF7e/XxCdT7hMnlybJYIUxPGWRyNViFOvy4pTKkuwzuScYnDs/yZq5/WNII4jOM87+IHHuc+Z/FPQEOEdXV3IZGNxdCYs0uhlLCURVFKD9KLvYRcWyHQ4KXEe4qnkHvavptmnKlksiY6Awt+Du7Dish+0d2tw7yWJv3O+p/YswA7ncUgDF5o89LlrTu7WtLORpFhjGz6beCZTVe9m1FkGGNaBXlieL2jl2dLD2PvNB+vdv1oqVkvKDUAlSNdHbtuQ5iHb3iVs790SlyOEtCixXxepgEnpQKAB11NHyYK7sGdLydzXNdh2rZnH+bH/Ue8KqK8pizC1IHLKXjHEQoyTBsrMczUeuR5lB+KzWYUBDRj2rZkH+b77/ubjWF8CPVxE4oIwyYueBWCvwozgjTjMNIL71h83QmKADhFcRwRh7at2Id5eHfz+euWYeLJERQRZhj6qTBOMGZ4dEvnMFGgS3EYisNA7ksaaNuKfZi/f35hmzAl/qibF69vIcMkHKkwbJ8ufIAt5gwmSvLKWTADxjQSu0Zjbduyv8dsFeaicaHs5bEMU6dCOgww9PaKKFELRt7MYnEY0SlQnWLpuKptO9mHOYNSUmGiXBPgnaLQX4UBnK4XeWewciWCdhMsnXS1bSfTMG6OrQkTzx9PcVJUGKFWpbAJG+fEAQTqq3igbSvZhhk3gHbHVWYqDJxcC7zTF34+DeO3iVyYO/xEvRiA18PSmadtGxmH4e+Bbpj/bwEZBlW+5h6D5nH4hVuUcRZhiYkxVfeT9lTb5jIPk/TAciU8IcMcTFgqDKs0vBZYz7hMJSz35Wo35LGRaNtY9mGOr9DUHjMqzIdGKkyrQ50BgPjEsEyFqiM1XfnoHpCrbVPZh/FDF7fka+daVEwmNE79ldqNiEGI2wnD9mr58uFq58RHWZKradtU9mEi+tfO3bwoEcdxHP8M0T9gUcLvKERCeEoSdSyfBrJxFCzchpEND3MyhGGQiNhF8bQYYnjJc+BBMly2016CThFEj/9P87QPP2rcdJna6vs6OB/34MB7HUY8WBZabwWO9Y7pFGeRH8L0aoKn9khYQT4cTzveWU/UcPPNm2ZYFbi9quDDNHJCif+E715KNv52rSU5t4Vf1gx7nNAdORyWvTN6OxgQTkFiqjAdcf//Y2EyD20dN0yY91pYWyrF7dMKJExkWhFSDwXOYZhpyzlUlK712Evx/vovqtYQqUSEfwAEQmEoDIU5RGF8UBgfFMYHhfFBYXxQGB8UxgeF+V1ACCGEEEIIIeQ3qtXwH0s94GzjSDyOI7tpXgR/tfOfPt68gWWyddM0Zc00jYQ16gO/MJvKBqeHVdRScJTedRY6joS2Bndmj+CKzNTUhNtBuTpv7+21H19YGqYKIJcG1A0Ain+YY0+iWNFCycCi91lixOQkDkgGUzKsmoZNZXWZbRS4HZD53k2ELj3b+7w0jCRJ2o4kFTPWcMOI+eNh0sZBmAJcsSlWUTbrCSdMX1kgupVTanBNNsTFENID1gXQZUUdJVEbcjsQ59sfYblgHfxlGecnYYoZL4yk5EOw3GbvsAKByVuNjB2IpWFJWgfXNhs7feQGEBKfhJzXznI7EK/aH2AJ7c3hb1JIKTuFQ8MlYdCpt3QgqhkhrEDPDuGEGbAKLFElBleSldwTGcAW24XNyHE7EJ/m12B52v6GJfTXbFo8lF4WBsnE6xrGLIUVuWG6zQksBVaES68/d/5QzwN3mO6erR7ldoC+tS/DXyUnt1otZaPleD1aGgbSi9EsYWK9MJ4i24anO8pv9xZGowA8qMIxZvvcDs6n93P4CqnVhn3yTAcOVV4eBvpLpuyfKky2volDaWYR7Rdsil4r1uN2UC7O29YF5e/+nW7fomj2o4SOeEKYYZyxwSnCDKesP4Fn2Byp5cpWfLQLxGSvG5O4HZAPX96/wjIT3BVVVR3FVTXPUki/WB5GMKqzTTZYO4ykVcc4lK+XYWsmdDyvw9Fh/A7Gzb3H53CCu4Z3KQlWmKKxNMw9cZRCqM8Ga4bZVTI9HDGMg7tTEip7BNtmFdwOxPX211s4MYyiaVpV1rQNK8yDxpIwqRzLVQBEm2ywVpjdekOHi7sd27dniWVhE2PgdhCuPP5yESeSkhbZTCbjcR2x/pIwcXEGxyTeWieMLr8dwhPdnth3ogpsZj0C5EQ7msq2wO0gvGrPXzlu4iSZ57ezscQQuaIT5nnB9uSJc9g5CFMYwjOcrBNGZbGxYwF0WA7Yl8VurVAyWR5AOXF/Ub5T3QS3AzFve77C37jZMDIJxhRj+mJQUGZOGMZxw+TKHGn1MCbzNIBFlelALcYsYjYES0ljLLETArf/nDexnfRgt7QPbA+6T0TdCWPePqbvhmE8A6fT02AbSvapPYVe6Ng+M79EacpyswdbPolj7uVhKdR4EZzK0OyA/MR0fGbeEGfLBIQQQgghhBBCCCGEEEIIIYSQs+w7Aa0PAvM/BtAAAAAASUVORK5CYII="},3733:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMCAMAAAB8pSNJAAABL1BMVEUjJjAE4/ApTVcjKDIkKTQrTlgqVF4qT1n///8kLTcrXGcqUlwlKzUlLzkqWGIrWWQpUVsqVmArVmEqW2UrY24mMz0qXmgqWWMrU10lMTwsX2ksZHAsYWwrUVssXmgsW2UsYGsmMDoqYGsmNkApXGYrYGouZnErZnEmOEMtY24mNT8qYWwrZ3ItaHL7/P0jKzW3x8r3+fq6y8+JpqxVgozU3+HG1dcranTz9veAnqVri5Lm7O7Az9J7nKNZho7M2dxNe4SPrbKLqa9jjJRBdX83bXdeiJHZ4+WZsrdTfoeswMWfur+jtryVsbYwaXTr8PEbytWnvsEnl6Jwj5Y5Z3Cww8hAbnjf5+mDo6ltkpoI4ex0mJ9jh4/v8/QnPEcqjZhJdX4jsb0mprEnnqkpR1C30yh3AAAK3ElEQVR42uzaaW8SURTG8WJcTqYJWJlQw4xAiNzJBGbCNiyyln2RIspW22pdvv9n8Dl32LTWJdE3hb8yKBpf/HK8zHKPuKdv37z3HPrnvX/zOf8AsfFbz6H/1mcX+ZPH8/HBw6N71IPdHnFPZMfo+fPHspOTZ8jr9bn5/b4w50c+/rWi+LlT/PD5TmXPuJN1+DeePz9GT7kn6JHswban+S8ezycgY47fPDi6X91h/IKNV8I7xhIz7FcUBcjKSw7EQH4pU9je5wO1V3bida0fszL31O22Mpd/g1k+eurx3DfjO5BfvMAYb43hdYoADE2YhhQuFFICAfwygCCMDwISH38LA42RBrWr/HijfPxLZY8nj0H+eHTf+qUx4ilmYB5jwLrGoVAgGMQRxiH5jhg8hDd3wMEcDjM0lDHRGOYV8kb50U+Uv3g+H725f4P8I/KTDbJrzEReNvbz0gtIpARlsWAsFuQXigRjgUAQ4U+V1TKCfKcYaS9iZZd5vTDfMcpvjt577tV3nuzng/xiM8dszGtxGMJycAOxWDQYiUSi0ViUj/F4HO+RWCwQZfCInGwMvLty+FzlE1ZGQEZ3LhhPPO+PPJ6je9dtZDY+XhnLMQaUNGbkGIrqQNUj0I3oElnnovFolNWDQXcZkcr+lfIzRpZJ5TtH2ePZA+TdQeY5do35246R4RuDpI5UFS/3F/yGF6iBD2wsI3AOQhn5EVab9SijY253lPcSeTPIJ1iQAaSE/ZfvlKASiL3KmphX0zR1tXPZVpFpyiNTx03zQkA7Gr1ZvoIzoIE8fQllH5SvinMw747yPiJL4w3y1rg+rvgLTui1I6JjEvE4YEGbpr5Wz21qqKpmNslRVSj3qRuJSeXAReGdEpYndEl6BWSpvB3lfUY+XiPD2BfuLkIFp25P4nMq6SprapqWpqzWoU0DfGSWKaM2G5lGZkyjTCZzhZONyxQVoQxmIGPNOCAD+dYgY0F+l54WnHfdafyKSj201DbIs3NZE8hCu7Gv29qENk0iGOb+mDIKr8tAxinz9gxjL5EfcT8MshfGvl65XLYLOGQzJHM0kcyNqVbuUK4py9BACDGknpatFosOTYrFSaVSjQahXHfmirJBXp0tu8hr5f1C3l0t2JiRw+VUCrKpVKo5o9HlErCGGBMq7C4XhmhfX7c7lNT69kKoM7saxwnd+uoE6wUje4GMDsjfIcMYF9HpUsoe3ETENWWNLPWEMFqtMjVbHXLOzs4KNg4XhhhRo1+jjsjRhar27VI7Hp1nUF/pvUYLKvPbjYuM9hn5xY/IU8xgYVyyZxdEPeOCiiJhJAysyQmsyfl8opRKcC3i0ucD6i6HaSdFs7jeJ5RRxrTtyh3lA/IG2Qdks0S9YMGZlxtpoq6xpKawXOTWBXWHw2HBHqK2VavNbLvetgnZpVqJrvR2sTgA8qt3qEY9fpsekHdOLlaDHFYmy8A0+VrXzUUpSfUZ1YWVYORaaUnbWpZlNWgojLPGZbUlhKg6db76LgJZCWBVxv+HU/7m20VG+4rsDvIGGTciavZc19VqpUONUskQ1nmnNyZKj2hSrVbHqSo6t6x6YXF+Xk80nYxWoTNVVVfIgcAu8slPvvkOyDk+u0ghU9MWJRoCuU7oMj/BK2+VUnmUsNpdakzGycSSGmtk/YD8h8ij5DWVk8kCI58RdYBspRs5yubT1KnVajbhUE9YXULdSmJEl4dJ/ltk5cbOMdYAyH0qWEDGyUQayF27RXYB2ZRNWDnbGWaFkQC9RNbiK+Tpq5+vyU8PX3wnEtkH5DTlXl3ZhRtTM9NEZxLZAHKdui0qW1grBozcaicS55WGVSgIiVxx6hL5tVOD8QH5rlO4U4mcnaWIqKKb5pJqY7u6Pk8e0dBFTkhk0b6YXFPyjMqaRF7SlUQmeg1jRvaukff+YuT2FV+9V4JU6vW8QU67aV83gWw5lO1StkWLEXIYeWATOZmibfc1tUITvhkK5BylKjuX1c8eH674biP7pg6Ae/NiqTCiblvTMmTXjdmCUn3qWi1alTVEejGqiw5RRlNV+XnKxL2LyaJ/uHfx27tw4UGuOMWjPdFv5+Z8N7lS1kSj5BQTjYZoUa2KsHYI0dIMQxPpCoxV/WJWHlzxXbj5VJHIpy7yynhfke+8nwyjQAiP/vnRnoo0oWmaMAwsGsKatw103rY0ITRO5XSdH7DG5DNVaQzk6TR8uJ98GxnKjOxnZFaO68h9MoIM/AS1DL9BG2ScuwFZbsgIKMh9Zu31Hp6M3FqU16Ps94M5BDCJHOeHp5qqbYMxwiemqcrkPgxpHOLtW9L4FMjr59XHe4f88I5tF9sdAadQfsk7s+R+AGyyMJGKWJYP6ooXRx70SJTv1sM4FHI3E/Ecr/YE7OvT6q8/HeXnEtlV9jEy4m0XnI5UN3NnSwD0dS4ag3AotFmOEXYEyDmWbY2f7M3mlg+/2tzCO4jkBqLV5pZQDNAxSEZ0FSuHzqnrHUQ6lgkUDEI44BJ/t4No5/Rt33YQfWPf7nEbB2IwDAuQGgljpAi8gVLEq1WKhbbQjVzt/c+QjyI9pIeRg7iKMXyR+GcCuHhAyCmo6QrZrxAhUj6dZE0LYwpL6s8/3oVDv8GOMceP7ML92mZfduHMmpbsddpBrgF5b5TzVidfl/MyHD28ghJfbTAFMmhl4ZAuxPhr3upELy8wtlud1rgi5HS+uQNOO/bberKszg5AfOXesIzF+1j4Jfzt8cTI2y0PPMVk7LfAxbgOZKts72bQTXsoyRL4M/QGBMw3auAnAn7nY7NpT8LoetNeF+3rQm6a8fzf35cDZUYWZr2d4TRI72JOxmh4Hsj46Yn/aQNxeTuDvzOnHuRc23ZcSn3fH6hpPHLLMs/zXw7P2vls383cMh+5kZrQ4YCPTNS6rh1q27YpqwM5K/cUKyNRzrGzPPOrWVuQMSZgqk+lcZXIRrlX5QnOMs1bcxEDL1n3Ijwep00YxjzFagziepFVOamyTrNQ08/CqhK/OGrjKEMM4cK4y3NcMfJF2TIDi8QUWrUlIR43Xfa9EPdSQp0E43qRVXlNYOZEWbpMqU6tHV7oyhcdp8gkbIxrRrbKiGzyRWNr3K3EtUMswmpcN7JRXtckmeuGYI/8KzFwSeuvE1LT1I4MZcTKYNYIei8lFlUV7krjtgnkYpjVmeH8uG7v7FGisvF1+ORAVmU4C7QSc9bykHpXMjlhGAeyJMo2Z52Ic1/YyNqaQNZE2cZy1lLhO7n2lrPrjAP5OlZ2pTzWa6L0vKj1NYHsc8wG3ot+bRzIn+Whbmp+cakI5O8w70/sDeNAvneYW98OcSDfwayYHtSfBPJ9zHvHOT0I5Luc3fk+aCB/p33JfB7IP71A9gXyIxbIvkB+xALZF8iPWCD7AvmjvTo2YSAGgii6I66AK00oVCKu/yZ8YBxN6g0G/os2/ixMIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiI7IicisiNyIiK7jshbV6HRpV1To9BoaNbSKTQ6WnWLV+40pLtqaVK5zZha9XqkM1i/Btc40vO9l9Bm/Yrfa27h7/Zcd70+Ujc/hfD4KyAAAAAASUVORK5CYII="},9305:function(t,e,n){"use strict";t.exports=n.p+"static/media/square_table.3cdfda0409ccbb5667c4.png"},8254:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMCAMAAAB8pSNJAAAA6lBMVEUjJjD///8mKTP8/f0rLjclKDEvMjvv7+8yNT+Bg4hpanBGSVHOztDIycuGh4xXWWBCRU339/jp6erW1titrbFdXmU3OkPe3+CxsbVRUlry8vOUlJn7+/vZ2duYmZ2QkZV9foQ9P0j19fWio6een6ObnKBjZGtfYWi5ubzs7O3T1NbFxsi7vL9wcndsbnRLTVXm5udTVl7j4+Tc3N60tbhzdHr+/v7w8PGnp6upqq2NjpKIio8/Qks5PEXCw8Z1d33Ly86/wMN6e4A6PUYoKzVlaG5ZXGJNUFfg4OK6u752eX4pLDbR0dO9vsDKKlitAAAKeklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAABg9uxtKY0gCAPw37vLgq4clJOABgUlIFFQVDQeAoqJSvn+rxMpppltGCusyc2k+O6s0kZmu3uaZmVlZWVlZWVljh+kAx9/4tyePsbwJ4lSx/tHobyglMB/4ddBr0YTm+1UBh8pVNpn7uSXisOUh480zo/69K61kSv9ZajO1WDrkojK2eZ6DFaLrfUobBjA5La+SVq8moCBc5ylkHb+86GQfrskrffqwF6ZAc1x62MsqLok1Y4NsYo0J5n4ZCjvG83pdmCrixotSvqQYge0wN3DnGCLFmQLnwrlD2hB/xR2enJJMB+NkyOTGwilOBkU9z8RKnFEBrU8bNSpkdkQYQdk9oqQxzIZFceRQ8WOyGgzgH3GZ8TK16mLVK5GbA9a4JLi3h+u1TeItXxo28S62zfV8zix75FDPRArNyupXJHYPezzSuzAw4R/NUuaW8zck5ItYeKpO/szzKRJ2amM8S6RI6V2FzGU3yKlWcA752aTlHVYZ5eU6mI518HWZwfjYequxQcaLFb4MZQKKdsRQon/4QrKVy6A5xEsk5fXjnyHZX/+UZQzYHl3/vzWFx+O06apy0ykUIUdmjoaY+GBPcAy33nQj0EbcWqtYWpfp7t2zmOVg6kcH5+HmYCUVKRQP0hJY8bh6fANlrk2zk+HNDXA1B7fVAVoP+cOIralE1lL0lQ7Qih96rsIqfJdMYZduJyfjLfhpsqsN76EENajqS9qRialg5Bj7rd+hFBOX5eSdsdd5SvsUhQpxNZIKWHC2xTvmdU53WSixRFWIGU9Qqg0KYHxUdRhF55ST4ydmtbkez41T3++KIp7CF2ezyKE+i4qaWEMz8Iu56JO2RUp15g44T7qIaxDSkaMDTIUmjw5RAjFib0BY4FtwS58xbVG0PwaKU1xWZ1B8OR1xSPJD/MrtCOE4kefg9Dg/m7ZZvmElHMHzBsSa4tuuwtpJ9xuYy7/ZB4Sd5cPhba5+aZJseyLEqdFyreRYcV4JKp3ACkeXnIkSMl/UOPLhRKdpwIh0E3FLofEkmm8cxpZ0p5F9Q4hnfH6R5xACcIF1/jyobBl3n7u66Zil/0+zXSTzY1pSnHC9TDxQlMvkIrhhOsYx2Q9KF86S4eCHpPN46B1S+V148Kes1t8LGxD2gqfxZ0xzfTOsr9cKHHkVQgZUuz7FurQsBg/FdPFF92hhVp46TYipQHhhhf3y4US0/shhBIpBVgn5ZIQP8GDWDSmZuckOLJ6y+KcFpZngwihvumXN64MbfzWOn1G2mUuoZedFXF3lWMIe5TV+8z7NvMK6iVCKP6bN/Md2oeNYo0XV3WK+zQPqrpFfjWPTk+k3Ika34bAm/zrCKG4qXQhHMzKwFJ+p7G3dvzTg/j0dirz7MTYCOIxkX49hI12+HlFCHVhbr7J+dHEA+AEmAryDiYaDVghId8zdo0X0ZBTV44prm+8rDIRQiVc0wbWqc19NeIV60AunlDro24ME8kkrPC7nfvuTRsIwwD+eBubZaaZARogEDaEsJvFSEO//9ep12EMrtS0SgXS/f6IZOK8kh9dzueXg5J7zZ5/3xgLVyrvvdOJ5Ljk18RMf6KUO/WMfFsAr7AluD6g5qd24pUxxwUuMmS+bEvhiLAj13zaNFB8mhKcDNu9TyeSz5JO56dKkRZHPgXivP6DfV+ujjf2wJiXSt2QJHGcJBVwSbrk8rpwfXev+eSdiiALQoyd9iPDPivlOeOof6rUljnvm2bG3tcCnF1CHGgK8NZbwdCMF3u9YvDCmqE7MjxYEFvtrNNYZRw5T5/Y29pMkTmzsTwEkyezBfupUsKesXF1OOQBGd1R64wqU5BheS1wYSjMqtVqqc2JOV0ULyzkomcTianfI2vZ1Plek3FJgOntlnHshfNhuy87Gffcwf25Un0ybBsRWFL3jOeWqXKhTp0IamVsqpoU3F5myO72NSmQ4SFHEmPGEfbdaBSqLYVFZ0gOx30cvO0YR2W+/RD7txw5fv5sKSQOr04iItsNPJLjmAhLh5UYx4rfwJDWgcsMGSXGxUmMa8j+bv9fnnElvM8ULm589AfRz5Uicw/B+W5LTNY6Y71Wq+3uYAjPpPgs2VwphYJyd2khC8+Mr0bXf+OxV1z+g72f3MtflOrkGT8JAS7F6nXs9EPbv9q80HcBP94ZH4MovBYD5lxQhFfOL+P2X5Wqacy5bwKO3FXeAEi3MPB8esSzTV3d79XJxYUMdsqcKSxx6nXInLrncSrMnNKUvyy1qTCniji2HZvxvnEzWNL6RT/xRZqMh5STcU4uZpljsfAHztWfmGPj9+1fl1J1jjnWVHBs0Xt8tdbUbRIym7zgkCF07txhMwjw8CfOGgyRfnmDv4g7y3MJ9Z9KLSYaQ4Tq8KjFKn0AvO60RVJSepAVLjhkw0ctkJvqxVI9yuL33tRa4FavGmcJ+L1U5OEmMZ21M/I/lxK3nflEz32PLOHVZgZ9BLTHPHNHnhKbAfmSR/IVYmciUC4WcxE4FrDkcqAoiqIoiqIoiqKoK9HPgFAjMChb2EQe/upRnCCdiWQZFhHUsWkVxM0dAFaqwVbcL4FawmKetAmblsDTi53ojx8/2rDEH2AJfoepLV3bBxa+WCLnDVnJR/oGFRC+xTKIKpY6AOWbaXEIuRWcvks+IcuTxrV9XuGrPc+8If/UHg3aPQyzNc4p7eG03V4DrQAyUqRlyjZbESdkfv64KoPySCdgS3VG+87rumIl9LKCheUJEKFCpVfY9ZyQ1bAppoejTshPwyvZlfkfsVxMgCWTlirpTm+eYgGUVqdv+fGsbAP2D9gM7JDPp4vyNW6j/2JbrbE9mi7UODt6/7BCZjVNU+Ro9CEWNQndw/blXQ1JM+TQ7UhCSnVCFpLJ5LCaJGjWrsmoWj0KGTzEYEhE4BmCqgY79p1R/Q6ALW/zqrV/VOojuQNaT9+MkHNBJ2Q2m81yWjZb4bKmK/vU6VeStbWqpdyQTaKeQvgdhvsOIFfKSDVEGDpB1EWA5xaop8l0IUqKd3XxWqGrZK+bAouf37whQyjJ8zsS8s0IwCTgrPbuw8BGAtYFEjLmadYTMoJX9yVDX2uTjwDRyuYQsmi+2OxFb3Qn5KUURao2TQuA0Ogj2WMxfwaU+CFkPqZ4Q2736FA+kmpMYJhJC2dYv8f4l3j+VkRx4oT89NjMckN9WAfqA4HdPD5gHwbaQaA1VcISgCi8IWM1urLvWvhKi8IzC1OusAQiw3GhmJF7xSWASRVAuXeDUkDp8sDLLdjVky7tnuN9TbbX0a3GcODzxCegPBjRtYWjLoV42MKxDV4DCxgE68ewBCxj+qAogvjojV4WeKsGJwASU2u66KZhYndOyPvSetooGyk3M6AMGe6WBfGS74LYjhJxiQdCCYgJphd8CoWegnHy+9xOVCct8/TMAiZ5pIcYFSaeGxeqSRaQExpdwpmEjSdyHIiBeVsGsBbNAzVZWysGlpzYhVj6noIrEA70YVNe4aDtC4qiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKIqiKMr2C8k5DMGvCO7kAAAAAElFTkSuQmCC"},9938:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAACMCAMAAAB8pSNJAAAA1VBMVEUjJjD///8lKDJ/gIbKyswyNT+IiY5ZW2L39/fz8/QrLjj8/PzZ2duxsrVdX2bq6+uChInAwsSOj5NKTFSmpqpvcHZERU5BREw7PkcvMjv6+vqTlJhqbHJGR1Cbm59QUlnx8fLk5ebW1tjGx8ljZGs2OULh4eOvsLN6e4A5PEXu7u/Pz9GsrLDn5+jd3d/R0tR1d31naW9UVl4pLDb19fU/QUrT1NWWl5yho6fFxci8vcC5ur2qq66Ki5F8foNxc3mnqKy4uLueoKMnKjSbnKD+/v61trkBcgx7AAAIVUlEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAABg9uBAAAAAAADI/7URVFVVVVVVhd16WUsbisIw/H+ckZOIyNFwCgiICKi0KrZqbe//kpoNBhIJ2s7oU99BdgbJIN9grXz69OnTLl29q6L/SSg7k8bNI+l7VNI4cigPu9WamYf89KH+uBqVseO1QfKpIeUjLwpWbzbremvcelawA9eVDjxC2hMWaWnIF2VpRjWAhTzqEJcG+B1Is/AOcRk2hOWIsZHUxgKOpSR5BStCUW8lyMiRrXk05Cjhml/hEdeeKFeZmshXPSwpC7E/ivzCDo9aSnP+TuRCimr5vcjfYborsoVH+J+IrK9ETOQHLg6kQ7ADI98dum4/jBy1bXsBE9s2kUfWUssb+RYW8kSezuQXhvhfRf5y4mgzD00cYTg2Z1f7YmANTORKbSppBMPcku2P/CCXtYzcPd2SgdnpaVfK8qpqIhe01PFEtiFx44lcrw5L8nmAwq7I2+uhBIdynDOXUYCG9sjpuZEiZ46pLnHVpUm73YNe++sArJLr0UQOcgxRSduRD++efJFDaRNlE7mYAks+FpTlddNut3/SbLctbStBNelIMVe81+vloOUcNe2JBh59XdPLZDI5LjKNzUDND/D6MHI0u5TjdhV5QcIXeQTnoU3kfgqe5beAirxOePUUGNk1V5a1Y+2J8svLSxJoPTs3jdlq781X66vY6aSh3fkSHHnQWCu4kf27yw6M/AzM5EY+GAFHMqbptSakN6ZSudOJQK7TOQqO/BB1zFeRY9+M4f5EdlhEhjCe/JCOV997wcPbxfcYd+RJxI2QjBhrue3IlRZjBUU+AjhxI5+mIdXX0oQdJu4UykiK+P1aRY5VHJeryNGoZRXU2qPIoRqJkyFmjIWvhhCRQim+SwGL78wN9QeRz8AOivwNb+TcNQxtrdgR1yXQjKzZ7pS5lYRfa3tcRG+guE+RS+cQM38XxSSjOlA9UBfivsgnEAuMHC8Y9wGR+3Cm18gjT2Sz5HKbyEC+qy1FIFmRz1UTqEmXSy0YXxp3/0DkEdRkIqt0V7knVSWrGZQ9kcvTOFSvHSm4Nu7dyKs+o+3IdpVm1I2c52IdOQfW0Spy+TEFiUMFuAcIy6eOEQ76kQ7duAZ7Gbk77Eu6i5irevzK8KgYqdDmyzrVsyJ++Y8izxLA1x+vkdO015HPiMlEdhJXgYuCAlQStPOM5XML5EjVpeg6cqMixyC8MTWRS1Dfp8i/2bH7nrSBAI7jv1+hyii0BYa0BaEgz9DyKAgqUxi+/5e0u7Z0wEbM/iOZnwSrMV6Or+a8O7QAJZO5gVRLFXS6sxwHCD0+UeiY5DAvNOjkpeInkfU5pcVjGNnlKo5c6SKI3EpRyl26uUjoZ2fPCdspZj/o6DCM1yByqc0ihFv+lpSRxat2TZFbxWLxlXwpSihAqXM8pwmpnKHgltUlef/Hmnw5ctGh8I10JzJymnyLI0syMt75bZm6EHnFlIoGGzvEZm12ReRWn80auQki775xCGGqSeRefHyQkbvidU2RdR4JytLg3oreq6TLis7uHyIPyLwIUia7MvKUTPwZubZUL10QVchssM8uI5anMRNjojjEkuwFkfFBAwEFgEcTgow8ZB/XFPm235+T3/ryoUEo7ckBAnn3pRosfTn6akdo05GPZhzZz0juWeRXbQMZ5GaFYjJZqpLlyuM2mTuJLFyInK5zPwWUBp0CIorLm2BMzIIlPow8JmuQ3PqPQ+RCNmul+K7cbrNjXI8ODRtAkmtIyfi2095FW7gGny3+dvPJPvm+iDBIGlKbQhfC5cgt/LaMDsQFh40ZIs+uHY6JO7IcRVY15iFYpIw8eHt7mwGK3KJnWb2aK3uhtufmeE/0IWd8UIneS9kiG7nAceSXp9AyjhyJgkgFsvFp5Paigoju0LMPV3G5Q+Vm+TDmCzk9THfAZLRE6PAo2VCzpH9nkOsZrsaKzOoYa1zH54C+dRJ5I7Jbh/TKceQWIpcjpxdkN4jcsi9HNrg9NE7F9/XKgMztos/VaMxHjQ0cIi+pqQBMcrXz2BaHw17ZJY07WBkydzWVd2WPpKfRDxo8unQ1JpXjyA/cW3+JvKnX1c8jv5ODQhC566ztC5EVja+/Gz8h0vLJ9e50zBeyGEduhl9kSX4YNOWPuGT9HoA9kt+7GsrEo7CSU2s1qOlLcnsUuafxAaeRY59F3m1Jwwoj5+ko55FXCJQOQcapkxvKnk+O7o7HfHTYVuLItsYhoDpsaCRNCF3DnEFS/VdcjZbpk9TI/XuhUCfzUJJkdhefXk1yLCOP3qXni5GTpH0WuemTqRoK5E+kk2zjNLLHuW4J+gNZAHAnnnzDEatNzrtHY9pPWgJCNbwuHXEUrN218Z7MVLvN2v29atvpWdpWS6V7XAdzpJHMTFrbFLWNy6BNzyMfFNQaqzkddcB5Gqe7izNp328MfHKBk8jqM0lnAih9Bj7OIq8ZcxUg75BaFSd6K5LD41/cNI1cZqHJSQHdHwqUOgdAxeMfRrgOG1JLipkCve/ldJs/IVkZfgdmDskVXtlB8Jf8HJCRzy0YyJ9GVuQ/nyDnllLq9ixywWDE6Ya7CX+KM0pe4+RsnR9S6CBiL1iUDzNn7HliiOugdBItxJoJhNROGsCy81KZAWN5pex5E0iK521wLrEWno4D+d4TcNueIFRKmOYkjdCN65aiPpOEKU0sSM/VGf40vUEo094ioItN4xQxe6ggNLub6pVxd5MwA1P8D67pPPDly5cvX778Yg8OBAAAAACA/F8bQVVVVVVVlfbggAQAAABA0P/X7QhUAAAAAAAAAAAAAABgKXue1Gtc4gi9AAAAAElFTkSuQmCC"},7452:function(t){"use strict";t.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},3580:function(t){"use strict";t.exports=JSON.parse('{"0":"\ufffd","128":"\u20ac","130":"\u201a","131":"\u0192","132":"\u201e","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02c6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017d","145":"\u2018","146":"\u2019","147":"\u201c","148":"\u201d","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02dc","153":"\u2122","154":"\u0161","155":"\u203a","156":"\u0153","158":"\u017e","159":"\u0178"}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".9aab3465.chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="bi-visual-drag:";n.l=function(r,i,o,a){if(t[r])t[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var p=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n.p="/",function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(e&&e(r);l<a.length;l++)o=a[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkbi_visual_drag=self.webpackChunkbi_visual_drag||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t={};n.r(t),n.d(t,{add:function(){return ru},adjoint:function(){return ws},clone:function(){return gs},copy:function(){return vs},create:function(){return ds},determinant:function(){return Ss},equals:function(){return uu},exactEquals:function(){return su},frob:function(){return nu},fromQuat:function(){return Ws},fromQuat2:function(){return js},fromRotation:function(){return Rs},fromRotationTranslation:function(){return Fs},fromRotationTranslationScale:function(){return Vs},fromRotationTranslationScaleOrigin:function(){return Gs},fromScaling:function(){return ks},fromTranslation:function(){return Is},fromValues:function(){return ys},fromXRotation:function(){return Ls},fromYRotation:function(){return Ds},fromZRotation:function(){return Ns},frustum:function(){return Hs},getRotation:function(){return Us},getScaling:function(){return zs},getTranslation:function(){return Bs},identity:function(){return _s},invert:function(){return xs},lookAt:function(){return $s},mul:function(){return fu},multiply:function(){return Es},multiplyScalar:function(){return ou},multiplyScalarAndAdd:function(){return au},ortho:function(){return Qs},orthoNO:function(){return Ks},orthoZO:function(){return Js},perspective:function(){return Xs},perspectiveFromFieldOfView:function(){return Zs},perspectiveNO:function(){return Ys},perspectiveZO:function(){return qs},rotate:function(){return Ts},rotateX:function(){return Cs},rotateY:function(){return Ps},rotateZ:function(){return Ms},scale:function(){return Os},set:function(){return ms},str:function(){return eu},sub:function(){return pu},subtract:function(){return iu},targetTo:function(){return tu},translate:function(){return As},transpose:function(){return bs}});var e={};n.r(e),n.d(e,{add:function(){return rg},angle:function(){return kg},bezier:function(){return Eg},ceil:function(){return sg},clone:function(){return Jd},copy:function(){return eg},create:function(){return Qd},cross:function(){return xg},dist:function(){return Gg},distance:function(){return dg},div:function(){return Vg},divide:function(){return ag},dot:function(){return bg},equals:function(){return Ng},exactEquals:function(){return Dg},floor:function(){return ug},forEach:function(){return Xg},fromValues:function(){return tg},hermite:function(){return Sg},inverse:function(){return mg},len:function(){return Hg},length:function(){return $d},lerp:function(){return wg},max:function(){return cg},min:function(){return lg},mul:function(){return Ug},multiply:function(){return og},negate:function(){return yg},normalize:function(){return _g},random:function(){return Ag},rotateX:function(){return Pg},rotateY:function(){return Mg},rotateZ:function(){return Ig},round:function(){return fg},scale:function(){return pg},scaleAndAdd:function(){return hg},set:function(){return ng},sqrDist:function(){return Wg},sqrLen:function(){return Yg},squaredDistance:function(){return gg},squaredLength:function(){return vg},str:function(){return Lg},sub:function(){return zg},subtract:function(){return ig},transformMat3:function(){return Tg},transformMat4:function(){return Og},transformQuat:function(){return Cg},zero:function(){return Rg}});var r=n(2791),i=n(4164);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(1694),p=n.n(f);function h(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}var d=n(7757),g=n.n(d);function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){return m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m.apply(this,arguments)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={};function w(t){if(0===t.length||1===t.length)return t;var e=t.join(".");return x[e]||(x[e]=function(t){var e=t.length;return 0===e||1===e?t:2===e?[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])]:3===e?[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])]:e>=4?[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]:void 0}(t)),x[e]}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter((function(t){return"token"!==t})),i=w(r);return i.reduce((function(t,e){return b(b({},t),n[e])}),e)}function E(t){return t.join(" ")}function A(t){var e=t.node,n=t.stylesheet,i=t.style,o=void 0===i?{}:i,a=t.useInlineStyles,s=t.key,u=e.properties,l=e.type,c=e.tagName,f=e.value;if("text"===l)return f;if(c){var p,h=function(t,e){var n=0;return function(r){return n+=1,r.map((function(r,i){return A({node:r,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(i)})}))}}(n,a);if(a){var d=Object.keys(n).reduce((function(t,e){return e.split(".").forEach((function(e){t.includes(e)||t.push(e)})),t}),[]),g=u.className&&u.className.includes("token")?["token"]:[],v=u.className&&g.concat(u.className.filter((function(t){return!d.includes(t)})));p=b(b({},u),{},{className:E(v)||void 0,style:S(u.className,Object.assign({},u.style,o),n)})}else p=b(b({},u),{},{className:E(u.className)});var y=h(e.children);return r.createElement(c,m({key:s},p),y)}}var O=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=/\n/g;function M(t){var e=t.codeString,n=t.codeStyle,i=t.containerStyle,o=void 0===i?{float:"left",paddingRight:"10px"}:i,a=t.numberStyle,s=void 0===a?{}:a,u=t.startingLineNumber;return r.createElement("code",{style:Object.assign({},n,o)},function(t){var e=t.lines,n=t.startingLineNumber,i=t.style;return e.map((function(t,e){var o=e+n;return r.createElement("span",{key:"line-".concat(e),className:"react-syntax-highlighter-line-number",style:"function"===typeof i?i(o):i},"".concat(o,"\n"))}))}({lines:e.replace(/\n$/,"").split("\n"),style:s,startingLineNumber:u}))}function I(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function k(t,e,n){var r,i={display:"inline-block",minWidth:(r=n,"".concat(r.toString().length,".25em")),paddingRight:"1em",textAlign:"right",userSelect:"none"},o="function"===typeof t?t(e):t;return C(C({},i),o)}function R(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,i=t.largestLineNumber,o=t.showInlineLineNumbers,a=t.lineProps,s=void 0===a?{}:a,u=t.className,l=void 0===u?[]:u,c=t.showLineNumbers,f=t.wrapLongLines,p="function"===typeof s?s(n):s;if(p.className=l,n&&o){var h=k(r,n,i);e.unshift(I(n,h))}return f&c&&(p.style=C(C({},p.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:p,children:e}}function L(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0;r<t.length;r++){var i=t[r];if("text"===i.type)n.push(R({children:[i],className:y(new Set(e))}));else if(i.children){var o=e.concat(i.properties.className);L(i.children,o).forEach((function(t){return n.push(t)}))}}return n}function D(t,e,n,r,i,o,a,s,u){var l,c=L(t.value),f=[],p=-1,h=0;function d(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return R({children:t,lineNumber:e,lineNumberStyle:s,largestLineNumber:a,showInlineLineNumbers:i,lineProps:n,className:o,showLineNumbers:r,wrapLongLines:u})}function g(t,e){if(r&&e&&i){var n=k(s,e,a);t.unshift(I(e,n))}return t}function v(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e||r.length>0?d(t,n,r):g(t,n)}for(var y=function(){var t=c[h],e=t.children[0].value,n=function(t){return t.match(P)}(e);if(n){var i=e.split("\n");i.forEach((function(e,n){var a=r&&f.length+o,s={type:"text",value:"".concat(e,"\n")};if(0===n){var u=v(c.slice(p+1,h).concat(R({children:[s],className:t.properties.className})),a);f.push(u)}else if(n===i.length-1){var l=c[h+1]&&c[h+1].children&&c[h+1].children[0],d={type:"text",value:"".concat(e)};if(l){var g=R({children:[d],className:t.properties.className});c.splice(h+1,0,g)}else{var y=v([d],a,t.properties.className);f.push(y)}}else{var m=v([s],a,t.properties.className);f.push(m)}})),p=h}h++};h<c.length;)y();if(p!==c.length-1){var m=c.slice(p+1,c.length);if(m&&m.length){var _=v(m,r&&f.length+o);f.push(_)}}return e?f:(l=[]).concat.apply(l,f)}function N(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map((function(t,e){return A({node:t,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(e)})}))}function F(t){return t&&"undefined"!==typeof t.highlightAuto}var j,B,z=n(8959),U=n.n(z),V=(j=U(),B={},function(t){var e=t.language,n=t.children,i=t.style,o=void 0===i?B:i,a=t.customStyle,s=void 0===a?{}:a,u=t.codeTagProps,l=void 0===u?{className:e?"language-".concat(e):void 0,style:C(C({},o['code[class*="language-"]']),o['code[class*="language-'.concat(e,'"]')])}:u,c=t.useInlineStyles,f=void 0===c||c,p=t.showLineNumbers,h=void 0!==p&&p,d=t.showInlineLineNumbers,g=void 0===d||d,y=t.startingLineNumber,m=void 0===y?1:y,_=t.lineNumberContainerStyle,b=t.lineNumberStyle,x=void 0===b?{}:b,w=t.wrapLines,S=t.wrapLongLines,E=void 0!==S&&S,A=t.lineProps,T=void 0===A?{}:A,P=t.renderer,I=t.PreTag,k=void 0===I?"pre":I,R=t.CodeTag,L=void 0===R?"code":R,z=t.code,U=void 0===z?(Array.isArray(n)?n[0]:n)||"":z,V=t.astGenerator,G=v(t,O);V=V||j;var W=h?r.createElement(M,{containerStyle:_,codeStyle:l.style||{},numberStyle:x,startingLineNumber:m,codeString:U}):null,H=o.hljs||o['pre[class*="language-"]']||{backgroundColor:"#fff"},Y=F(V)?"hljs":"prismjs",X=f?Object.assign({},G,{style:Object.assign({},H,s)}):Object.assign({},G,{className:G.className?"".concat(Y," ").concat(G.className):Y,style:Object.assign({},s)});if(l.style=C(C({},l.style),{},E?{whiteSpace:"pre-wrap"}:{whiteSpace:"pre"}),!V)return r.createElement(k,X,W,r.createElement(L,l,U));(void 0===w&&P||E)&&(w=!0),P=P||N;var q=[{type:"text",value:U}],Z=function(t){var e=t.astGenerator,n=t.language,r=t.code,i=t.defaultCodeValue;if(F(e)){var o=function(t,e){return-1!==t.listLanguages().indexOf(e)}(e,n);return"text"===n?{value:i,language:"text"}:o?e.highlight(n,r):e.highlightAuto(r)}try{return n&&"text"!==n?{value:e.highlight(r,n)}:{value:i}}catch(a){return{value:i}}}({astGenerator:V,language:e,code:U,defaultCodeValue:q});null===Z.language&&(Z.value=q);var K=D(Z,w,T,h,g,m,Z.value.length+m,x,E);return r.createElement(k,X,r.createElement(L,l,!g&&W,P({rows:K,stylesheet:o,useInlineStyles:f})))});V.registerLanguage=function(t,e){return U().register(e)},V.alias=function(t,e){return U().alias(t,e)};var G=V,W={'code[class*="language-"]':{color:"#c5c8c6",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#c5c8c6",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:"Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",borderRadius:"0.3em",background:"#1d1f21"},':not(pre) > code[class*="language-"]':{background:"#1d1f21",padding:".1em",borderRadius:".3em"},comment:{color:"#7C7C7C"},prolog:{color:"#7C7C7C"},doctype:{color:"#7C7C7C"},cdata:{color:"#7C7C7C"},punctuation:{color:"#c5c8c6"},".namespace":{Opacity:".7"},property:{color:"#96CBFE"},keyword:{color:"#96CBFE"},tag:{color:"#96CBFE"},"class-name":{color:"#FFFFB6",textDecoration:"underline"},boolean:{color:"#99CC99"},constant:{color:"#99CC99"},symbol:{color:"#f92672"},deleted:{color:"#f92672"},number:{color:"#FF73FD"},selector:{color:"#A8FF60"},"attr-name":{color:"#A8FF60"},string:{color:"#A8FF60"},char:{color:"#A8FF60"},builtin:{color:"#A8FF60"},inserted:{color:"#A8FF60"},variable:{color:"#C6C5FE"},operator:{color:"#EDEDED"},entity:{color:"#FFFFB6",cursor:"help"},url:{color:"#96CBFE"},".language-css .token.string":{color:"#87C38A"},".style .token.string":{color:"#87C38A"},atrule:{color:"#F9EE98"},"attr-value":{color:"#F9EE98"},function:{color:"#DAD085"},regex:{color:"#E9C062"},important:{color:"#fd971f",fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}},H=n(765),Y=n.n(H)(),X=n(9135),q=n.n(X)(),Z=n(4802),K=n(5587),Q=n.n(K),J=n(184),$=function(t){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("button",s(s({},t),{},{className:"button",children:[(0,J.jsx)("div",{className:"text",children:(0,J.jsx)("span",{"data-text":"Open file",children:"DOWNLOAD"})}),(0,J.jsxs)("div",{className:"icons",children:[(0,J.jsx)("svg",{className:"arrow",children:(0,J.jsx)("use",{xlinkHref:"#arrow"})}),(0,J.jsx)("svg",{className:"line",children:(0,J.jsx)("path",{d:"M1 3h16"})}),(0,J.jsx)("svg",{className:"check",children:(0,J.jsx)("path",{d:"M16 1L5 12 1 8"})})]})]})),(0,J.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"},children:(0,J.jsxs)("symbol",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 16",id:"arrow",children:[(0,J.jsx)("path",{d:"M7 1v14"}),(0,J.jsx)("path",{d:"M13 9l-6 6-6-6"})]})})]})};function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var et=n(7220),nt=et.Gr.ReactElement,rt=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.components=[],this.sample=[],this.jsxCode="",this.jsxBodyCode="",this.componentsCode="",this.sampleCode="",this.lessCode="",this.globalLessCode="",this.basisWidth=1,this.transformValue=function(t,e,n){var r=n.width;if("number"!==typeof e)return e;switch(t){case"width":return"".concat(e/i.basisWidth*100,"vw");case"height":return"".concat(Number(r)/i.basisWidth*(e/Number(r))*100,"vw");case"left":case"top":return e?"".concat(e/i.basisWidth*100,"vw"):0;default:return"".concat(2*e,"px")}},this.transformReactCSSProperties=function(t){var e,n="",r=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n+=i.charCodeAt(0)<97?"-".concat(i.toLocaleLowerCase()):i}}catch(o){r.e(o)}finally{r.f()}return n},this.generateCssProperty=function(t,e,n){return"  ".concat(i.transformReactCSSProperties(t),": ").concat(i.transformValue(t,e,n),";")},this.getClassCode=function(t,e){var n=".".concat(t," {\n");return n+=Object.entries(e).filter((function(t){var e=c(t,2),n=e[0];return e[1]||"top"===n||"left"===n})).map((function(t){var n=c(t,2),r=n[0],o=n[1];return i.generateCssProperty(r,o,e)})).join("\n"),n+="\n};\n\n"},this.getImportCode=function(){var t='import React from "react";\n';return i.components&&i.components.length&&(t+="import { ".concat(i.components.join(", "),' } from "./components";\n')),i.sample&&i.sample.length&&(t+="import { ".concat(i.sample.join(", "),' } from "./data";\n')),t+='\nimport styles from "./index.less";\n'},this.basisWidth=Number(n.width);var o=s(s({},n),{},{width:"100vw",height:"100vh",position:"relative"});if(this.lessCode+=this.getClassCode("wrapper",o),this.jsxBodyCode+="\nconst BILargeScreen: React.FC = () => {\r\n",this.jsxBodyCode+="  return (\n",this.jsxBodyCode+="    <div className={styles.wrapper}>",Object.entries(e).forEach((function(t){var e=c(t,2),n=e[0],o=e[1],a=o.type,u=o.config,l=o.data,f=o.reactElement,p=o.properties,h=f.type,d=h.displayName,g=h.jsxCode,v=h.styleCode;d&&g&&"component"===a&&!i.components.includes(d)&&(i.components.push(d),i.componentsCode+="\n".concat(g.replaceAll("ReReactFC","React.FC"),"\n"),v&&(i.globalLessCode+="".concat(i.globalLessCode?"\n\n":"").concat(v))),l&&(i.sample.push("json_".concat(n)),i.sampleCode+="const json_".concat(n," = ").concat(JSON.stringify(l),";\n\n")),i.jsxBodyCode+="\n      ",i.jsxBodyCode+=(0,et.WU)(r.cloneElement(f,{className:"styles.".concat(a,"_").concat(n),config:u?JSON.stringify(u):void 0,data:l?"json_".concat(n):void 0}),{min:!0,plugins:[nt],printFunctionName:!1,escapeString:!1}).replaceAll('="',"={").replaceAll('" ',"} "),i.lessCode+=i.getClassCode("".concat(a,"_").concat(n),s(s({},p),{},{position:"absolute"}))})),this.jsxCode+=this.getImportCode(),this.jsxCode+=this.jsxBodyCode,this.jsxCode+="\n    </div>\n",this.jsxCode+="  )\n}\n\nexport default BILargeScreen;\n",this.components.length){var a=this.componentsCode;this.componentsCode="",a.indexOf("new Scene")>-1&&(this.componentsCode+='import { useEffect, useRef } from "react";\n',this.componentsCode+='import { Scene, HeatmapLayer } from "@antv/l7";\n',this.componentsCode+='import { Mapbox } from "@antv/l7-maps";\n'),a.indexOf("<Chart")>-1&&(this.componentsCode+='import { Area, Axis, Chart, Coordinate, Interval, Interaction, Legend, Line, Point, Tooltip } from "bizcharts";\n'),this.componentsCode+=a,this.componentsCode+="\nexport { ".concat(this.components.join(", ")," }\n")}this.sample.length&&(this.sampleCode+="export { ".concat(this.sample.join(", ")," };\n")),this.globalLessCode&&(this.lessCode+=":global {\n",this.lessCode+=this.globalLessCode,this.lessCode+="\n}")}var e,n,i;return e=t,(n=[{key:"getCodeString",value:function(){return{jsxCode:this.jsxCode,componentsCode:this.componentsCode,sampleCode:this.sampleCode,lessCode:this.lessCode}}}])&&tt(e.prototype,n),i&&tt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),it="CodeTabs_body__ADdfU",ot="CodeTabs_nav__jcdO0",at="CodeTabs_active__knNv0",st="CodeTabs_content__bw4+T";G.registerLanguage("jsx",Y),G.registerLanguage("less",q);var ut=function(t){var e=t.state,n=e.elements,i=e.backdrop,a=t.visible,s=c((0,r.useState)(0),2),u=s[0],l=s[1],f=c((0,r.useState)({jsxCode:"",componentsCode:"",sampleCode:"",lessCode:""}),2),d=f[0],v=f[1];(0,r.useEffect)((function(){if(a){var t=new rt(n,i);v(t.getCodeString())}}),[i,n,a]);var y=function(){var t,e=(t=g().mark((function t(){var e,n,r,i,o,a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="BILargeScreen",n=new(Q()),(r=n.folder(e.toString()))&&(i=d.jsxCode,o=d.componentsCode,a=d.sampleCode,s=d.lessCode,i&&r.file("index.tsx",i),o&&r.file("components.tsx",o),a&&r.file("data.ts",a),s&&r.file("index.less",s),n.generateAsync({type:"blob"},(function(){})).then((function(t){(0,Z.saveAs)(t,"".concat(e,".zip"))})));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,J.jsxs)("div",{className:it,children:[(0,J.jsxs)("div",{className:ot,children:[(0,J.jsx)("ul",{children:["JSX","COMPONENT","JSON","LESS"].map((function(t,e){return(0,J.jsx)("li",{className:p()(o({},at,e===u)),onClick:function(){return l(e)},children:t},"tab-".concat(e))}))}),(0,J.jsx)($,{style:{position:"absolute",right:18,top:9,cursor:"pointer"},onClick:y})]}),(0,J.jsx)("div",{className:st,children:(0,J.jsxs)("ul",{style:{transform:"translate(".concat(-25*u,"%, 0)")},children:[(0,J.jsx)("li",{children:(0,J.jsx)(G,{lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,language:"jsx",style:W,showLineNumbers:!0,children:d.jsxCode})}),(0,J.jsx)("li",{children:(0,J.jsx)(G,{lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,language:"jsx",style:W,showLineNumbers:!0,children:d.componentsCode})}),(0,J.jsx)("li",{children:(0,J.jsx)(G,{lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,language:"javascript",style:W,showLineNumbers:!0,children:d.sampleCode})}),(0,J.jsx)("li",{children:(0,J.jsx)(G,{language:"less",style:W,showLineNumbers:!0,children:d.lessCode})})]})})]})},lt=n(6126),ct="Drawer_mask__NBfIV",ft="Drawer_drawer__4kvXP",pt=function(t){var e=t.children,n=t.visible,r=t.onClose;return(0,J.jsx)("div",{className:ct,style:{height:n?"100%":0},onClick:function(t){t.stopPropagation(),r()},children:(0,J.jsx)("div",{className:ft,style:n?{right:0}:{},onClick:function(t){t.stopPropagation()},children:e})})},ht={icon:"Icon_icon__D3CWH"},dt=["type","className"],gt=function(t){var e=t.type,n=t.className,r=v(t,dt),i={text:(0,J.jsx)("path",{d:"M720.832 692.352h-12.64L530.208 260.448a19.968 19.968 0 0 0-36.416 0L316.608 692.352h-13.44c-7.904 0-15.04 3.968-17.408 11.072a19.872 19.872 0 0 0 18.208 27.68h56.96c9.504 0 18.208-6.336 19.776-15.808a18.752 18.752 0 0 0-15.808-21.344l36.384-87.808h159.776l34.816 87.808a18.88 18.88 0 0 0-15.808 21.344c1.568 9.504 10.272 15.808 19.776 15.808h121.024c7.904 0 15.04-3.968 17.408-11.072a19.2 19.2 0 0 0-17.408-27.68z m-306.112-125.76l64.864-158.208 64.864 158.208H414.72z m-246.816-80.704c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0-75.936c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0 151.872c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m11.872-216.736a12.16 12.16 0 0 0 11.872-11.872v-23.744c-0.8-6.336-5.536-11.072-11.872-11.072s-11.872 5.536-11.872 11.872v23.744c0 6.336 4.736 11.072 11.872 11.072z m-11.872 292.672c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0 75.936c0 7.104 4.736 11.872 11.872 11.872a12.16 12.16 0 0 0 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m665.248-227.808c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0-75.936c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0 151.872c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m11.072-216.736a12.16 12.16 0 0 0 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744c0.8 7.104 5.536 11.872 11.872 11.872z m-11.072 292.672c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m0 75.936c0 6.336 5.536 11.872 11.872 11.872s11.872-5.536 11.872-11.872v-23.744c0-6.336-5.536-11.872-11.872-11.872s-11.872 5.536-11.872 11.872v23.744z m-347.264 119.456h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872z m-75.936 0h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872z m151.872 0h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872z m-228.608 0h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-4.736-11.872-11.872-11.872z m-75.136-7.904H222.496v-11.072a12.48 12.48 0 0 0-12.672-12.64h-18.976v-37.984c0-7.104-5.536-12.64-11.872-12.64s-11.872 5.536-11.872 12.64v37.984h-10.272a12.512 12.512 0 0 0-12.672 12.64v52.992a12.48 12.48 0 0 0 12.672 12.64h52.992a12.512 12.512 0 0 0 12.672-12.64v-11.072h35.584c7.104-1.568 12.672-7.904 12.672-14.24 0-7.104-12.672-16.608-12.672-16.608z m379.68 7.904h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872z m75.936 0h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h23.744c6.336 0 11.872-5.536 11.872-11.872s-4.736-11.872-11.872-11.872z m-251.52-642.304h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872z m-75.936 0h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872z m151.872 0h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872z m-227.808 0h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872h-23.744c-7.104 0.8-11.872 5.536-11.872 12.672s4.736 11.072 11.872 11.072zM257.28 167.904H221.696v-11.072a12.512 12.512 0 0 0-12.672-12.672H156.832a12.512 12.512 0 0 0-12.672 12.672v52.992c0 7.104 5.536 12.672 12.672 12.672h11.072v35.584c1.568 7.104 7.904 12.672 14.24 12.672s16.608-12.672 16.608-12.672V222.496h11.072a12.512 12.512 0 0 0 12.672-12.672v-18.976h35.584a12.16 12.16 0 0 0 11.872-11.872 12.224 12.224 0 0 0-12.672-11.072z m356.768 22.944h23.744c6.336 0 11.872-5.536 11.872-11.872s-5.536-11.872-11.872-11.872h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872z m76.736 0h23.744c6.336 0 11.072-4.736 11.072-11.072s-5.536-11.872-11.872-11.872h-23.744c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.072 12.64 11.072z m176.384-46.656h-52.992a12.48 12.48 0 0 0-12.64 12.672v11.072h-35.584c-7.104 1.568-12.64 7.904-12.64 14.24s12.64 16.608 12.64 16.608h35.584v11.072c0 7.104 5.536 12.672 12.64 12.672h18.976v37.984c0 7.104 5.536 12.672 11.872 12.672s11.872-5.536 11.872-12.672V222.528h11.072a12.48 12.48 0 0 0 12.64-12.672V156.864a13.76 13.76 0 0 0-13.44-12.672z m0 657.312h-11.072v-35.584c-1.568-7.104-7.904-12.64-14.24-12.64-7.104 0-16.608 12.64-16.608 12.64v35.584h-11.072a12.48 12.48 0 0 0-12.64 12.64v18.976h-35.584c-6.336 0-11.872 5.536-11.872 11.872s5.536 11.872 11.872 11.872h35.584v11.072a12.48 12.48 0 0 0 12.64 12.64h52.992a12.48 12.48 0 0 0 12.64-12.64v-52.992c0-7.904-5.536-13.44-12.64-13.44z"}),pie:(0,J.jsx)("path",{d:"M896 480c-1.344 0-2.464 0.608-3.744 0.768-1.28-0.16-2.432-0.768-3.744-0.768H544V132c0-0.704-0.352-1.312-0.416-2.016 0.064-0.672 0.416-1.28 0.416-1.984a32 32 0 0 0-32-32C282.624 96 96 282.624 96 512s186.624 416 416 416 416-186.624 416-416a32 32 0 0 0-32-32zM512 864C317.92 864 160 706.08 160 512 160 328.704 300.864 177.856 480 161.632V512a32 32 0 0 0 32 32h350.368C846.144 723.136 695.296 864 512 864zM625.664 178.72a355.36 355.36 0 0 1 216.832 211.84 32 32 0 1 0 60.064-22.048 414.24 414.24 0 0 0-256.224-250.336 31.968 31.968 0 1 0-20.672 60.544z"}),square:(0,J.jsx)("path",{d:"M960.031235 159.921913v703.656418c0 52.974134-42.979014 95.953148-95.953148 95.953148h-703.656418c-52.974134 0-95.953148-42.979014-95.953148-95.953148v-703.656418c0-52.974134 42.979014-95.953148 95.953148-95.953148h703.656418c52.974134 0 95.953148 42.979014 95.953148 95.953148z m-831.593949-159.921913C57.771791 0 0.499756 57.272035 0.499756 127.937531v767.625183c0 70.665495 57.272035 127.937531 127.93753 127.93753h767.625183c70.665495 0 127.937531-57.272035 127.937531-127.93753v-767.625183c0-70.665495-57.272035-127.937531-127.937531-127.937531h-767.625183z"}),code:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("path",{d:"M438.4 849.1l222.7-646.7c0.2-0.5 0.3-1.1 0.4-1.6L438.4 849.1z"}),(0,J.jsx)("path",{d:"M661.2 168.7h-67.5c-3.4 0-6.5 2.2-7.6 5.4L354.7 846c-0.3 0.8-0.4 1.7-0.4 2.6 0 4.4 3.6 8 8 8h67.8c3.4 0 6.5-2.2 7.6-5.4l0.7-2.1 223.1-648.3 7.4-21.4c0.3-0.8 0.4-1.7 0.4-2.6-0.1-4.5-3.6-8.1-8.1-8.1zM954.6 502.1c-0.8-1-1.7-1.9-2.7-2.7l-219-171.3c-3.5-2.7-8.5-2.1-11.2 1.4-1.1 1.4-1.7 3.1-1.7 4.9v81.3c0 2.5 1.1 4.8 3.1 6.3l115 90-115 90c-1.9 1.5-3.1 3.8-3.1 6.3v81.3c0 4.4 3.6 8 8 8 1.8 0 3.5-0.6 4.9-1.7l219-171.3c6.9-5.4 8.2-15.5 2.7-22.5zM291.1 328.1l-219 171.3c-1 0.8-1.9 1.7-2.7 2.7-5.4 7-4.2 17 2.7 22.5l219 171.3c1.4 1.1 3.1 1.7 4.9 1.7 4.4 0 8-3.6 8-8v-81.3c0-2.5-1.1-4.8-3.1-6.3l-115-90 115-90c1.9-1.5 3.1-3.8 3.1-6.3v-81.3c0-1.8-0.6-3.5-1.7-4.9-2.7-3.5-7.7-4.1-11.2-1.4z"})]}),menu:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("path",{d:"M0 0h1024v1024H0z",fillOpacity:".01"}),(0,J.jsx)("path",{d:"M853.333333 192V256H170.666667V192zM725.333333 490.666667V554.666667H170.666667v-64zM853.333333 789.333333V853.333333H170.666667v-64z"})]}),left:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("path",{d:"M544.02 156.2l-64.04-56.4-363.75 413.02 363.81 411.44 63.92-56.52-313.93-355.03z"}),(0,J.jsx)("path",{d:"M881.09 156.2l-64.04-56.4-363.76 413.02L817.1 924.26l63.93-56.52L567.1 512.71z"})]}),eye:(0,J.jsx)("path",{d:"M821.776 194.237c11.558 11.425 11.844 29.94 0.782 41.714l-0.544 0.564-611.895 618.61c-11.613 11.74-30.547 11.846-42.29 0.237-11.558-11.425-11.844-29.939-0.782-41.714l0.544-0.564 611.895-618.61c11.612-11.74 30.547-11.846 42.29-0.237z m-47.783 128.519c47.302 47.427 91.791 106.644 133.437 177.482l3.57 6.114-1.124 0.65 1.124 0.652C792.227 712.385 650.134 821.879 485.434 832.2v0.805l-5.264-0.033c-2.562-0.032-5.12-0.088-7.671-0.167-2.549 0.08-5.106 0.135-7.669 0.167l-5.264 0.033v-0.805c-53.85-3.375-105.284-17.351-154.276-41.792l45.141-45.035c39.246 16.884 79.93 26.052 122.07 27.604 138.576-5.104 261.409-92.568 369.145-265.97v-0.01c-35.042-56.4-71.682-103.709-109.94-142.049l42.287-42.192zM485.434 181v0.805c70.587 4.424 137.021 27.063 199.247 67.609l-43.445 43.347C587.82 260.357 531.592 243.205 472.5 241.03c-138.578 5.103-261.41 92.567-369.147 265.969v0.01c46.173 74.315 95.12 132.846 146.889 175.874l-42.468 42.375C146.6 673.293 89.845 602.686 37.57 513.767L34 507.654l1.123-0.652-1.123-0.65C152.773 301.62 294.866 192.127 459.566 181.805V181l5.264 0.033c2.563 0.032 5.12 0.088 7.672 0.167a414.36 414.36 0 0 1 7.668-0.167l5.264-0.033zM621.7 474.712c4.236 13.255 6.523 27.38 6.523 42.039 0 76.204-61.794 137.98-138.021 137.98-14.759 0-28.977-2.316-42.31-6.604l54.21-54.087c33.617-5.13 60.192-31.655 65.389-65.24l54.21-54.088z m-131.498-95.941c19.122 0 37.336 3.888 53.894 10.915l-49.13 49.019a79.448 79.448 0 0 0-4.764-0.143c-43.196 0-78.212 35.006-78.212 78.189 0 1.548 0.045 3.085 0.133 4.61l-49.129 49.021c-6.963-16.487-10.814-34.61-10.814-53.631 0-76.204 61.795-137.98 138.022-137.98z"}),line:(0,J.jsx)("path",{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z"}),map:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("path",{d:"M224 96c-70.4 0-128 57.6-128 128v352L576 96H224zM96 768v32c0 70.4 57.6 128 128 128h199.385L211.478 652.522 96 768zM800 96h-32L301.913 562.087 583.385 928H800c70.4 0 128-57.6 128-128V224c0-70.4-57.6-128-128-128zM688 672c-79.529 0-144-64.471-144-144s64.471-144 144-144 144 64.471 144 144-64.471 144-144 144z"}),(0,J.jsx)("path",{d:"M688 528m-80 0a80 80 0 1 0 160 0 80 80 0 1 0-160 0Z"})]})};return(0,J.jsx)("span",s(s({className:[ht.icon,n].join(" ")},r),{},{children:(0,J.jsx)("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 1024 1024",children:i[e]})}))},vt="Setting_setting__ejGqN",yt="Setting_body__b0DAt",mt="Setting_putAway__zMgIy",_t="Setting_item__8+b2f",bt={backgroundImage:"\u80cc\u666f\u56fe\u7247",backgroundSize:"\u80cc\u666f\u5c3a\u5bf8",backgroundColor:"\u80cc\u666f\u989c\u8272",backgroundRepeat:"\u5e73\u94fa\u6a21\u5f0f",backgroundPosition:"\u80cc\u666f\u4f4d\u7f6e",fontFamily:"\u5b57\u4f53",fontSize:"\u5b57\u4f53\u5927\u5c0f",borderWidth:"\u8fb9\u6846\u5bbd\u5ea6",borderStyle:"\u8fb9\u6846\u6837\u5f0f",borderColor:"\u8fb9\u6846\u989c\u8272",borderRadius:"\u8fb9\u6846\u5706\u89d2",width:"\u5bbd\u5ea6",height:"\u9ad8\u5ea6",top:"y\u8f74\u4f4d\u7f6e",left:"x\u8f74\u4f4d\u7f6e"},xt={total:"\u5408\u8ba1",unit:"\u5355\u4f4d",title:"\u6807\u9898",leftTitle:"\u5de6\u6807\u9898",rightTitle:"\u53f3\u6807\u9898"},wt=["top","left","width","height","borderRadius","borderWidth","fontSize"],St=function(t){var e=t.visible,n=t.checked,r=t.data,i=t.config,a=void 0===i?{}:i,u=t.properties,l=t.element,f=t.dispatch,p=t.onClose;return(0,J.jsxs)("div",{className:vt,style:e?{right:0}:{},onClick:function(t){t.stopPropagation()},children:[(0,J.jsx)("div",{className:mt,onClick:function(){return p(!e)},children:(0,J.jsx)(gt,{type:"left",style:{color:"#bcc8d4",fontSize:18,transform:"rotateY(".concat(e?"180deg":"0",")"),transition:"all 0.25s ease-in-out"}})}),(0,J.jsxs)("div",{className:yt,children:[r&&(0,J.jsxs)("div",{className:_t,style:{height:100},children:[(0,J.jsx)("label",{children:"\u793a\u4f8b\u6570\u636e: "}),(0,J.jsx)("textarea",{value:JSON.stringify(r),name:"data",onChange:function(t){return function(t){try{var e=JSON.parse(t.target.value);f({type:"update",payload:{key:n,draggingElement:s(s({},l),{},{data:e})}})}catch(r){console.error("please enter json string!")}}(t)}})]},"data"),Object.entries(a).map((function(t){var e=c(t,2),r=e[0],i=e[1];return(0,J.jsxs)("div",{className:_t,children:[(0,J.jsxs)("label",{children:[xt[r]||r,": "]}),(0,J.jsx)("input",{value:i,type:"text",name:toString(),onChange:function(t){return function(t,e){f({type:"update",payload:{key:n,draggingElement:s(s({},l),{},{config:s(s({},a),{},o({},e,t.target.value))})}})}(t,r)}})]},r)})),Object.entries(u).map((function(t){var e=c(t,2),r=e[0],i=e[1];return(0,J.jsxs)("div",{className:_t,children:[(0,J.jsxs)("label",{children:[bt[r]||r,": "]}),(0,J.jsx)("input",{value:"number"===typeof i?2*i:i,type:"text",name:toString(),onChange:function(t){return function(t,e){f(n?{type:"update",payload:{key:n,draggingElement:s(s({},l),{},{properties:s(s({},u),{},o({},e,wt.includes(e)?Number(t.target.value)/2:t.target.value))})}}:{type:"backdrop",payload:o({},e,wt.includes(e)?Number(t.target.value)/2:t.target.value)})}(t,r)}})]},r)}))]})]})};function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=function(t){var e=(0,r.useRef)(null),n=t.width,i=t.height,o=t.direction,a=t.style,s=void 0===a?{}:a,u=t.className,l=void 0===u?"":u,c=t.backgroundColor,f=void 0===c?"#15161f":c,p=t.lineColor,h=void 0===p?"#404040":p,d=t.fontColor,g=void 0===d?"#A8A8A8":d,v=(0,r.useCallback)((function(t,e){var n=t.offsetWidth,r=t.offsetHeight;t.width=2*n,t.height=2*r;var i="horizontal"===e?2*n:2*r,o=t.getContext("2d");if(o){o.strokeStyle=h,o.lineWidth=1,o.lineJoin="round",o.lineCap="round",o.beginPath();for(var a=0;a<i;a+=2)"horizontal"===e?o.moveTo(a,40):o.moveTo(40,a),a%10===0&&(a%150===0?"horizontal"===e?o.lineTo(a,0):o.lineTo(0,a):"horizontal"===e?o.lineTo(a,26):o.lineTo(26,a)),a%150===0&&("vertical"===e&&(o.save(),o.translate(8,8),o.rotate(-Math.PI/2)),o.fillStyle=g,o.font="20px serif",o.textAlign="left",o.textBaseline="middle","vertical"===e?(o.fillText(a.toString(),-Math.abs(a-14),6),o.restore()):o.fillText(a.toString(),a+6,13));o.closePath(),o.stroke(),o.scale(.5,.5)}}),[g,h]);return(0,r.useEffect)((function(){e.current&&o&&v(e.current,o)}),[o,v]),r.createElement("canvas",{className:l,style:At(At({},s),{},{backgroundColor:f,width:n,height:i}),role:"ruler",ref:e})},Ct=n(6729),Pt=n.n(Ct),Mt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=function(){return It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},It.apply(this,arguments)},kt={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return Mt(e,t),e.prototype.render=function(){return r.createElement("div",{className:this.props.className||"",style:It(It({position:"absolute",userSelect:"none"},kt[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},e}(r.PureComponent),Lt=n(3313),Dt=n.n(Lt),Nt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ft.apply(this,arguments)},jt={width:"auto",height:"auto"},Bt=Dt()((function(t,e,n){return Math.max(Math.min(t,n),e)})),zt=Dt()((function(t,e){return Math.round(t/e)*e})),Ut=Dt()((function(t,e){return new RegExp(t,"i").test(e)})),Vt=function(t){return Boolean(t.touches&&t.touches.length)},Gt=Dt()((function(t,e,n){void 0===n&&(n=0);var r=e.reduce((function(n,r,i){return Math.abs(r-t)<Math.abs(e[n]-t)?i:n}),0),i=Math.abs(e[r]-t);return 0===n||i<n?e[r]:t})),Wt=Dt()((function(t,e){return t.substr(t.length-e.length,e.length)===e})),Ht=Dt()((function(t){return"auto"===(t=t.toString())||Wt(t,"px")||Wt(t,"%")||Wt(t,"vh")||Wt(t,"vw")||Wt(t,"vmax")||Wt(t,"vmin")?t:t+"px"})),Yt=function(t,e,n,r){if(t&&"string"===typeof t){if(Wt(t,"px"))return Number(t.replace("px",""));if(Wt(t,"%"))return e*(Number(t.replace("%",""))/100);if(Wt(t,"vw"))return n*(Number(t.replace("vw",""))/100);if(Wt(t,"vh"))return r*(Number(t.replace("vh",""))/100)}return t},Xt=Dt()((function(t,e,n,r,i,o,a){return r=Yt(r,t.width,e,n),i=Yt(i,t.height,e,n),o=Yt(o,t.width,e,n),a=Yt(a,t.height,e,n),{maxWidth:"undefined"===typeof r?void 0:Number(r),maxHeight:"undefined"===typeof i?void 0:Number(i),minWidth:"undefined"===typeof o?void 0:Number(o),minHeight:"undefined"===typeof a?void 0:Number(a)}})),qt=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Zt="__resizable_base__",Kt=function(t){function e(e){var n=t.call(this,e)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var t=n.parentNode;if(!t)return null;var e=n.window.document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.transform="scale(0, 0)",e.style.left="0",e.style.flex="0",e.classList?e.classList.add(Zt):e.className+=Zt,t.appendChild(e),e},n.removeBase=function(t){var e=n.parentNode;e&&e.removeChild(t)},n.ref=function(t){t&&(n.resizable=t)},n.state={isResizing:!1,width:"undefined"===typeof(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:"undefined"===typeof(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return Nt(e,t),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||jt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,e=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),t="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,e="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,n=function(e){if("undefined"===typeof t.state[e]||"auto"===t.state[e])return"auto";if(t.propsSize&&t.propsSize[e]&&Wt(t.propsSize[e].toString(),"%")){if(Wt(t.state[e].toString(),"%"))return t.state[e].toString();var n=t.getParentSize();return Number(t.state[e].toString().replace("px",""))/n[e]*100+"%"}return Ht(t.state[e])};return{width:e&&"undefined"!==typeof e.width&&!this.state.isResizing?Ht(e.width):n("width"),height:e&&"undefined"!==typeof e.height&&!this.state.isResizing?Ht(e.height):n("height")}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var e=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(e=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%";var r={width:t.offsetWidth,height:t.offsetHeight};return e&&(this.parentNode.style.flexWrap=n),this.removeBase(t),r},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(this.resizable&&this.window){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==t.flexBasis?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,e){var n=this.propsSize&&this.propsSize[e];return"auto"!==this.state[e]||this.state.original[e]!==t||"undefined"!==typeof n&&"auto"!==n?t:"auto"},e.prototype.calculateNewMaxFromBoundary=function(t,e){var n,r,i=this.props.boundsByDirection,o=this.state.direction,a=i&&Ut("left",o),s=i&&Ut("top",o);if("parent"===this.props.bounds){var u=this.parentNode;u&&(n=a?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(t=t&&t<n?t:n),r&&Number.isFinite(r)&&(e=e&&e<r?e:r),{maxWidth:t,maxHeight:e}},e.prototype.calculateNewSizeFromDirection=function(t,e){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,f=a.width,p=a.height,h=l||0,d=c||0;return Ut("right",o)&&(f=a.width+(t-a.x)*r/n,u&&(p=(f-d)/this.ratio+h)),Ut("left",o)&&(f=a.width-(t-a.x)*r/n,u&&(p=(f-d)/this.ratio+h)),Ut("bottom",o)&&(p=a.height+(e-a.y)*r/n,u&&(f=(p-h)*this.ratio+d)),Ut("top",o)&&(p=a.height-(e-a.y)*r/n,u&&(f=(p-h)*this.ratio+d)),{newWidth:f,newHeight:p}},e.prototype.calculateNewSizeFromAspectRatio=function(t,e,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u="undefined"===typeof r.width?10:r.width,l="undefined"===typeof n.width||n.width<0?t:n.width,c="undefined"===typeof r.height?10:r.height,f="undefined"===typeof n.height||n.height<0?e:n.height,p=a||0,h=s||0;if(o){var d=(c-p)*this.ratio+h,g=(f-p)*this.ratio+h,v=(u-h)/this.ratio+p,y=(l-h)/this.ratio+p,m=Math.max(u,d),_=Math.min(l,g),b=Math.max(c,v),x=Math.min(f,y);t=Bt(t,m,_),e=Bt(e,b,x)}else t=Bt(t,u,l),e=Bt(e,c,f);return{newWidth:t,newHeight:e}},e.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var t=this.parentNode;if(t){var e=t.getBoundingClientRect();this.parentLeft=e.left,this.parentTop=e.top}}if(this.props.bounds&&"string"!==typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,a=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=a,this.resizableTop=o,this.resizableBottom=s}},e.prototype.onResizeStart=function(t,e){if(this.resizable&&this.window){var n,r=0,i=0;if(t.nativeEvent&&function(t){return Boolean((t.clientX||0===t.clientX)&&(t.clientY||0===t.clientY))}(t.nativeEvent)?(r=t.nativeEvent.clientX,i=t.nativeEvent.clientY):t.nativeEvent&&Vt(t.nativeEvent)&&(r=t.nativeEvent.touches[0].clientX,i=t.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(t,e,this.resizable))return;this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ft(Ft({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:e,flexBasis:n};this.setState(u)}},e.prototype.onMouseMove=function(t){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&Vt(t))try{t.preventDefault(),t.stopPropagation()}catch(A){}var e=this.props,n=e.maxWidth,r=e.maxHeight,i=e.minWidth,o=e.minHeight,a=Vt(t)?t.touches[0].clientX:t.clientX,s=Vt(t)?t.touches[0].clientY:t.clientY,u=this.state,l=u.direction,c=u.original,f=u.width,p=u.height,h=this.getParentSize(),d=Xt(h,this.window.innerWidth,this.window.innerHeight,n,r,i,o);n=d.maxWidth,r=d.maxHeight,i=d.minWidth,o=d.minHeight;var g=this.calculateNewSizeFromDirection(a,s),v=g.newHeight,y=g.newWidth,m=this.calculateNewMaxFromBoundary(n,r),_=this.calculateNewSizeFromAspectRatio(y,v,{width:m.maxWidth,height:m.maxHeight},{width:i,height:o});if(y=_.newWidth,v=_.newHeight,this.props.grid){var b=zt(y,this.props.grid[0]),x=zt(v,this.props.grid[1]),w=this.props.snapGap||0;y=0===w||Math.abs(b-y)<=w?b:y,v=0===w||Math.abs(x-v)<=w?x:v}this.props.snap&&this.props.snap.x&&(y=Gt(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=Gt(v,this.props.snap.y,this.props.snapGap));var S={width:y-c.width,height:v-c.height};if(f&&"string"===typeof f)if(Wt(f,"%"))y=y/h.width*100+"%";else if(Wt(f,"vw")){y=y/this.window.innerWidth*100+"vw"}else if(Wt(f,"vh")){y=y/this.window.innerHeight*100+"vh"}if(p&&"string"===typeof p)if(Wt(p,"%"))v=v/h.height*100+"%";else if(Wt(p,"vw")){v=v/this.window.innerWidth*100+"vw"}else if(Wt(p,"vh")){v=v/this.window.innerHeight*100+"vh"}var E={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?E.flexBasis=E.width:"column"===this.flexDir&&(E.flexBasis=E.height),this.setState(E),this.props.onResize&&this.props.onResize(t,l,this.resizable,S)}},e.prototype.onMouseUp=function(t){var e=this.state,n=e.isResizing,r=e.direction,i=e.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(t,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ft(Ft({},this.state.backgroundStyle),{cursor:"auto"})})}},e.prototype.updateSize=function(t){this.setState({width:t.width,height:t.height})},e.prototype.renderResizer=function(){var t=this,e=this.props,n=e.enable,i=e.handleStyles,o=e.handleClasses,a=e.handleWrapperStyle,s=e.handleWrapperClass,u=e.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(e){return!1!==n[e]?r.createElement(Rt,{key:e,direction:e,onResizeStart:t.onResizeStart,replaceStyles:i&&i[e],className:o&&o[e]},u&&u[e]?u[e]:null):null}));return r.createElement("div",{className:s,style:a},l)},e.prototype.render=function(){var t=this,e=Object.keys(this.props).reduce((function(e,n){return-1!==qt.indexOf(n)||(e[n]=t.props[n]),e}),{}),n=Ft(Ft(Ft({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return r.createElement(i,Ft({ref:this.ref,style:n,className:this.props.className},e),this.state.isResizing&&r.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(r.PureComponent),Qt=function(t,e){return Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Qt(t,e)};var Jt=function(){return Jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Jt.apply(this,arguments)};var $t=Pt(),te={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},ee=function(t){function e(e){var n=t.call(this,e)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(t){t&&(n.draggable=t)},n.refResizable=function(t){t&&(n.resizable=t,n.resizableElement.current=t.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(t,e){function n(){this.constructor=t}Qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,n=t.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-e,y:o-n}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state;return{x:t.x,y:t.y}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){return{maxWidth:"undefined"===typeof this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:"undefined"===typeof this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var a=i.getBoundingClientRect(),s=a.left,u=a.top,l=document.body.getBoundingClientRect(),c=-(s-i.offsetLeft*o-l.left)/o,f=-(u-i.offsetTop*o-l.top)/o,p=(document.body.offsetWidth-this.resizable.size.width*o)/o+c,h=(document.body.offsetHeight-this.resizable.size.height*o)/o+f;return this.setState({bounds:{top:f,right:p,bottom:h,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var d=i.getBoundingClientRect(),g=d.left,v=d.top,y=-(g-i.offsetLeft*o)/o,m=-(v-i.offsetTop*o)/o;p=(window.innerWidth-this.resizable.size.width*o)/o+y,h=(window.innerHeight-this.resizable.size.height*o)/o+m;return this.setState({bounds:{top:m,right:p,bottom:h,left:y}})}r=document.querySelector(this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var _=r.getBoundingClientRect(),b=_.left,x=_.top,w=i.getBoundingClientRect(),S=(b-w.left)/o,E=x-w.top;if(this.resizable){this.updateOffsetFromParent();var A=this.offsetFromParent;this.setState({bounds:{top:E-A.top,right:S+(r.offsetWidth-this.resizable.size.width)-A.left/o,bottom:E+(r.offsetHeight-this.resizable.size.height)-A.top,left:S-A.left/o}})}}}},e.prototype.onDrag=function(t,e){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(t,Jt(Jt({},e),{x:e.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(t,Jt(Jt({},e),{x:this.originalPosition.x+r,y:e.y+i,deltaX:0})):void 0:this.props.onDrag(t,Jt(Jt({},e),{x:e.x-r,y:e.y-i}))}},e.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(t,Jt(Jt({},e),{x:e.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(t,Jt(Jt({},e),{x:this.originalPosition.x+r,y:e.y+i,deltaX:0})):void 0:this.props.onDragStop(t,Jt(Jt({},e),{x:e.x+r,y:e.y+i}))}},e.prototype.onResizeStart=function(t,e,n){t.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),s=void 0;s="parent"===this.props.bounds?a:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var l=this.getMaxSizesFromProps(),c=l.maxWidth,f=l.maxHeight,p=this.getParentSize();if(c&&"string"===typeof c)if(c.endsWith("%")){var h=Number(c.replace("%",""))/100;c=p.width*h}else c.endsWith("px")&&(c=Number(c.replace("px","")));if(f&&"string"===typeof f)if(f.endsWith("%")){h=Number(f.replace("%",""))/100;f=p.width*h}else f.endsWith("px")&&(f=Number(f.replace("px","")));var d=u.getBoundingClientRect(),g=d.left,v=d.top,y="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),m=y.left,_=y.top,b=this.getOffsetWidth(s),x=this.getOffsetHeight(s),w=e.toLowerCase().endsWith("left"),S=e.toLowerCase().endsWith("right"),E=e.startsWith("top"),A=e.startsWith("bottom");if((w||E)&&this.resizable){var O=(g-m)/r+this.resizable.size.width;this.setState({maxWidth:O>Number(c)?c:O})}if(S||this.props.lockAspectRatio&&!w&&!E){O=b+(m-g)/r;this.setState({maxWidth:O>Number(c)?c:O})}if((E||w)&&this.resizable){O=(v-_)/r+this.resizable.size.height;this.setState({maxHeight:O>Number(f)?f:O})}if(A||this.props.lockAspectRatio&&!E&&!w){O=x+(_-v)/r;this.setState({maxHeight:O>Number(f)?f:O})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,n)},e.prototype.onResize=function(t,e,n,r){var i={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,a=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(e)&&("bottomLeft"===e?i.x+=o:("topRight"===e||(i.x+=o),i.y+=a)),i.x===this.draggable.state.x&&i.y===this.draggable.state.y||this.draggable.setState(i),this.updateOffsetFromParent();var s=this.offsetFromParent,u=this.getDraggablePosition().x+s.left,l=this.getDraggablePosition().y+s.top;this.resizingPosition={x:u,y:l},this.props.onResize&&this.props.onResize(t,e,n,r,{x:u,y:l})},e.prototype.onResizeStop=function(t,e,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(t,e,n,r,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),n=this.getSelfElement();if(!e||null===n)return{top:0,left:0};var r=e.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),u=e.scrollLeft,l=e.scrollTop;this.offsetFromParent={left:a.left-i+u-s.x*t,top:a.top-o+l-s.y*t}},e.prototype.render=function(){var t=this.props,e=t.disableDragging,n=t.style,i=t.dragHandleClassName,o=t.position,a=t.onMouseDown,s=t.onMouseUp,u=t.dragAxis,l=t.dragGrid,c=t.bounds,f=t.enableUserSelectHack,p=t.cancel,h=t.children,d=(t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop,t.resizeHandleStyles),g=t.resizeHandleClasses,v=t.resizeHandleComponent,y=t.enableResizing,m=t.resizeGrid,_=t.resizeHandleWrapperClass,b=t.resizeHandleWrapperStyle,x=t.scale,w=t.allowAnyClick,S=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),E=this.props.default?Jt({},this.props.default):void 0;delete S.default;var A,O=e||i?{cursor:"auto"}:{cursor:"move"},T=Jt(Jt(Jt({},te),O),n),C=this.offsetFromParent,P=C.left,M=C.top;o&&(A={x:o.x-P,y:o.y-M});var I,k=this.state.resizing?void 0:A,R=this.state.resizing?"both":u;return(0,r.createElement)($t,{ref:this.refDraggable,handle:i?"."+i:void 0,defaultPosition:E,onMouseDown:a,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:R,disabled:e,grid:l,bounds:c?this.state.bounds:void 0,position:k,enableUserSelectHack:f,cancel:p,scale:x,allowAnyClick:w,nodeRef:this.resizableElement},(0,r.createElement)(Kt,Jt({},S,{ref:this.refResizable,defaultSize:E,size:this.props.size,enable:"boolean"===typeof y?(I=y,{bottom:I,bottomLeft:I,bottomRight:I,left:I,right:I,top:I,topLeft:I,topRight:I}):y,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:T,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:m,handleWrapperClass:_,handleWrapperStyle:b,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:d,handleClasses:g,handleComponent:v,scale:this.props.scale}),h))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(r.PureComponent),ne="RulerCanvas_ruler__aTONl",re="RulerCanvas_aided__usuA3",ie="RulerCanvas_abscissa__NUWDe",oe="RulerCanvas_ordinate__eaIke",ae="RulerCanvas_container__try1g",se="RulerCanvas_backdrop__rukec",ue="RulerCanvas_layer__U21hN",le="RulerCanvas_guides__csQc0",ce="RulerCanvas_line__g-mlf",fe="RulerCanvas_spacing__nrRSw",pe="RulerCanvas_vertical__QzdHJ",he="RulerCanvas_horizon__gX5UQ",de="RulerCanvas_checked__Lbcyc",ge="RulerCanvas_cur__4Uv+b",ve="RulerCanvas_dots__mYsK9";var ye=function(t){var e=t.state,n=t.dispatch,i=e.checked,a=e.elements,u=e.backdrop,l=e.dragging,f=c((0,r.useState)(!1),2),h=f[0],d=f[1],g=c((0,r.useState)(!1),2),v=g[0],y=g[1],m=c((0,r.useState)(),2),_=m[0],b=m[1],x=c((0,r.useState)([]),2),w=x[0],S=x[1],E=(0,r.useCallback)((function(t){"backspace"===t.key.toLocaleLowerCase()&&i&&!v&&n({type:"delete",payload:{key:i}})}),[i,n,v]),A=(0,r.useCallback)((function(t){t.key}),[]);(0,r.useEffect)((function(){return document.addEventListener("keydown",E),document.addEventListener("keyup",A),function(){document.removeEventListener("keydown",E),document.removeEventListener("keyup",A)}}));var O=function(t,e,n){d(!0)},T=function(t,e,n){_&&(b(s(s({},a[n]),{},{properties:s(s({},a[n].properties),{},{left:_.properties.left+e.deltaX,top:_.properties.top+e.deltaY})})),function(t){if(_){var e=s(s({},a),{},o({},t,_)),n=e[t].properties,r=n.top,i=n.left,u=Object.values(e).filter((function(t){var e=t.properties,n=e.top,i=e.height;return n===r||n+i===r})).sort((function(t,e){return t.properties.left-e.properties.left})),l=Object.values(e).filter((function(t){var e=t.properties,n=e.left,r=e.width;return n===i||n+r===i})).sort((function(t,e){return t.properties.top-e.properties.top})),c=[],f=[];u.length>1&&u.forEach((function(t,e,n){var i=t.properties,o=i.left,a=i.width;if(n[e+1]){var s=o+a;c.push({lineStyle:{left:s,width:n[e+1].properties.left-s,top:r,height:1,flexDirection:"row"},spanStyle:{top:0}})}})),l.length>1&&l.forEach((function(t,e,n){var r=t.properties,o=r.top,a=r.height;if(n[e+1]){var s=o+a;f.push({lineStyle:{top:s,height:n[e+1].properties.top-s,left:i,width:1,flexDirection:"column"},spanStyle:{left:3}})}})),S([].concat(c,f))}}(n))};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:ne,children:[(0,J.jsx)("div",{className:re,children:(0,J.jsx)(gt,{type:"eye",style:{color:"#515151",fontSize:15}})}),(0,J.jsx)(Tt,{width:3e3,height:20,direction:"horizontal",className:ie}),(0,J.jsx)(Tt,{width:20,height:3e3,direction:"vertical",className:oe}),(0,J.jsx)("div",{className:ae,onClick:function(t){t.stopPropagation(),n({type:"checked",payload:{key:void 0}})},children:(0,J.jsxs)("div",{className:se,style:s(s({},u),{},{width:null===u||void 0===u?void 0:u.width,height:null===u||void 0===u?void 0:u.height}),children:[l&&(0,J.jsx)("div",{className:ue}),(0,J.jsx)("div",{className:le,children:_?(0,J.jsx)("div",{className:ce,style:{width:_.properties.left,height:_.properties.top},children:(0,J.jsx)("span",{children:"".concat(2*_.properties.left,", ").concat(2*_.properties.top)})}):null}),w.length>0&&w.map((function(t,e){var n,r,i,a,s;return Number(null===t||void 0===t||null===(n=t.lineStyle)||void 0===n?void 0:n.height)>0&&Number(null===t||void 0===t||null===(r=t.lineStyle)||void 0===r?void 0:r.width)>0&&(0,J.jsx)("div",{className:p()(fe,o({},pe,Number(null===t||void 0===t||null===(i=t.lineStyle)||void 0===i?void 0:i.height)>1),o({},he,Number(null===t||void 0===t||null===(a=t.lineStyle)||void 0===a?void 0:a.height)<=1)),style:t.lineStyle,children:(0,J.jsx)("span",{style:t.spanStyle,children:Number(null===t||void 0===t||null===(s=t.lineStyle)||void 0===s?void 0:s.height)>1?t.lineStyle.height:t.lineStyle.width})},"spaceing-offset-".concat(e))})),Object.entries(a).map((function(t){var e=c(t,2),u=e[0],l=e[1],f=l.data,g=l.config,m=l.reactElement,x=l.properties;return(0,J.jsx)(ee,{bounds:"parent",position:{x:x.left,y:x.top},size:{width:x.width,height:x.height},style:{transition:h?void 0:"all 0.45s ease-in-out"},scale:1,onClick:function(t){return t.stopPropagation()},onDoubleClick:function(t){t.stopPropagation(),y(!v)},onDragStart:function(){return function(t){d(!0),b(a[t]),n({type:"checked",payload:{key:t}})}(u)},onDragStop:function(){return function(t){d(!1),S([]),b(void 0),n({type:"update",payload:{key:t,draggingElement:_}})}(u)},onDrag:function(t,e){return T(0,e,u)},onResizeStart:O,onResizeStop:function(t,e,r,i){return function(t,e,r,i,o){d(!1),n({type:"update",payload:{key:o,draggingElement:s(s({},a[o]),{},{properties:s(s({},a[o].properties),{},{width:a[o].properties.width+i.width,height:a[o].properties.height+i.height})})}})}(0,0,0,i,u)},onResize:function(t,e,r,i,o){return function(t,e,r,i,o,u){n({type:"update",payload:{key:u,draggingElement:s(s({},a[u]),{},{properties:s(s({},a[u].properties),{},{left:o.x,top:o.y})})}})}(0,0,0,0,o,u)},children:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:p()(de,o({},ge,i===u)),children:[(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve}),(0,J.jsx)("div",{className:ve})]}),r.cloneElement(m,{data:f,config:g,style:x})]})},"draggable-".concat(u))}))]})})]}),(0,J.jsx)(St,{visible:v,checked:i,dispatch:n,data:i?a[i].data:void 0,config:i?a[i].config:void 0,element:i?a[i]:void 0,properties:i?a[i].properties:u,onClose:y,children:(0,J.jsx)("h1",{children:"\u914d\u7f6e"})})]})};function me(t,e){switch(e.type){case"add":var n=t.count.toString();return s(s({},t),{},{count:t.count+1,checked:n,elements:Object.assign(t.elements,e.payload)});case"delete":var r=s({},t.elements);return delete r[e.payload.key],s(s({},t),{},{count:t.count-1,checked:void 0,elements:r});case"checked":return s(s({},t),{},{checked:e.payload.key});case"update":var i=e.payload,a=i.key,u=i.draggingElement;return s(s({},t),{},{count:t.count,checked:a,elements:s(s({},t.elements),o({},a,u))});case"backdrop":return s(s({},t),{},{backdrop:s(s({},t.backdrop),e.payload)});case"dragging":return s(s({},t),{},{dragging:e.payload.dragging});default:throw new Error}}var _e={},be={},xe=function(t){return be[t]},we=function(t,e){be[t]=e},Se=function(t,e){_e[t]=e},Ee={},Ae={};function Oe(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Te(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Ce(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Pe(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Ce(-t,6):t>9999?"+"+Ce(t,6):Ce(t,4)}(t.getUTCFullYear())+"-"+Ce(t.getUTCMonth()+1,2)+"-"+Ce(t.getUTCDate(),2)+(i?"T"+Ce(e,2)+":"+Ce(n,2)+":"+Ce(r,2)+"."+Ce(i,3)+"Z":r?"T"+Ce(e,2)+":"+Ce(n,2)+":"+Ce(r,2)+"Z":n||e?"T"+Ce(e,2)+":"+Ce(n,2)+"Z":"")}var Me=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return Ae;if(l)return l=!1,Ee;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Ae;){for(var f=[];r!==Ee&&r!==Ae;)f.push(r),r=c();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Pe(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Oe(t);return function(r,i){return e(n(r),i,t)}}(t,e):Oe(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Te(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Te(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Ie=Me.parse;Me.parseRows,Me.format,Me.formatBody,Me.formatRows,Me.formatRow,Me.formatValue;function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Le(t,e){if(t){if("string"===typeof t)return Re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}function De(t){return function(t){if(Array.isArray(t))return Re(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=n(8689),Fe=n.n(Ne);function je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?je(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ze(t,e){var n=e.x,r=e.y,i=e.x1,o=e.y1,a=e.coordinates,s=[];return Array.isArray(t)?(t.forEach((function(t,e){var u=[];(n&&r&&(u=[parseFloat(t[n]),parseFloat(t[r])]),n&&r&&i&&o)&&(u=[[parseFloat(t[n]),parseFloat(t[r])],[parseFloat(t[i]),parseFloat(t[o])]]);if(a){var l="Polygon";Array.isArray(a[0])||(l="Point"),Array.isArray(a[0])&&!Array.isArray(a[0][0])&&(l="LineString");var c={type:l,coordinates:De(t[a])};Fe()(c,!0),u=c.coordinates}var f=Be(Be({},t),{},{_id:e,coordinates:u});s.push(f)})),{dataArray:s}):{dataArray:[]}}var Ue=6371008.8,Ve={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*Ue,kilometers:6371.0088,kilometres:6371.0088,meters:Ue,metres:Ue,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Ue/1852,radians:1,yards:6967335.223679999};function Ge(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function We(t,e){void 0===e&&(e="kilometers");var n=Ve[e];if(!n)throw new Error(e+" units is invalid");return t*n}function He(t){return t%360*Math.PI/180}function Ye(t,e){var n,r,i,o,a,s,u,l,c,f,p=0,h="FeatureCollection"===t.type,d="Feature"===t.type,g=h?t.features.length:1;for(n=0;n<g;n++){for(s=h?t.features[n].geometry:d?t.geometry:t,l=h?t.features[n].properties:d?t.properties:{},c=h?t.features[n].bbox:d?t.bbox:void 0,f=h?t.features[n].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,p,l,c,f))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],p,l,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,c,f))return!1;p++}}function Xe(t,e){Ye(t,(function(t,n,r,i,o){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Ge(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<t.coordinates.length;u++){var l=t.coordinates[u];if(!1===e(Ge({type:a,coordinates:l},r),n,u))return!1}}))}function qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"===typeof t)return Ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $e(t){this.message=t}function tn(t){for(var e,n,r,i,o="",a=0,s=(t=String(t)).length%3;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");o+=Je.charAt((e=n<<16|r<<8|i)>>18&63)+Je.charAt(e>>12&63)+Je.charAt(e>>6&63)+Je.charAt(63&e)}return s?o.slice(0,s-3)+"===".substring(s):o}function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e,n){return e&&nn(t.prototype,e),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}$e.prototype=new Error,$e.prototype.name="InvalidCharacterError";var on,an=function(){function t(e,n){en(this,t),this.buffers=e,this.type=n}return rn(t,[{key:"arraybuffer",value:function(){return Promise.resolve(this.buffers[0])}},{key:"stream",value:function(){throw new Error("not implemented")}},{key:"text",value:function(){throw new Error("not implemented")}},{key:"slice",value:function(t,e,n){throw new Error("not implemented")}}]),t}();on="undefined"===typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(t){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,n){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(t){return!0},Event:function(t,e){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window;var sn="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM?my.getSystemInfoSync().pixelRatio:on.devicePixelRatio;function un(t,e){return un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},un(t,e)}function ln(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&un(t,e)}function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pn(t,e){if(e&&("object"===cn(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fn(t)}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gn=rn((function t(e,n){en(this,t),dn(this,"cancelBubble",void 0),dn(this,"cancelable",void 0),dn(this,"target",void 0),dn(this,"currentTarget",void 0),dn(this,"preventDefault",void 0),dn(this,"stopPropagation",void 0),dn(this,"type",void 0),dn(this,"timeStamp",void 0),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=e,this.timeStamp=Date.now()}));function vn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return yn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mn=new WeakMap,_n=function(){function t(){en(this,t),mn.set(this,{})}return rn(t,[{key:"addEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=mn.get(this);r||(r={}),r[t]||(r[t]=[]),r[t].push(e),mn.set(this,r),n.capture,n.once,n.passive}},{key:"removeEventListener",value:function(t,e){var n=mn.get(this);if(n){var r=n[t];if(r&&r.length>0)for(var i=r.length;i--;i>0)if(r[i]===e){r.splice(i,1);break}}}},{key:"dispatchEvent",value:function(t){var e=mn.get(this)[t.type];if(e){var n,r=vn(e);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t)}}catch(i){r.e(i)}finally{r.f()}}}}]),t}();function bn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var xn=function(t){ln(n,t);var e=bn(n);function n(){var t;return en(this,n),dn(fn(t=e.call(this)),"childNodes",void 0),t.childNodes=[],t}return rn(n,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"cloneNode",value:function(){var t=Object.create(this);return Object.assign(t,this),t}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex((function(e){return e===t}));return e>-1?this.childNodes.splice(e,1):null}}]),n}(_n);function wn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var Sn,En,An,On,Tn=function(t){ln(n,t);var e=wn(n);function n(){var t;return en(this,n),dn(fn(t=e.call(this)),"className",void 0),dn(fn(t),"children",void 0),t.className="",t.children=[],t}return rn(n,[{key:"setAttribute",value:function(t,e){this[t]=e}},{key:"getAttribute",value:function(t){return this[t]}},{key:"setAttributeNS",value:function(t,e){this[t]=e}},{key:"getAttributeNS",value:function(t){return this[t]}}]),n}(xn);if("undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM){var Cn=my.getSystemInfoSync();Sn=Cn.screenWidth,En=Cn.screenHeight,An=Cn.windowWidth,On=Cn.windowHeight}else{var Pn=on.innerWidth,Mn=on.innerHeight;Sn=Pn,En=Mn,An=Pn,On=Mn}var In={width:Sn,height:En,availWidth:An,availHeight:On,availLeft:0,availTop:0},kn=In.availWidth,Rn=In.availHeight,Ln={style:[]};function Dn(t,e){var n,r;"parentNode"in t||(n=0===e?function(){return null}:1===e?function(){return Ln}:function(){return null},Object.defineProperty(t,"parentNode",{enumerable:!0,get:n}));"parentElement"in t||(r=0===e?function(){return null}:1===e?function(){return Ln}:function(){return null},Object.defineProperty(t,"parentElement",{enumerable:!0,get:r}))}function Nn(t){t.style=t.style||{},Object.assign(t.style,{top:"0px",left:"0px",width:kn+"px",height:Rn+"px",margin:"0px",padding:"0px"})}function Fn(t){"clientLeft"in t||(t.clientLeft=0,t.clientTop=0),"clientWidth"in t||(t.clientWidth=kn,t.clientHeight=Rn),"getBoundingClientRect"in t||(t.getBoundingClientRect=function(){return{x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight}})}function jn(t){"offsetLeft"in t||(t.offsetLeft=0,t.offsetTop=0),"offsetWidth"in t||(t.offsetWidth=kn,t.offsetHeight=Rn)}function Bn(t){"scrollLeft"in t||(t.scrollLeft=0,t.scrollTop=0),"scrollWidth"in t||(t.scrollWidth=kn,t.scrollHeight=Rn)}function zn(t){var e=function(){return!0};t.classList=[],t.classList.add=e,t.classList.remove=e,t.classList.contains=e,t.classList.toggle=e}function Un(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}function Vn(){}var Gn=function(t){ln(n,t);var e=Un(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return en(this,n),dn(fn(t=e.call(this)),"className",void 0),dn(fn(t),"children",void 0),dn(fn(t),"focus",void 0),dn(fn(t),"blur",void 0),dn(fn(t),"insertBefore",void 0),dn(fn(t),"appendChild",void 0),dn(fn(t),"removeChild",void 0),dn(fn(t),"remove",void 0),dn(fn(t),"innerHTML",void 0),dn(fn(t),"tagName",void 0),t.className="",t.children=[],t.focus=Vn,t.blur=Vn,t.insertBefore=Vn,t.appendChild=Vn,t.removeChild=Vn,t.remove=Vn,t.innerHTML="",t.tagName=r.toUpperCase(),Dn(fn(t),i),Nn(fn(t)),zn(fn(t)),Fn(fn(t)),jn(fn(t)),Bn(fn(t)),t}return rn(n)}(Tn);function Wn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var Hn=function(t){ln(n,t);var e=Wn(n);function n(t){return en(this,n),e.call(this,t)}return rn(n,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),n}(Gn);function Yn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var Xn=function(t){ln(n,t);var e=Yn(n);function n(){return en(this,n),e.call(this,"video")}return rn(n)}(Hn),qn={};function Zn(){return qn}var Kn=rn((function t(){en(this,t);var e=Zn(),n=e.createImage&&e.createImage()||{};return"tagName"in n||(n.tagName="IMG",n.__proto__=t.prototype),Dn(n),zn(n),Object.assign(n,{addEventListener:function(t,e){n["on".concat(t)]=e.bind(n)},removeEventListener:function(t){n["on".concat(t)]=null}}),n})),Qn={href:"",protocol:"",host:""};function Jn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var $n=function(t){ln(n,t);var e=Jn(n);function n(){return en(this,n),e.call(this,"body",0)}return rn(n,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"dispatchEvent",value:function(t){}}]),n}(Gn),tr=function(t){ln(n,t);var e=Jn(n);function n(){return en(this,n),e.call(this,"html",0)}return rn(n,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e){}},{key:"dispatchEvent",value:function(t){}}]),n}(Gn),er={},nr={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:Qn,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(t){return"canvas"===(t=t.toLowerCase())?my.createOffscreenCanvas(1024,128,"2d"):"img"===t?new Kn:"video"===t?new Xn:new Gn(t)},createElementNS:function(t,e){return this.createElement(e)},createTextNode:function(t){return t},getElementById:function(t){return null},getElementsByTagName:function(t){return t=t.toLowerCase(),[]},getElementsByTagNameNS:function(t,e){return this.getElementsByTagName(e)},getElementsByName:function(t){return[]},querySelector:function(t){return null},querySelectorAll:function(t){return[]},addEventListener:function(t,e,n){er[t]||(er[t]=[]),er[t].push(e)},removeEventListener:function(t,e){var n=er[t];if(n&&n.length>0)for(var r=n.length;r--;r>0)if(n[r]===e){n.splice(r,1);break}},dispatchEvent:function(t){var e=t.type,n=er[e];if(n)for(var r=0;r<n.length;r++)n[r](t);t.target&&"function"===typeof t.target["on"+e]&&t.target["on"+e](t)},createEvent:function(t){return new gn(t)}};nr.documentElement=new tr,nr.head=new Gn("head"),nr.body=new $n;var rr,ir,or,ar=Object,sr=function(){function t(){en(this,t),dn(this,"_w",void 0),dn(this,"_h",void 0),dn(this,"_data",void 0);var e=arguments.length;if(2===e){if("number"===typeof arguments[0]&&"number"===typeof arguments[1])return this._w=arguments[0],this._h=arguments[1],void(this._data=new Uint8ClampedArray(this._w*this._h*4))}else 3===e&&"object"===cn(arguments[0])&&"number"===typeof arguments[1]&&"number"===typeof arguments[2]&&(this._data=arguments[0],this._w=arguments[1],this._h=arguments[2]);throw new Error("ImageData: params error")}return rn(t,[{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}},{key:"data",get:function(){return this._data}}]),t}();if("undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM){var ur=my.getSystemInfoSync();rr=ur.system,ir=ur.platform,or=ur.language}else{var lr={versions:function(){var t=on.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1===t.indexOf("Safari"),weixin:t.indexOf("MicroMessenger")>-1,qq:" qq"===t.match(/\sQQ/i)}}(),language:(on.navigator.browserLanguage||on.navigator.language).toLowerCase()};lr.versions.android?ir="android":lr.versions.trident?ir="IE":lr.versions.presto?ir="Opera":lr.versions.webKit?ir="webKit":lr.versions.gecko?ir="Firefox":lr.versions.mobile?ir="mobile":lr.versions.ios?ir="ios":lr.versions.iPhone?ir="iPhone":lr.versions.iPad?ir="ipad":lr.versions.webApp?ir="webApp":lr.versions.weixin?ir="weixin":lr.versions.qq&&(ir="qq"),rr=on.navigator.userAgent,or=lr.language}var cr=-1!==rr.toLowerCase().indexOf("android")?"Android; CPU Android 6.0":"iPhone; CPU iPhone OS 10_3_1 like Mac OS X",fr="Mozilla/5.0 (".concat(cr,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(or),pr={platform:ir,language:or,appVersion:"5.0 (".concat(cr,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:fr},hr=0;var dr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";en(this,t),dn(this,"href",void 0),0!=e.indexOf("http://")&&0!=e.indexOf("https://")?this.href=n+e:this.href=e}return rn(t,null,[{key:"createObjectURL",value:function(t){var e=t.buffers[0],n=t.type,r=function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return tn(e)}(e);return"data:".concat(n,";base64, ")+r}}]),t}();function gr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var vr=new Map,yr=new Map,mr=new Map;var _r=function(t){ln(n,t);var e=gr(n);function n(){var t;return en(this,n),dn(fn(t=e.call(this)),"onabort",void 0),dn(fn(t),"onerror",void 0),dn(fn(t),"onload",void 0),dn(fn(t),"onloadstart",void 0),dn(fn(t),"onprogress",void 0),dn(fn(t),"ontimeout",void 0),dn(fn(t),"onloadend",void 0),dn(fn(t),"onreadystatechange",void 0),dn(fn(t),"readyState",void 0),dn(fn(t),"response",void 0),dn(fn(t),"responseText",void 0),dn(fn(t),"_responseType",void 0),dn(fn(t),"responseXML",void 0),dn(fn(t),"status",void 0),dn(fn(t),"statusText",void 0),dn(fn(t),"upload",void 0),dn(fn(t),"withCredentials",void 0),dn(fn(t),"timeout",void 0),dn(fn(t),"_url",void 0),dn(fn(t),"_method",void 0),t.onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t._responseType="text",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,vr.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),t}return rn(n,[{key:"responseType",set:function(t){this._responseType=t}},{key:"abort",value:function(){var t=mr.get("requestTask");t&&t.abort()}},{key:"getAllResponseHeaders",value:function(){var t=yr.get("responseHeader");return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])})).join("\n")}},{key:"getResponseHeader",value:function(t){return yr.get("responseHeader")[t]}},{key:"open",value:function(t,e,n){this._method=t,this._url=e}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(t,e){var n=vr.get("requestHeader");n[t]=e,vr.set("requestHeader",n)}},{key:"addEventListener",value:function(t,e){var n=this;"function"===typeof e&&(this["on"+t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target=t.target||n,e.call(n,t)})}},{key:"removeEventListener",value:function(t,e){this["on"+t]===e&&(this["on"+t]=null)}}]),n}(_n);function br(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}dn(_r,"UNSEND",void 0),dn(_r,"OPENED",void 0),dn(_r,"HEADERS_RECEIVED",void 0),dn(_r,"LOADING",void 0),dn(_r,"DONE",void 0),_r.UNSEND=0,_r.OPENED=1,_r.HEADERS_RECEIVED=2,_r.LOADING=3,_r.DONE=4;var xr=function(t){ln(n,t);var e=br(n);function n(t){var r;return en(this,n),dn(fn(r=e.call(this,t)),"touches",void 0),dn(fn(r),"targetTouches",void 0),dn(fn(r),"changedTouches",void 0),r.touches=[],r.targetTouches=[],r.changedTouches=[],r.target=Zn(),r.currentTarget=Zn(),r}return rn(n)}(gn);function wr(t){var e=t||{},n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.clientX,s=void 0===a?0:a,u=e.clientY,l=void 0===u?0:u;-1!==Object.keys(t).indexOf("x")?(t.pageX=t.clientX=r,t.pageY=t.clientY=o):(t.x=s,t.y=l)}function Sr(t){return function(e){var n=new xr(t);n.changedTouches=e.changedTouches,n.touches=e.touches,n.targetTouches=Array.prototype.slice.call(e.touches),n.timeStamp=e.timeStamp,n.changedTouches.forEach((function(t){return wr(t)})),n.touches.forEach((function(t){return wr(t)})),n.targetTouches.forEach((function(t){return wr(t)})),nr.dispatchEvent(n)}}var Er;Sr("touchstart"),Sr("touchmove"),Sr("touchend"),Er="mapCameaParams";function Ar(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var Or=function(t){ln(n,t);var e=Ar(n);function n(t){var r;return en(this,n),dn(fn(r=e.call(this,t)),"buttons",void 0),dn(fn(r),"which",void 0),dn(fn(r),"pointerId",void 0),dn(fn(r),"bubbles",void 0),dn(fn(r),"button",void 0),dn(fn(r),"width",void 0),dn(fn(r),"height",void 0),dn(fn(r),"pressure",void 0),dn(fn(r),"isPrimary",void 0),dn(fn(r),"pointerType",void 0),dn(fn(r),"altKey",void 0),dn(fn(r),"ctrlKey",void 0),dn(fn(r),"metaKey",void 0),dn(fn(r),"shiftKey",void 0),r.target=Zn(),r.currentTarget=Zn(),r}return rn(n)}(gn),Tr=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","pageX","pageY","timeStamp"],Cr=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,0,0,0];function Pr(t,e,n){for(var r=new Or(t),i=0;i<Tr.length;i++){var o=Tr[i];r[o]=e[o]||Cr[i]}return r.type=t,r.target=Zn(),r.currentTarget=Zn(),r.buttons=function(t){var e=0;"touchstart"!==t&&"touchmove"!==t&&"pointerdown"!==t&&"pointermove"!==t||(e=1);return e}(t),r.which=r.buttons,r.pointerId=(e.identifier||0)+2,r.bubbles=!0,r.cancelable=!0,r.button=0,r.width=2*(e.radiusX||.5),r.height=2*(e.radiusY||.5),r.pressure=e.force||.5,r.isPrimary=function(t){return Mr===t.identifier}(e),r.pointerType="touch",r.altKey=n.altKey,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,n.preventDefault&&(r.preventDefault=function(){n.preventDefault()}),r}var Mr=null;function Ir(t){null===Mr&&(Mr=t.identifier)}function kr(t){Mr===t.identifier&&(Mr=null)}function Rr(t){return function(e){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];0===r&&"pointerdown"===t?Ir(i):"pointerup"!==t&&"pointercancel"!==t||kr(i);var o=Pr(t,i,e);nr.dispatchEvent(o)}}}Rr("pointerdown"),Rr("pointermove"),Rr("pointerup");function Lr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}!function(t){ln(n,t);var e=Lr(n);function n(t){return en(this,n),e.call(this,t)}rn(n)}(gn);function Dr(t){return function(e){e.type=t,nr.dispatchEvent(e)}}Dr("mousedown"),Dr("mousemove"),Dr("mouseup");var Nr="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,Fr="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),jr=Nr||Fr,Br={atob:function(t){var e=String(t).replace(/=+$/,"");if(e.length%4===1)throw new $e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i="",o=0,a=0;r=e.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r=Je.indexOf(r);return i},btoa:tn,devicePixelRatio:sn,Blob:an,document:nr,Element:Tn,Event:gn,EventTarget:_n,HTMLCanvasElement:ar,HTMLElement:Gn,HTMLMediaElement:Hn,HTMLVideoElement:Xn,Image:Kn,ImageData:sr,navigator:pr,Node:xn,requestAnimationFrame:function(t){var e=Zn();return e.requestAnimationFrame?e.requestAnimationFrame(t):function(t){var e=Date.now(),n=Math.max(hr+23,e);return setTimeout((function(){t(hr=n)}),n-e)}(t)},cancelAnimationFrame:function(t){var e=Zn();return e.cancelAnimationFrame?e.cancelAnimationFrame(t):clearTimeout(t)},screen:In,XMLHttpRequest:_r,performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,n){return{duration:0}},now:function(){}},URL:dr,WebGLRenderingContext:{GCCSO_SHADER_BINARY_FJ:37472,_3DC_XY_AMD:34810,_3DC_X_AMD:34809,ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_PROGRAM_EXT:33369,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALL_COMPLETED_NV:34034,ALL_SHADER_BITS_EXT:4294967295,ALPHA:6406,ALPHA16F_EXT:34844,ALPHA32F_EXT:34838,ALPHA8_EXT:32828,ALPHA8_OES:32828,ALPHA_BITS:3413,ALPHA_TEST_FUNC_QCOM:3009,ALPHA_TEST_QCOM:3008,ALPHA_TEST_REF_QCOM:3010,ALREADY_SIGNALED_APPLE:37146,ALWAYS:519,AMD_compressed_3DC_texture:1,AMD_compressed_ATC_texture:1,AMD_performance_monitor:1,AMD_program_binary_Z400:1,ANGLE_depth_texture:1,ANGLE_framebuffer_blit:1,ANGLE_framebuffer_multisample:1,ANGLE_instanced_arrays:1,ANGLE_pack_reverse_row_order:1,ANGLE_program_binary:1,ANGLE_texture_compression_dxt3:1,ANGLE_texture_compression_dxt5:1,ANGLE_texture_usage:1,ANGLE_translated_shader_source:1,ANY_SAMPLES_PASSED_CONSERVATIVE_EXT:36202,ANY_SAMPLES_PASSED_EXT:35887,APPLE_copy_texture_levels:1,APPLE_framebuffer_multisample:1,APPLE_rgb_422:1,APPLE_sync:1,APPLE_texture_format_BGRA8888:1,APPLE_texture_max_level:1,ARM_mali_program_binary:1,ARM_mali_shader_binary:1,ARM_rgba8:1,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATC_RGBA_EXPLICIT_ALPHA_AMD:35987,ATC_RGBA_INTERPOLATED_ALPHA_AMD:34798,ATC_RGB_AMD:35986,ATTACHED_SHADERS:35717,BACK:1029,BGRA8_EXT:37793,BGRA_EXT:32993,BGRA_IMG:32993,BINNING_CONTROL_HINT_QCOM:36784,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BUFFER:33504,BUFFER_ACCESS_OES:35003,BUFFER_MAPPED_OES:35004,BUFFER_MAP_POINTER_OES:35005,BUFFER_OBJECT_EXT:37201,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_BORDER_NV:33069,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_ATTACHMENT0_NV:36064,COLOR_ATTACHMENT10_NV:36074,COLOR_ATTACHMENT11_NV:36075,COLOR_ATTACHMENT12_NV:36076,COLOR_ATTACHMENT13_NV:36077,COLOR_ATTACHMENT14_NV:36078,COLOR_ATTACHMENT15_NV:36079,COLOR_ATTACHMENT1_NV:36065,COLOR_ATTACHMENT2_NV:36066,COLOR_ATTACHMENT3_NV:36067,COLOR_ATTACHMENT4_NV:36068,COLOR_ATTACHMENT5_NV:36069,COLOR_ATTACHMENT6_NV:36070,COLOR_ATTACHMENT7_NV:36071,COLOR_ATTACHMENT8_NV:36072,COLOR_ATTACHMENT9_NV:36073,COLOR_ATTACHMENT_EXT:37104,COLOR_BUFFER_BIT:16384,COLOR_BUFFER_BIT0_QCOM:1,COLOR_BUFFER_BIT1_QCOM:2,COLOR_BUFFER_BIT2_QCOM:4,COLOR_BUFFER_BIT3_QCOM:8,COLOR_BUFFER_BIT4_QCOM:16,COLOR_BUFFER_BIT5_QCOM:32,COLOR_BUFFER_BIT6_QCOM:64,COLOR_BUFFER_BIT7_QCOM:128,COLOR_CLEAR_VALUE:3106,COLOR_EXT:6144,COLOR_WRITEMASK:3107,COMPARE_REF_TO_TEXTURE_EXT:34894,COMPILE_STATUS:35713,COMPRESSED_RGBA_ASTC_10x10_KHR:37819,COMPRESSED_RGBA_ASTC_10x5_KHR:37816,COMPRESSED_RGBA_ASTC_10x6_KHR:37817,COMPRESSED_RGBA_ASTC_10x8_KHR:37818,COMPRESSED_RGBA_ASTC_12x10_KHR:37820,COMPRESSED_RGBA_ASTC_12x12_KHR:37821,COMPRESSED_RGBA_ASTC_4x4_KHR:37808,COMPRESSED_RGBA_ASTC_5x4_KHR:37809,COMPRESSED_RGBA_ASTC_5x5_KHR:37810,COMPRESSED_RGBA_ASTC_6x5_KHR:37811,COMPRESSED_RGBA_ASTC_6x6_KHR:37812,COMPRESSED_RGBA_ASTC_8x5_KHR:37813,COMPRESSED_RGBA_ASTC_8x6_KHR:37814,COMPRESSED_RGBA_ASTC_8x8_KHR:37815,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGBA_PVRTC_2BPPV2_IMG:37175,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_4BPPV2_IMG:37176,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_ANGLE:33778,COMPRESSED_RGBA_S3TC_DXT5_ANGLE:33779,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:37853,COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:37847,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_NV:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_NV:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_NV:35919,COMPRESSED_SRGB_S3TC_DXT1_NV:35916,COMPRESSED_TEXTURE_FORMATS:34467,CONDITION_SATISFIED_APPLE:37148,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_FLAG_DEBUG_BIT:2,CONTEXT_ROBUST_ACCESS_EXT:37107,COUNTER_RANGE_AMD:35777,COUNTER_TYPE_AMD:35776,COVERAGE_ALL_FRAGMENTS_NV:36565,COVERAGE_ATTACHMENT_NV:36562,COVERAGE_AUTOMATIC_NV:36567,COVERAGE_BUFFERS_NV:36563,COVERAGE_BUFFER_BIT_NV:32768,COVERAGE_COMPONENT4_NV:36561,COVERAGE_COMPONENT_NV:36560,COVERAGE_EDGE_FRAGMENTS_NV:36566,COVERAGE_SAMPLES_NV:36564,CPU_OPTIMIZED_QCOM:36785,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_QUERY_EXT:34917,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DEBUG_CALLBACK_FUNCTION:33348,DEBUG_CALLBACK_USER_PARAM:33349,DEBUG_GROUP_STACK_DEPTH:33389,DEBUG_LOGGED_MESSAGES:37189,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:33347,DEBUG_OUTPUT:37600,DEBUG_OUTPUT_SYNCHRONOUS:33346,DEBUG_SEVERITY_HIGH:37190,DEBUG_SEVERITY_LOW:37192,DEBUG_SEVERITY_MEDIUM:37191,DEBUG_SEVERITY_NOTIFICATION:33387,DEBUG_SOURCE_API:33350,DEBUG_SOURCE_APPLICATION:33354,DEBUG_SOURCE_OTHER:33355,DEBUG_SOURCE_SHADER_COMPILER:33352,DEBUG_SOURCE_THIRD_PARTY:33353,DEBUG_SOURCE_WINDOW_SYSTEM:33351,DEBUG_TYPE_DEPRECATED_BEHAVIOR:33357,DEBUG_TYPE_ERROR:33356,DEBUG_TYPE_MARKER:33384,DEBUG_TYPE_OTHER:33361,DEBUG_TYPE_PERFORMANCE:33360,DEBUG_TYPE_POP_GROUP:33386,DEBUG_TYPE_PORTABILITY:33359,DEBUG_TYPE_PUSH_GROUP:33385,DEBUG_TYPE_UNDEFINED_BEHAVIOR:33358,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH24_STENCIL8_OES:35056,DEPTH_ATTACHMENT:36096,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_BUFFER_BIT0_QCOM:256,DEPTH_BUFFER_BIT1_QCOM:512,DEPTH_BUFFER_BIT2_QCOM:1024,DEPTH_BUFFER_BIT3_QCOM:2048,DEPTH_BUFFER_BIT4_QCOM:4096,DEPTH_BUFFER_BIT5_QCOM:8192,DEPTH_BUFFER_BIT6_QCOM:16384,DEPTH_BUFFER_BIT7_QCOM:32768,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_COMPONENT16_NONLINEAR_NV:36396,DEPTH_COMPONENT16_OES:33189,DEPTH_COMPONENT24_OES:33190,DEPTH_COMPONENT32_OES:33191,DEPTH_EXT:6145,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_OES:34041,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DMP_shader_binary:1,DONT_CARE:4352,DRAW_BUFFER0_NV:34853,DRAW_BUFFER10_NV:34863,DRAW_BUFFER11_NV:34864,DRAW_BUFFER12_NV:34865,DRAW_BUFFER13_NV:34866,DRAW_BUFFER14_NV:34867,DRAW_BUFFER15_NV:34868,DRAW_BUFFER1_NV:34854,DRAW_BUFFER2_NV:34855,DRAW_BUFFER3_NV:34856,DRAW_BUFFER4_NV:34857,DRAW_BUFFER5_NV:34858,DRAW_BUFFER6_NV:34859,DRAW_BUFFER7_NV:34860,DRAW_BUFFER8_NV:34861,DRAW_BUFFER9_NV:34862,DRAW_BUFFER_EXT:3073,DRAW_FRAMEBUFFER_ANGLE:36009,DRAW_FRAMEBUFFER_APPLE:36009,DRAW_FRAMEBUFFER_BINDING_ANGLE:36006,DRAW_FRAMEBUFFER_BINDING_APPLE:36006,DRAW_FRAMEBUFFER_BINDING_NV:36006,DRAW_FRAMEBUFFER_NV:36009,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,ES_VERSION_2_0:1,ETC1_RGB8_OES:36196,ETC1_SRGB8_NV:35054,EXTENSIONS:7939,EXT_blend_minmax:1,EXT_color_buffer_half_float:1,EXT_debug_label:1,EXT_debug_marker:1,EXT_discard_framebuffer:1,EXT_map_buffer_range:1,EXT_multi_draw_arrays:1,EXT_multisampled_render_to_texture:1,EXT_multiview_draw_buffers:1,EXT_occlusion_query_boolean:1,EXT_read_format_bgra:1,EXT_robustness:1,EXT_sRGB:1,EXT_separate_shader_objects:1,EXT_shader_framebuffer_fetch:1,EXT_shader_texture_lod:1,EXT_shadow_samplers:1,EXT_texture_compression_dxt1:1,EXT_texture_filter_anisotropic:1,EXT_texture_format_BGRA8888:1,EXT_texture_rg:1,EXT_texture_storage:1,EXT_texture_type_2_10_10_10_REV:1,EXT_unpack_subimage:1,FALSE:0,FASTEST:4353,FENCE_CONDITION_NV:34036,FENCE_STATUS_NV:34035,FIXED:5132,FJ_shader_binary_GCCSO:1,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAGMENT_SHADER_BIT_EXT:2,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,FRAGMENT_SHADER_DISCARDS_SAMPLES_EXT:35410,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_ANGLE:37795,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_3D_ZOFFSET_OES:36052,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_SAMPLES_EXT:36204,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_ANGLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_APPLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_EXT:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_IMG:37172,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_NV:36182,FRAMEBUFFER_UNDEFINED_OES:33305,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GPU_OPTIMIZED_QCOM:36786,GREATER:516,GREEN_BITS:3411,GUILTY_CONTEXT_RESET_EXT:33363,HALF_FLOAT_OES:36193,HIGH_FLOAT:36338,HIGH_INT:36341,IMG_multisampled_render_to_texture:1,IMG_program_binary:1,IMG_read_format:1,IMG_shader_binary:1,IMG_texture_compression_pvrtc:1,IMG_texture_compression_pvrtc2:1,IMPLEMENTATION_COLOR_READ_FORMAT:35739,IMPLEMENTATION_COLOR_READ_TYPE:35738,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INNOCENT_CONTEXT_RESET_EXT:33364,INT:5124,INT_10_10_10_2_OES:36343,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,KHR_debug:1,KHR_texture_compression_astc_ldr:1,LEFT:1030,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOSE_CONTEXT_ON_RESET_EXT:33362,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE16F_EXT:34846,LUMINANCE32F_EXT:34840,LUMINANCE4_ALPHA4_OES:32835,LUMINANCE8_ALPHA8_EXT:32837,LUMINANCE8_ALPHA8_OES:32837,LUMINANCE8_EXT:32832,LUMINANCE8_OES:32832,LUMINANCE_ALPHA:6410,LUMINANCE_ALPHA16F_EXT:34847,LUMINANCE_ALPHA32F_EXT:34841,MALI_PROGRAM_BINARY_ARM:36705,MALI_SHADER_BINARY_ARM:36704,MAP_FLUSH_EXPLICIT_BIT_EXT:16,MAP_INVALIDATE_BUFFER_BIT_EXT:8,MAP_INVALIDATE_RANGE_BIT_EXT:4,MAP_READ_BIT_EXT:1,MAP_UNSYNCHRONIZED_BIT_EXT:32,MAP_WRITE_BIT_EXT:2,MAX_3D_TEXTURE_SIZE_OES:32883,MAX_COLOR_ATTACHMENTS_NV:36063,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_DEBUG_GROUP_STACK_DEPTH:33388,MAX_DEBUG_LOGGED_MESSAGES:37188,MAX_DEBUG_MESSAGE_LENGTH:37187,MAX_DRAW_BUFFERS_NV:34852,MAX_EXT:32776,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_LABEL_LENGTH:33512,MAX_MULTIVIEW_BUFFERS_EXT:37106,MAX_RENDERBUFFER_SIZE:34024,MAX_SAMPLES_ANGLE:36183,MAX_SAMPLES_APPLE:36183,MAX_SAMPLES_EXT:36183,MAX_SAMPLES_IMG:37173,MAX_SAMPLES_NV:36183,MAX_SERVER_WAIT_TIMEOUT_APPLE:37137,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIN_EXT:32775,MIRRORED_REPEAT:33648,MULTISAMPLE_BUFFER_BIT0_QCOM:16777216,MULTISAMPLE_BUFFER_BIT1_QCOM:33554432,MULTISAMPLE_BUFFER_BIT2_QCOM:67108864,MULTISAMPLE_BUFFER_BIT3_QCOM:134217728,MULTISAMPLE_BUFFER_BIT4_QCOM:268435456,MULTISAMPLE_BUFFER_BIT5_QCOM:536870912,MULTISAMPLE_BUFFER_BIT6_QCOM:1073741824,MULTISAMPLE_BUFFER_BIT7_QCOM:2147483648,MULTIVIEW_EXT:37105,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NO_RESET_NOTIFICATION_EXT:33377,NUM_COMPRESSED_TEXTURE_FORMATS:34466,NUM_PROGRAM_BINARY_FORMATS_OES:34814,NUM_SHADER_BINARY_FORMATS:36345,NV_coverage_sample:1,NV_depth_nonlinear:1,NV_draw_buffers:1,NV_draw_instanced:1,NV_fbo_color_attachments:1,NV_fence:1,NV_framebuffer_blit:1,NV_framebuffer_multisample:1,NV_generate_mipmap_sRGB:1,NV_instanced_arrays:1,NV_read_buffer:1,NV_read_buffer_front:1,NV_read_depth:1,NV_read_depth_stencil:1,NV_read_stencil:1,NV_sRGB_formats:1,NV_shadow_samplers_array:1,NV_shadow_samplers_cube:1,NV_texture_border_clamp:1,NV_texture_compression_s3tc_update:1,NV_texture_npot_2D_mipmap:1,OBJECT_TYPE_APPLE:37138,OES_EGL_image:1,OES_EGL_image_external:1,OES_compressed_ETC1_RGB8_texture:1,OES_compressed_paletted_texture:1,OES_depth24:1,OES_depth32:1,OES_depth_texture:1,OES_element_index_uint:1,OES_fbo_render_mipmap:1,OES_fragment_precision_high:1,OES_get_program_binary:1,OES_mapbuffer:1,OES_packed_depth_stencil:1,OES_required_internalformat:1,OES_rgb8_rgba8:1,OES_standard_derivatives:1,OES_stencil1:1,OES_stencil4:1,OES_surfaceless_context:1,OES_texture_3D:1,OES_texture_float:1,OES_texture_float_linear:1,OES_texture_half_float:1,OES_texture_half_float_linear:1,OES_texture_npot:1,OES_vertex_array_object:1,OES_vertex_half_float:1,OES_vertex_type_10_10_10_2:1,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,PACK_REVERSE_ROW_ORDER_ANGLE:37796,PALETTE4_R5_G6_B5_OES:35730,PALETTE4_RGB5_A1_OES:35732,PALETTE4_RGB8_OES:35728,PALETTE4_RGBA4_OES:35731,PALETTE4_RGBA8_OES:35729,PALETTE8_R5_G6_B5_OES:35735,PALETTE8_RGB5_A1_OES:35737,PALETTE8_RGB8_OES:35733,PALETTE8_RGBA4_OES:35736,PALETTE8_RGBA8_OES:35734,PERCENTAGE_AMD:35779,PERFMON_GLOBAL_MODE_QCOM:36768,PERFMON_RESULT_AMD:35782,PERFMON_RESULT_AVAILABLE_AMD:35780,PERFMON_RESULT_SIZE_AMD:35781,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,PROGRAM:33506,PROGRAM_BINARY_ANGLE:37798,PROGRAM_BINARY_FORMATS_OES:34815,PROGRAM_BINARY_LENGTH_OES:34625,PROGRAM_OBJECT_EXT:35648,PROGRAM_PIPELINE_BINDING_EXT:33370,PROGRAM_PIPELINE_OBJECT_EXT:35407,PROGRAM_SEPARABLE_EXT:33368,QCOM_alpha_test:1,QCOM_binning_control:1,QCOM_driver_control:1,QCOM_extended_get:1,QCOM_extended_get2:1,QCOM_perfmon_global_mode:1,QCOM_tiled_rendering:1,QCOM_writeonly_rendering:1,QUERY:33507,QUERY_OBJECT_EXT:37203,QUERY_RESULT_AVAILABLE_EXT:34919,QUERY_RESULT_EXT:34918,R16F_EXT:33325,R32F_EXT:33326,R8_EXT:33321,READ_BUFFER_EXT:3074,READ_BUFFER_NV:3074,READ_FRAMEBUFFER_ANGLE:36008,READ_FRAMEBUFFER_APPLE:36008,READ_FRAMEBUFFER_BINDING_ANGLE:36010,READ_FRAMEBUFFER_BINDING_APPLE:36010,READ_FRAMEBUFFER_BINDING_NV:36010,READ_FRAMEBUFFER_NV:36008,RED_BITS:3410,RED_EXT:6403,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_SAMPLES_ANGLE:36011,RENDERBUFFER_SAMPLES_APPLE:36011,RENDERBUFFER_SAMPLES_EXT:36011,RENDERBUFFER_SAMPLES_IMG:37171,RENDERBUFFER_SAMPLES_NV:36011,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,RENDER_DIRECT_TO_FRAMEBUFFER_QCOM:36787,REPEAT:10497,REPLACE:7681,REQUIRED_TEXTURE_IMAGE_UNITS_OES:36200,RESET_NOTIFICATION_STRATEGY_EXT:33366,RG16F_EXT:33327,RG32F_EXT:33328,RG8_EXT:33323,RGB:6407,RGB10_A2_EXT:32857,RGB10_EXT:32850,RGB16F_EXT:34843,RGB32F_EXT:34837,RGB565:36194,RGB565_OES:36194,RGB5_A1:32855,RGB5_A1_OES:32855,RGB8_OES:32849,RGBA:6408,RGBA16F_EXT:34842,RGBA32F_EXT:34836,RGBA4:32854,RGBA4_OES:32854,RGBA8_OES:32856,RGB_422_APPLE:35359,RG_EXT:33319,RIGHT:1031,SAMPLER:33510,SAMPLER_2D:35678,SAMPLER_2D_ARRAY_SHADOW_NV:36292,SAMPLER_2D_SHADOW_EXT:35682,SAMPLER_3D_OES:35679,SAMPLER_CUBE:35680,SAMPLER_CUBE_SHADOW_NV:36293,SAMPLER_EXTERNAL_OES:36198,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SGX_BINARY_IMG:35850,SGX_PROGRAM_BINARY_IMG:37168,SHADER:33505,SHADER_BINARY_DMP:37456,SHADER_BINARY_FORMATS:36344,SHADER_BINARY_VIV:36804,SHADER_COMPILER:36346,SHADER_OBJECT_EXT:35656,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SIGNALED_APPLE:37145,SLUMINANCE8_ALPHA8_NV:35909,SLUMINANCE8_NV:35911,SLUMINANCE_ALPHA_NV:35908,SLUMINANCE_NV:35910,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,SRGB8_ALPHA8_EXT:35907,SRGB8_NV:35905,SRGB_ALPHA_EXT:35906,SRGB_EXT:35904,STACK_OVERFLOW:1283,STACK_UNDERFLOW:1284,STATE_RESTORE:35804,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_BUFFER_BIT0_QCOM:65536,STENCIL_BUFFER_BIT1_QCOM:131072,STENCIL_BUFFER_BIT2_QCOM:262144,STENCIL_BUFFER_BIT3_QCOM:524288,STENCIL_BUFFER_BIT4_QCOM:1048576,STENCIL_BUFFER_BIT5_QCOM:2097152,STENCIL_BUFFER_BIT6_QCOM:4194304,STENCIL_BUFFER_BIT7_QCOM:8388608,STENCIL_CLEAR_VALUE:2961,STENCIL_EXT:6146,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX1_OES:36166,STENCIL_INDEX4_OES:36167,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,SYNC_CONDITION_APPLE:37139,SYNC_FENCE_APPLE:37142,SYNC_FLAGS_APPLE:37141,SYNC_FLUSH_COMMANDS_BIT_APPLE:1,SYNC_GPU_COMMANDS_COMPLETE_APPLE:37143,SYNC_OBJECT_APPLE:35411,SYNC_STATUS_APPLE:37140,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE2:33986,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE3:33987,TEXTURE30:34014,TEXTURE31:34015,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE_2D:3553,TEXTURE_3D_OES:32879,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_3D_OES:32874,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_BINDING_EXTERNAL_OES:36199,TEXTURE_BORDER_COLOR_NV:4100,TEXTURE_COMPARE_FUNC_EXT:34893,TEXTURE_COMPARE_MODE_EXT:34892,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_DEPTH_QCOM:35796,TEXTURE_EXTERNAL_OES:36197,TEXTURE_FORMAT_QCOM:35798,TEXTURE_HEIGHT_QCOM:35795,TEXTURE_IMAGE_VALID_QCOM:35800,TEXTURE_IMMUTABLE_FORMAT_EXT:37167,TEXTURE_INTERNAL_FORMAT_QCOM:35797,TEXTURE_MAG_FILTER:10240,TEXTURE_MAX_ANISOTROPY_EXT:34046,TEXTURE_MAX_LEVEL_APPLE:33085,TEXTURE_MIN_FILTER:10241,TEXTURE_NUM_LEVELS_QCOM:35801,TEXTURE_OBJECT_VALID_QCOM:35803,TEXTURE_SAMPLES_IMG:37174,TEXTURE_TARGET_QCOM:35802,TEXTURE_TYPE_QCOM:35799,TEXTURE_USAGE_ANGLE:37794,TEXTURE_WIDTH_QCOM:35794,TEXTURE_WRAP_R_OES:32882,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TIMEOUT_EXPIRED_APPLE:37147,TIMEOUT_IGNORED_APPLE:0x10000000000000000,TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE:37792,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,TRUE:1,UNKNOWN_CONTEXT_RESET_EXT:33365,UNPACK_ALIGNMENT:3317,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_PIXELS:3316,UNPACK_SKIP_ROWS:3315,UNSIGNALED_APPLE:37144,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_INT64_AMD:35778,UNSIGNED_INT_10_10_10_2_OES:36342,UNSIGNED_INT_24_8_OES:34042,UNSIGNED_INT_2_10_10_10_REV_EXT:33640,UNSIGNED_NORMALIZED_EXT:35863,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_1_5_5_5_REV_EXT:33638,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_4_4_4_4_REV_EXT:33637,UNSIGNED_SHORT_4_4_4_4_REV_IMG:33637,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_8_8_APPLE:34234,UNSIGNED_SHORT_8_8_REV_APPLE:34235,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ARRAY_BINDING_OES:34229,VERTEX_ARRAY_OBJECT_EXT:37204,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,VERTEX_ATTRIB_ARRAY_DIVISOR_NV:35070,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VERTEX_SHADER_BIT_EXT:1,VIEWPORT:2978,VIV_shader_binary:1,WAIT_FAILED_APPLE:37149,WRITEONLY_RENDERING_QCOM:34851,WRITE_ONLY_OES:35001,Z400_BINARY_AMD:34624,ZERO:0,RASTERIZER_DISCARD:35977,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},WebGL2RenderingContext:{},addEventListener:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nr.addEventListener(t,e,n)},removeEventListener:function(t,e,n){nr.removeEventListener(t,e)},dispatchEvent:function(t){nr.dispatchEvent(t)},innerWidth:In.availWidth,innerHeight:In.availHeight,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval},zr=jr?Br:on,Ur=jr?_r:on.XMLHttpRequest;jr||on.location;function Vr(t){var e=t;return"string"===typeof t&&(e=zr.document.getElementById(t)),e}function Gr(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Wr(t,e,n){var r=zr.document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function Hr(t){var e=t.parentNode;e&&e.removeChild(t)}function Yr(t,e){if(void 0!==t.classList)for(var n=function(t){return Gr(t).split(/\s+/)}(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!function(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Zr(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}(t,e)){var o=Zr(t);qr(t,(o?o+" ":"")+e)}}function Xr(t,e){void 0!==t.classList?t.classList.remove(e):qr(t,Gr((" "+Zr(t)+" ").replace(" "+e+" "," ")))}function qr(t,e){t instanceof HTMLElement?t.className=e:t.className.baseVal=e}function Zr(t){return t instanceof SVGElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Kr(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}var Qr=function(t){var e,n,r=null===zr||void 0===zr||null===(e=zr.document)||void 0===e||null===(n=e.documentElement)||void 0===n?void 0:n.style;if(!r)return t[0];for(var i in t)if(t[i]&&t[i]in r)return t[i];return t[0]}(["transform","WebkitTransform"]);function Jr(t,e){t.style[Qr]=e}var $r=function(){var t,e=zr.document.querySelector('meta[name="viewport"]');if(!e)return 1;var n=(null===(t=e.content)||void 0===t?void 0:t.split(",")).find((function(t){var e=Qe(t.split("="),2),n=e[0];e[1];return"initial-scale"===n}));return n?1*n.split("=")[1]:1}()<1?1:zr.devicePixelRatio;function ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ei(t,e,n){return ei=ti()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&un(i,n.prototype),i},ei.apply(null,arguments)}function ni(t){var e="function"===typeof Map?new Map:void 0;return ni=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ei(t,arguments,hn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),un(r,t)},ni(t)}function ri(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var i=hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var ii=function(t){ln(n,t);var e=ri(n);function n(t,r,i){var o;return en(this,n),dn(fn(o=e.call(this,t)),"status",void 0),dn(fn(o),"url",void 0),o.status=r,o.url=i,o.name=o.constructor.name,o.message=t,o}return rn(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(ni(Error));function oi(t){var e=new Ur;for(var n in e.open("GET",t.url,!0),t.headers)t.headers.hasOwnProperty(n)&&e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}var ai=function(t,e){return function(t,e){var n=oi(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new ii(n.statusText,n.status,t.url))},n.send(),n}(t,(function(t,n){if(t)e(t);else if(n){var r=new zr.Image;r.crossOrigin="anonymous";var i=zr.URL||zr.webkitURL;r.onload=function(){e(null,r),i.revokeObjectURL(r.src)};var o=new zr.Blob([new Uint8Array(n.data)],{type:"image/png"});r.src=n.data.byteLength?i.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}))},si=2*Math.PI*6378137/2;function ui(t){var e=[1/0,1/0,-1/0,-1/0];return t.forEach((function(t){var n=t.coordinates;li(e,n)})),e}function li(t,e){return Array.isArray(e[0])?e.forEach((function(e){li(t,e)})):(t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])),t}function ci(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1},r=(t=fi(t,e))[0],i=t[1],o=r*si/180,a=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return a=a*si/180,n.enable&&(o=Number(o.toFixed(n.decimal)),a=Number(a.toFixed(n.decimal))),3===t.length?[o,a,t[2]]:[o,a]}function fi(t,e){if(!1===e)return t;var n=function(t){if(void 0===t||null===t)throw new Error("lng is required");return(t>180||t<-180)&&((t%=360)>180&&(t=-360+t),t<-180&&(t=360+t),0===t&&(t=0)),t}(t[0]),r=function(t){if(void 0===t||null===t)throw new Error("lat is required");return(t>90||t<-90)&&((t%=180)>90&&(t=-180+t),t<-90&&(t=180+t),0===t&&(t=0)),t}(t[1]);return r>85&&(r=85),r<-85&&(r=-85),3===t.length?[n,r,t[2]]:[n,r]}function pi(t){var e=85.0511287798,n=Math.max(Math.min(e,t[1]),-e),r=256<<20,i=Math.PI/180,o=t[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));return o=r*(.5/Math.PI*o+.5),a=r*(-.5/Math.PI*a+(i=.5)),[Math.floor(o),Math.floor(a)]}function hi(t,e){var n=Math.abs(t[1][1]-t[0][1])*e,r=Math.abs(t[1][0]-t[0][0])*e;return[[t[0][0]-r,t[0][1]-n],[t[1][0]+r,t[1][1]+n]]}function di(t,e){return t[0][0]<=e[0][0]&&t[0][1]<=e[0][1]&&t[1][0]>=e[1][0]&&t[1][1]>=e[1][1]}function gi(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}var vi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;en(this,t),dn(this,"limit",void 0),dn(this,"cache",void 0),dn(this,"destroy",void 0),dn(this,"order",void 0),this.limit=e,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return rn(t,[{key:"clear",value:function(){var t=this;this.order.forEach((function(e){t.delete(e)})),this.cache={},this.order=[]}},{key:"get",value:function(t){var e=this.cache[t];return e&&(this.deleteOrder(t),this.appendOrder(t)),e}},{key:"set",value:function(t,e){this.cache[t]?(this.delete(t),this.cache[t]=e,this.appendOrder(t)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[t]=e,this.appendOrder(t))}},{key:"delete",value:function(t){var e=this.cache[t];e&&(this.deleteCache(t),this.deleteOrder(t),this.destroy(e,t))}},{key:"deleteCache",value:function(t){delete this.cache[t]}},{key:"deleteOrder",value:function(t){var e=this.order.findIndex((function(e){return e===t}));e>=0&&this.order.splice(e,1)}},{key:"appendOrder",value:function(t){this.order.push(t)}},{key:"defaultDestroy",value:function(t,e){return null}}]),t}();function yi(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}!function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;en(this,t),dn(this,"duration",16),dn(this,"timestamp",(new Date).getTime()),this.duration=e}rn(t,[{key:"run",value:function(t){var e=(new Date).getTime(),n=e-this.timestamp;this.timestamp=e,n>=this.duration&&t()}}])}();function mi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bi(){}var xi,wi=.7,Si=1/wi,Ei="\\s*([+-]?\\d+)\\s*",Ai="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ti=/^#([0-9a-f]{3,8})$/,Ci=new RegExp("^rgb\\("+[Ei,Ei,Ei]+"\\)$"),Pi=new RegExp("^rgb\\("+[Oi,Oi,Oi]+"\\)$"),Mi=new RegExp("^rgba\\("+[Ei,Ei,Ei,Ai]+"\\)$"),Ii=new RegExp("^rgba\\("+[Oi,Oi,Oi,Ai]+"\\)$"),ki=new RegExp("^hsl\\("+[Ai,Oi,Oi]+"\\)$"),Ri=new RegExp("^hsla\\("+[Ai,Oi,Oi,Ai]+"\\)$"),Li={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Di(){return this.rgb().formatHex()}function Ni(){return this.rgb().formatRgb()}function Fi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ti.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ji(e):3===n?new Vi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ci.exec(t))?new Vi(e[1],e[2],e[3],1):(e=Pi.exec(t))?new Vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Mi.exec(t))?Bi(e[1],e[2],e[3],e[4]):(e=Ii.exec(t))?Bi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ki.exec(t))?Yi(e[1],e[2]/100,e[3]/100,1):(e=Ri.exec(t))?Yi(e[1],e[2]/100,e[3]/100,e[4]):Li.hasOwnProperty(t)?ji(Li[t]):"transparent"===t?new Vi(NaN,NaN,NaN,0):null}function ji(t){return new Vi(t>>16&255,t>>8&255,255&t,1)}function Bi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vi(t,e,n,r)}function zi(t){return t instanceof bi||(t=Fi(t)),t?new Vi((t=t.rgb()).r,t.g,t.b,t.opacity):new Vi}function Ui(t,e,n,r){return 1===arguments.length?zi(t):new Vi(t,e,n,null==r?1:r)}function Vi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Gi(){return"#"+Hi(this.r)+Hi(this.g)+Hi(this.b)}function Wi(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Hi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Yi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,n,r)}function Xi(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(t instanceof bi||(t=Fi(t)),!t)return new qi;if(t instanceof qi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new qi(a,s,u,t.opacity)}function qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ki(t){var e=Fi(t),n=[0,0,0,0];return null!=e&&(n[0]=e.r/255,n[1]=e.g/255,n[2]=e.b/255,n[3]=e.opacity),n}function Qi(t){return(t&&t[0])+256*(t&&t[1])+65536*(t&&t[2])-1}function Ji(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}mi(bi,Fi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Di,formatHex:Di,formatHsl:function(){return Xi(this).formatHsl()},formatRgb:Ni,toString:Ni}),mi(Vi,Ui,_i(bi,{brighter:function(t){return t=null==t?Si:Math.pow(Si,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?wi:Math.pow(wi,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gi,formatHex:Gi,formatRgb:Wi,toString:Wi})),mi(qi,(function(t,e,n,r){return 1===arguments.length?Xi(t):new qi(t,e,n,null==r?1:r)}),_i(bi,{brighter:function(t){return t=null==t?Si:Math.pow(Si,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?wi:Math.pow(wi,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vi(Zi(t>=240?t-240:t+120,i,r),Zi(t,i,r),Zi(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}})),function(t){t.CENTER="center",t.TOP="top",t["TOP-LEFT"]="top-left",t["TOP-RIGHT"]="top-right",t.BOTTOM="bottom",t["BOTTOM-LEFT"]="bottom-left",t.LEFT="left",t.RIGHT="right"}(xi||(xi={}));var $i={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function to(t,e,n){var r=t.classList;for(var i in $i)$i.hasOwnProperty(i)&&r.remove("l7-".concat(n,"-anchor-").concat(i));r.add("l7-".concat(n,"-anchor-").concat(e))}function eo(t,e){return{enable:t,mask:255,func:{cmp:514,ref:e?1:0,mask:255}}}var no=1029,ro=1028;function io(t){switch(t){case"GAODE1.x":case"GAODE2.x":case"GLOBEL":return no;default:return ro}}function oo(t){if(0===t.length)return 0;for(var e=1*t[0],n=1;n<t.length;n++)e+=1*t[n];return e}var ao={min:function(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return 1*e},max:function(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return 1*e},mean:function(t){if(0===t.length)throw new Error("mean requires at least one data point");return oo(t)/t.length},sum:oo,mode:function(t){if(0===t.length)throw new Error("mean requires at least one data point");if(t.length<3)return t[0];t.sort();for(var e=t[0],n=NaN,r=0,i=1,o=1;o<t.length+1;o++)t[o]!==e?(i>r&&(r=i,n=e),i=1,e=t[o]):i++;return 1*n}};function so(t,e){return t.map((function(t){return t[e]}))}function uo(t,e){var n=e.extent,r=void 0===n?[121.168,30.2828,121.384,30.4219]:n,i=new Promise((function(e){!function(t,e){var n=t,r=[];if("string"===typeof n)ai({url:n},(function(t,n){r.push(n),e(r)}));else{var i=n.length,o=0;n.forEach((function(t){ai({url:t},(function(t,n){o++,r.push(n),o===i&&e(r)}))}))}}(t,(function(t){e(t)}))}));return{originData:t,images:i,_id:1,dataArray:[{_id:0,coordinates:[[r[0],r[1]],[r[2],r[3]]]}]}}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function co(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fo(t,e){return fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fo(t,e)}function po(t){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(t)}function ho(t,e){if(e&&("object"===po(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return co(t)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},go(t)}var vo=n(2617),yo=n.n(vo),mo=n(6769),_o=n.n(mo),bo=n(4786),xo=n.n(bo),wo=n(8121),So=n.n(wo);function Eo(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Ao(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Oo(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function To(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Co(t,e){return t(e={exports:{}},e.exports),e.exports}var Po=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&"number"===typeof t.length&&t.length>=0&&t.length%1===0},t.exports=e.default}));To(Po);var Mo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=e.pop();return t.call(this,e,r)}},t.exports=e.default}));To(Mo);var Io=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fallback=o,e.wrap=a;var n,r=e.hasSetImmediate="function"===typeof setImmediate&&setImmediate,i=e.hasNextTick="object"===typeof process&&"function"===typeof process.nextTick;function o(t){setTimeout(t,0)}function a(t){return function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return t((function(){return e.apply(void 0,n)}))}}n=r?setImmediate:i?process.nextTick:o,e.default=a(n)}));To(Io);Io.fallback,Io.wrap,Io.hasSetImmediate,Io.hasNextTick;var ko=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,Ro.isAsync)(t))return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=e.pop(),i=t.apply(this,e);return o(i,r)};return(0,n.default)((function(e,n){var r;try{r=t.apply(this,e)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return o(r,n);n(null,r)}))};var n=i(Mo),r=i(Io);function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return t.then((function(t){a(e,null,t)}),(function(t){a(e,t&&t.message?t:new Error(t))}))}function a(t,e,n){try{t(e,n)}catch(i){(0,r.default)((function(t){throw t}),i)}}t.exports=e.default}));To(ko);var Ro=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=e.isAsyncGenerator=e.isAsync=void 0;var n,r=(n=ko)&&n.__esModule?n:{default:n};function i(t){return"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){if("function"!==typeof t)throw new Error("expected a function");return i(t)?(0,r.default)(t):t},e.isAsync=i,e.isAsyncGenerator=function(t){return"AsyncGenerator"===t[Symbol.toStringTag]},e.isAsyncIterable=function(t){return"function"===typeof t[Symbol.asyncIterator]}}));To(Ro);Ro.isAsyncIterable,Ro.isAsyncGenerator,Ro.isAsync;var Lo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){void 0===e&&(e=t.length);if(!e)throw new Error("arity is undefined");function n(){for(var n=this,r=[],i=arguments.length;i--;)r[i]=arguments[i];return"function"===typeof r[e-1]?t.apply(this,r):new Promise((function(i,o){r[e-1]=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(t)return o(t);i(e.length>1?e:e[0])},t.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+t.name+")"}),n},t.exports=e.default}));To(Lo);var Do=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(Po),r=o(Ro),i=o(Lo);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,i){var o=(0,n.default)(e)?[]:{};t(e,(function(t,e,n){(0,r.default)(t)((function(t){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];r.length<2&&(r=r[0]),o[e]=r,n(t)}))}),(function(t){return i(t,o)}))}),3),t.exports=e.default}));To(Do);var No=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e},t.exports=e.default}));To(No);var Fo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()},t.exports=e.default}));To(Fo);var jo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e=(0,r.default)(t);return e?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(e):function(t){var e=t?Object.keys(t):[],n=-1,r=e.length;return function(){var i=e[++n];return n<r?{value:t[i],key:i}:null}}(t)};var n=i(Po),r=i(Fo);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}));To(jo);var Bo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}},t.exports=e.default}));To(Bo);var zo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default={},t.exports=e.default}));To(zo);var Uo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var o=!1,a=!1,s=!1,u=0,l=0;function c(){u>=e||s||o||(s=!0,t.next().then((function(t){var e=t.value,r=t.done;if(!a&&!o){if(s=!1,r)return o=!0,void(u<=0&&i(null));u++,n(e,l,f),l++,c()}})).catch(p))}function f(t,e){if(u-=1,!a)return t?p(t):!1===t?(o=!0,void(a=!0)):e===r.default||o&&u<=0?(o=!0,i(null)):void c()}function p(t){a||(s=!1,o=!0,i(t))}c()};var n,r=(n=zo)&&n.__esModule?n:{default:n};t.exports=e.default}));To(Uo);var Vo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=s(No),r=s(jo),i=s(Bo),o=s(Uo),a=s(zo);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return function(e,s,u){if(u=(0,n.default)(u),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return u(null);if((0,Ro.isAsyncGenerator)(e))return(0,o.default)(e,t,s,u);if((0,Ro.isAsyncIterable)(e))return(0,o.default)(e[Symbol.asyncIterator](),t,s,u);var l=(0,r.default)(e),c=!1,f=!1,p=0,h=!1;function d(t,e){if(!f)if(p-=1,t)c=!0,u(t);else if(!1===t)c=!0,f=!0;else{if(e===a.default||c&&p<=0)return c=!0,u(null);h||g()}}function g(){for(h=!0;p<t&&!c;){var e=l();if(null===e)return c=!0,void(p<=0&&u(null));p+=1,s(e.value,e.key,(0,i.default)(d))}h=!1}g()}},t.exports=e.default}));To(Vo);var Go=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(Vo),r=o(Ro),i=o(Lo);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,i,o){return(0,n.default)(e)(t,(0,r.default)(i),o)}),4),t.exports=e.default}));To(Go);var Wo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=i(Go),r=i(Lo);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)((function(t,e,r){return(0,n.default)(t,1,e,r)}),3),t.exports=e.default}));To(Wo);var Ho=To(Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,n.default)(r.default,t,e)};var n=i(Do),r=i(Wo);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}))),Yo=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];this.args=[],this.tasks=[]}return t.prototype.call=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return this.args=e,Ho(this.tasks)},t.prototype.tap=function(t,e){var n=this;this.tasks.push((function(r){e.apply(void 0,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oo(arguments[e]));return t}(n.args)),r(null,t)}))},t}(),Xo=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l(Po),r=l(zo),i=l(Go),o=l(No),a=l(Bo),s=l(Ro),u=l(Lo);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){n=(0,o.default)(n);var i=0,s=0,u=t.length,l=!1;function c(t,e){!1===t&&(l=!0),!0!==l&&(t?n(t):++s!==u&&e!==r.default||n(null))}for(0===u&&n(null);i<u;i++)e(t[i],i,(0,a.default)(c))}function f(t,e,n){return(0,i.default)(t,1/0,e,n)}e.default=(0,u.default)((function(t,e,r){return((0,n.default)(t)?c:f)(t,(0,s.default)(e),r)}),3),t.exports=e.default}));To(Xo);var qo=To(Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,r.default)(n.default,t,e)};var n=i(Xo),r=i(Do);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}))),Zo=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];this.tasks=[]}return t.prototype.promise=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return qo(this.tasks)},t.prototype.tapPromise=function(t,e){var n=this;this.tasks.push((function(r){return Eo(n,void 0,void 0,(function(){return Ao(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return n.sent(),r(null,t),[2]}}))}))}))},t}(),Ko=Co((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=a(No),r=a(Bo),i=a(Ro),o=a(Lo);function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)((function(t,e){if(e=(0,n.default)(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var o=0;function a(e){(0,i.default)(t[o++]).apply(void 0,e.concat([(0,r.default)(s)]))}function s(n){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];if(!1!==n)return n||o===t.length?e.apply(void 0,[n].concat(r)):void a(r)}a([])})),t.exports=e.default})),Qo=To(Ko),Jo=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];this.tasks=[]}return t.prototype.call=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return Qo(this.tasks)},t.prototype.tap=function(t,e){0===this.tasks.length?this.tasks.push((function(t){var n=e();t(!!n&&null,n)})):this.tasks.push((function(n,r){r(!!e()&&null,t)}))},t}(),$o=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];this.tasks=[]}return t.prototype.call=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return Ho(this.tasks)},t.prototype.tap=function(t,e){this.tasks.push((function(n){n(e(),t)}))},t}(),ta=n(7143),ea=n.n(ta),na=n(4480),ra=n.n(na);function ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ia(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aa(t,e){var n=e.radius,r=void 0===n?40:n,i=e.maxZoom,o=void 0===i?18:i,a=e.minZoom,s=void 0===a?0:a,u=e.zoom,l=void 0===u?2:u;if(t.pointIndex){var c=t.pointIndex.getClusters(t.extent,Math.floor(l));return t.dataArray=c.map((function(t,e){return oa({coordinates:t.geometry.coordinates,_id:e+1},t.properties)})),t}var f=new(ra())({radius:r,minZoom:s,maxZoom:o}),p={type:"FeatureCollection",features:[]};return p.features=t.dataArray.map((function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:oa({},t)}})),f.load(p.features),f}function sa(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+1*t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+1*r}var ua={min:function(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e},max:function(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e},mean:function(t){if(0===t.length)throw new Error("mean requires at least one data point");return sa(t)/t.length},sum:sa};function la(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?la(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fa(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=go(t);if(e){var i=go(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ho(this,n)}}function pa(t,e){if(Array.isArray(e))return e}var ha=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(o,t);var e,n,r,i=fa(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),ke(co(n=i.call(this)),"data",void 0),ke(co(n),"extent",void 0),ke(co(n),"hooks",{init:new Yo}),ke(co(n),"parser",{type:"geojson"}),ke(co(n),"transforms",[]),ke(co(n),"cluster",!1),ke(co(n),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),ke(co(n),"mapService",void 0),ke(co(n),"invalidExtent",!1),ke(co(n),"dataArrayChanged",!1),ke(co(n),"originData",void 0),ke(co(n),"rawData",void 0),ke(co(n),"cfg",{}),ke(co(n),"clusterIndex",void 0),n.originData=t,n.initCfg(e),n.hooks.init.tap("parser",(function(){n.excuteParser()})),n.hooks.init.tap("cluster",(function(){n.initCluster()})),n.hooks.init.tap("transform",(function(){n.executeTrans()})),n.init(),n}return e=o,n=[{key:"setData",value:function(t,e){this.originData=t,this.dataArrayChanged=!1,this.initCfg(e),this.init(),this.emit("update")}},{key:"getClusters",value:function(t){return this.clusterIndex.getClusters(this.caculClusterExtent(2),t)}},{key:"getClustersLeaves",value:function(t){return this.clusterIndex.getLeaves(t,1/0)}},{key:"updateClusterData",value:function(t){var e=this,n=this.clusterOptions,r=n.method,i=void 0===r?"sum":r,o=n.field,a=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(t));this.clusterOptions.zoom=t,a.forEach((function(t){t.id||(t.properties.point_count=1)})),(o||xo()(i))&&(a=a.map((function(t){var n=t.id;if(n){var r,a=e.clusterIndex.getLeaves(n,1/0).map((function(t){return t.properties}));if(_o()(i)&&o){var s=function(t,e){return t.map((function(t){return 1*t[e]}))}(a,o);r=ua[i](s)}xo()(i)&&(r=i(a)),t.properties.stat=r}else t.properties.point_count=1;return t}))),this.data=xe("geojson")({type:"FeatureCollection",features:a}),this.executeTrans()}},{key:"getFeatureById",value:function(t){var e=this.parser.type;if("geojson"!==(void 0===e?"geojson":e)||this.cluster)return t<this.data.dataArray.length?this.data.dataArray[t]:"null";var n=t<this.originData.features.length?this.originData.features[t]:"null",r=So()(n);if(0!==this.transforms.length||this.dataArrayChanged){var i=this.data.dataArray.find((function(e){return e._id===t}));r.properties=i}return r}},{key:"updateFeaturePropertiesById",value:function(t,e){this.data.dataArray=this.data.dataArray.map((function(n){return n._id===t?ca(ca({},n),e):n})),this.dataArrayChanged=!0,this.emit("update")}},{key:"getFeatureId",value:function(t,e){var n=this.data.dataArray.find((function(n){return n[t]===e}));return null===n||void 0===n?void 0:n._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(t){var e,n=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(n=hi([[(e=this.extent)[0],e[1]],[e[2],e[3]]],t)),n[0].concat(n[1])}},{key:"initCfg",value:function(t){this.cfg=yo()(this.cfg,t,pa);var e=this.cfg;e&&(e.parser&&(this.parser=e.parser),e.transforms&&(this.transforms=e.transforms),this.cluster=e.cluster||!1,e.clusterOptions&&(this.cluster=!0,this.clusterOptions=ca(ca({},this.clusterOptions),e.clusterOptions)))}},{key:"excuteParser",value:function(){var t=this.parser,e=t.type||"geojson";if("imagetile"!==e){var n=xe(e);this.data=n(this.originData,t),this.extent=ui(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}else this.data={tileurl:this.originData,dataArray:[]}}},{key:"executeTrans",value:function(){var t=this;this.transforms.forEach((function(e){var n=function(t){return _e[t]}(e.type)(t.data,e);Object.assign(t.data,n)}))}},{key:"initCluster",value:function(){if(this.cluster){var t=this.clusterOptions||{};this.clusterIndex=aa(this.data,t)}}},{key:"init",value:function(){this.hooks.init.call(this)}}],n&&lo(e.prototype,n),r&&lo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(ta.EventEmitter);function da(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return ga(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ga(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ga(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var va=6378e3;function ya(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Le(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ma=Math.PI/3,_a=[0,ma,2*ma,3*ma,4*ma,5*ma];function ba(t){return t[0]}function xa(t){return t[1]}function wa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}we("geojson",(function(t,e){var n=[],r={};return t.features=t.features.filter((function(t){var e=t.geometry;return null!=t&&e&&e.type&&e.coordinates&&e.coordinates.length>0})),Fe()(t,!0),0===t.features.length?{dataArray:[],featureKeys:r}:(Xe(t,(function(t,e){var r=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(t),i=e,o=Ze(Ze({},t.properties),{},{coordinates:r,_id:i});n.push(o)})),{dataArray:n,featureKeys:r})})),we("image",uo),we("csv",(function(t,e){return ze(Ie(t),e)})),we("json",ze),we("raster",(function(t,e){var n=e.extent,r=e.width,i=e.height,o=e.min,a=e.max;return{_id:1,dataArray:[{_id:1,data:Array.from(t),width:r,height:i,min:o,max:a,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]}})),Se("cluster",aa),Se("filter",(function(t,e){var n=e.callback;return n&&(t.dataArray=t.dataArray.filter(n)),t})),Se("join",(function(t,e){var n=e.sourceField,r=e.targetField,i=e.data,o={};return i.forEach((function(t){o[t[n]]=t})),t.dataArray=t.dataArray.map((function(t){var e=t[r];return Aa(Aa({},t),o[e])})),t})),Se("map",(function(t,e){var n=e.callback;return n&&(t.dataArray=t.dataArray.map(n)),t})),Se("grid",(function(t,e){var n=t.dataArray,r=e.size,i=void 0===r?10:r,o=i/(2*Math.PI*va)*(256<<20)/2,a=function(t,e){var n,r,i=1/0,o=-1/0,a=da(t);try{for(a.s();!(r=a.n()).done;){n=r.value.coordinates[1],Number.isFinite(n)&&(i=n<i?n:i,o=n>o?n:o)}}catch(y){a.e(y)}finally{a.f()}var s=function(t,e){var n=(i=t,i/va*(180/Math.PI)),r=function(t,e){return e/va*(180/Math.PI)/Math.cos(t*Math.PI/180)}(e,t);var i;return{yOffset:n,xOffset:r}}(e,(i+o)/2);if(s.xOffset<=0||s.yOffset<=0)return{gridHash:{},gridOffset:s};var u,l={},c=da(t);try{for(c.s();!(u=c.n()).done;){var f=u.value,p=f.coordinates[1],h=f.coordinates[0];if(Number.isFinite(p)&&Number.isFinite(h)){var d=Math.floor((p+90)/s.yOffset),g=Math.floor((h+180)/s.xOffset),v="".concat(d,"-").concat(g);l[v]=l[v]||{count:0,points:[]},l[v].count+=1,l[v].points.push(f)}}}catch(y){c.e(y)}finally{c.f()}return{gridHash:l,gridOffset:s}}(n,i),s=function(t,e,n){return Object.keys(t).reduce((function(r,i,o){var a=i.split("-"),s=parseInt(a[0],10),u=parseInt(a[1],10),l={};if(n.field&&n.method){var c=so(t[i].points,n.field);l[n.method]=ao[n.method](c)}return Object.assign(l,{_id:o,coordinates:pi([e.xOffset*(u+.5)-180,e.yOffset*(s+.5)-90]),rawData:t[i].points,count:t[i].count}),r.push(l),r}),[])}(a.gridHash,a.gridOffset,e);return{yOffset:o,xOffset:o,radius:o,type:"grid",dataArray:s}})),Se("hexagon",(function(t,e){var n=t.dataArray,r=e.size,i=void 0===r?10:r,o=e.method,a=void 0===o?"sum":o,s=i/(2*Math.PI*6378e3)*(256<<20)/2,u=n.map((function(t){var e=ya(pi(t.coordinates),2),n=e[0],r=e[1];return Sa(Sa({},t),{},{coordinates:[n,r]})})),l=function(){var t,e,n,r=0,i=0,o=1,a=1,s=ba,u=xa;function l(t){var r,i={},o=[],a=t.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,l=t[r],r,t))&&!isNaN(f=+u.call(null,l,r,t))){var l,c,f,p=Math.round(f/=n),h=Math.round(c=c/e-(1&p)/2),d=f-p;if(3*Math.abs(d)>1){var g=c-h,v=h+(c<h?-1:1)/2,y=p+(f<p?-1:1),m=c-v,_=f-y;g*g+d*d>m*m+_*_&&(h=v+(1&p?1:-1)/2,p=y)}var b=h+"-"+p,x=i[b];x?x.push(l):(o.push(x=i[b]=[l]),x.x=(h+(1&p)/2)*e,x.y=p*n)}return o}function c(t){var e=0,n=0;return _a.map((function(r){var i=Math.sin(r)*t,o=-Math.cos(r)*t,a=i-e,s=o-n;return e=i,n=o,[a,s]}))}return l.hexagon=function(e){return"m"+c(null==e?t:+e).join("l")+"z"},l.centers=function(){for(var s=[],u=Math.round(i/n),l=Math.round(r/e),c=u*n;c<a+t;c+=n,++u)for(var f=l*e+(1&u)*e/2;f<o+e/2;f+=e)s.push([f,c]);return s},l.mesh=function(){var e=c(t).slice(0,4).join("l");return l.centers().map((function(t){return"M"+t+"m"+e})).join("")},l.x=function(t){return arguments.length?(s=t,l):s},l.y=function(t){return arguments.length?(u=t,l):u},l.radius=function(r){return arguments.length?(e=2*(t=+r)*Math.sin(ma),n=1.5*t,l):t},l.size=function(t){return arguments.length?(r=i=0,o=+t[0],a=+t[1],l):[o-r,a-i]},l.extent=function(t){return arguments.length?(r=+t[0][0],i=+t[0][1],o=+t[1][0],a=+t[1][1],l):[[r,i],[o,a]]},l.radius(1)}().radius(s).x((function(t){return t.coordinates[0]})).y((function(t){return t.coordinates[1]})),c={dataArray:l(u).map((function(t,n){var r;if(e.field&&a){var i=so(t,e.field);t[a]=ao[a](i)}return ke(r={},e.method,t[a]),ke(r,"count",t.length),ke(r,"rawData",t),ke(r,"coordinates",[t.x,t.y]),ke(r,"_id",n),r})),radius:s,xOffset:s,yOffset:s,type:"hexagon"};return c}));var Oa=[{lng1:100,lat1:30,lng2:130,lat2:30}],Ta={parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}},Ca=ha,Pa=(n(6121),n(4608)),Ma=n(5696),Ia={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")};function ka(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function La(t,e,n){return e&&Ra(t.prototype,e),n&&Ra(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Na=n(3751),Fa=n.n(Na);function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function za(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Ua(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ua(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Va;function Ga(t,e,n){var r,i=za(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.icon,s=o.xOffset;t[a.id]=Ba(Ba({},a),{},{x:s,y:n,image:a.image,width:a.width,height:a.height})}}catch(u){i.e(u)}finally{i.f()}}function Wa(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function Ha(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Ya(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ya(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Za=function(){for(var t=[],e=32;e<128;e++)t.push(String.fromCharCode(e));return t}();function Ka(t,e,n,r){t.font="".concat(r," ").concat(n,"px ").concat(e),t.fillStyle="black",t.textBaseline="middle"}function Qa(t,e){for(var n=0;n<t.length;n++)e.data[4*n+3]=t[n]}var Ja,$a=(0,Pa.b2)()(Va=function(){function t(){ka(this,t),Da(this,"fontAtlas",void 0),Da(this,"iconFontMap",void 0),Da(this,"iconFontGlyphs",{}),Da(this,"fontOptions",void 0),Da(this,"key",void 0),Da(this,"cache",new vi(3))}return La(t,[{key:"scale",get:function(){return 1}},{key:"canvas",get:function(){var t=this.cache.get(this.key);return t&&t.data}},{key:"mapping",get:function(){var t=this.cache.get(this.key);return t&&t.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:"sans-serif",fontWeight:"normal",characterSet:Za,fontSize:24,buffer:3,sdf:!0,cutoff:.25,radius:8,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(t){var e=this;t.forEach((function(t){e.iconFontGlyphs[t.name]=t.unicode}))}},{key:"addIconFont",value:function(t,e){this.iconFontMap.set(t,e)}},{key:"getIconFontKey",value:function(t){return this.iconFontMap.get(t)||t}},{key:"getGlyph",value:function(t){return this.iconFontGlyphs[t]?String.fromCharCode(parseInt(this.iconFontGlyphs[t],16)):""}},{key:"setFontOptions",value:function(t){this.fontOptions=qa(qa({},this.fontOptions),t),this.key=this.getKey();var e=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==e.length){var r=this.generateFontAtlas(this.key,e,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(t,e,n){var r=this.fontOptions,i=r.fontFamily,o=r.fontWeight,a=r.fontSize,s=r.buffer,u=r.sdf,l=r.radius,c=r.cutoff,f=r.iconfont,p=n&&n.data;p||((p=zr.document.createElement("canvas")).width=1024);var h=p.getContext("2d");Ka(h,i,a,o);var d=function(t){var e=t.characterSet,n=t.getFontWidth,r=t.fontHeight,i=t.buffer,o=t.maxCanvasWidth,a=t.mapping,s=void 0===a?{}:a,u=t.xOffset,l=void 0===u?0:u,c=t.yOffset,f=void 0===c?0:c,p=0,h=l;Array.from(e).forEach((function(t,e){if(!s[t]){var r=n(t,e);h+30>o&&(h=0,p++),s[t]={x:h,y:f+30*p,width:30,height:30,advance:r},h+=30}}));var d=r+2*i;return{mapping:s,xOffset:h,yOffset:f+p*d,canvasHeight:Wa(f+(p+1)*d)}}(qa({getFontWidth:function(t){return h.measureText(t).width},fontHeight:1*a,buffer:s,characterSet:e,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),g=d.mapping,v=d.canvasHeight,y=d.xOffset,m=d.yOffset,_=h.getImageData(0,0,p.width,p.height);if(p.height=v,h.putImageData(_,0,0),Ka(h,i,a,o),u){var b,x=new(Fa())(a,s,l,c,i,o),w=h.getImageData(0,0,x.size,x.size),S=Ha(e);try{for(S.s();!(b=S.n()).done;){var E=b.value;if(f){var A=String.fromCharCode(parseInt(E.replace("&#x","").replace(";",""),16));Qa(x.draw(A),w)}else Qa(x.draw(E),w);h.putImageData(w,g[E].x,g[E].y)}}catch(P){S.e(P)}finally{S.f()}}else{var O,T=Ha(e);try{for(T.s();!(O=T.n()).done;){var C=O.value;h.fillText(C,g[C].x,g[C].y+1*a)}}catch(P){T.e(P)}finally{T.f()}}return{xOffset:y,yOffset:m,mapping:g,data:p,width:p.width,height:p.height}}},{key:"getKey",value:function(){return"key"}},{key:"getNewChars",value:function(t,e){var n=this.cache.get(t);if(!n)return e;var r=[],i=n.mapping,o=new Set(Object.keys(i));return new Set(e).forEach((function(t){o.has(t)||r.push(t)})),r}}]),t}())||Va;function ts(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function es(t,e){return es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},es(t,e)}function ns(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&es(t,e)}function rs(t){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(t)}function is(t,e){if(e&&("object"===rs(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ts(t)}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(t)}function as(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var ss=(0,Pa.b2)()(Ja=function(t){ns(n,t);var e=as(n);function n(){var t;ka(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Da(ts(t=e.call.apply(e,[this].concat(i))),"canvasHeight",128),Da(ts(t),"texture",void 0),Da(ts(t),"canvas",void 0),Da(ts(t),"iconData",void 0),Da(ts(t),"iconMap",void 0),Da(ts(t),"ctx",void 0),Da(ts(t),"loadingImageCount",0),t}return La(n,[{key:"isLoading",value:function(){return 0===this.loadingImageCount}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=zr.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(t,e){var n=this,r=new Image;if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:64}),this.updateIconMap(),this.loadImage(e).then((function(e){r=e;var i=n.iconData.find((function(e){return e.id===t}));i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()}))}},{key:"addImageMini",value:function(t,e,n){var r=this,i=n.getSceneConfig().canvas,o=i.createImage();if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:64}),this.updateIconMap(),this.loadImageMini(e,i).then((function(e){o=e;var n=r.iconData.find((function(e){return e.id===t}));n&&(n.image=o,n.width=o.width,n.height=o.height),r.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(t){return this.iconMap.hasOwnProperty(t)}},{key:"removeImage",value:function(t){this.hasImage(t)&&(this.iconData=this.iconData.filter((function(e){return e.id!==t})),delete this.iconMap[t],this.update())}},{key:"destroy",value:function(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}},{key:"loadImage",value:function(t){return new Promise((function(e,n){if(t instanceof HTMLImageElement)e(t);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){e(r)},r.onerror=function(){n(new Error("Could not load image at "+t))},r.src=t instanceof File?URL.createObjectURL(t):t}}))}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var t=this;this.canvas.width=1024,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(e){var n=t.iconMap[e],r=n.x,i=n.y,o=n.image,a=n.width,s=void 0===a?64:a,u=n.height,l=void 0===u?64:u,c=Math.max(s,l)/64,f=l/c,p=s/c;o&&t.ctx.drawImage(o,r+(64-p)/2,i+(64-f)/2,p,f)}))}},{key:"updateIconMap",value:function(){var t=function(t,e,n){var r,i=0,o=0,a=0,s=[],u={},l=za(t);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(!u[c.id]){var f=c.size;i+f+e>n&&(Ga(u,s,o),i=0,o=a+o+e,a=0,s=[]),s.push({icon:c,xOffset:i}),i=i+f+e,a=Math.max(a,f)}}}catch(p){l.e(p)}finally{l.f()}return s.length>0&&Ga(u,s,o),{mapping:u,canvasHeight:Wa(a+o+e)}}(this.iconData,3,1024),e=t.mapping,n=t.canvasHeight;this.iconMap=e,this.canvasHeight=n}},{key:"loadImageMini",value:function(t,e){return new Promise((function(n,r){var i=e.createImage();i.crossOrigin="anonymous",i.onload=function(){n(i)},i.onerror=function(){r(new Error("Could not load image at "+t))},i.src=t}))}}]),n}(ta.EventEmitter))||Ja;function us(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ls(t,e){if(t){if("string"===typeof t)return us(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?us(t,e):void 0}}function cs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||ls(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fs=1e-6,ps="undefined"!==typeof Float32Array?Float32Array:Array,hs=Math.random;Math.PI;function ds(){var t=new ps(16);return ps!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function gs(t){var e=new ps(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vs(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ys(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g){var v=new ps(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=u,v[9]=l,v[10]=c,v[11]=f,v[12]=p,v[13]=h,v[14]=d,v[15]=g,v}function ms(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=p,t[12]=h,t[13]=d,t[14]=g,t[15]=v,t}function _s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bs(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function xs(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,S=i*l-o*u,E=c*g-f*d,A=c*v-p*d,O=c*y-h*d,T=f*v-p*g,C=f*y-h*g,P=p*y-h*v,M=m*P-_*C+b*T+x*O-w*A+S*E;return M?(M=1/M,t[0]=(s*P-u*C+l*T)*M,t[1]=(i*C-r*P-o*T)*M,t[2]=(g*S-v*w+y*x)*M,t[3]=(p*w-f*S-h*x)*M,t[4]=(u*O-a*P-l*A)*M,t[5]=(n*P-i*O+o*A)*M,t[6]=(v*b-d*S-y*_)*M,t[7]=(c*S-p*b+h*_)*M,t[8]=(a*C-s*O+l*E)*M,t[9]=(r*O-n*C-o*E)*M,t[10]=(d*w-g*b+y*m)*M,t[11]=(f*b-c*w-h*m)*M,t[12]=(s*A-a*T-u*E)*M,t[13]=(n*T-r*A+i*E)*M,t[14]=(g*_-d*x-v*m)*M,t[15]=(c*x-f*_+p*m)*M,t):null}function ws(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],g=e[13],v=e[14],y=e[15];return t[0]=s*(p*y-h*v)-f*(u*y-l*v)+g*(u*h-l*p),t[1]=-(r*(p*y-h*v)-f*(i*y-o*v)+g*(i*h-o*p)),t[2]=r*(u*y-l*v)-s*(i*y-o*v)+g*(i*l-o*u),t[3]=-(r*(u*h-l*p)-s*(i*h-o*p)+f*(i*l-o*u)),t[4]=-(a*(p*y-h*v)-c*(u*y-l*v)+d*(u*h-l*p)),t[5]=n*(p*y-h*v)-c*(i*y-o*v)+d*(i*h-o*p),t[6]=-(n*(u*y-l*v)-a*(i*y-o*v)+d*(i*l-o*u)),t[7]=n*(u*h-l*p)-a*(i*h-o*p)+c*(i*l-o*u),t[8]=a*(f*y-h*g)-c*(s*y-l*g)+d*(s*h-l*f),t[9]=-(n*(f*y-h*g)-c*(r*y-o*g)+d*(r*h-o*f)),t[10]=n*(s*y-l*g)-a*(r*y-o*g)+d*(r*l-o*s),t[11]=-(n*(s*h-l*f)-a*(r*h-o*f)+c*(r*l-o*s)),t[12]=-(a*(f*v-p*g)-c*(s*v-u*g)+d*(s*p-u*f)),t[13]=n*(f*v-p*g)-c*(r*v-i*g)+d*(r*p-i*f),t[14]=-(n*(s*v-u*g)-a*(r*v-i*g)+d*(r*u-i*s)),t[15]=n*(s*p-u*f)-a*(r*p-i*f)+c*(r*u-i*s),t}function Ss(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11],h=t[12],d=t[13],g=t[14],v=t[15];return(e*a-n*o)*(f*v-p*g)-(e*s-r*o)*(c*v-p*d)+(e*u-i*o)*(c*g-f*d)+(n*s-r*a)*(l*v-p*h)-(n*u-i*a)*(l*g-f*h)+(r*u-i*s)*(l*d-c*h)}function Es(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],g=e[12],v=e[13],y=e[14],m=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*g,t[1]=_*i+b*u+x*p+w*v,t[2]=_*o+b*l+x*h+w*y,t[3]=_*a+b*c+x*d+w*m,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*g,t[5]=_*i+b*u+x*p+w*v,t[6]=_*o+b*l+x*h+w*y,t[7]=_*a+b*c+x*d+w*m,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*g,t[9]=_*i+b*u+x*p+w*v,t[10]=_*o+b*l+x*h+w*y,t[11]=_*a+b*c+x*d+w*m,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*g,t[13]=_*i+b*u+x*p+w*v,t[14]=_*o+b*l+x*h+w*y,t[15]=_*a+b*c+x*d+w*m,t}function As(t,e,n){var r,i,o,a,s,u,l,c,f,p,h,d,g=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*g+e[4]*v+e[8]*y+e[12],t[13]=e[1]*g+e[5]*v+e[9]*y+e[13],t[14]=e[2]*g+e[6]*v+e[10]*y+e[14],t[15]=e[3]*g+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*g+s*v+f*y+e[12],t[13]=i*g+u*v+p*y+e[13],t[14]=o*g+l*v+h*y+e[14],t[15]=a*g+c*v+d*y+e[15]),t}function Os(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ts(t,e,n,r){var i,o,a,s,u,l,c,f,p,h,d,g,v,y,m,_,b,x,w,S,E,A,O,T,C=r[0],P=r[1],M=r[2],I=Math.hypot(C,P,M);return I<fs?null:(C*=I=1/I,P*=I,M*=I,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],p=e[5],h=e[6],d=e[7],g=e[8],v=e[9],y=e[10],m=e[11],_=C*C*a+o,b=P*C*a+M*i,x=M*C*a-P*i,w=C*P*a-M*i,S=P*P*a+o,E=M*P*a+C*i,A=C*M*a+P*i,O=P*M*a-C*i,T=M*M*a+o,t[0]=s*_+f*b+g*x,t[1]=u*_+p*b+v*x,t[2]=l*_+h*b+y*x,t[3]=c*_+d*b+m*x,t[4]=s*w+f*S+g*E,t[5]=u*w+p*S+v*E,t[6]=l*w+h*S+y*E,t[7]=c*w+d*S+m*E,t[8]=s*A+f*O+g*T,t[9]=u*A+p*O+v*T,t[10]=l*A+h*O+y*T,t[11]=c*A+d*O+m*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Cs(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=p*i-u*r,t}function Ps(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=u*i-p*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+p*i,t}function Ms(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=p*i-u*r,t}function Is(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ks(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Rs(t,e,n){var r,i,o,a=n[0],s=n[1],u=n[2],l=Math.hypot(a,s,u);return l<fs?null:(a*=l=1/l,s*=l,u*=l,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+u*r,t[2]=u*a*o-s*r,t[3]=0,t[4]=a*s*o-u*r,t[5]=s*s*o+i,t[6]=u*s*o+a*r,t[7]=0,t[8]=a*u*o+s*r,t[9]=s*u*o-a*r,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Ls(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ds(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ns(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Fs(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,f=r*u,p=r*l,h=i*u,d=i*l,g=o*l,v=a*s,y=a*u,m=a*l;return t[0]=1-(h+g),t[1]=f+m,t[2]=p-y,t[3]=0,t[4]=f-m,t[5]=1-(c+g),t[6]=d+v,t[7]=0,t[8]=p+y,t[9]=d-v,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function js(t,e){var n=new ps(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=r*r+i*i+o*o+a*a;return f>0?(n[0]=2*(s*a+c*r+u*o-l*i)/f,n[1]=2*(u*a+c*i+l*r-s*o)/f,n[2]=2*(l*a+c*o+s*i-u*r)/f):(n[0]=2*(s*a+c*r+u*o-l*i),n[1]=2*(u*a+c*i+l*r-s*o),n[2]=2*(l*a+c*o+s*i-u*r)),Fs(t,e,n),t}function Bs(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function zs(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,l,c),t}function Us(t,e){var n=new ps(3);zs(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,u=e[2]*o,l=e[4]*r,c=e[5]*i,f=e[6]*o,p=e[8]*r,h=e[9]*i,d=e[10]*o,g=a+c+d,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(f-h)/v,t[1]=(p-u)/v,t[2]=(s-l)/v):a>c&&a>d?(v=2*Math.sqrt(1+a-c-d),t[3]=(f-h)/v,t[0]=.25*v,t[1]=(s+l)/v,t[2]=(p+u)/v):c>d?(v=2*Math.sqrt(1+c-a-d),t[3]=(p-u)/v,t[0]=(s+l)/v,t[1]=.25*v,t[2]=(f+h)/v):(v=2*Math.sqrt(1+d-a-c),t[3]=(s-l)/v,t[0]=(p+u)/v,t[1]=(f+h)/v,t[2]=.25*v),t}function Vs(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,f=i*u,p=i*l,h=i*c,d=o*l,g=o*c,v=a*c,y=s*u,m=s*l,_=s*c,b=r[0],x=r[1],w=r[2];return t[0]=(1-(d+v))*b,t[1]=(p+_)*b,t[2]=(h-m)*b,t[3]=0,t[4]=(p-_)*x,t[5]=(1-(f+v))*x,t[6]=(g+y)*x,t[7]=0,t[8]=(h+m)*w,t[9]=(g-y)*w,t[10]=(1-(f+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Gs(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,f=s+s,p=o*l,h=o*c,d=o*f,g=a*c,v=a*f,y=s*f,m=u*l,_=u*c,b=u*f,x=r[0],w=r[1],S=r[2],E=i[0],A=i[1],O=i[2],T=(1-(g+y))*x,C=(h+b)*x,P=(d-_)*x,M=(h-b)*w,I=(1-(p+y))*w,k=(v+m)*w,R=(d+_)*S,L=(v-m)*S,D=(1-(p+g))*S;return t[0]=T,t[1]=C,t[2]=P,t[3]=0,t[4]=M,t[5]=I,t[6]=k,t[7]=0,t[8]=R,t[9]=L,t[10]=D,t[11]=0,t[12]=n[0]+E-(T*E+M*A+R*O),t[13]=n[1]+A-(C*E+I*A+L*O),t[14]=n[2]+O-(P*E+k*A+D*O),t[15]=1,t}function Ws(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,p=i*a,h=i*s,d=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[1]=c+y,t[2]=p-v,t[3]=0,t[4]=c-y,t[5]=1-l-d,t[6]=h+g,t[7]=0,t[8]=p+v,t[9]=h-g,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Hs(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}function Ys(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Xs=Ys;function qs(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Zs(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ks(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}var Qs=Ks;function Js(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=o*l,t[15]=1,t}function $s(t,e,n,r){var i,o,a,s,u,l,c,f,p,h,d=e[0],g=e[1],v=e[2],y=r[0],m=r[1],_=r[2],b=n[0],x=n[1],w=n[2];return Math.abs(d-b)<fs&&Math.abs(g-x)<fs&&Math.abs(v-w)<fs?_s(t):(c=d-b,f=g-x,p=v-w,i=m*(p*=h=1/Math.hypot(c,f,p))-_*(f*=h),o=_*(c*=h)-y*p,a=y*f-m*c,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=f*a-p*o,u=p*i-c*a,l=c*o-f*i,(h=Math.hypot(s,u,l))?(s*=h=1/h,u*=h,l*=h):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=f,t[7]=0,t[8]=a,t[9]=l,t[10]=p,t[11]=0,t[12]=-(i*d+o*g+a*v),t[13]=-(s*d+u*g+l*v),t[14]=-(c*d+f*g+p*v),t[15]=1,t)}function tu(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],f=o-n[1],p=a-n[2],h=c*c+f*f+p*p;h>0&&(c*=h=1/Math.sqrt(h),f*=h,p*=h);var d=u*p-l*f,g=l*c-s*p,v=s*f-u*c;return(h=d*d+g*g+v*v)>0&&(d*=h=1/Math.sqrt(h),g*=h,v*=h),t[0]=d,t[1]=g,t[2]=v,t[3]=0,t[4]=f*v-p*g,t[5]=p*d-c*v,t[6]=c*g-f*d,t[7]=0,t[8]=c,t[9]=f,t[10]=p,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function eu(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function nu(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function ru(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function iu(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ou(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function au(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function su(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function uu(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],h=t[11],d=t[12],g=t[13],v=t[14],y=t[15],m=e[0],_=e[1],b=e[2],x=e[3],w=e[4],S=e[5],E=e[6],A=e[7],O=e[8],T=e[9],C=e[10],P=e[11],M=e[12],I=e[13],k=e[14],R=e[15];return Math.abs(n-m)<=fs*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-_)<=fs*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=fs*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=fs*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=fs*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=fs*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-E)<=fs*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(l-A)<=fs*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-O)<=fs*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-T)<=fs*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-C)<=fs*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(h-P)<=fs*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-M)<=fs*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(g-I)<=fs*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(v-k)<=fs*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(y-R)<=fs*Math.max(1,Math.abs(y),Math.abs(R))}var lu,cu,fu=Es,pu=iu,hu=(0,Pa.b2)()(lu=function(){function t(){ka(this,t),Da(this,"viewport",void 0),Da(this,"overridedViewProjectionMatrix",void 0),Da(this,"jitteredViewProjectionMatrix",void 0),Da(this,"jitteredProjectionMatrix",void 0),Da(this,"viewMatrixInverse",void 0),Da(this,"cameraPosition",void 0)}return La(t,[{key:"init",value:function(){}},{key:"update",value:function(t){this.viewport=t,this.viewMatrixInverse=ds(),xs(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var t=cs(this.viewport.getCenter(),2);return[t[0],t[1]]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}},{key:"setViewProjectionMatrix",value:function(t){this.overridedViewProjectionMatrix=t}},{key:"jitterProjectionMatrix",value:function(t,e){var n=Is(ds(),[t,e,0]);this.jitteredProjectionMatrix=Es(ds(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=Es(ds(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),t}())||lu;function du(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return gu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gu(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vu,yu,mu,_u=(0,Pa.b2)()(cu=function(){function t(){ka(this,t),Da(this,"container",void 0),Da(this,"controlCorners",void 0),Da(this,"controlContainer",void 0),Da(this,"scene",void 0),Da(this,"mapsService",void 0),Da(this,"controls",[]),Da(this,"unAddControls",[])}return La(t,[{key:"init",value:function(t,e){this.container=t.container,this.scene=e,this.mapsService=e.get(Ia.IMapService),this.initControlPos()}},{key:"addControl",value:function(t,e){e.get(Ia.IMapService).map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}},{key:"getControlByName",value:function(t){return this.controls.find((function(e){return e.controlOption.name===t}))}},{key:"removeControl",value:function(t){var e=this.controls.indexOf(t);return e>-1&&this.controls.splice(e,1),t.remove(),this}},{key:"addControls",value:function(){var t=this;this.unAddControls.forEach((function(e){e.addTo(t.scene),t.controls.push(e)})),this.unAddControls=[]}},{key:"destroy",value:function(){var t,e=du(this.controls);try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(n){e.e(n)}finally{e.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var t=this.controlCorners={},e="l7-",n=this.controlContainer=Wr("div",e+"control-container",this.container);function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=r.map((function(t){return e+t})).join(" ");t[r.join("")]=Wr("div",i,n)}r(["top","left"]),r(["top","right"]),r(["bottom","left"]),r(["bottom","right"]),r(["top","center"]),r(["right","center"]),r(["left","center"]),r(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var t in this.controlCorners)this.controlCorners[t]&&Hr(this.controlCorners[t]);this.controlContainer&&Hr(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),t}())||cu,bu=(0,Pa.b2)()(vu=function(){function t(){ka(this,t),Da(this,"container",void 0),Da(this,"scene",void 0),Da(this,"mapsService",void 0),Da(this,"markers",[]),Da(this,"markerLayers",[]),Da(this,"unAddMarkers",[]),Da(this,"unAddMarkerLayers",[])}return La(t,[{key:"addMarkerLayer",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}},{key:"removeMarkerLayer",value:function(t){t.destroy(),this.markerLayers.indexOf(t);var e=this.markerLayers.indexOf(t);e>-1&&this.markerLayers.splice(e,1)}},{key:"addMarker",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}},{key:"addMarkers",value:function(){var t=this;this.unAddMarkers.forEach((function(e){e.addTo(t.scene),t.markers.push(e)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var t=this;this.unAddMarkerLayers.forEach((function(e){t.markerLayers.push(e),e.addTo(t.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(t){t.remove(),this.markers.indexOf(t);var e=this.markers.indexOf(t);e>-1&&this.markers.splice(e,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(Ia.IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(t){t.remove()})),this.markers=[],this.markerLayers.forEach((function(t){t.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(t){t.destroy()}}]),t}())||vu,xu=(0,Pa.b2)()(yu=function(){function t(){ka(this,t),Da(this,"scene",void 0),Da(this,"popup",void 0),Da(this,"mapsService",void 0),Da(this,"unAddPopup",void 0)}return La(t,[{key:"removePopup",value:function(t){t.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(t){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(t.addTo(this.scene),this.popup=t):this.unAddPopup=t}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(Ia.IMapService)}}]),t}())||yu,wu=n(9286),Su=n.n(wu),Eu={MapToken:"\u60a8\u6b63\u5728\u4f7f\u7528 Demo\u6d4b\u8bd5\u5730\u56fetoken\uff0c\u5982\u679c\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u53bb\u5bf9\u5e94\u5730\u56fe\u8bf7\u6ce8\u518cToken",SDK:"\u8bf7\u786e\u8ba4\u5f15\u5165\u4e86mapbox-gl api\u4e14\u5728L7\u4e4b\u524d\u5f15\u5165"};function Au(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Au(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tu={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Cu={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},Pu=(0,Pa.b2)()(mu=function(){function t(){ka(this,t),Da(this,"sceneConfigCache",{}),Da(this,"layerConfigCache",{})}return La(t,[{key:"getSceneConfig",value:function(t){return this.sceneConfigCache[t]}},{key:"getSceneWarninfo",value:function(t){return Eu[t]}},{key:"setSceneConfig",value:function(t,e){this.sceneConfigCache[t]=Ou(Ou({},Tu),e)}},{key:"getLayerConfig",value:function(t){return this.layerConfigCache[t]}},{key:"setLayerConfig",value:function(t,e,n){this.layerConfigCache[e]=Ou({},Su()({},this.sceneConfigCache[t],Cu,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),t}())||mu;function Mu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Iu(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function ku(){var t=new ps(4);return ps!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Ru(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}!function(){var t=ku()}();var Lu,Du=Math.PI/180,Nu=4003e4;function Fu(t){var e=t.latitude,n=void 0===e?0:e,r=t.zoom,i=void 0===r?0:r,o=t.scale,a=t.highPrecision,s=void 0!==a&&a,u=t.flipY,l=void 0!==u&&u,c={},f=512*(o=void 0!==o?o:Math.pow(2,i)),p=Math.cos(n*Du),h=f/360,d=h/p,g=f/Nu/p;if(c.pixelsPerMeter=[g,-g,g],c.metersPerPixel=[1/g,-1/g,1/g],c.pixelsPerDegree=[h,-d,g],c.degreesPerPixel=[1/h,-1/d,1/g],s){var v=Du*Math.tan(n*Du)/p,y=h*v/2,m=f/Nu*v,_=m/d*g;c.pixelsPerDegree2=[0,-y,m],c.pixelsPerMeter2=[_,0,_],l&&(c.pixelsPerDegree2[1]=-c.pixelsPerDegree2[1],c.pixelsPerMeter2[1]=-c.pixelsPerMeter2[1])}return l&&(c.pixelsPerMeter[1]=-c.pixelsPerMeter[1],c.metersPerPixel[1]=-c.metersPerPixel[1],c.pixelsPerDegree[1]=-c.pixelsPerDegree[1],c.degreesPerPixel[1]=-c.degreesPerPixel[1]),c}!function(t){t[t.LNGLAT=1]="LNGLAT",t[t.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",t[t.VECTOR_TILE=3]="VECTOR_TILE",t[t.IDENTITY=4]="IDENTITY",t[t.P20=5]="P20",t[t.P20_OFFSET=6]="P20_OFFSET",t[t.METER_OFFSET=7]="METER_OFFSET",t[t.P20_2=8]="P20_2"}(Lu||(Lu={}));var ju,Bu,zu,Uu,Vu,Gu,Wu,Hu,Yu,Xu,qu,Zu="u_CoordinateSystem",Ku="u_ViewportCenter",Qu="u_ViewportCenterProjection",Ju="u_PixelsPerDegree",$u="u_PixelsPerDegree2",tl="u_PixelsPerMeter",el="u_Mvp",nl=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],rl=(ju=(0,Pa.b2)(),Bu=(0,Pa.f3)(Ia.ICameraService),ju((Uu=function(){function t(){ka(this,t),Da(this,"needRefresh",!0),Mu(this,"cameraService",Vu,this),Da(this,"coordinateSystem",void 0),Da(this,"viewportCenter",void 0),Da(this,"viewportCenterProjection",void 0),Da(this,"pixelsPerDegree",void 0),Da(this,"pixelsPerDegree2",void 0),Da(this,"pixelsPerMeter",void 0)}return La(t,[{key:"refresh",value:function(){var t=this.cameraService.getZoom(),e=this.cameraService.getZoomScale(),n=this.cameraService.getCenter(),r=Fu({latitude:n[1],zoom:t}),i=r.pixelsPerMeter,o=r.pixelsPerDegree;this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=i,this.pixelsPerDegree=o,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Lu.LNGLAT||this.coordinateSystem===Lu.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Lu.LNGLAT_OFFSET?this.calculateLnglatOffset(n,t):this.coordinateSystem===Lu.P20_OFFSET&&this.calculateLnglatOffset(n,t,e,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(t){this.coordinateSystem=t}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(t,e,n,r){var i=Fu({latitude:t[1],zoom:e,scale:n,flipY:r,highPrecision:!0}),o=i.pixelsPerMeter,a=i.pixelsPerDegree,s=i.pixelsPerDegree2,u=this.cameraService.getViewMatrix(),l=this.cameraService.getProjectionMatrix(),c=Es([],l,u),f=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,e));this.viewportCenterProjection=Ru([],[f[0],f[1],0,1],c),c=Es([],l,u=this.cameraService.getViewMatrixUncentered()||u),c=Es([],c,nl),this.cameraService.setViewProjectionMatrix(c),this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=s}}]),t}(),Vu=Iu(Uu.prototype,"cameraService",[Bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zu=Uu))||zu),il=n(5495),ol=n.n(il);function al(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}!function(t){t.Hover="hover",t.Click="click",t.Select="select",t.Active="active",t.Drag="drag"}(Gu||(Gu={}));var sl={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},ul=(Wu=(0,Pa.b2)(),Hu=(0,Pa.f3)(Ia.IMapService),Wu((Xu=function(t){ns(n,t);var e=al(n);function n(){var t;ka(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Da(ts(t=e.call.apply(e,[this].concat(i))),"indragging",!1),Mu(ts(t),"mapService",qu,ts(t)),Da(ts(t),"hammertime",void 0),Da(ts(t),"lastClickTime",0),Da(ts(t),"lastClickXY",[-1,-1]),Da(ts(t),"clickTimer",void 0),Da(ts(t),"$containter",void 0),Da(ts(t),"onDrag",(function(e){var n=t.interactionEvent(e);n.type=sl[n.type],"dragging"===n.type?t.indragging=!0:t.indragging=!1,t.emit(Gu.Drag,n)})),Da(ts(t),"onHammer",(function(e){e.srcEvent.stopPropagation();var n=t.interactionEvent(e);t.emit(Gu.Hover,n)})),Da(ts(t),"onTouch",(function(e){var n=e.touches[0];t.onHover({x:n.pageX,y:n.pageY,type:"touch"})})),Da(ts(t),"onHover",(function(e){var n=e.clientX,r=e.clientY,i=e.type,o=t.mapService.getMapContainer();if(o)if(jr)n=n-o.left-0,r=r-o.top-0;else{var a=o.getBoundingClientRect(),s=a.top;n=n-a.left-o.clientLeft,r=r-s-o.clientTop}var u=t.mapService.containerToLngLat([n,r]);if("click"!==i)"touch"!==i?"click"!==i&&"dblclick"!==i&&t.emit(Gu.Hover,{x:n,y:r,lngLat:u,type:i,target:e}):t.isDoubleTap(n,r,u);else{if(!jr&&"ontouchstart"in document.documentElement===!0)return;t.isDoubleTap(n,r,u)}})),t}return La(n,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(Gu.Hover)}},{key:"triggerHover",value:function(t){var e=t.x,n=t.y;this.emit(Gu.Hover,{x:e,y:n})}},{key:"triggerSelect",value:function(t){this.emit(Gu.Select,{featureId:t})}},{key:"triggerActive",value:function(t){this.emit(Gu.Active,{featureId:t})}},{key:"handleMiniEvent",value:function(t){this.onHover({clientX:t.touches[0].pageX,clientY:t.touches[0].pageY,type:"touch"})}},{key:"addEventListenerOnMap",value:function(){var t=this.mapService.getMapContainer();if(t)if(jr)zr.document.addEventListener("touchstart",this.handleMiniEvent.bind(this));else{var e=new(ol().Manager)(t);e.add(new(ol().Tap)({event:"dblclick",taps:2})),e.add(new(ol().Tap)({event:"click"})),e.add(new(ol().Pan)({threshold:0,pointers:0})),e.add(new(ol().Press)({})),e.on("dblclick click",this.onHammer),e.on("panstart panmove panend pancancel",this.onDrag),t.addEventListener("mousemove",this.onHover),t.addEventListener("mousedown",this.onHover,!0),t.addEventListener("mouseup",this.onHover),t.addEventListener("contextmenu",this.onHover),this.hammertime=e}}},{key:"removeEventListenerOnMap",value:function(){if(jr)zr.document.removeEventListener("touchstart",this.handleMiniEvent.bind(this));else{var t=this.mapService.getMapContainer();t&&(t.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),t.removeEventListener("mousedown",this.onHover),t.removeEventListener("mouseup",this.onHover),t.removeEventListener("contextmenu",this.onHover))}}},{key:"interactionEvent",value:function(t){var e,n,r=t.type;"touch"===t.pointerType?(n=Math.floor(t.pointers[0].clientY),e=Math.floor(t.pointers[0].clientX)):(n=Math.floor(t.srcEvent.y),e=Math.floor(t.srcEvent.x));var i=this.mapService.getMapContainer();if(i){var o=i.getBoundingClientRect(),a=o.top;e-=o.left,n-=a}return{x:e,y:n,lngLat:this.mapService.containerToLngLat([e,n]),type:r,target:t.srcEvent}}},{key:"isDoubleTap",value:function(t,e,n){var r=this,i=(new Date).getTime(),o="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-t)<10&&Math.abs(this.lastClickXY[1]-e)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),o="dblclick",this.emit(Gu.Hover,{x:t,y:e,lngLat:n,type:o})):(this.lastClickTime=i,this.lastClickXY=[t,e],this.clickTimer=setTimeout((function(){o="click",r.emit(Gu.Hover,{x:t,y:e,lngLat:n,type:o})}),400))}}]),n}(ea()),qu=Iu(Xu.prototype,"mapService",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yu=Xu))||Yu);function ll(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function cl(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ll(o,r,i,a,s,"next",t)}function s(t){ll(o,r,i,a,s,"throw",t)}a(void 0)}))}}var fl,pl,hl,dl,gl,vl,yl,ml,_l,bl,xl,wl,Sl,El,Al=n(4360),Ol=n.n(Al),Tl=0;function Cl(t){if(jr)return null;var e=t;if("string"===typeof t&&(e=document.getElementById(t)),e){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(Tl++),n.classList.add("l7-scene"),e.appendChild(n),n}return null}function Pl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pl(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"}(fl||(fl={}));var Il,kl,Rl,Ll,Dl,Nl,Fl,jl,Bl,zl=(pl=(0,Pa.b2)(),hl=(0,Pa.f3)(Ia.IMapService),dl=(0,Pa.f3)(Ia.IRendererService),gl=(0,Pa.f3)(Ia.IGlobalConfigService),vl=(0,Pa.f3)(Ia.IInteractionService),yl=(0,Pa.f3)(Ia.ILayerService),pl((_l=function(){function t(){var e=this;ka(this,t),Mu(this,"mapService",bl,this),Mu(this,"rendererService",xl,this),Mu(this,"configService",wl,this),Mu(this,"interactionService",Sl,this),Mu(this,"layerService",El,this),Da(this,"pickingFBO",void 0),Da(this,"width",0),Da(this,"height",0),Da(this,"alreadyInPicking",!1),Da(this,"pickBufferScale",1),Da(this,"lastPickTime",(new Date).getTime()),Da(this,"pickFromPickingFBO",(function(t,n){var r,i=n.x,o=n.y,a=n.lngLat,s=n.type,u=n.target,l=!1,c=e.rendererService,f=(c.getViewportSize,c.readPixels),p=c.getContainer,h=e.getContainerSize(p()),d=h.width,g=h.height;d*=$r,g*=$r;var v,y=t.getLayerConfig(),m=y.enableHighlight,_=y.enableSelect,b=i*$r,x=o*$r;if(b>d-1*$r||b<0||x>g-1*$r||x<0)return!1;if(0!==(v=f({x:Math.floor(b/e.pickBufferScale),y:Math.floor((g-(o+1)*$r)/e.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}))[0]||0!==v[1]||0!==v[2]){var w=Qi(v),S=t.getSource().getFeatureById(w);w!==t.getCurrentPickId()&&"mousemove"===s&&(s="mouseenter");var E={x:i,y:o,type:s,lngLat:a,featureId:w,feature:S,target:u};S&&(l=!0,t.setCurrentPickId(w),e.triggerHoverOnLayer(t,E))}else{var A={x:i,y:o,lngLat:a,type:null!==t.getCurrentPickId()&&"mousemove"===s?"mouseout":"un"+s,featureId:null,target:u,feature:null};e.triggerHoverOnLayer(t,Ml(Ml({},A),{},{type:"unpick"})),e.triggerHoverOnLayer(t,A),t.setCurrentPickId(null)}if(m&&e.highlightPickedFeature(t,v),_&&"click"===s&&(null===(r=v)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var O=Qi(v);null===t.getCurrentSelectedId()||O!==t.getCurrentSelectedId()?(e.selectFeature(t,v),t.setCurrentSelectedId(O)):(e.selectFeature(t,new Uint8Array([0,0,0,0])),t.setCurrentSelectedId(null))}return l}))}return La(t,[{key:"init",value:function(t){var e=this.rendererService,n=e.createTexture2D,r=e.createFramebuffer,i=(e.getViewportSize,e.getContainer),o=this.getContainerSize(i()),a=o.width,s=o.height;a*=$r,s*=$r,this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(a/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.interactionService.on(Gu.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var t=cl(Ol().mark((function t(e,n,r){var i,o,a,s=this;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.rendererService,o=i.useFramebuffer,a=i.clear,i.getContainer,this.resizePickingFBO(),o(this.pickingFBO,(function(){a({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels(),e.hooks.afterPickingEncode.call();var t=s.pickBox(e,n);r(t)}));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"pickBox",value:function(t,e){var n,r=this,i=cs(e.map((function(t){var e=t<0?0:t;return Math.floor(e*$r/r.pickBufferScale)})),4),o=i[0],a=i[1],s=i[2],u=i[3],l=this.rendererService,c=(l.getViewportSize,l.readPixels),f=l.getContainer,p=this.getContainerSize(f()),h=p.width,d=p.height;if(d*=$r,o>((h*=$r)-1)*$r/this.pickBufferScale||s<0||a>(d-1)*$r/this.pickBufferScale||u<0)return[];var g=Math.min(h/this.pickBufferScale,s)-o,v=Math.min(d/this.pickBufferScale,u)-a;n=c({x:o,y:Math.floor(d/this.pickBufferScale-(u+1)),width:g,height:v,data:new Uint8Array(g*v*4),framebuffer:this.pickingFBO});for(var y=[],m={},_=0;_<n.length/4;_+=1){var b=Qi(n.slice(4*_,4*_+4));if(-1!==b&&!m[b]){var x=t.getSource().getFeatureById(b);y.push(Ml(Ml({},x),{},{pickedFeatureIdx:b})),m[b]=!0}}return y}},{key:"handleCursor",value:function(t,e){var n=t.getLayerConfig(),r=n.cursor,i=void 0===r?"":r;if(n.cursorEnabled){var o="GAODE2.x"===this.mapService.version?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),a=null===o||void 0===o?void 0:o.style.getPropertyValue("cursor");"unmousemove"===e&&""!==a?null===o||void 0===o||o.style.setProperty("cursor",""):"mousemove"===e&&(null===o||void 0===o||o.style.setProperty("cursor",i))}}},{key:"destroy",value:function(){this.pickingFBO.destroy(),this.pickingFBO=null}},{key:"getContainerSize",value:function(t){return t.getContext?{width:t.width/$r,height:t.height/$r}:t.getBoundingClientRect()}},{key:"pickingAllLayer",value:function(){var t=cl(Ol().mark((function t(e){var n;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging)&&this.layerService.getShaderPickStat()){t.next=2;break}return t.abrupt("return");case 2:if(this.alreadyInPicking=!0,!((n=(new Date).getTime())-this.lastPickTime>10||"contextmenu"===e.type||"click"===e.type)){t.next=7;break}return t.next=7,this.pickingLayers(e);case 7:this.lastPickTime=n,this.layerService.renderLayers(),this.alreadyInPicking=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resizePickingFBO",value:function(){var t=this.rendererService.getContainer,e=this.getContainerSize(t()),n=e.width,r=e.height;n*=$r,r*=$r,this.width===n&&this.height===r||(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}},{key:"pickingLayers",value:function(){var t=cl(Ol().mark((function t(e){var n,r,i,o=this;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.rendererService,n.getViewportSize,r=n.useFramebuffer,i=n.clear,n.getContainer,this.resizePickingFBO(),r(this.pickingFBO,(function(){o.layerService.getRenderList().filter((function(t){return t.needPick(e.type)})).reverse().some((function(t){return i({framebuffer:o.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.hooks.beforePickingEncode.call(),t.masks.length>0&&t.masks.map((function(t){t.hooks.beforeRenderData.call(),t.hooks.beforeRender.call(),t.render(),t.hooks.afterRender.call()})),t.renderModels(!0),t.hooks.afterPickingEncode.call(),o.pickFromPickingFBO(t,e)&&!t.getLayerConfig().enablePropagation}))}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"triggerHoverOnLayer",value:function(t,e){(function(t){var e,n,r=!0;return null===t||void 0===t||null===(e=t.target)||void 0===e||null===(n=e.path)||void 0===n||n.map((function(t){var e;null!==t&&void 0!==t&&t.classList&&(null===t||void 0===t||null===(e=t.classList)||void 0===e||e.forEach((function(t){"l7-marker"!==t&&"l7-popup"!==t||(r=!1)})))})),r})(e)&&(this.handleCursor(t,e.type),t.emit(e.type,e))}},{key:"highlightPickedFeature",value:function(t,e){var n=cs(e,3),r=n[0],i=n[1],o=n[2];t.hooks.beforeHighlight.call([r,i,o])}},{key:"selectFeature",value:function(t,e){var n=cs(e,3),r=n[0],i=n[1],o=n[2];t.hooks.beforeSelect.call([r,i,o])}}]),t}(),bl=Iu(_l.prototype,"mapService",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Iu(_l.prototype,"rendererService",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=Iu(_l.prototype,"configService",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sl=Iu(_l.prototype,"interactionService",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),El=Iu(_l.prototype,"layerService",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=_l))||ml),Ul=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ka(this,t),Da(this,"autoStart",void 0),Da(this,"startTime",0),Da(this,"oldTime",0),Da(this,"running",!1),Da(this,"elapsedTime",0),this.autoStart=e}return La(t,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}();function Vl(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Gl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wl=(Il=(0,Pa.b2)(),kl=(0,Pa.f3)(Ia.IRendererService),Rl=(0,Pa.f3)(Ia.IMapService),Ll=(0,Pa.f3)(Ia.IGlobalConfigService),Il((Nl=function(){function t(){ka(this,t),Da(this,"clock",new Ul),Da(this,"alreadyInRendering",!1),Da(this,"layers",[]),Da(this,"layerList",[]),Da(this,"layerRenderID",void 0),Da(this,"sceneInited",!1),Da(this,"animateInstanceCount",0),Da(this,"shaderPicking",!0),Da(this,"enableRender",!0),Mu(this,"renderService",Fl,this),Mu(this,"mapService",jl,this),Mu(this,"configService",Bl,this)}return La(t,[{key:"add",value:function(t){this.sceneInited&&t.init(),this.layers.push(t),this.updateLayerRenderList()}},{key:"addMask",value:function(t){this.sceneInited&&t.init()}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(t){t.inited||t.init()})),this.updateLayerRenderList()}},{key:"getSceneInited",value:function(){return this.sceneInited}},{key:"getRenderList",value:function(){return this.layerList}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(t){return this.layers.find((function(e){return e.id===t}))}},{key:"getLayerByName",value:function(t){return this.layers.find((function(e){return e.name===t}))}},{key:"cleanRemove",value:function(t,e){if(e){var n=e.layerChildren.indexOf(t);n>-1&&e.layerChildren.splice(n,1)}else{var r=this.layers.indexOf(t);r>-1&&this.layers.splice(r,1)}this.updateLayerRenderList(),this.renderLayers()}},{key:"remove",value:function(t,e){if(e){var n=e.layerChildren.indexOf(t);n>-1&&e.layerChildren.splice(n,1)}else{var r=this.layers.indexOf(t);r>-1&&this.layers.splice(r,1)}this.updateLayerRenderList(),t.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"setEnableRender",value:function(t){this.enableRender=t}},{key:"renderLayers",value:function(){var t=cl(Ol().mark((function t(){var e,n,r;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.alreadyInRendering&&this.enableRender){t.next=2;break}return t.abrupt("return");case 2:this.alreadyInRendering=!0,this.clear(),e=Vl(this.layerList),t.prev=5,e.s();case 7:if((n=e.n()).done){t.next=21;break}if((r=n.value).hooks.beforeRenderData.call(),r.hooks.beforeRender.call(),!r.isLayerGroup&&r.masks.length>0&&(this.renderService.clear({stencil:0,depth:1,framebuffer:null}),r.masks.map((function(t){t.hooks.beforeRenderData.call(),t.hooks.beforeRender.call(),t.render(),t.hooks.afterRender.call()}))),!r.getLayerConfig().enableMultiPassRenderer){t.next=17;break}return t.next=15,r.renderMultiPass();case 15:t.next=18;break;case 17:r.render();case 18:r.hooks.afterRender.call();case 19:t.next=7;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(5),e.e(t.t0);case 26:return t.prev=26,e.f(),t.finish(26);case 29:this.alreadyInRendering=!1;case 30:case"end":return t.stop()}}),t,this,[[5,23,26,29]])})));return function(){return t.apply(this,arguments)}}()},{key:"updateLayerRenderList",value:function(){var t=this;this.layerList=[],this.layers.filter((function(t){return t.inited})).filter((function(t){return t.isVisible()})).sort((function(t,e){return t.zIndex-e.zIndex})).forEach((function(e){e.isLayerGroup?e.layerChildren.filter((function(t){return t.inited})).filter((function(t){return t.isVisible()})).sort((function(t,e){return t.zIndex-e.zIndex})).forEach((function(e){t.layerList.push(e)})):t.layerList.push(e)}))}},{key:"destroy",value:function(){this.layers.forEach((function(t){t.destroy()})),this.layers=[],this.layerList=[],this.renderLayers()}},{key:"startAnimate",value:function(){0===this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0===--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"enableShaderPick",value:function(){this.shaderPicking=!0}},{key:"disableShaderPick",value:function(){this.shaderPicking=!1}},{key:"getShaderPickStat",value:function(){return this.shaderPicking}},{key:"clear",value:function(){var t=Ki(this.mapService.bgColor);this.renderService.clear({color:t,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=zr.requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){zr.cancelAnimationFrame(this.layerRenderID)}}]),t}(),Fl=Iu(Nl.prototype,"renderService",[kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl=Iu(Nl.prototype,"mapService",[Rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bl=Iu(Nl.prototype,"configService",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dl=Nl))||Dl);function Hl(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yl(t){return function(t){if(Array.isArray(t))return us(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ls(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xl,ql,Zl,Kl,Ql,Jl,$l=n(5633),tc=n.n($l),ec=function(){function t(e){var n=this;ka(this,t),Da(this,"name",void 0),Da(this,"type",void 0),Da(this,"scale",void 0),Da(this,"descriptor",void 0),Da(this,"featureBufferLayout",[]),Da(this,"needRescale",!1),Da(this,"needRemapping",!1),Da(this,"needRegenerateVertices",!1),Da(this,"featureRange",{startIndex:0,endIndex:1/0}),Da(this,"vertexAttribute",void 0),Da(this,"defaultCallback",(function(t){var e;return 0===t.length?(null===(e=n.scale)||void 0===e?void 0:e.defaultValues)||[]:t.map((function(t,e){var r;return(null===(r=n.scale)||void 0===r?void 0:r.scalers[e].func)(t)}))})),this.setProps(e)}return La(t,[{key:"setProps",value:function(t){Object.assign(this,t)}},{key:"mapping",value:function(t){var e;if(null!==(e=this.scale)&&void 0!==e&&e.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,Yl(t));if(!tc()(r))return[r]}return this.defaultCallback(t)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),t}(),nc=["buffer","update","name"],rc=["buffer","update","name"];function ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ic(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ac,sc,uc,lc,cc,fc,pc,hc,dc,gc,vc,yc,mc,_c,bc,xc,wc,Sc,Ec,Ac,Oc,Tc,Cc,Pc,Mc,Ic,kc,Rc,Lc,Dc,Nc,Fc,jc,Bc=(Da(Xl={},fl.FLOAT,4),Da(Xl,fl.UNSIGNED_BYTE,1),Da(Xl,fl.UNSIGNED_SHORT,2),Xl),zc=(ql=(0,Pa.b2)(),Zl=(0,Pa.f3)(Ia.IRendererService),ql((Ql=function(){function t(){ka(this,t),Da(this,"attributesAndIndices",void 0),Mu(this,"rendererService",Jl,this),Da(this,"attributes",[]),Da(this,"triangulation",void 0),Da(this,"featureLayout",{sizePerElement:0,elements:[]})}return La(t,[{key:"registerStyleAttribute",value:function(t){var e=this.getLayerStyleAttribute(t.name||"");return e?e.setProps(t):(e=new ec(t),this.attributes.push(e)),e}},{key:"updateStyleAttribute",value:function(t,e,n){var r=this.getLayerStyleAttribute(t);r||(r=this.registerStyleAttribute(oc(oc({},e),{},{name:t})));var i=e.scale;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(t){return this.attributes.find((function(e){return e.name===t}))}},{key:"getLayerAttributeScale",value:function(t){var e,n=this.getLayerStyleAttribute(t),r=null===n||void 0===n||null===(e=n.scale)||void 0===e?void 0:e.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=this.attributes.find((function(e){return e.name===t}));if(i&&i.descriptor){var o=i.descriptor,a=o.update,s=o.buffer,u=o.size,l=void 0===u?0:u,c=Bc[s.type||fl.FLOAT];if(a){var f=this.featureLayout,p=f.elements,h=f.sizePerElement,d=p.slice(n,r);if(!d.length)return;var g=d[0].offset,v=g*l*c,y=d.map((function(t,n){for(var r=t.featureIdx,i=t.vertices,o=t.normals,s=i.length/h,u=[],l=0;l<s;l++){var c=o?o.slice(3*l,3*l+3):[];u.push.apply(u,Yl(a(e[r],r,i.slice(l*h,l*h+h),n,c)))}return u})).reduce((function(t,e){return t.push.apply(t,Yl(e)),t}),[]);i.vertexAttribute.updateBuffer({data:y,offset:v})}}}},{key:"createAttributesAndIndices",value:function(t,e,n){var r=this;this.featureLayout={sizePerElement:0,elements:[]},e&&(this.triangulation=e);var i=this.attributes.map((function(t){return t.resetDescriptor(),t.descriptor})),o=0,a=[],s=3;t.forEach((function(t,e){var u=r.triangulation(t,n),l=u.indices,c=u.vertices,f=u.normals,p=u.size,h=u.indexes;l.forEach((function(t){a.push(t+o)})),s=p;var d=c.length/p;r.featureLayout.sizePerElement=s,r.featureLayout.elements.push({featureIdx:e,vertices:c,normals:f,offset:o}),o+=d;for(var g=function(n){var r=(null===f||void 0===f?void 0:f.slice(3*n,3*n+3))||[],o=c.slice(n*p,n*p+p),a=0;h&&void 0!==h[n]&&(a=h[n]),i.forEach((function(i,s){var u;i&&i.update&&(u=i.buffer.data).push.apply(u,Yl(i.update(t,e,o,n,r,a)))}))},v=0;v<d;v++)g(v)}));var u=this.rendererService,l=u.createAttribute,c=u.createBuffer,f=u.createElements,p={};i.forEach((function(t,e){if(t){var n=t.buffer,i=(t.update,t.name,Hl(t,nc)),o=l(oc({buffer:c(n)},i));p[t.name||""]=o,r.attributes[e].vertexAttribute=o}}));var h=f({data:a,type:fl.UNSIGNED_INT,count:a.length});return this.attributesAndIndices={attributes:p,elements:h},this.attributesAndIndices}},{key:"createAttributes",value:function(t,e){var n=this;this.featureLayout={sizePerElement:0,elements:[]},e&&(this.triangulation=e);var r=this.attributes.map((function(t){return t.resetDescriptor(),t.descriptor})),i=0,o=[],a=3;t.forEach((function(t,e){var s=n.triangulation(t),u=s.indices,l=s.vertices,c=s.normals,f=s.size,p=s.indexes;u.forEach((function(t){o.push(t+i)})),a=f;var h=l.length/f;n.featureLayout.sizePerElement=a,n.featureLayout.elements.push({featureIdx:e,vertices:l,normals:c,offset:i}),i+=h;for(var d=function(n){var i=(null===c||void 0===c?void 0:c.slice(3*n,3*n+3))||[],o=l.slice(n*f,n*f+f),a=0;p&&void 0!==p[n]&&(a=p[n]),r.forEach((function(r,s){var u;r&&r.update&&(u=r.buffer.data).push.apply(u,Yl(r.update(t,e,o,n,i,a)))}))},g=0;g<h;g++)d(g)}));var s=this.rendererService,u=s.createAttribute,l=s.createBuffer,c={};return r.forEach((function(t,e){if(t){var r=t.buffer,i=(t.update,t.name,Hl(t,rc)),o=u(oc({buffer:l(r)},i));c[t.name||""]=o,n.attributes[e].vertexAttribute=o}})),{attributes:c}}},{key:"clearAllAttributes",value:function(){var t;this.attributes.forEach((function(t){t.vertexAttribute&&t.vertexAttribute.destroy()})),null===(t=this.attributesAndIndices)||void 0===t||t.elements.destroy(),this.attributes=[]}}]),t}(),Jl=Iu(Ql.prototype,"rendererService",[Zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kl=Ql))||Kl),Uc=n(8903),Vc=n.n(Uc);function Gc(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Wc=(ac=(0,Pa.b2)(),sc=(0,Pa.f3)(Ia.SceneID),uc=(0,Pa.f3)(Ia.IIconService),lc=(0,Pa.f3)(Ia.IFontService),cc=(0,Pa.f3)(Ia.IControlService),fc=(0,Pa.f3)(Ia.IGlobalConfigService),pc=(0,Pa.f3)(Ia.IMapService),hc=(0,Pa.f3)(Ia.ICoordinateSystemService),dc=(0,Pa.f3)(Ia.IRendererService),gc=(0,Pa.f3)(Ia.ILayerService),vc=(0,Pa.f3)(Ia.ICameraService),yc=(0,Pa.f3)(Ia.IInteractionService),mc=(0,Pa.f3)(Ia.IPickingService),_c=(0,Pa.f3)(Ia.IShaderModuleService),bc=(0,Pa.f3)(Ia.IMarkerService),xc=(0,Pa.f3)(Ia.IPopupService),ac((Sc=function(t){ns(n,t);var e=Gc(n);function n(){var t;return ka(this,n),Da(ts(t=e.call(this)),"destroyed",!1),Da(ts(t),"loaded",!1),Da(ts(t),"loadFont",!1),Da(ts(t),"fontFamily",""),Mu(ts(t),"id",Ec,ts(t)),Mu(ts(t),"iconService",Ac,ts(t)),Mu(ts(t),"fontService",Oc,ts(t)),Mu(ts(t),"controlService",Tc,ts(t)),Mu(ts(t),"configService",Cc,ts(t)),Mu(ts(t),"map",Pc,ts(t)),Mu(ts(t),"coordinateSystemService",Mc,ts(t)),Mu(ts(t),"rendererService",Ic,ts(t)),Mu(ts(t),"layerService",kc,ts(t)),Mu(ts(t),"cameraService",Rc,ts(t)),Mu(ts(t),"interactionService",Lc,ts(t)),Mu(ts(t),"pickingService",Dc,ts(t)),Mu(ts(t),"shaderModuleService",Nc,ts(t)),Mu(ts(t),"markerService",Fc,ts(t)),Mu(ts(t),"popupService",jc,ts(t)),Da(ts(t),"inited",!1),Da(ts(t),"initPromise",void 0),Da(ts(t),"rendering",!1),Da(ts(t),"$container",void 0),Da(ts(t),"canvas",void 0),Da(ts(t),"markerContainer",void 0),Da(ts(t),"hooks",void 0),Da(ts(t),"handleWindowResized",(function(){t.emit("resize"),t.$container&&(t.initContainer(),function(){if("function"===typeof Event)zr.dispatchEvent(new Event("resize"));else{var t=zr.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,zr,0),zr.dispatchEvent(t)}}(),t.coordinateSystemService.needRefresh=!0,t.render())})),Da(ts(t),"handleMapCameraChanged",(function(e){t.cameraService.update(e),t.render()})),t.hooks={init:new Zo},t}return La(n,[{key:"init",value:function(t){var e=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return e.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",cl(Ol().mark((function t(){return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){e.map.onCameraChanged((function(n){e.cameraService.init(),e.cameraService.update(n),"GAODE2.x"!==e.map.version&&t()})),"GAODE2.x"!==e.map.version?e.map.init():t()}));case 2:if("GAODE2.x"!==e.map.version||!e.map.initViewPort){t.next=6;break}return t.next=5,e.map.init();case 5:e.map.initViewPort();case 6:e.map.onCameraChanged(e.handleMapCameraChanged),e.map.addMarkerContainer(),e.markerService.addMarkers(),e.markerService.addMarkerLayers(),e.popupService.initPopup(),e.interactionService.init(),e.interactionService.on(Gu.Drag,e.addSceneEvent.bind(e));case 13:case"end":return t.stop()}}),t)})))),this.hooks.init.tapPromise("initRenderer",cl(Ol().mark((function t(){var n,r;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Cl(e.configService.getSceneConfig(e.id).id||""),e.$container=n,!n){t.next=11;break}return e.canvas=Wr("canvas","",n),e.setCanvas(),t.next=7,e.rendererService.init(e.canvas,e.configService.getSceneConfig(e.id));case 7:Vc()(e.$container,e.handleWindowResized),zr.matchMedia&&(null===(r=zr.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))||void 0===r||r.addListener(e.handleWindowResized)),t.next=12;break;case 11:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 12:e.pickingService.init(e.id);case 13:case"end":return t.stop()}}),t)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"initMiniScene",value:function(t){var e=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return e.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",cl(Ol().mark((function t(){return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){e.map.onCameraChanged((function(n){e.cameraService.init(),e.cameraService.update(n),"GAODE2.x"!==e.map.version&&t()})),e.map.initMiniMap()}));case 2:e.map.onCameraChanged(e.handleMapCameraChanged),e.interactionService.init(),e.interactionService.on(Gu.Drag,e.addSceneEvent.bind(e));case 5:case"end":return t.stop()}}),t)})))),this.hooks.init.tapPromise("initRenderer",cl(Ol().mark((function n(){var r;return Ol().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.canvas,e.$container=r||null,!e.$container){n.next=7;break}return n.next=5,e.rendererService.init(t.canvas,e.configService.getSceneConfig(e.id));case 5:n.next=8;break;case 7:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 8:e.pickingService.init(e.id);case 9:case"end":return n.stop()}}),n)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(t){this.layerService.sceneService=this,this.layerService.add(t),this.render()}},{key:"addMask",value:function(t){this.layerService.sceneService=this,this.layerService.addMask(t),this.render()}},{key:"render",value:function(){var t=cl(Ol().mark((function t(){return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rendering&&!this.destroyed){t.next=2;break}return t.abrupt("return");case 2:if(this.rendering=!0,this.inited){t.next=23;break}return t.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!this.loadFont||!document.fonts){t.next=18;break}return t.prev=8,t.next=11,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 11:t.next=18;break;case 13:t.prev=13,t.t0=t.catch(8),console.warn("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301 document.fonts !"),console.warn("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301 iconfont !"),console.warn(t.t0);case 18:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 23:this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this.rendering=!1;case 26:case"end":return t.stop()}}),t,this,[[8,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"addFontFace",value:function(t,e){this.fontFamily=t;var n=document.createElement("style");n.type="text/css",n.innerText="\n        @font-face{\n            font-family: '".concat(t,"';\n            src: url('").concat(e,"') format('woff2'),\n            url('").concat(e,"') format('woff'),\n            url('").concat(e,"') format('truetype');\n        }"),document.getElementsByTagName("head")[0].appendChild(n),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(t){var e,n=null===(e=this.$container)||void 0===e?void 0:e.getElementsByTagName("canvas")[0];return this.render(),"jpg"===t?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png")}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"getPointSizeRange",value:function(){return this.rendererService.getPointSizeRange()}},{key:"addMarkerContainer",value:function(){var t=this.$container.parentElement;null!==t&&(this.markerContainer=Wr("div","l7-marker-container",t))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var t,e,n,r=this;this.inited?(this.emit("destroy"),this.pickingService.destroy(),this.layerService.destroy(),setTimeout((function(){var t;null===(t=r.$container)||void 0===t||t.removeChild(r.canvas),r.canvas=null,r.rendererService.destroy()})),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),null===(t=this.$container)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,(0,Uc.unbind)(this.$container,this.handleWindowResized),zr.matchMedia&&(null===(n=zr.matchMedia("screen and (min-resolution: 2dppx)"))||void 0===n||n.removeListener(this.handleWindowResized))):this.destroyed=!0}},{key:"initContainer",value:function(){var t,e,n=$r,r=(null===(t=this.$container)||void 0===t?void 0:t.clientWidth)||400,i=(null===(e=this.$container)||void 0===e?void 0:e.clientHeight)||300,o=this.canvas;o&&(o.width=r*n,o.height=i*n),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*i})}},{key:"setCanvas",value:function(){var t,e,n=$r,r=(null===(t=this.$container)||void 0===t?void 0:t.clientWidth)||400,i=(null===(e=this.$container)||void 0===e?void 0:e.clientHeight)||300,o=this.canvas;o.width=r*n,o.height=i*n,o.style.width="100%",o.style.height="100%"}},{key:"addSceneEvent",value:function(t){this.emit(t.type,t)}}]),n}(ta.EventEmitter),Ec=Iu(Sc.prototype,"id",[sc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ac=Iu(Sc.prototype,"iconService",[uc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=Iu(Sc.prototype,"fontService",[lc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=Iu(Sc.prototype,"controlService",[cc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=Iu(Sc.prototype,"configService",[fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pc=Iu(Sc.prototype,"map",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mc=Iu(Sc.prototype,"coordinateSystemService",[hc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=Iu(Sc.prototype,"rendererService",[dc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=Iu(Sc.prototype,"layerService",[gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=Iu(Sc.prototype,"cameraService",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lc=Iu(Sc.prototype,"interactionService",[yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=Iu(Sc.prototype,"pickingService",[mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=Iu(Sc.prototype,"shaderModuleService",[_c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc=Iu(Sc.prototype,"markerService",[bc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jc=Iu(Sc.prototype,"popupService",[xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=Sc))||wc),Hc=n(2064),Yc=n.n(Hc);var Xc,qc=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Zc(t){var e={};return t=t.replace(qc,(function(t,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(t,e){return t.push(Number(e.trim())),t}),[]):new Array(function(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16}return e}(n)).fill(0)}return e[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),{content:t,uniforms:e}}function Kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kc(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Jc,$c,tf="#define PI 3.14159265359",ef=/precision\s+(high|low|medium)p\s+float/,nf=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,rf=(0,Pa.b2)()(Xc=function(){function t(){ka(this,t),Da(this,"moduleCache",{}),Da(this,"rawContentCache",{})}return La(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:tf,fs:tf}),this.registerModule("decode",{vs:"#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",fs:""}),this.registerModule("projection",{vs:"#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0           // amap\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// uniform mat4 u_Mvp;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0\n    return vector;\n  }\n  return vector;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // return vec4(\n    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), \n    //   project_scale(position.z), \n    //   position.w);\n\n     return vec4(\n      position.xy, \n      project_scale(position.z), \n      position.w);\n  }\n  return position;\n\n  // TODO: \u74e6\u7247\u5750\u6807\u7cfb & \u5e38\u89c4\u4e16\u754c\u5750\u6807\u7cfb\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel_allmap(float pixel) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    return pixel * pow(2.0, u_Zoom);\n  }\n  return pixel;\n}\n\n// \u9002\u914d\u7eb9\u7406\u8d34\u56fe\u7684\u7b49\u50cf\u7d20\u5927\u5c0f\nfloat project_pixel_texture(float pixel) {\n  // mapbox zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    return pixel * pow(0.5, u_Zoom);\n  }\n\n  // amap2 zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n\n  // amap zoom > 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    return pixel * pow(0.5, u_Zoom);\n  }\n  \n  // amap zoom < 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return pixel * pow(2.0, (20.0 - u_Zoom));\n  }\n  return pixel * 2.0;\n}\n\n// \u5728\u4e0d\u8bba\u4ec0\u4e48\u5e95\u56fe\u4e0b\u9700\u8981\u7edf\u4e00\u5904\u7406\u7684\u65f6\u5019\u4f7f\u7528\nfloat project_float_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // mapbox P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\nvec3 project_pixel(vec3 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}",fs:""}),this.registerModule("project",{vs:"\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // \u7ecf\u7eac\u5ea6 => \u5e73\u9762\u5750\u6807\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // \u5e73\u9762\u5750\u6807 => \u7ecf\u7eac\u5ea6\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",fs:""}),this.registerModule("sdf_2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n"}),this.registerModule("lighting",{vs:"// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",fs:""}),this.registerModule("light",{vs:"#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",fs:""}),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec3 u_CurrentSelectedId : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\nuniform float u_shaderPick;\nuniform float u_EnableSelect: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define NORMAL 0.0\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\n// \u5224\u65ad\u5f53\u524d\u70b9\u662f\u5426\u5df2\u7ecf\u88ab select \u9009\u4e2d\nbool isVertexSelected(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_CurrentSelectedId.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_CurrentSelectedId.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_CurrentSelectedId.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  if(u_shaderPick < 0.5) {\n    return;\n  }\n  // compares only in highlight stage\n\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // if (u_EnableSelect == 1.0 && u_PickingStage == PICKING_HIGHLIGHT && isVertexSelected(pickingColor)) {\n  //   // \u9009\u4e2d\u6001\n  //   v_PickingResult.a = SELECT;\n  // } else if (u_PickingStage == PICKING_HIGHLIGHT && isVertexPicked(pickingColor)) {\n  //   // \u9ad8\u4eae\u6001\n  //   v_PickingResult.a = HIGHLIGHT;\n  // } else {\n  //   v_PickingResult.a = NORMAL;\n  // }\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_shaderPick;\n\nuniform float u_activeMix: 0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color, float weight) {\n  // float selected = v_PickingResult.a;\n  bool selected = bool(v_PickingResult.a);\n\n  // if (selected == SELECT) {\n  if (selected) {\n  //   // \u70b9\u51fb\u9009\u4e2d\u72b6\u6001\n  //   vec4 selectColor = u_SelectColor * COLOR_SCALE;\n  //   return selectColor;\n  // } else if (selected == HIGHLIGHT) {\n  //   // hover \u9ad8\u4eae\u72b6\u6001\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  // TODO: \u8fc7\u6ee4\u591a\u4f59\u7684 shader \u8ba1\u7b97\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // \u6682\u65f6\u53bb\u9664 \u76f4\u63a5\u53d6\u6d88\u8ba1\u7b97\u5728\u9009\u4e2d\u65f6\u62d6\u62fd\u5730\u56fe\u4f1a\u6709\u95ee\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, 1.0));\n  }\n  \n}\n\nvec4 filterColorAlpha(vec4 color, float alpha) {\n  // TODO: \u8fc7\u6ee4\u591a\u4f59\u7684 shader \u8ba1\u7b97\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // \u6682\u65f6\u53bb\u9664 \u76f4\u63a5\u53d6\u6d88\u8ba1\u7b97\u5728\u9009\u4e2d\u65f6\u62d6\u62fd\u5730\u56fe\u4f1a\u6709\u95ee\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, alpha));\n  }\n}\n\n"}),this.registerModule("styleMapping",{vs:"attribute float a_vertexId;\n\nuniform mat4 u_cellTypeLayout;      // \u63cf\u8ff0\u6570\u636e\u7eb9\u7406 cell \u7ed3\u6784\u7684\u77e9\u9635\nuniform sampler2D u_dataTexture;    // \u6570\u636e\u7eb9\u7406\n\nbool hasOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 opacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeOpacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeWidth() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeWidth \u7684\u6570\u636e\n  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStroke() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 stroke \u7684\u6570\u636e\n  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasOffsets() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 offsets \u7684\u6570\u636e\n  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasThetaOffset() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 thetaOffset \u7684\u6570\u636e\n  return u_cellTypeLayout[2][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\n// \u6839\u636e\u5750\u6807\u4f4d\u7f6e\u5148\u662f\u8ba1\u7b97 uv \uff0c\u7136\u540e\u6839\u636e uv \u4ece\u6570\u636e\u7eb9\u7406\u4e2d\u53d6\u503c\nfloat pos2value(vec2 pos, float columnWidth, float rowHeight) {\n  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;\n  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);\n  return texture2D(u_dataTexture, vec2(u, v)).r;\n}\n\n/*\n  currentRow \u5f53\u524d\u884c\n  currentColumn \u5f53\u524d\u5217\n  columnCount \u6709\u591a\u5c11\u5217\n  nextStep \u9700\u8981\u8ba1\u7b97\u5f53\u524d cell \u540e\u7684\u7b2c\u51e0\u4e2a cell \uff08\u5f53\u524d cell \u5219 nextStep = 0\uff09\n*/\nvec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {\n  float nextColumn = currentColumn;\n  float nextRow = currentRow;\n  if(currentColumn + nextStep <= columnCount){\n    nextColumn = currentColumn + nextStep;\n  } else {\n    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4e0d\u4f1a\u51fa\u73b0\u8de8\u4e24\u884c\n    nextRow = currentRow + 1.0;\n  }\n  return vec2(nextColumn, nextRow);\n}\n\n// \u8ba1\u7b97\u5f53\u524d\u5355\u4e2a cell \u7684\u5927\u5c0f\nfloat calCellCount() { \n  //   u_cellTypeLayout\n  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51e0\u884c\u51e0\u5217\n  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793a\u6709\u6570\u636e\u6620\u5c04\u30010.0 \u8868\u793a\u6ca1\u6709\n  //   1.0, 1.0, 0.0, 0.0, // offsets thetaOffset\n  //   0.0, 0.0, 0.0, 0.0\n  \n  return  u_cellTypeLayout[1][0] +        // opacity\n          u_cellTypeLayout[1][1] +        // strokeOpacity\n          u_cellTypeLayout[1][2] +        // strokeWidth\n          u_cellTypeLayout[1][3] * 4.0 +  // stroke\n          u_cellTypeLayout[2][0] * 2.0 +  // offsets\n          u_cellTypeLayout[2][1];         // thetaOffset\n}",fs:""}),this.registerModule("styleMappingCalThetaOffset",{vs:"\n// \u8ba1\u7b97 thetaOffset \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calThetaOffsetAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasThetaOffset()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 thetaOffset \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_thetaOffset, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureThetaOffset = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureThetaOffset, textureOffset + 1.0);\n  }\n}\n",fs:""}),this.registerModule("styleMappingCalOpacity",{vs:"\n// \u8ba1\u7b97 opacity \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasOpacity()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 opacity \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureOpacity, textureOffset + 1.0);\n  }\n}\n",fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:"\n// \u8ba1\u7b97 strokeOpaicty \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeOpacity()) {\n    return vec2(u_stroke_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeOpacity, textureOffset + 1.0);\n  }\n}\n",fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:"\n// \u8ba1\u7b97 strokeWidth \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeWidth()) {\n    return vec2(u_stroke_width, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeWidth, textureOffset + 1.0);\n  }\n}\n",fs:""})}},{key:"registerModule",value:function(t,e){if(!this.rawContentCache[t]){var n=e.vs,r=e.fs,i=e.uniforms,o=Zc(n),a=o.content,s=o.uniforms,u=Zc(r),l=u.content,c=u.uniforms;this.rawContentCache[t]={fs:l,uniforms:Qc(Qc(Qc({},s),c),i),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var e=this;if(this.moduleCache[t])return this.moduleCache[t];var n=this.rawContentCache[t].vs,r=this.rawContentCache[t].fs,i=this.processModule(n,[],"vs"),o=i.content,a=i.includeList,s=this.processModule(r,[],"fs"),u=s.content,l=s.includeList,c=u,f=Yc()(a.concat(l).concat(t)).reduce((function(t,n){return Qc(Qc({},t),e.rawContentCache[n].uniforms)}),{});return ef.test(u)||(c="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+u),this.moduleCache[t]={fs:c.trim(),uniforms:f,vs:o.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,e,n){var r=this;return{content:t.replace(nf,(function(t,i){var o=i.split(" ")[0].replace(/"/g,"");if(e.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return e.push(o),r.processModule(a,e,n).content})),includeList:e}}}]),t}())||Xc;function of(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=os(t)););return t}function af(){return af="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=of(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},af.apply(this,arguments)}!function(t){t.Normal="normal",t.PostProcessing="post-processing"}(Jc||(Jc={}));var sf,uf=(0,Pa.b2)()($c=function(){function t(){ka(this,t),Da(this,"shaderModuleService",void 0),Da(this,"rendererService",void 0),Da(this,"cameraService",void 0),Da(this,"mapService",void 0),Da(this,"interactionService",void 0),Da(this,"layerService",void 0),Da(this,"config",void 0)}return La(t,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return Jc.Normal}},{key:"init",value:function(t,e){this.config=e,this.rendererService=t.getContainer().get(Ia.IRendererService),this.cameraService=t.getContainer().get(Ia.ICameraService),this.mapService=t.getContainer().get(Ia.IMapService),this.interactionService=t.getContainer().get(Ia.IInteractionService),this.layerService=t.getContainer().get(Ia.ILayerService),this.shaderModuleService=t.getContainer().get(Ia.IShaderModuleService)}},{key:"render",value:function(t){}}]),t}())||$c;function lf(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var cf,ff,pf,hf,df,gf=(0,Pa.b2)()(sf=function(t){ns(n,t);var e=lf(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(t,e){af(os(n.prototype),"init",this).call(this,t,e)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(uf))||sf;function vf(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return yf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function yf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mf,_f=(cf=(0,Pa.b2)(),ff=(0,Pa.f3)(Ia.IPostProcessor),cf((hf=function(){function t(){ka(this,t),Da(this,"passes",[]),Mu(this,"postProcessor",df,this),Da(this,"layer",void 0),Da(this,"renderFlag",void 0),Da(this,"width",0),Da(this,"height",0)}return La(t,[{key:"setLayer",value:function(t){this.layer=t}},{key:"setRenderFlag",value:function(t){this.renderFlag=t}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var t=cl(Ol().mark((function t(){var e,n,r;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=vf(this.passes),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.render(this.layer);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:return t.next=19,this.postProcessor.render(this.layer);case 19:case"end":return t.stop()}}),t,this,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}()},{key:"resize",value:function(t,e){this.width===t&&this.height===e||(this.postProcessor.resize(t,e),this.width=t,this.height=e)}},{key:"add",value:function(t,e){t.getType()===Jc.PostProcessing?this.postProcessor.add(t,this.layer,e):(t.init(this.layer,e),this.passes.push(t))}},{key:"insert",value:function(t,e,n){t.init(this.layer,e),this.passes.splice(n,0,t)}},{key:"destroy",value:function(){this.passes.length=0}}]),t}(),df=Iu(hf.prototype,"postProcessor",[ff],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=hf))||pf);function bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bf(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wf(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Sf,Ef,Af,Of,Tf,Cf=(0,Pa.b2)()(mf=function(t){ns(n,t);var e=wf(n);function n(){var t;ka(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Da(ts(t=e.call.apply(e,[this].concat(i))),"pickingFBO",void 0),Da(ts(t),"layer",void 0),Da(ts(t),"width",0),Da(ts(t),"height",0),Da(ts(t),"alreadyInRendering",!1),Da(ts(t),"pickFromPickingFBO",(function(e){var n=e.x,r=e.y,i=e.lngLat,o=e.type;if(t.layer.isVisible()&&t.layer.needPick(o)){var a,s=t.rendererService,u=s.getViewportSize,l=s.readPixels,c=s.useFramebuffer,f=u(),p=f.width,h=f.height,d=t.layer.getLayerConfig(),g=d.enableHighlight,v=d.enableSelect,y=n*$r,m=r*$r;if(!(y>p||y<0||m>h||m<0))c(t.pickingFBO,(function(){var e;if(0!==(a=l({x:Math.round(y),y:Math.round(h-(r+1)*$r),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]||0!==a[1]||0!==a[2]){var s=Qi(a),u=t.layer.getSource().getFeatureById(s),c={x:n,y:r,type:o,lngLat:i,featureId:s,feature:u};u&&(t.layer.setCurrentPickId(s),t.triggerHoverOnLayer(c))}else{var f={x:n,y:r,lngLat:i,type:null===t.layer.getCurrentPickId()?"un"+o:"mouseout",featureId:null,feature:null};t.triggerHoverOnLayer(xf(xf({},f),{},{type:"unpick"})),t.triggerHoverOnLayer(f),t.layer.setCurrentPickId(null)}g&&t.highlightPickedFeature(a),v&&"click"===o&&(null===(e=a)||void 0===e?void 0:e.toString())!==[0,0,0,0].toString()&&t.selectFeature(a)}))}})),t}return La(n,[{key:"getType",value:function(){return Jc.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(t,e){af(os(n.prototype),"init",this).call(this,t,e),this.layer=t;var r=this.rendererService,i=r.createTexture2D,o=r.createFramebuffer,a=(0,r.getViewportSize)(),s=a.width,u=a.height;this.pickingFBO=o({color:i({width:s,height:u,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.interactionService.on(Gu.Hover,this.pickFromPickingFBO),this.interactionService.on(Gu.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(Gu.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(t){var e=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,i=n.useFramebuffer,o=n.clear,a=r(),s=a.width,u=a.height;this.alreadyInRendering=!0,this.width===s&&this.height===u||(this.pickingFBO.resize({width:s,height:u}),this.width=s,this.height=u),i(this.pickingFBO,(function(){o({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=e.layer.multiPassRenderer.getRenderFlag();e.layer.multiPassRenderer.setRenderFlag(!1),t.hooks.beforePickingEncode.call(),t.render(),t.hooks.afterPickingEncode.call(),e.layer.multiPassRenderer.setRenderFlag(n),e.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(t){this.layer.emit(t.type,t)}},{key:"highlightPickedFeature",value:function(t){var e=cs(t,3),n=e[0],r=e[1],i=e[2];this.layer.hooks.beforeHighlight.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(t){var e=cs(t,3),n=e[0],r=e[1],i=e[2];this.layer.hooks.beforeSelect.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(t){var e=Ji(t.featureId);this.selectFeature(new Uint8Array(e))}},{key:"highlightFeatureHandle",value:function(t){var e=Ji(t.featureId);this.highlightPickedFeature(new Uint8Array(e))}}]),n}(uf))||mf,Pf=n(2085),Mf=n.n(Pf),If=n(567),kf=n.n(If);function Rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rf(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Df,Nf=(Sf=(0,Pa.b2)(),Ef=(0,Pa.f3)(Ia.IShaderModuleService),Sf((Of=function(){function t(){ka(this,t),Mu(this,"shaderModuleService",Tf,this),Da(this,"rendererService",void 0),Da(this,"config",void 0),Da(this,"quad","attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}"),Da(this,"enabled",!0),Da(this,"renderToScreen",!1),Da(this,"model",void 0),Da(this,"name",void 0),Da(this,"optionsToUpdate",{})}return La(t,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getType",value:function(){return Jc.PostProcessing}},{key:"init",value:function(t,e){this.config=e,this.rendererService=t.getContainer().get(Ia.IRendererService),this.shaderModuleService=t.getContainer().get(Ia.IShaderModuleService);var n=this.rendererService,r=n.createAttribute,i=n.createBuffer,o=n.createModel,a=this.setupShaders(),s=a.vs,u=a.fs,l=a.uniforms;this.model=o({vs:s,fs:u,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:fl.FLOAT}),size:2})},uniforms:Lf(Lf({u_Texture:null},l),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(t,e){var n=this,r=t.multiPassRenderer.getPostProcessor(),i=this.rendererService,o=i.useFramebuffer,a=i.getViewportSize,s=i.clear,u=a(),l=u.width,c=u.height;o(this.renderToScreen?null:r.getWriteFBO(),(function(){s({framebuffer:r.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});var t=Lf({u_BloomFinal:0,u_Texture:r.getReadFBO(),u_ViewportSize:[l,c]},n.convertOptionsToUniforms(n.optionsToUpdate));e&&(t.u_BloomFinal=1,t.u_Texture2=e),n.model.draw({uniforms:t})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(t){this.enabled=t}},{key:"setRenderToScreen",value:function(t){this.renderToScreen=t}},{key:"updateOptions",value:function(t){this.optionsToUpdate=Lf(Lf({},this.optionsToUpdate),t)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(t){var e={};return Object.keys(t).forEach((function(n){tc()(t[n])||(e["u_".concat(Mf()(kf()(n)))]=t[n])})),e}}]),t}(),Tf=Iu(Of.prototype,"shaderModuleService",[Ef],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Af=Of))||Af);function Ff(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ff(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bf(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var zf,Uf=(0,Pa.b2)()(Df=function(t){ns(n,t);var e=Bf(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform float u_BloomFinal: 0.0;\nuniform sampler2D u_Texture;\nuniform sampler2D u_Texture2;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_radius: 5.0;\nuniform float u_intensity: 0.3;\nuniform float u_baseRadio: 0.5;\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat luminance(vec4 color) {\n  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n}\n\nvoid main() {\n  // vec4 baseColor = texture2D(u_Texture, v_UV);\n\n  float r = sqrt(u_radius);\n\n  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));\n  // c1 *= luminance(c1);\n  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));\n  // c2 *= luminance(c2);\n  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));\n  // c3 *= luminance(c3);\n  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));\n  // c4 *= luminance(c4);\n  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;\n\n  // float lum = luminance(inbloomColor);\n  // inbloomColor.rgb *= lum;\n\n  if(u_BloomFinal > 0.0) {\n    vec4 baseColor = texture2D(u_Texture2, v_UV);\n    float baselum = luminance(baseColor);\n    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);\n    if(baselum <= 0.2) {\n      gl_FragColor = inbloomColor * u_intensity;\n    }\n  } else {\n    gl_FragColor = inbloomColor;\n  }\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:jf(jf({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return tc()(t.bloomRadius)||(e.u_radius=t.bloomRadius),tc()(t.bloomIntensity)||(e.u_intensity=t.bloomIntensity),tc()(t.bloomBaseRadio)||(e.u_baseRadio=t.bloomBaseRadio),e}}]),n}(Nf))||Df;function Vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vf(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wf(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Hf,Yf=(0,Pa.b2)()(zf=function(t){ns(n,t);var e=Wf(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:Gf(Gf({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return tc()(t.blurRadius)||(e.u_BlurDir=[t.blurRadius,0]),e}}]),n}(Nf))||zf;function Xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xf(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zf(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Kf,Qf=(0,Pa.b2)()(Hf=function(t){ns(n,t);var e=Zf(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:qf(qf({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return tc()(t.blurRadius)||(e.u_BlurDir=[0,t.blurRadius]),e}}]),n}(Nf))||Hf;function Jf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jf(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var ep,np=(0,Pa.b2)()(Kf=function(t){ns(n,t);var e=tp(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}'});var t=this.shaderModuleService.getModule("colorhalftone-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:$f($f({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Nf))||Kf;function rp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var ip,op=(0,Pa.b2)()(ep=function(t){ns(n,t);var e=rp(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}"}),this.shaderModuleService.getModule("copy-pass")}}]),n}(Nf))||ep;function ap(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function up(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var lp,cp=(0,Pa.b2)()(ip=function(t){ns(n,t);var e=up(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var t=this.shaderModuleService.getModule("hexagonalpixelate-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:sp(sp({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Nf))||ip;function fp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fp(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var dp,gp=(0,Pa.b2)()(lp=function(t){ns(n,t);var e=hp(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var t=this.shaderModuleService.getModule("ink-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:pp(pp({},r),{},{u_ViewportSize:[o,a]})}}}]),n}(Nf))||lp;function vp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var yp,mp=(0,Pa.b2)()(dp=function(t){ns(n,t);var e=vp(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}"}),this.shaderModuleService.getModule("noise-pass")}}]),n}(Nf))||dp;function _p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var bp,xp,wp,Sp,Ep,Ap,Op,Tp=(0,Pa.b2)()(yp=function(t){ns(n,t);var e=_p(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}"}),this.shaderModuleService.getModule("sepia-pass")}}]),n}(Nf))||yp,Cp=(bp=(0,Pa.b2)(),xp=(0,Pa.f3)(Ia.IRendererService),wp=(0,Pa.zY)(),bp((Ep=function(){function t(){ka(this,t),Mu(this,"rendererService",Ap,this),Da(this,"passes",[]),Da(this,"readFBO",void 0),Da(this,"writeFBO",void 0)}return La(t,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"getCurrentFBOTex",value:function(){var t=this.rendererService,e=t.getViewportSize,n=t.createTexture2D,r=e();return n({x:0,y:0,width:r.width,height:r.height,copy:!0})}},{key:"getReadFBOTex",value:function(){var t=this,e=this.rendererService.useFramebuffer;return new Promise((function(n,r){e(t.readFBO,cl(Ol().mark((function e(){return Ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t.getCurrentFBOTex());case 1:case"end":return e.stop()}}),e)}))))}))}},{key:"renderBloomPass",value:function(){var t=cl(Ol().mark((function t(e,n){var r,i;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getReadFBOTex();case 2:r=t.sent,i=0;case 4:if(!(i<4)){t.next=11;break}return t.next=7,n.render(e,r);case 7:this.swap(),i++,t.next=4;break;case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=cl(Ol().mark((function t(e){var n,r;return Ol().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<this.passes.length)){t.next=15;break}if((r=this.passes[n]).setRenderToScreen(this.isLastEnabledPass(n)),"bloom"!==r.getName()){t.next=9;break}return t.next=7,this.renderBloomPass(e,r);case 7:t.next=12;break;case 9:return t.next=11,r.render(e);case 11:n!==this.passes.length-1&&this.swap();case 12:n++,t.next=1;break;case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resize",value:function(t,e){this.readFBO.resize({width:t,height:e}),this.writeFBO.resize({width:t,height:e})}},{key:"add",value:function(t,e,n){t.init(e,n),this.passes.push(t)}},{key:"insert",value:function(t,e,n,r){t.init(n,r),this.passes.splice(e,0,t)}},{key:"getPostProcessingPassByName",value:function(t){return this.passes.find((function(e){return e.getName()===t}))}},{key:"init",value:function(){var t=this.rendererService,e=t.createFramebuffer,n=t.createTexture2D;this.readFBO=e({color:n({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.writeFBO=e({color:n({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})})}},{key:"isLastEnabledPass",value:function(t){for(var e=t+1;e<this.passes.length;e++)if(this.passes[e].isEnabled())return!1;return!0}},{key:"swap",value:function(){var t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}]),t}(),Ap=Iu(Ep.prototype,"rendererService",[xp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu(Ep.prototype,"init",[wp],Object.getOwnPropertyDescriptor(Ep.prototype,"init"),Ep.prototype),Sp=Ep))||Sp);function Pp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Mp,Ip,kp,Rp,Lp,Dp=(0,Pa.b2)()(Op=function(t){ns(n,t);var e=Pp(n);function n(){return ka(this,n),e.apply(this,arguments)}return La(n,[{key:"getType",value:function(){return Jc.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(t,e){af(os(n.prototype),"init",this).call(this,t,e)}},{key:"render",value:function(t){var e=this.rendererService,n=e.useFramebuffer,r=e.clear,i=t.multiPassRenderer.getPostProcessor().getReadFBO();n(i,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:i}),t.multiPassRenderer.setRenderFlag(!1),t.models.forEach((function(e){e.draw({uniforms:t.layerModel.getUninforms()})})),t.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(uf))||Op;function Np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Np(Object(n),!0).forEach((function(e){Da(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}var Bp="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}";function zp(t,e){for(var n=0,r=1/e,i=t;i>0;)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}var Up=1,Vp=(Mp=(0,Pa.b2)(),Ip=(0,Pa.f3)(Ia.IShaderModuleService),Mp((Rp=function(t){ns(n,t);var e=jp(n);function n(){var t;ka(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Mu(ts(t=e.call.apply(e,[this].concat(i))),"shaderModuleService",Lp,ts(t)),Da(ts(t),"haltonSequence",[]),Da(ts(t),"accumulatingId",0),Da(ts(t),"frame",0),Da(ts(t),"timer",void 0),Da(ts(t),"sampleRenderTarget",void 0),Da(ts(t),"prevRenderTarget",void 0),Da(ts(t),"outputRenderTarget",void 0),Da(ts(t),"copyRenderTarget",void 0),Da(ts(t),"blendModel",void 0),Da(ts(t),"outputModel",void 0),Da(ts(t),"copyModel",void 0),t}return La(n,[{key:"getType",value:function(){return Jc.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(t,e){af(os(n.prototype),"init",this).call(this,t,e);var r=this.rendererService,i=r.createFramebuffer,o=r.createTexture2D;this.sampleRenderTarget=i({color:o({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.prevRenderTarget=i({color:o({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.outputRenderTarget=i({color:o({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})}),this.copyRenderTarget=i({color:o({width:1,height:1,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE})});for(var a=0;a<30;a++)this.haltonSequence.push([zp(a,2),zp(a,3)]);this.blendModel=this.createTriangleModel("blend-pass","uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n"),this.outputModel=this.createTriangleModel("copy-pass",Bp,{blend:{enable:!0,func:{srcRGB:fl.ONE,dstRGB:fl.ONE_MINUS_SRC_ALPHA,srcAlpha:fl.ONE,dstAlpha:fl.ONE_MINUS_SRC_ALPHA},equation:{rgb:fl.FUNC_ADD,alpha:fl.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Bp)}},{key:"render",value:function(t){var e=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height;this.sampleRenderTarget.resize({width:s,height:u}),this.prevRenderTarget.resize({width:s,height:u}),this.outputRenderTarget.resize({width:s,height:u}),this.copyRenderTarget.resize({width:s,height:u}),this.resetFrame(),this.stopAccumulating();var l=t.multiPassRenderer.getPostProcessor().getReadFBO();o(l,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:l}),t.multiPassRenderer.setRenderFlag(!1),t.render(),t.multiPassRenderer.setRenderFlag(!0)}));var c=function n(r){e.accumulatingId&&r===e.accumulatingId&&(e.isFinished()||(e.doRender(t),zr.requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=Up++,this.timer=zr.setTimeout((function(){c(e.accumulatingId)}),50)}},{key:"doRender",value:function(t){var e=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height,l=t.getLayerConfig().jitterScale,c=void 0===l?1:l,f=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*f[0]-1)/s*c,(2*f[1]-1)/u*c),t.multiPassRenderer.setRenderFlag(!1),t.hooks.beforeRender.call(),o(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:e.sampleRenderTarget}),t.render()})),t.hooks.afterRender.call(),t.multiPassRenderer.setRenderFlag(!0);var p=t.getLayerConfig();o(this.outputRenderTarget,(function(){e.blendModel.draw({uniforms:{u_opacity:p.opacity||1,u_MixRatio:0===e.frame?1:.9,u_Diffuse1:e.sampleRenderTarget,u_Diffuse2:0===e.frame?t.multiPassRenderer.getPostProcessor().getReadFBO():e.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(o(this.copyRenderTarget,(function(){e.outputModel.draw({uniforms:{u_Texture:e.outputRenderTarget}})})),o(t.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){e.copyModel.draw({uniforms:{u_Texture:e.copyRenderTarget}})})),t.multiPassRenderer.getPostProcessor().render(t));var h=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=h,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,zr.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(t,e,n){this.shaderModuleService.registerModule(t,{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:e});var r=this.shaderModuleService.getModule(t),i=r.vs,o=r.fs,a=r.uniforms,s=this.rendererService,u=s.createAttribute,l=s.createBuffer;return(0,s.createModel)(Fp({vs:i,fs:o,attributes:{a_Position:u({buffer:l({data:[-4,-4,4,-4,0,4],type:fl.FLOAT}),size:2})},uniforms:Fp({},a),depth:{enable:!1},count:3},n))}}]),n}(uf),Lp=Iu(Rp.prototype,"shaderModuleService",[Ip],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=Rp))||kp),Gp=new Pa.W2;Gp.bind(Ia.IGlobalConfigService).to(Pu).inSingletonScope(),(0,Pa.GW)((0,Pa.b2)(),ta.EventEmitter),Gp.bind(Ia.IEventEmitter).to(ta.EventEmitter);var Wp=(0,Ma.Z)(Gp,!1),Hp=function(t){var e=Wp.lazyInject(t);return function(t,n,r){e.call(this,t,n),r&&(r.initializer=function(){return t[n]})}},Yp=Gp,Xp=0;function qp(){var t=new Pa.W2;return t.parent=Gp,t.bind(Ia.SceneID).toConstantValue("".concat(Xp++)),t.bind(Ia.IShaderModuleService).to(rf).inSingletonScope(),t.bind(Ia.ILayerService).to(Wl).inSingletonScope(),t.bind(Ia.ISceneService).to(Wc).inSingletonScope(),t.bind(Ia.ICameraService).to(hu).inSingletonScope(),t.bind(Ia.ICoordinateSystemService).to(rl).inSingletonScope(),t.bind(Ia.IInteractionService).to(ul).inSingletonScope(),t.bind(Ia.IPickingService).to(zl).inSingletonScope(),t.bind(Ia.IControlService).to(_u).inSingletonScope(),t.bind(Ia.IMarkerService).to(bu).inSingletonScope(),t.bind(Ia.IIconService).to(ss).inSingletonScope(),t.bind(Ia.IFontService).to($a).inSingletonScope(),t.bind(Ia.IPopupService).to(xu).inSingletonScope(),t.bind(Ia.INormalPass).to(gf).whenTargetNamed("clear"),t.bind(Ia.INormalPass).to(Cf).whenTargetNamed("pixelPicking"),t.bind(Ia.INormalPass).to(Dp).whenTargetNamed("render"),t.bind(Ia.INormalPass).to(Vp).whenTargetNamed("taa"),t.bind(Ia.IFactoryNormalPass).toFactory((function(t){return function(e){return t.container.getNamed(Ia.INormalPass,e)}})),t.bind(Ia.IPostProcessingPass).to(op).whenTargetNamed("copy"),t.bind(Ia.IPostProcessingPass).to(Uf).whenTargetNamed("bloom"),t.bind(Ia.IPostProcessingPass).to(Yf).whenTargetNamed("blurH"),t.bind(Ia.IPostProcessingPass).to(Qf).whenTargetNamed("blurV"),t.bind(Ia.IPostProcessingPass).to(mp).whenTargetNamed("noise"),t.bind(Ia.IPostProcessingPass).to(Tp).whenTargetNamed("sepia"),t.bind(Ia.IPostProcessingPass).to(np).whenTargetNamed("colorHalftone"),t.bind(Ia.IPostProcessingPass).to(cp).whenTargetNamed("hexagonalPixelate"),t.bind(Ia.IPostProcessingPass).to(gp).whenTargetNamed("ink"),t.bind(Ia.IFactoryPostProcessingPass).toFactory((function(t){return function(e){var n=t.container.getNamed(Ia.IPostProcessingPass,e);return n.setName(e),n}})),t}function Zp(t){var e=new Pa.W2;return e.parent=t,e.bind(Ia.IStyleAttributeService).to(zc).inSingletonScope(),e.bind(Ia.IMultiPassRenderer).to(_f).inSingletonScope(),e.bind(Ia.IPostProcessor).to(Cp).inSingletonScope(),e}n(4442);var Kp,Qp,Jp,$p;!function(t){t.normal="normal",t.additive="additive",t.subtractive="subtractive",t.min="min",t.max="max",t.none="none"}(Kp||(Kp={})),function(t){t.LINEAR="linear",t.POWER="power",t.LOG="log",t.IDENTITY="identity",t.TIME="time",t.QUANTILE="quantile",t.QUANTIZE="quantize",t.THRESHOLD="threshold",t.CAT="cat"}(Qp||(Qp={})),function(t){t.CONSTANT="constant",t.VARIABLE="variable"}(Jp||(Jp={})),function(t){t[t.Attribute=0]="Attribute",t[t.InstancedAttribute=1]="InstancedAttribute",t[t.Uniform=2]="Uniform"}($p||($p={}));var th,eh=["mapload","mapchange","mapAfterFrameChange"],nh="u_ProjectionMatrix",rh="u_ViewMatrix",ih="u_ViewProjectionMatrix",oh="u_Zoom",ah="u_ZoomScale",sh="u_FocalDistance",uh="u_CameraPosition",lh=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];function ch(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"===typeof t)return ch(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ch(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vh(t,e,n){return e&&gh(t.prototype,e),n&&gh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mh(t,e){return mh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mh(t,e)}function _h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mh(t,e)}function bh(t){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(t)}function xh(t,e){if(e&&("object"===bh(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yh(t)}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wh(t)}function Sh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eh(Object(n),!0).forEach((function(e){Sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){t.TOPRIGHT="topright",t.TOPLEFT="topleft",t.BOTTOMRIGHT="bottomright",t.BOTTOMLEFT="bottomleft",t.TOPCENTER="topcenter",t.BOTTOMCENTER="bottomcenter",t.LEFTCENTER="leftcenter",t.RIGHTCENTER="rightcenter"}(th||(th={}));var Th=0,Ch=function(t){_h(n,t);var e=Oh(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this)),"controlOption",void 0),Sh(yh(r),"container",void 0),Sh(yh(r),"sceneContainer",void 0),Sh(yh(r),"mapsService",void 0),Sh(yh(r),"renderService",void 0),Sh(yh(r),"layerService",void 0),Sh(yh(r),"controlService",void 0),Sh(yh(r),"isShow",void 0),r.controlOption=Ah(Ah({},r.getDefault()),t||{}),r}return vh(n,[{key:"getDefault",value:function(){return{position:th.TOPRIGHT,name:"".concat(Th++)}}},{key:"setPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:th.BOTTOMRIGHT,e=this.controlService;return e&&e.removeControl(this),this.controlOption.position=t,e&&e.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(t){this.mapsService=t.get(Ia.IMapService),this.renderService=t.get(Ia.IRendererService),this.layerService=t.get(Ia.ILayerService),this.controlService=t.get(Ia.IControlService),this.sceneContainer=t,this.isShow=!0,this.container=this.onAdd();var e=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return Yr(e,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){Yr(this.container,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){Xr(this.container,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;Hr(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(t){if(this.mapsService&&t&&t.screenX>0&&t.screenY>0){var e=this.mapsService.getContainer();null!==e&&e.focus()}}}]),n}(ta.EventEmitter);function Ph(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){_h(n,t);var e=Ph(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this,t)),"layerControlInputs",void 0),Sh(yh(r),"layers",void 0),Sh(yh(r),"lastZIndex",void 0),Sh(yh(r),"handlingClick",void 0),Sh(yh(r),"layersLink",void 0),Sh(yh(r),"baseLayersList",void 0),Sh(yh(r),"separator",void 0),Sh(yh(r),"overlaysList",void 0),Sh(yh(r),"form",void 0),r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),yi(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],yh(r)),r}vh(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:th.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var t=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(e){e.layer.on("remove",t.onLayerChange),e.layer.on("add",t.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(t,e){return this.addLayer(t,e,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var t=this.renderService.getViewportSize().height;Yr(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var e=t-(this.container.offsetTop+50);return e<this.form.clientHeight?(Yr(this.form,"l7-control-layers-scrollbar"),this.form.style.height=e+"px"):Xr(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return Xr(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var t=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(e){e.layer.off("remove",t.onLayerChange),e.layer.off("add",t.onLayerChange)})))}},{key:"initLayout",value:function(){var t="l7-control-layers",e=this.container=Wr("div",t),n=this.controlOption.collapsed;e.setAttribute("aria-haspopup","true");var r=this.form=Wr("form",t+"-list");n&&(this.mapsService.on("click",this.collapse),e.addEventListener("mouseenter",this.expand),e.addEventListener("mouseleave",this.collapse)),this.layersLink=Wr("a",t+"-toggle",e),this.layersLink.title="Layers",n||this.expand(),this.baseLayersList=Wr("div",t+"-base",r),this.separator=Wr("div",t+"-separator",r),this.overlaysList=Wr("div",t+"-overlays",r),e.appendChild(r)}},{key:"initLayers",value:function(){var t=this,e=this.controlOption,n=e.baseLayers,r=void 0===n?{}:n,i=e.overlayers,o=void 0===i?{}:i;Object.keys(r).forEach((function(e,n){t.addLayer(r[e],e,!1)})),Object.keys(o).forEach((function(e,n){t.addLayer(o[e],e,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var t,e,n,r;Kr(this.baseLayersList),Kr(this.overlaysList),this.layerControlInputs=[];var i=0;for(n=0;n<this.layers.length;n++)r=this.layers[n],this.addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.controlOption.hideSingleBase&&(t=t&&i>1,this.baseLayersList.style.display=t?"":"none"),this.separator.style.display=e&&t?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var t,e,n=this.layerControlInputs,r=this.mapsService.getZoom(),i=n.length-1;i>=0;i--)if(t=n[i],(e=this.layerService.getLayer(t.layerId))&&e.inited){var o=e.getMinZoom(),a=e.getMaxZoom();t.disabled=r<o||r>a}}},{key:"addLayer",value:function(t,e,n){this.mapsService&&(t.on("add",this.onLayerChange),t.on("remove",this.onLayerChange)),this.layers.push({layer:t,name:e,overlay:n});var r=this.controlOption,i=r.sortLayers,o=r.sortFunction,a=r.autoZIndex;i&&this.layers.sort((function(t,e){return o(t.layer,e.layer,t.name,e.name)})),a&&t.setZIndex&&(this.lastZIndex++,t.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(t){this.handlingClick||this.update();var e=this.layerService.getLayer(t.target.layerId),n=null!==e&&void 0!==e&&e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this.emit(n,e)}},{key:"createRadioElement",value:function(t,e){var n='<input type="radio" class="l7-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(t){var e,n=document.createElement("label"),r=this.layerService.getLayer(t.layer.id),i=r&&r.inited&&t.layer.isVisible();t.overlay?((e=document.createElement("input")).type="checkbox",e.className="l7-control-layers-selector",e.defaultChecked=i):e=this.createRadioElement("l7-base-layers",i),this.layerControlInputs.push(e),e.layerId=t.layer.id,e.addEventListener("click",this.onInputClick);var o=document.createElement("span");o.innerHTML=" "+t.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this.overlaysList:this.baseLayersList).appendChild(n),this.checkDisabledLayers(),n}},{key:"onInputClick",value:function(){var t,e,n=this.layerControlInputs,r=[],i=[];this.handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this.layerService.getLayer(t.layerId),t.checked?r.push(e):t.checked||i.push(e);i.forEach((function(t){t.hide()})),r.forEach((function(t){t.show()})),this.handlingClick=!1}}])}(Ch);function Mh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}var Ih=function(t){_h(n,t);var e=Mh(n);function n(){return dh(this,n),e.apply(this,arguments)}return vh(n,[{key:"getDefault",value:function(){return{position:th.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var t=Wr("div","l7-control-logo"),e=Wr("a","l7-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://antv.alipay.com/l7",e.setAttribute("aria-label","AntV logo"),e.setAttribute("rel","noopener nofollow"),t.appendChild(e),t}},{key:"onRemove",value:function(){return null}}]),n}(Ch);function kh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){_h(n,t);var e=kh(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this,t)),"mScale",void 0),Sh(yh(r),"iScale",void 0),yi(["update"],yh(r)),r}vh(n,[{key:"getDefault",value:function(){return{position:th.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var t="l7-control-scale",e=Wr("div",t);this.addScales(t+"-line",e);var n=this.controlOption.updateWhenIdle;return this.mapsService.on(n?"moveend":"mapmove",this.update),this.mapsService.on(n?"zoomend":"zoomchange",this.update),this.update(),e}},{key:"onRemove",value:function(){var t=this.controlOption.updateWhenIdle;this.mapsService.off(t?"zoomend":"zoomchange",this.update),this.mapsService.off(t?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var t=this.mapsService,e=this.controlOption.maxWidth,n=t.getSize()[1]/2,r=t.containerToLngLat([0,n]),i=t.containerToLngLat([e,n]),o=function(t,e,n){var r=He(e[1]-t[1]),i=He(e[0]-t[0]),o=He(t[1]),a=He(e[1]),s=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(o)*Math.cos(a);return We(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),"meters")}([r.lng,r.lat],[i.lng,i.lat]);this.updateScales(o)}},{key:"updateScales",value:function(t){var e=this.controlOption,n=e.metric,r=e.imperial;n&&t&&this.updateMetric(t),r&&t&&this.updateImperial(t)}},{key:"updateMetric",value:function(t){var e=this.getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this.updateScale(this.mScale,n,e/t)}},{key:"updateImperial",value:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this.getRoundNum(e),this.updateScale(this.iScale,n+" mi",n/e)):(r=this.getRoundNum(i),this.updateScale(this.iScale,r+" ft",r/i))}},{key:"updateScale",value:function(t,e,n){var r=this.controlOption.maxWidth;t.style.width=Math.round(r*n)+"px",t.innerHTML=e}},{key:"getRoundNum",value:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}},{key:"addScales",value:function(t,e){var n=this.controlOption,r=n.metric,i=n.imperial;r&&(this.mScale=Wr("div",t,e)),i&&(this.iScale=Wr("div",t,e))}}])}(Ch);function Rh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){_h(n,t);var e=Rh(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this,t)),"disabled",void 0),Sh(yh(r),"zoomInButton",void 0),Sh(yh(r),"zoomOutButton",void 0),yi(["updateDisabled","zoomIn","zoomOut"],yh(r)),r}vh(n,[{key:"getDefault",value:function(){return{position:th.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var t="l7-control-zoom",e=Wr("div",t+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,t+"-in",e,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,t+"-out",e,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),e}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(t,e,n,r,i){var o=Wr("a",n,r);return o.innerHTML=t,o.title=e,o.href="javascript:void(0)",o.addEventListener("click",i),o}},{key:"updateDisabled",value:function(){var t=this.mapsService,e="l7-disabled";Xr(this.zoomInButton,e),Xr(this.zoomOutButton,e),(this.disabled||t.getZoom()<=t.getMinZoom())&&Yr(this.zoomOutButton,e),(this.disabled||t.getZoom()>=t.getMaxZoom())&&Yr(this.zoomInButton,e)}}])}(Ch);function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lh(Object(n),!0).forEach((function(e){Sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}var Fh=function(t){_h(n,t);var e=Nh(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this)),"markerOption",void 0),Sh(yh(r),"defaultMarker",void 0),Sh(yh(r),"popup",void 0),Sh(yh(r),"mapsService",void 0),Sh(yh(r),"sceneSerive",void 0),Sh(yh(r),"lngLat",void 0),Sh(yh(r),"scene",void 0),Sh(yh(r),"added",!1),Sh(yh(r),"eventHandle",(function(t){r.emit(t.type,{target:t,data:r.markerOption.extData,lngLat:r.lngLat})})),r.markerOption=Dh(Dh({},r.getDefault()),t),yi(["update","onMove","onUp","addDragHandler","onMapClick"],yh(r)),r.init(),r}return vh(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:xi.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(t){this.scene=t,this.mapsService=t.get(Ia.IMapService),this.sceneSerive=t.get(Ia.ISceneService);var e=this.markerOption,n=e.element;e.draggable;return this.mapsService.getMarkerContainer().appendChild(n),this.registerMarkerEvent(n),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var t=this.markerOption.element;return t&&Hr(t),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(t){return this.lngLat=t,Array.isArray(t)&&(this.lngLat={lng:t[0],lat:t[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(t){var e=this;if(!this.added)return this.once("added",(function(){e.setElement(t)})),this;var n=this.markerOption.element;return n&&Hr(n),this.markerOption.element=t,this.init(),this.mapsService.getMarkerContainer().appendChild(t),this.registerMarkerEvent(t),this.update(),this}},{key:"openPopup",value:function(){var t=this;if(!this.added)return this.once("added",(function(){t.openPopup()})),this;var e=this.popup;return e?(e.isOpen()||e.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var t=this;this.added||this.once("added",(function(){t.closePopup()}));var e=this.popup;return e&&e.remove(),this}},{key:"setPopup",value:function(t){return this.popup=t,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var t=this.popup;return t?(t.isOpen()?t.remove():t.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(t){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(t){this.markerOption.extData=t}},{key:"update",value:function(){if(this.mapsService){var t=this.markerOption,e=t.element,n=t.anchor;this.updatePosition(),Jr(e,"".concat($i[n]))}}},{key:"onMapClick",value:function(t){var e=this.markerOption.element;this.popup&&e&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var t=this.markerOption,e=t.element,n=t.offsets,r=this.lngLat,i=r.lng,o=r.lat,a=this.mapsService.getBounds(),s=this.mapsService.lngLatToContainer([i,o]);if(e){e.style.display="block",e.style.whiteSpace="nowrap";var u=this.mapsService.getContainer(),l=0,c=0;if(u&&(l=u.scrollWidth,c=u.scrollHeight),Math.abs(a[0][0])>180||Math.abs(a[1][0])>180){if(s.x>l){var f=this.mapsService.lngLatToContainer([i-360,o]);s.x=f.x}if(s.x<0){var p=this.mapsService.lngLatToContainer([i+360,o]);s.x=p.x}}(s.x>l||s.x<0||s.y>c||s.y<0)&&(e.style.display="none"),e.style.left=s.x+n[0]+"px",e.style.top=s.y-n[1]+"px"}}}},{key:"init",value:function(){var t=this,e=this.markerOption.element,n=this.markerOption,r=n.color,i=n.anchor;if(!e){this.defaultMarker=!0,e=Wr("div"),this.markerOption.element=e;var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","48px"),o.setAttributeNS(null,"width","48px"),o.setAttributeNS(null,"viewBox","0 0 1024 1024");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),a.setAttributeNS(null,"fill",r),o.appendChild(a),e.appendChild(o)}Yr(e,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach((function(n){var r,i,o=(null===(r=t.markerOption)||void 0===r?void 0:r.style)&&(null===(i=t.markerOption)||void 0===i?void 0:i.style[n]);e&&(e.style[n]=o)})),e.addEventListener("click",(function(e){t.onMapClick(e)})),e.addEventListener("click",this.eventHandle),to(e,i,"marker")}},{key:"registerMarkerEvent",value:function(t){t.addEventListener("mousemove",this.eventHandle),t.addEventListener("click",this.eventHandle),t.addEventListener("mousedown",this.eventHandle),t.addEventListener("mouseup",this.eventHandle),t.addEventListener("dblclick",this.eventHandle),t.addEventListener("contextmenu",this.eventHandle),t.addEventListener("mouseover",this.eventHandle),t.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var t=this.getElement();t.removeEventListener("mousemove",this.eventHandle),t.removeEventListener("click",this.eventHandle),t.removeEventListener("mousedown",this.eventHandle),t.removeEventListener("mouseup",this.eventHandle),t.removeEventListener("dblclick",this.eventHandle),t.removeEventListener("contextmenu",this.eventHandle),t.removeEventListener("mouseover",this.eventHandle),t.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(t){throw new Error("Method not implemented.")}},{key:"onUp",value:function(t){throw new Error("Method not implemented.")}}]),n}(ta.EventEmitter);function jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jh(Object(n),!0).forEach((function(e){Sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){_h(n,t);var e=zh(n);function n(t){var r,i;return dh(this,n),Sh(yh(i=e.call(this)),"markers",[]),Sh(yh(i),"markerLayerOption",void 0),Sh(yh(i),"clusterIndex",void 0),Sh(yh(i),"points",[]),Sh(yh(i),"clusterMarkers",[]),Sh(yh(i),"mapsService",void 0),Sh(yh(i),"scene",void 0),Sh(yh(i),"zoom",void 0),Sh(yh(i),"bbox",void 0),i.markerLayerOption=Su()(i.getDefault(),t),yi(["update"],yh(i)),i.zoom=(null===(r=i.markerLayerOption.clusterOption)||void 0===r?void 0:r.zoom)||-99,i}vh(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(t){return this.scene=t,this.mapsService=t.get(Ia.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(t){if(this.markerLayerOption.cluster&&(this.addPoint(t,this.markers.length),this.mapsService)){var e=this.mapsService.getZoom(),n=this.mapsService.getBounds();this.bbox=hi(n,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom)}this.markers.push(t)}},{key:"removeMarker",value:function(t){this.markers.indexOf(t);var e=this.markers.indexOf(t);e>-1&&this.markers.splice(e,1)}},{key:"hide",value:function(){this.markers.map((function(t){t.getElement().style.opacity="0"})),this.clusterMarkers.map((function(t){t.getElement().style.opacity="0"}))}},{key:"show",value:function(){this.markers.map((function(t){t.getElement().style.opacity="1"})),this.clusterMarkers.map((function(t){t.getElement().style.opacity="1"}))}},{key:"getMarkers",value:function(){return this.markerLayerOption.cluster?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var t=this;this.getMarkers().forEach((function(e){e.addTo(t.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(t){t.remove()})),this.clusterMarkers.forEach((function(t){t.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(t,e){var n=t.getLnglat(),r={geometry:{type:"Point",coordinates:[n.lng,n.lat]},properties:Bh(Bh({},t.getExtData()),{},{marker_id:e})};this.points.push(r),this.clusterIndex&&this.clusterIndex.load(this.points)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var t=this.markerLayerOption.clusterOption,e=t.radius,n=t.minZoom,r=void 0===n?0:n,i=t.maxZoom;this.clusterIndex=new(ra())({radius:e,minZoom:r,maxZoom:i}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(t,e){var n=this,r=t[0].concat(t[1]),i=this.clusterIndex.getClusters(r,e);this.clusterMarkers.forEach((function(t){t.remove()})),this.clusterMarkers=[],i.forEach((function(t){var e,r=n.markerLayerOption.clusterOption,i=r.field,o=r.method;if(t.properties&&null!==(e=t.properties)&&void 0!==e&&e.cluster_id){var a,s=n.getLeaves(null===(a=t.properties)||void 0===a?void 0:a.cluster_id);if(t.properties.clusterData=s,i&&o){var u=function(t,e){return ao[t](e)}(o,so(null===s||void 0===s?void 0:s.map((function(t){return Sh({},i,t.properties[i])})),i)),l="point_"+o;t.properties[l]=u.toFixed(2)}}var c=n.clusterMarker(t);n.clusterMarkers.push(c),c.addTo(n.scene)}))}},{key:"getLeaves",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t?this.clusterIndex.getLeaves(t,e,n):null}},{key:"clusterMarker",value:function(t){var e=this.markerLayerOption.clusterOption.element,n=void 0===e?this.generateElement.bind(this):e;return new Fh({element:n(t)}).setLnglat({lng:t.geometry.coordinates[0],lat:t.geometry.coordinates[1]})}},{key:"normalMarker",value:function(t){var e=t.properties.marker_id;return this.markers[e]}},{key:"update",value:function(){if(this.mapsService){var t=this.mapsService.getZoom(),e=this.mapsService.getBounds();(!this.bbox||Math.abs(t-this.zoom)>=1||!di(this.bbox,e))&&(this.bbox=hi(e,.5),this.zoom=Math.floor(t),this.getClusterMarker(this.bbox,this.zoom))}}},{key:"generateElement",value:function(t){var e=Wr("div","l7-marker-cluster"),n=Wr("div","",e),r=Wr("span","",n),i=this.markerLayerOption.clusterOption,o=i.field,a=i.method;t.properties.point_count=t.properties.point_count||1;var s=o&&a?t.properties["point_"+a]||t.properties[o]:t.properties.point_count;return r.textContent=s,e}}])}(ta.EventEmitter);function Uh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uh(Object(n),!0).forEach((function(e){Sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gh(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wh(t);if(e){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xh(this,n)}}!function(t){_h(n,t);var e=Gh(n);function n(t){var r;return dh(this,n),Sh(yh(r=e.call(this)),"popupOption",void 0),Sh(yh(r),"mapsService",void 0),Sh(yh(r),"sceneSerive",void 0),Sh(yh(r),"lngLat",void 0),Sh(yh(r),"content",void 0),Sh(yh(r),"closeButton",void 0),Sh(yh(r),"timeoutInstance",void 0),Sh(yh(r),"container",void 0),Sh(yh(r),"tip",void 0),Sh(yh(r),"scene",void 0),r.popupOption=Vh(Vh({},r.getdefault()),t),yi(["update","onClickClose","remove"],yh(r)),r}vh(n,[{key:"addTo",value:function(t){var e=this;return this.mapsService=t.get(Ia.IMapService),this.sceneSerive=t.get(Ia.ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=t,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){e.mapsService.on("click",e.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(t){var e,n=window.document.createDocumentFragment(),r=window.document.createElement("body");for(r.innerHTML=t;e=r.firstChild;)n.appendChild(e);return this.setDOMContent(n)}},{key:"setLnglat",value:function(t){return this.lngLat=t,Array.isArray(t)&&(this.lngLat={lng:t[0],lat:t[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(t){return this.setDOMContent(window.document.createTextNode(t))}},{key:"setMaxWidth",value:function(t){return this.popupOption.maxWidth=t,this.update(),this}},{key:"setDOMContent",value:function(t){return this.createContent(),this.content.appendChild(t),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&Hr(this.content),this.content=Wr("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=Wr("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(t,e,n){var r=window.document.createElement(t);return void 0!==e&&(r.className=e),n&&n.appendChild(r),r}},{key:"removeDom",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:xi.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(t){t.stopPropagation&&t.stopPropagation(),this.remove()}},{key:"update",value:function(){var t=this,e=this.lngLat,n=this.popupOption,r=n.className,i=n.maxWidth,o=n.anchor;if(this.mapsService&&e&&this.content){var a=this.mapsService.getMarkerContainer();if(!this.container&&a)this.container=this.creatDom("div","l7-popup",a),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(e){return t.container.classList.add(e)})),this.popupOption.stopPropagation&&["mousemove","mousedown","mouseup","click","dblclick"].forEach((function(e){t.container.addEventListener(e,(function(t){t.stopPropagation()}))})),this.container.style.whiteSpace="nowrap";i&&this.container.style.maxWidth!==i&&(this.container.style.maxWidth=i),this.updatePosition(),Jr(this.container,"".concat($i[o])),to(this.container,o,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var t=this.lngLat,e=t.lng,n=t.lat,r=this.popupOption.offsets,i=this.mapsService.lngLatToContainer([e,n]);this.container.style.left=i.x+r[0]+"px",this.container.style.top=i.y-r[1]+"px"}}}])}(ta.EventEmitter);function Wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yh(t,e,n){return e&&Hh(t.prototype,e),n&&Hh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qh(t,e){return qh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qh(t,e)}function Zh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qh(t,e)}function Kh(t){return Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(t)}function Qh(t,e){if(e&&("object"===Kh(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xh(t)}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jh(t)}function $h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function td(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function ed(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){td(o,r,i,a,s,"next",t)}function s(t){td(o,r,i,a,s,"throw",t)}a(void 0)}))}}function nd(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function id(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}!function(t,e){var n="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,r="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n\n.l7-marker {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 5px;\n}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-popup-anchor-left {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-top: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-top: none;\n  border-left: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-top: none;\n  border-right: none;\n  border-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-bottom: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n  -webkit-align-self: flex-start;\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  border-bottom: none;\n  border-left: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n  -webkit-align-self: flex-end;\n  -ms-flex-item-align: end;\n      align-self: flex-end;\n  border-bottom: none;\n  border-right: none;\n  border-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-left: none;\n  border-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n      align-self: center;\n  border-right: none;\n  border-left-color: #fff;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  padding: 0;\n  font-size: 25px;\n  line-height: 20px;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n  border-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n  border-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n  border-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n  border-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-track-pointer * {\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n  display: none;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  border-radius: 4px;\n}\n.l7-bar a,\n.l7-bar a:hover {\n  background-color: #fff;\n  width: 30px;\n  height: 30px;\n  font-size: 20px;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: #8e9dab;\n}\n.l7-bar a,\n.l7-control-layers-toggle {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  display: block;\n}\n.l7-bar a:hover {\n  background-color: #f4f4f4;\n}\n.l7-bar a:first-child {\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.l7-bar a:last-child {\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  border-bottom: none;\n}\n.l7-bar a.l7-disabled {\n  cursor: default;\n  background-color: #f4f4f4;\n  color: #bbb;\n}\n\n/* control positioning */\n\n.l7-control-container {\n  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n  display: none;\n}\n.l7-control {\n  position: relative;\n  z-index: 800;\n  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\n  pointer-events: auto;\n}\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-top,\n.l7-bottom {\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n}\n.l7-top {\n  top: 0;\n}\n.l7-right {\n  right: 0;\n}\n.l7-bottom {\n  bottom: 0;\n}\n.l7-left {\n  left: 0;\n}\n.l7-center {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.l7-bottom.l7-center,\n.l7-top.l7-center {\n  width: 100%;\n}\n.l7-right.l7-center,\n.l7-left.l7-center {\n  height: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.l7-top.l7-center,\n.l7-left.l7-center {\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n\n.l7-bottom.l7-center,\n.l7-right.l7-center {\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n\n.l7-center .l7-control {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n\n.l7-control {\n  float: left;\n  clear: both;\n}\n.l7-right .l7-control {\n  float: right;\n}\n.l7-top .l7-control {\n  margin-top: 10px;\n}\n.l7-bottom .l7-control {\n  margin-bottom: 10px;\n}\n.l7-left .l7-control {\n  margin-left: 10px;\n}\n.l7-right .l7-control {\n  margin-right: 10px;\n}\n\n/* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n  background: #fff;\n  background: rgba(59, 58, 58, 0.7);\n  margin: 0;\n}\n.l7-control-attribution,\n.l7-control-scale-line {\n  padding: 0 5px;\n  color: #333;\n}\n.l7-control-attribution a {\n  text-decoration: none;\n}\n.l7-control-attribution a:hover {\n  text-decoration: underline;\n}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n}\n.l7-left .l7-control-scale {\n  margin-left: 5px;\n}\n.l7-bottom .l7-control-scale {\n  margin-bottom: 5px;\n}\n.l7-control-scale-line {\n  border: 2px solid #000;\n  border-top: none;\n  color: #000;\n  line-height: 1.1;\n  padding: 2px 5px 1px;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n\n  background: #fff;\n}\n.l7-control-scale-line:not(:first-child) {\n  border-top: 2px solid #777;\n  border-bottom: none;\n  margin-top: -2px;\n}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n  border-bottom: 2px solid #777;\n}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  -webkit-box-shadow: none;\n          box-shadow: none;\n}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  background-clip: padding-box;\n}\n/*logo */\n\n.l7-ctrl-logo {\n  background-size: 100% 100%;\n  width: 89px;\n  height: 16px;\n  margin: 0 0 -3px -3px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');\n}\n\n/* layers control */\n\n.l7-control-layers {\n  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 2px;\n}\n.l7-control-layers-toggle {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');\n  width: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n}\n\n.l7-touch .l7-control-layers-toggle {\n  width: 44px;\n  height: 44px;\n}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n  display: none;\n}\n.l7-control-layers-expanded .l7-control-layers-list {\n  display: block;\n  position: relative;\n}\n.l7-control-layers-expanded {\n  padding: 6px 10px 6px 6px;\n  color: #59626b;\n  background: #fff;\n}\n.l7-control-layers-scrollbar {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding-right: 5px;\n}\n.l7-control-layers-selector {\n  margin-top: 2px;\n  position: relative;\n  top: 1px;\n}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n}\n.l7-control-layers label input[type='radio'],\n.l7-control-layers label input[type='checkbox'] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n  height: 0;\n  border-top: 1px solid #d8d8d8;\n  margin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n}\n.amap-logo {\n  display: none !important;\n}\n");var od,ad=n(2530),sd=n.n(ad),ud=n(8092),ld=n.n(ud),cd=n(7507),fd=n.n(cd),pd=($h(od={},Kp.additive,{enable:!0,func:{srcRGB:fl.ONE,dstRGB:fl.ONE,srcAlpha:1,dstAlpha:1}}),$h(od,Kp.none,{enable:!1}),$h(od,Kp.normal,{enable:!0,func:{srcRGB:fl.SRC_ALPHA,dstRGB:fl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),$h(od,Kp.subtractive,{enable:!0,func:{srcRGB:fl.ONE,dstRGB:fl.ONE,srcAlpha:fl.ZERO,dstAlpha:fl.ONE_MINUS_SRC_COLOR},equation:{rgb:fl.FUNC_SUBTRACT,alpha:fl.FUNC_SUBTRACT}}),$h(od,Kp.max,{enable:!0,func:{srcRGB:fl.ONE,dstRGB:fl.ONE},equation:{rgb:fl.MAX_EXT}}),$h(od,Kp.min,{enable:!0,func:{srcRGB:fl.ONE,dstRGB:fl.ONE},equation:{rgb:fl.MIN_EXT}}),od),hd=n(298),dd=n.n(hd);function gd(t,e,n,r,i){e.updateStyleAttribute(t,n,r,i)}function vd(t,e){t.opacity&&yd("opacity",e,t.opacity),t.strokeWidth&&yd("strokeWidth",e,t.strokeWidth),t.strokeOpacity&&yd("strokeOpacity",e,t.strokeOpacity),t.stroke&&function(t,e,n){_o()(n)?gd(t,e,n,void 0):Array.isArray(n)&&2===n.length&&(_o()(n[0])&&xo()(n[1])||_o()(n[0])&&Array.isArray(n[1])&&n[1].length>0)?gd(t,e,n[0],n[1]):gd(t,e,"#fff",void 0)}("stroke",e,t.stroke),t.offsets&&md("offsets",e,t.offsets),t.textOffset&&md("textOffset",e,t.textOffset),t.thetaOffset&&yd("thetaOffset",e,t.thetaOffset)}function yd(t,e,n){_o()(n)?gd(t,e,n,(function(t){return t})):dd()(n)?gd(t,e,[n],void 0):Array.isArray(n)&&2===n.length&&(_o()(n[0])&&xo()(n[1])||_o()(n[0])&&Array.isArray(n[1])&&dd()(n[1][0])&&dd()(n[1][1]))?gd(t,e,n[0],n[1]):gd(t,e,[1],void 0)}function md(t,e,n){_o()(n)?gd(t,e,n,(function(t){return t})):Array.isArray(n)&&2===n.length&&_o()(n[0])&&xo()(n[1])?gd(t,e,n[0],n[1]):Array.isArray(n)&&2===n.length&&dd()(n[0])&&dd()(n[1])?gd(t,e,n,void 0):gd(t,e,[0,0],void 0)}function _d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bd(t,e){if(t){if("string"===typeof t)return _d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(t,e):void 0}}function xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||bd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wd(t){return t.map((function(t){return"string"===typeof t&&(t=[t,{}]),t}))}function Sd(t,e,n,r){var i=t.multiPassRenderer,o=t.getLayerConfig();o.enablePicking;return o.enableTAA?i.add(r("taa")):i.add(r("render")),wd(e).forEach((function(t){var e=xd(t,2),r=e[0],o=e[1];i.add(n(r),o)})),i.add(n("copy")),i}var Ed=[["circle","cylinder"],["square","cylinder"],["triangle","cylinder"],["pentagon","cylinder"],["hexagon","cylinder"],["octogon","cylinder"],["hexagram","cylinder"],["rhombus","cylinder"],["vesica","cylinder"]];var Ad,Od,Td,Cd=["passes"],Pd=["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber"];function Md(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Id(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Id(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Id(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kd(Object(n),!0).forEach((function(e){$h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ld(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Dd=0,Nd=(Ad=Hp(Ia.IGlobalConfigService),Od=function(t){Zh(n,t);var e=Ld(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wh(this,n),$h(Xh(t=e.call(this)),"id","".concat(Dd++)),$h(Xh(t),"name","".concat(Dd)),$h(Xh(t),"type",void 0),$h(Xh(t),"visible",!0),$h(Xh(t),"zIndex",0),$h(Xh(t),"minZoom",void 0),$h(Xh(t),"maxZoom",void 0),$h(Xh(t),"inited",!1),$h(Xh(t),"layerModelNeedUpdate",!1),$h(Xh(t),"pickedFeatureID",null),$h(Xh(t),"selectedFeatureID",null),$h(Xh(t),"styleNeedUpdate",!1),$h(Xh(t),"rendering",void 0),$h(Xh(t),"clusterZoom",0),$h(Xh(t),"layerType",void 0),$h(Xh(t),"isLayerGroup",!1),$h(Xh(t),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),$h(Xh(t),"hooks",{init:new $o,afterInit:new $o,beforeRender:new $o,beforeRenderData:new Jo,afterRender:new Yo,beforePickingEncode:new Yo,afterPickingEncode:new Yo,beforeHighlight:new Yo(["pickedColor"]),afterHighlight:new Yo,beforeSelect:new Yo(["pickedColor"]),afterSelect:new Yo,beforeDestroy:new Yo,afterDestroy:new Yo}),$h(Xh(t),"models",[]),$h(Xh(t),"multiPassRenderer",void 0),$h(Xh(t),"plugins",void 0),$h(Xh(t),"sourceOption",void 0),$h(Xh(t),"layerModel",void 0),$h(Xh(t),"shapeOption",void 0),$h(Xh(t),"sceneContainer",void 0),$h(Xh(t),"layerChildren",[]),$h(Xh(t),"masks",[]),rd(Xh(t),"configService",Td,Xh(t)),$h(Xh(t),"shaderModuleService",void 0),$h(Xh(t),"cameraService",void 0),$h(Xh(t),"coordinateService",void 0),$h(Xh(t),"iconService",void 0),$h(Xh(t),"fontService",void 0),$h(Xh(t),"pickingService",void 0),$h(Xh(t),"rendererService",void 0),$h(Xh(t),"layerService",void 0),$h(Xh(t),"interactionService",void 0),$h(Xh(t),"mapService",void 0),$h(Xh(t),"styleAttributeService",void 0),$h(Xh(t),"layerSource",void 0),$h(Xh(t),"postProcessingPassFactory",void 0),$h(Xh(t),"normalPassFactory",void 0),$h(Xh(t),"animateOptions",{enable:!1}),$h(Xh(t),"container",void 0),$h(Xh(t),"encodedData",void 0),$h(Xh(t),"configSchema",void 0),$h(Xh(t),"currentPickId",null),$h(Xh(t),"rawConfig",void 0),$h(Xh(t),"needUpdateConfig",void 0),$h(Xh(t),"pendingStyleAttributes",[]),$h(Xh(t),"scaleOptions",{}),$h(Xh(t),"animateStartTime",void 0),$h(Xh(t),"aniamateStatus",!1),$h(Xh(t),"bottomColor","rgba(0, 0, 0, 0)"),$h(Xh(t),"isDestroied",!1),$h(Xh(t),"sourceEvent",(function(){t.dataState.dataSourceNeedUpdate=!0;var e=t.getLayerConfig(),n=e.autoFit,r=e.fitBoundsOptions;n&&t.fitBounds(r),t.reRender()})),t.name=r.name||t.id,t.zIndex=r.zIndex||0,t.rawConfig=r,t}return Yh(n,[{key:"addMaskLayer",value:function(t){this.masks.push(t)}},{key:"removeMaskLayer",value:function(t){var e=this.masks.indexOf(t);e>-1&&this.masks.splice(e,1),t.destroy()}},{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(t){if(this.inited){var e=this.container.get(Ia.SceneID);vd(t,this),this.configService.setLayerConfig(e,this.id,Rd(Rd(Rd({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),t)),this.needUpdateConfig={}}else this.needUpdateConfig=Rd(Rd({},this.needUpdateConfig),t)}},{key:"setContainer",value:function(t,e){this.container=t,this.sceneContainer=e}},{key:"getContainer",value:function(){return this.container}},{key:"setBottomColor",value:function(t){this.bottomColor=t}},{key:"getBottomColor",value:function(){return this.bottomColor}},{key:"addPlugin",value:function(t){return this.plugins.push(t),this}},{key:"init",value:function(){var t=this,e=this.container.get(Ia.SceneID);this.configService.setLayerConfig(e,this.id,this.rawConfig),this.layerType=this.rawConfig.layerType,this.iconService=this.container.get(Ia.IIconService),this.fontService=this.container.get(Ia.IFontService),this.rendererService=this.container.get(Ia.IRendererService),this.layerService=this.container.get(Ia.ILayerService),this.interactionService=this.container.get(Ia.IInteractionService),this.pickingService=this.container.get(Ia.IPickingService),this.mapService=this.container.get(Ia.IMapService);var n=this.getLayerConfig(),r=n.enableMultiPassRenderer,i=n.passes;r&&null!==i&&void 0!==i&&i.length&&i.length>0&&this.mapService.on("mapAfterFrameChange",(function(){t.renderLayers()})),this.cameraService=this.container.get(Ia.ICameraService),this.coordinateService=this.container.get(Ia.ICoordinateSystemService),this.shaderModuleService=this.container.get(Ia.IShaderModuleService),this.postProcessingPassFactory=this.container.get(Ia.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(Ia.IFactoryNormalPass),this.styleAttributeService=this.container.get(Ia.IStyleAttributeService),this.multiPassRenderer=this.container.get(Ia.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(e){var n=e.attributeName,r=e.attributeField,i=e.attributeValues,o=e.updateOptions;t.styleAttributeService.updateStyleAttribute(n,{scale:Rd({field:r},t.splitValuesAndCallbackInAttribute(i,t.getLayerConfig()[n]))},o)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(Ia.ILayerPlugin);var o,a=Md(this.plugins);try{for(a.s();!(o=a.n()).done;){o.value.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(s){a.e(s)}finally{a.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(Rd(Rd({},this.getDefaultConfig()),this.rawConfig));var t=this.getLayerConfig().animateOption;null!==t&&void 0!==t&&t.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(t,e,n){return this.updateStyleAttribute("color",t,e,n),this}},{key:"texture",value:function(t,e,n){return this.updateStyleAttribute("texture",t,e,n),this}},{key:"rotate",value:function(t,e,n){return this.updateStyleAttribute("rotate",t,e,n),this}},{key:"size",value:function(t,e,n){return this.updateStyleAttribute("size",t,e,n),this}},{key:"filter",value:function(t,e,n){return this.updateStyleAttribute("filter",t,e,n),this}},{key:"shape",value:function(t,e,n){var r,i,o,a=null===(r=this.styleAttributeService)||void 0===r||null===(i=r.getLayerStyleAttribute("shape"))||void 0===i||null===(o=i.scale)||void 0===o?void 0:o.field,s=t;return this.shapeOption={field:t,values:e},this.updateStyleAttribute("shape",t,e,n),function(t,e,n){if("string"===typeof e&&"string"===typeof n&&e!==n){if("PointLayer"===t.type)return void(t.dataState.dataSourceNeedUpdate=!0);Ed.map((function(r){r.includes(e)&&r.includes(n)&&(t.dataState.dataSourceNeedUpdate=!0)}))}}(this,a,s),this}},{key:"label",value:function(t,e,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:t,attributeValues:e,updateOptions:n}),this}},{key:"animate",value:function(t){var e={};return ld()(t)?(e.enable=!0,e=Rd(Rd({},e),t)):e.enable=t,this.updateLayerConfig({animateOption:e}),this}},{key:"source",value:function(t,e){return null!==t&&void 0!==t&&t.data?(this.setSource(t),this):(this.sourceOption={data:t,options:e},this.clusterZoom=0,this)}},{key:"setData",value:function(t,e){var n=this;return this.inited?this.layerSource.setData(t,e):this.on("inited",(function(){n.getSource()?n.layerSource.setData(t,e):(n.source(new Ca(t,e)),n.sourceEvent())})),this}},{key:"style",value:function(t){var e=this,n=this.getLayerConfig(),r=t.passes,i=nd(t,Cd);return r&&wd(r).forEach((function(t){var n=e.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(t[0]);n&&n.updateOptions(t[1])})),this.rawConfig=Rd(Rd({},this.rawConfig),i),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),n&&!0===n.mask&&!1===t.mask&&(this.clearModels(),this.models=this.layerModel.buildModels()),this}},{key:"scale",value:function(t,e){return ld()(t)?this.scaleOptions=Rd(Rd({},this.scaleOptions),t):this.scaleOptions[t]=e,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return 0!==this.getEncodedData().length&&this.renderModels(),this}},{key:"renderMultiPass",value:function(){var t=ed(fd().mark((function t(){return fd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.getEncodedData().length){t.next=7;break}if(!this.multiPassRenderer||!this.multiPassRenderer.getRenderFlag()){t.next=6;break}return t.next=4,this.multiPassRenderer.render();case 4:t.next=7;break;case 6:this.multiPassRenderer,this.renderModels();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"active",value:function(t){var e={};return e.enableHighlight=!!ld()(t)||t,ld()(t)?(e.enableHighlight=!0,t.color&&(e.highlightColor=t.color),t.mix&&(e.activeMix=t.mix)):e.enableHighlight=!!t,this.updateLayerConfig(e),this}},{key:"setActive",value:function(t,e){var n=this;if(ld()(t)){var r=t.x,i=void 0===r?0:r,o=t.y,a=void 0===o?0:o;this.updateLayerConfig({highlightColor:ld()(e)?e.color:this.getLayerConfig().highlightColor,activeMix:ld()(e)?e.mix:this.getLayerConfig().activeMix}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:t,highlightColor:ld()(e)?e.color:this.getLayerConfig().highlightColor,activeMix:ld()(e)?e.mix:this.getLayerConfig().activeMix}),this.hooks.beforeSelect.call(Ji(t)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(t){var e={};return e.enableSelect=!!ld()(t)||t,ld()(t)?(e.enableSelect=!0,t.color&&(e.selectColor=t.color),t.mix&&(e.selectMix=t.mix)):e.enableSelect=!!t,this.updateLayerConfig(e),this}},{key:"setSelect",value:function(t,e){var n=this;if(ld()(t)){var r=t.x,i=void 0===r?0:r,o=t.y,a=void 0===o?0:o;this.updateLayerConfig({selectColor:ld()(e)?e.color:this.getLayerConfig().selectColor,selectMix:ld()(e)?e.mix:this.getLayerConfig().selectMix}),this.pick({x:i,y:a})}else this.updateLayerConfig({pickedFeatureID:t,selectColor:ld()(e)?e.color:this.getLayerConfig().selectColor,selectMix:ld()(e)?e.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(Ji(t)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(t){return this.updateLayerConfig({blend:t}),this.layerModelNeedUpdate=!0,this.reRender(),this}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(t){return this.zIndex=t,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}},{key:"setCurrentPickId",value:function(t){this.currentPickId=t}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(t){this.selectedFeatureID=t}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var t=this.mapService.getZoom(),e=this.getLayerConfig(),n=e.visible,r=e.minZoom,i=void 0===r?-1/0:r,o=e.maxZoom;return!!n&&t>=i&&t<=(void 0===o?1/0:o)}},{key:"setMultiPass",value:function(t,e){if(this.updateLayerConfig({enableMultiPassRenderer:t}),e&&this.updateLayerConfig({passes:e}),t){var n=this.getLayerConfig().passes,r=void 0===n?[]:n;this.multiPassRenderer=Sd(this,r,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);var i=this.rendererService.getViewportSize(),o=i.width,a=i.height;this.multiPassRenderer.resize(o,a)}return this}},{key:"setMinZoom",value:function(t){return this.updateLayerConfig({minZoom:t}),this}},{key:"getMinZoom",value:function(){return this.getLayerConfig().minZoom}},{key:"getMaxZoom",value:function(){return this.getLayerConfig().maxZoom}},{key:"get",value:function(t){return this.getLayerConfig()[t]}},{key:"setMaxZoom",value:function(t){return this.updateLayerConfig({maxZoom:t}),this}},{key:"setAutoFit",value:function(t){return this.updateLayerConfig({autoFit:t}),this}},{key:"fitBounds",value:function(t){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var e=this.getSource().extent;return e.some((function(t){return Math.abs(t)===1/0}))||this.mapService.fitBounds([[e[0],e[1]],[e[2],e[3]]],t),this}},{key:"destroy",value:function(){var t;this.isDestroied||(this.layerChildren.map((function(t){return t.destroy()})),this.layerChildren=[],this.masks.map((function(t){return t.destroy()})),this.masks=[],this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),null===(t=this.layerModel)||void 0===t||t.clearModels(),this.models=[],this.layerService.cleanRemove(this),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroied=!0)}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach((function(t){return t.destroy()})),this.layerModel.clearModels(),this.models=[]}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(t){return t.needRescale||t.needRemapping||t.needRegenerateVertices})).length}},{key:"setSource",value:function(t){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=t,this.clusterZoom=0,this.inited&&this.layerSource.cluster){var e=this.mapService.getZoom();this.layerSource.updateClusterData(e)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(t){this.encodedData=t}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getScale",value:function(t){return this.styleAttributeService.getLayerAttributeScale(t)}},{key:"getLegendItems",value:function(t){var e=this.styleAttributeService.getLayerAttributeScale(t);return e?e.invertExtent?e.range().map((function(n){return $h({value:e.invertExtent(n)},t,n)})):e.ticks?e.ticks().map((function(n){return $h({value:n},t,e(n))})):null!==e&&void 0!==e&&e.domain?e.domain().filter((function(t){return!sd()(t)})).map((function(n){return $h({value:n},t,e(n))})):[]:[]}},{key:"pick",value:function(t){var e=t.x,n=t.y;this.interactionService.triggerHover({x:e,y:n})}},{key:"boxSelect",value:function(t,e){this.pickingService.boxPickLayer(this,t,e)}},{key:"buildLayerModel",value:function(t){var e=t.moduleName,n=t.vertexShader,r=t.fragmentShader,i=t.triangulation,o=t.segmentNumber,a=nd(t,Pd);this.shaderModuleService.registerModule(e,{vs:n,fs:r});var s=this.shaderModuleService.getModule(e),u=s.vs,l=s.fs,c=s.uniforms,f=this.rendererService.createModel,p=this.styleAttributeService.createAttributesAndIndices(this.encodedData,i,o);return f(Rd({attributes:p.attributes,uniforms:c,fs:l,vs:u,elements:p.elements,blend:pd[Kp.normal]},a))}},{key:"createAttrubutes",value:function(t){var e=t.triangulation;return this.styleAttributeService.createAttributes(this.encodedData,e).attributes}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(t){var e=this.getLayerConfig(),n=e.enableHighlight,r=void 0===n||n,i=e.enableSelect,o=void 0===i||i,a=-1!==this.eventNames().indexOf(t)||-1!==this.eventNames().indexOf("un"+t);return"click"!==t&&"dblclick"!==t||!o||(a=!0),"mousemove"!==t||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(a=!0),this.isVisible()&&a}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderMulPass",value:function(){var t=ed(fd().mark((function t(e){return fd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.render();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"renderModels",value:function(t){var e=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.layerModel.renderUpdate&&this.layerModel.renderUpdate(),this.models.forEach((function(n){n.draw({uniforms:e.layerModel.getUninforms()},t)}))),this}},{key:"updateStyleAttribute",value:function(t,e,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(t,{scale:Rd({field:e},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[e]))},r):this.pendingStyleAttributes.push({attributeName:t,attributeField:e,attributeValues:n,updateOptions:r})}},{key:"getShaderPickStat",value:function(){return this.layerService.getShaderPickStat()}},{key:"setEarthTime",value:function(t){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&(this.layerService.updateLayerRenderList(),this.layerService.renderLayers())}},{key:"splitValuesAndCallbackInAttribute",value:function(t,e){return{values:xo()(t)?void 0:t||e,callback:xo()(t)?t:void 0}}}]),n}(ta.EventEmitter),Td=id(Od.prototype,"configService",[Ad],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od);function Fd(t){return function(t){if(Array.isArray(t))return _d(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jd,Bd,zd,Ud=n(8111),Vd=n.n(Ud);function Gd(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Wd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wd(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Wd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hd=(jd=Hp(Ia.IGlobalConfigService),Bd=function(){function t(e){Wh(this,t),$h(this,"triangulation",void 0),$h(this,"createTexture2D",void 0),$h(this,"layer",void 0),$h(this,"dataTexture",void 0),$h(this,"DATA_TEXTURE_WIDTH",void 0),$h(this,"rowCount",void 0),$h(this,"cacheStyleProperties",void 0),$h(this,"cellLength",void 0),$h(this,"cellProperties",void 0),$h(this,"cellTypeLayout",void 0),$h(this,"stylePropertyesExist",void 0),$h(this,"dataTextureTest",void 0),rd(this,"configService",zd,this),$h(this,"shaderModuleService",void 0),$h(this,"rendererService",void 0),$h(this,"iconService",void 0),$h(this,"fontService",void 0),$h(this,"styleAttributeService",void 0),$h(this,"mapService",void 0),$h(this,"cameraService",void 0),$h(this,"layerService",void 0),this.layer=e,this.rendererService=e.getContainer().get(Ia.IRendererService),this.shaderModuleService=e.getContainer().get(Ia.IShaderModuleService),this.styleAttributeService=e.getContainer().get(Ia.IStyleAttributeService),this.mapService=e.getContainer().get(Ia.IMapService),this.iconService=e.getContainer().get(Ia.IIconService),this.fontService=e.getContainer().get(Ia.IFontService),this.cameraService=e.getContainer().get(Ia.ICameraService),this.layerService=e.getContainer().get(Ia.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var n=this.rendererService.createTexture2D;this.createTexture2D=n,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={thetaOffset:void 0,opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new Uint8Array(4),mag:fl.NEAREST,min:fl.NEAREST,width:1,height:1}))}return Yh(t,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,this.stylePropertyesExist.hasThetaOffset,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(t){var e=!1;return Vd()(t.thetaOffset,this.cacheStyleProperties.thetaOffset)||(e=!0,this.cacheStyleProperties.thetaOffset=t.thetaOffset),Vd()(t.opacity,this.cacheStyleProperties.opacity)||(e=!0,this.cacheStyleProperties.opacity=t.opacity),Vd()(t.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(e=!0,this.cacheStyleProperties.strokeOpacity=t.strokeOpacity),Vd()(t.strokeWidth,this.cacheStyleProperties.strokeWidth)||(e=!0,this.cacheStyleProperties.strokeWidth=t.strokeWidth),Vd()(t.stroke,this.cacheStyleProperties.stroke)||(e=!0,this.cacheStyleProperties.stroke=t.stroke),Vd()(t.offsets,this.cacheStyleProperties.offsets)||(e=!0,this.cacheStyleProperties.offsets=t.offsets),void 0===this.dataTexture&&(e=!0),e}},{key:"judgeStyleAttributes",value:function(t){this.clearLastCalRes(),void 0===t.opacity||dd()(t.opacity)||(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),void 0===t.strokeOpacity||dd()(t.strokeOpacity)||(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),void 0===t.strokeWidth||dd()(t.strokeWidth)||(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),void 0===t.stroke||this.isStaticColor(t.stroke)||(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),void 0===t.offsets||this.isOffsetStatic(t.offsets)||(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2),void 0===t.thetaOffset||dd()(t.thetaOffset)||(this.cellProperties.push({attr:"thetaOffset",count:1}),this.stylePropertyesExist.hasThetaOffset=1,this.cellLength+=1)}},{key:"isStaticColor",value:function(t){return!!_o()(t)&&!!Fi(t)}},{key:"getStrokeColor",value:function(t){if(this.isStaticColor(t)){var e=Ki(t);return e[0]=e[0]?e[0]:0,e[1]=e[1]?e[1]:0,e[2]=e[2]?e[2]:0,e[3]=e[3]?e[3]:0,e}return[0,0,0,0]}},{key:"isOffsetStatic",value:function(t){return!!(Array.isArray(t)&&2===t.length&&dd()(t[0])&&dd()(t[1]))}},{key:"patchMod",value:function(t,e){for(var n=0;n<e;n++)t.push(-1)}},{key:"patchData",value:function(t,e,n){var r,i=Gd(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.attr,s=o.count,u=e[a];void 0!==u?"stroke"===a?t.push.apply(t,Fd(Ki(u))):"offsets"===a?this.isOffsetStatic(u)?t.push(-u[0],u[1]):t.push(0,0):t.push(dd()(u)?u:1):this.patchMod(t,s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"calDataFrame",value:function(t,e,n){for(var r=e.length,i=Math.ceil(r*t/this.DATA_TEXTURE_WIDTH),o=i*this.DATA_TEXTURE_WIDTH,a=[],s=0;s<r;s++){var u=e[s];this.patchData(a,u,n)}for(var l=a.length;l<o;l++)a.push(-1);return{data:a,width:this.DATA_TEXTURE_WIDTH,height:i}}},{key:"getBlend",value:function(){var t=this.layer.getLayerConfig().blend;return pd[Kp[void 0===t?"normal":t]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(t){return[t.enable?0:1,t.duration||4,t.interval||.2,t.trailLength||.1]}},{key:"startModelAnimate",value:function(){this.layer.getLayerConfig().animateOption.enable&&this.layer.setAnimateStartTime()}}]),t}(),zd=id(Bd.prototype,"configService",[jd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd),Yd=n(7089),Xd=n.n(Yd);function qd(t){return t/180*Math.acos(-1)}function Zd(t){var e=qd(t[0])+Math.PI/2,n=qd(t[1]),r=100+.4*Math.random(),i=r*Math.cos(n)*Math.cos(e);return[r*Math.cos(n)*Math.sin(e),r*Math.sin(n),i]}function Kd(t){if(dd()(t[0]))return t;if(dd()(t[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if(dd()(t[0][0][0])){var e=0,n=0,r=0;return t.forEach((function(t){t.forEach((function(t){e+=t[0],n+=t[1],r++}))})),[e/r,n/r,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}function Qd(){var t=new ps(3);return ps!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Jd(t){var e=new ps(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function $d(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function tg(t,e,n){var r=new ps(3);return r[0]=t,r[1]=e,r[2]=n,r}function eg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ng(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function rg(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ig(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function og(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ag(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function sg(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ug(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function lg(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function cg(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function fg(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function pg(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function hg(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function dg(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function gg(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function vg(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function yg(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function mg(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function _g(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function bg(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xg(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function wg(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function Sg(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t}function Eg(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,f=3*u*a,p=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*f+i[0]*p,t[1]=e[1]*l+n[1]*c+r[1]*f+i[1]*p,t[2]=e[2]*l+n[2]*c+r[2]*f+i[2]*p,t}function Ag(t,e){e=e||1;var n=2*hs()*Math.PI,r=2*hs()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Og(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function Tg(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function Cg(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,f=o*s-r*l,p=r*u-i*s,h=i*p-o*f,d=o*c-r*p,g=r*f-i*c,v=2*a;return c*=v,f*=v,p*=v,h*=2,d*=2,g*=2,t[0]=s+c+h,t[1]=u+f+d,t[2]=l+p+g,t}function Pg(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Mg(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Ig(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function kg(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&bg(t,e)/u;return Math.acos(Math.min(Math.max(l,-1),1))}function Rg(t){return t[0]=0,t[1]=0,t[2]=0,t}function Lg(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Dg(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Ng(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=fs*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=fs*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=fs*Math.max(1,Math.abs(i),Math.abs(s))}var Fg,jg,Bg,zg=ig,Ug=og,Vg=ag,Gg=dg,Wg=gg,Hg=$d,Yg=vg,Xg=function(){var t=Qd();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();function qg(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t[0][0],r=t[0][t[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(t[0]=t[0].slice(0,t[0].length-1));for(var i=t[0].length,o=Xd().flatten(t),a=o.vertices,s=o.dimensions,u=[],l=[],c=[],f=0;f<a.length/s;f++)2===s?u.push(a[2*f],a[2*f+1],1,-1,-1):u.push(a[3*f],a[3*f+1],1,-1,-1),c.push(0,0,1);var p=Xd()(o.vertices,o.holes,o.dimensions);l.push.apply(l,Fd(p));for(var h=function(t){var n=o.vertices.slice(t*s,(t+1)*s),r=o.vertices.slice((t+1)*s,(t+2)*s);0===r.length&&(r=o.vertices.slice(0,s));var i=u.length/5;u.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);var a=Zg([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],e);c.push.apply(c,Fd(a).concat(Fd(a),Fd(a),Fd(a))),l.push.apply(l,Fd([1,2,0,3,2,1].map((function(t){return t+i}))))},d=0;d<i;d++)h(d);return{positions:u,index:l,normals:c}}function Zg(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Qd(),a=Qd(),s=Qd();i&&(t=ci(t),n=ci(n),r=ci(r));var u=tg.apply(e,Fd(t)),l=tg.apply(e,Fd(n)),c=tg.apply(e,Fd(r));zg(o,c,l),zg(a,u,l),xg(s,o,a);var f=Qd();return _g(f,s),f}function Kg(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/t,r=[],i=0;i<t;i++)r.push(n*i+e*Math.PI/12);var o=r.map((function(t){return[Math.sin(t+Math.PI/4),Math.cos(t+Math.PI/4),0]}));return o}function Qg(){return Kg(30)}function Jg(){return Kg(4)}function $g(){return Kg(3)}function tv(){return Kg(6,1)}function ev(){return Kg(5)}!function(t){t.CYLINDER="cylinder",t.SQUARECOLUMN="squareColumn",t.TRIANGLECOLUMN="triangleColumn",t.HEXAGONCOLUMN="hexagonColumn",t.PENTAGONCOLUMN="pentagonColumn"}(jg||(jg={})),function(t){t.CIRCLE="circle",t.SQUARE="square",t.TRIANGLE="triangle",t.HEXAGON="hexagon",t.PENTAGON="pentagon"}(Bg||(Bg={}));var nv=($h(Fg={},Bg.CIRCLE,Qg),$h(Fg,Bg.HEXAGON,tv),$h(Fg,Bg.TRIANGLE,$g),$h(Fg,Bg.SQUARE,Jg),$h(Fg,Bg.PENTAGON,ev),$h(Fg,jg.CYLINDER,Qg),$h(Fg,jg.HEXAGONCOLUMN,tv),$h(Fg,jg.TRIANGLECOLUMN,$g),$h(Fg,jg.SQUARECOLUMN,Jg),$h(Fg,jg.PENTAGONCOLUMN,ev),Fg),rv={};function iv(t){var e=Kd(t.coordinates);return{vertices:[].concat(Fd(e),Fd(e),Fd(e),Fd(e)),indices:[0,1,2,2,3,0],size:e.length}}function ov(t){var e=Zd(Kd(t.coordinates));return{vertices:[].concat(Fd(e),Fd(e),Fd(e),Fd(e)),indices:[0,1,2,2,3,0],size:e.length}}function av(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(rv&&rv[t])return rv[t];var n=qg([nv[t]?nv[t]():nv.cylinder()],e);return rv[t]=n,n}(t.shape,!1);return{vertices:e.positions,indices:e.index,normals:e.normals,size:5}}function sv(t){var e=Kd(t.coordinates);return{vertices:Fd(e),indices:[0],size:e.length}}function uv(t){var e=t.coordinates,n=Xd().flatten(e),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:Xd()(r,o,i),vertices:r,size:i}}function lv(t){var e=function(t){var e=["cylinder","triangleColumn","hexagonColumn","squareColumn"],n=nv[t]?nv[t]():nv.circle();return-1===e.indexOf(t)?function(t){var e=Xd().flatten(t),n=Xd()(e.vertices,e.holes,e.dimensions);return{positions:e.vertices,index:n}}([n]):function(t){var e=t[0][0],n=t[0][t[0].length-1];e[0]===n[0]&&e[1]===n[1]&&(t[0]=t[0].slice(0,t[0].length-1));for(var r=t[0].length,i=Xd().flatten(t),o=i.vertices,a=i.dimensions,s=[],u=[],l=0;l<o.length/a;l++)2===a?s.push(o[2*l],o[2*l+1],1):s.push(o[3*l],o[3*l+1],1);var c=Xd()(i.vertices,i.holes,i.dimensions);u.push.apply(u,Fd(c));for(var f=function(t){var e=i.vertices.slice(t*a,(t+1)*a),n=i.vertices.slice((t+1)*a,(t+2)*a);0===n.length&&(n=i.vertices.slice(0,a));var r=s.length/3;s.push(e[0],e[1],1,n[0],n[1],1,e[0],e[1],0,n[0],n[1],0),u.push.apply(u,Fd([0,2,1,2,3,1].map((function(t){return t+r}))))},p=0;p<r;p++)f(p);return{positions:s,index:u}}([n])}(t.shape);return{vertices:e.positions,indices:e.index,size:3}}function cv(t){var e=t.coordinates;2===e.length&&e.push(0);t.size;var n=fv(-1,1),r=fv(1,1),i=fv(-1,-1),o=fv(1,-1);return{vertices:[].concat(Fd(e),Fd(n),Fd(e),Fd(i),Fd(e),Fd(o),Fd(e),Fd(r)),indices:[0,1,2,3,0,2],size:5}}function fv(t,e){return[(t+1)/2,(e+1)/2]}function pv(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var hv=function(t){Zh(n,t);var e=pv(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig().opacity,e=void 0===t?0:t;return{u_opacity:dd()(e)?e:0}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"mask",vertexShader:'attribute vec4 a_Color;\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n\nvoid main() {\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n}\n\n',fragmentShader:"uniform float u_opacity;\nvarying vec4 v_Color;\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n}\n",triangulation:uv,blend:this.getBlend(),depth:{enable:!1},stencil:{enable:!0,mask:255,func:{cmp:fl.ALWAYS,ref:1,mask:255},opFront:{fail:fl.REPLACE,zfail:fl.REPLACE,zpass:fl.REPLACE}}})]}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy(),this.layerService.clear()}},{key:"registerBuiltinAttributes",value:function(){return""}}]),n}(Hd),dv={fill:hv};function gv(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var vv=function(t){Zh(n,t);var e=gv(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"type","MaskLayer"),t}return Yh(n,[{key:"buildModels",value:function(){var t=this.getModelType();this.layerModel=new dv[t](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"fill"}}]),n}(Nd);function yv(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function mv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e,n){return e&&_v(t.prototype,e),n&&_v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wv,Sv,Ev,Av,Ov,Tv,Cv,Pv,Mv,Iv,kv,Rv,Lv,Dv,Nv=n(2233),Fv=n.n(Nv),jv=n(4364),Bv=n(7559),zv=n.n(Bv),Uv=function(){function t(e,n){mv(this,t),xv(this,"attribute",void 0),xv(this,"buffer",void 0);var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,u=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:u||0},s&&(this.attribute.size=s)}return bv(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Vv=(xv(wv={},fl.POINTS,"points"),xv(wv,fl.LINES,"lines"),xv(wv,fl.LINE_LOOP,"line loop"),xv(wv,fl.LINE_STRIP,"line strip"),xv(wv,fl.TRIANGLES,"triangles"),xv(wv,fl.TRIANGLE_FAN,"triangle fan"),xv(wv,fl.TRIANGLE_STRIP,"triangle strip"),wv),Gv=(xv(Sv={},fl.STATIC_DRAW,"static"),xv(Sv,fl.DYNAMIC_DRAW,"dynamic"),xv(Sv,fl.STREAM_DRAW,"stream"),Sv),Wv=(xv(Ev={},fl.BYTE,"int8"),xv(Ev,fl.UNSIGNED_INT,"int16"),xv(Ev,fl.INT,"int32"),xv(Ev,fl.UNSIGNED_BYTE,"uint8"),xv(Ev,fl.UNSIGNED_SHORT,"uint16"),xv(Ev,fl.UNSIGNED_INT,"uint32"),xv(Ev,fl.FLOAT,"float"),Ev),Hv=(xv(Av={},fl.ALPHA,"alpha"),xv(Av,fl.LUMINANCE,"luminance"),xv(Av,fl.LUMINANCE_ALPHA,"luminance alpha"),xv(Av,fl.RGB,"rgb"),xv(Av,fl.RGBA,"rgba"),xv(Av,fl.RGBA4,"rgba4"),xv(Av,fl.RGB5_A1,"rgb5 a1"),xv(Av,fl.RGB565,"rgb565"),xv(Av,fl.DEPTH_COMPONENT,"depth"),xv(Av,fl.DEPTH_STENCIL,"depth stencil"),Av),Yv=(xv(Ov={},fl.DONT_CARE,"dont care"),xv(Ov,fl.NICEST,"nice"),xv(Ov,fl.FASTEST,"fast"),Ov),Xv=(xv(Tv={},fl.NEAREST,"nearest"),xv(Tv,fl.LINEAR,"linear"),xv(Tv,fl.LINEAR_MIPMAP_LINEAR,"mipmap"),xv(Tv,fl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),xv(Tv,fl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),xv(Tv,fl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Tv),qv=(xv(Cv={},fl.REPEAT,"repeat"),xv(Cv,fl.CLAMP_TO_EDGE,"clamp"),xv(Cv,fl.MIRRORED_REPEAT,"mirror"),Cv),Zv=(xv(Pv={},fl.NONE,"none"),xv(Pv,fl.BROWSER_DEFAULT_WEBGL,"browser"),Pv),Kv=(xv(Mv={},fl.NEVER,"never"),xv(Mv,fl.ALWAYS,"always"),xv(Mv,fl.LESS,"less"),xv(Mv,fl.LEQUAL,"lequal"),xv(Mv,fl.GREATER,"greater"),xv(Mv,fl.GEQUAL,"gequal"),xv(Mv,fl.EQUAL,"equal"),xv(Mv,fl.NOTEQUAL,"notequal"),Mv),Qv=(xv(Iv={},fl.FUNC_ADD,"add"),xv(Iv,fl.MIN_EXT,"min"),xv(Iv,fl.MAX_EXT,"max"),xv(Iv,fl.FUNC_SUBTRACT,"subtract"),xv(Iv,fl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Iv),Jv=(xv(kv={},fl.ZERO,"zero"),xv(kv,fl.ONE,"one"),xv(kv,fl.SRC_COLOR,"src color"),xv(kv,fl.ONE_MINUS_SRC_COLOR,"one minus src color"),xv(kv,fl.SRC_ALPHA,"src alpha"),xv(kv,fl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),xv(kv,fl.DST_COLOR,"dst color"),xv(kv,fl.ONE_MINUS_DST_COLOR,"one minus dst color"),xv(kv,fl.DST_ALPHA,"dst alpha"),xv(kv,fl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),xv(kv,fl.CONSTANT_COLOR,"constant color"),xv(kv,fl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),xv(kv,fl.CONSTANT_ALPHA,"constant alpha"),xv(kv,fl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),xv(kv,fl.SRC_ALPHA_SATURATE,"src alpha saturate"),kv),$v=(xv(Rv={},fl.NEVER,"never"),xv(Rv,fl.ALWAYS,"always"),xv(Rv,fl.LESS,"less"),xv(Rv,fl.LEQUAL,"lequal"),xv(Rv,fl.GREATER,"greater"),xv(Rv,fl.GEQUAL,"gequal"),xv(Rv,fl.EQUAL,"equal"),xv(Rv,fl.NOTEQUAL,"notequal"),Rv),ty=(xv(Lv={},fl.ZERO,"zero"),xv(Lv,fl.KEEP,"keep"),xv(Lv,fl.REPLACE,"replace"),xv(Lv,fl.INVERT,"invert"),xv(Lv,fl.INCR,"increment"),xv(Lv,fl.DECR,"decrement"),xv(Lv,fl.INCR_WRAP,"increment wrap"),xv(Lv,fl.DECR_WRAP,"decrement wrap"),Lv),ey=(xv(Dv={},fl.FRONT,"front"),xv(Dv,fl.BACK,"back"),Dv),ny=function(){function t(e,n){mv(this,t),xv(this,"buffer",void 0);var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:Gv[i||fl.STATIC_DRAW],type:Wv[o||fl.UNSIGNED_BYTE]})}return bv(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),ry=function(){function t(e,n){mv(this,t),xv(this,"elements",void 0);var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=e.elements({data:r,usage:Gv[i||fl.STATIC_DRAW],type:Wv[o||fl.UNSIGNED_BYTE],count:a})}return bv(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){}}]),t}(),iy=function(){function t(e,n){mv(this,t),xv(this,"framebuffer",void 0);var r=n.width,i=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(a)&&(s.colors=a.map((function(t){return t.get()}))),o&&"boolean"!==typeof o&&(s.color=o.get()),this.framebuffer=e.framebuffer(s)}return bv(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}();function oy(t){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(t)}var ay=n(9102),sy=n.n(ay),uy=n(3977),ly=n.n(uy);function cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cy(Object(n),!0).forEach((function(e){xv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var py,hy=function(){function t(e,n){mv(this,t),xv(this,"reGl",void 0),xv(this,"destroyed",!1),xv(this,"drawCommand",void 0),xv(this,"drawPickCommand",void 0),xv(this,"drawParams",void 0),xv(this,"options",void 0),xv(this,"uniforms",{}),this.reGl=e;var r=n.vs,i=n.fs,o=n.attributes,a=n.uniforms,s=n.primitive,u=n.count,l=n.elements,c=n.depth,f=n.blend,p=n.stencil,h=n.cull,d=n.instances,g={};this.options=n,a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach((function(t){g[t]=e.prop(t)})));var v={};Object.keys(o).forEach((function(t){v[t]=o[t].get()}));var y={attributes:v,frag:i,uniforms:g,vert:r,blend:{},primitive:Vv[void 0===s?fl.TRIANGLES:s]};d&&(y.instances=d),u&&(y.count=u),l&&(y.elements=l.get()),this.initDepthDrawParams({depth:c},y),this.initBlendDrawParams({blend:f},y),this.initStencilDrawParams({stencil:p},y),this.initCullDrawParams({cull:h},y),this.drawCommand=e(y);var m=So()(y);m.blend=fy(fy({},m.blend),{},{enable:!1}),this.drawPickCommand=e(m),this.drawParams=y}return bv(t,[{key:"updateAttributes",value:function(t){var e={};Object.keys(t).forEach((function(n){e[n]=t[n].get()})),this.drawParams.attributes=e,this.drawCommand=this.reGl(this.drawParams);var n=So()(this.drawParams);n.blend=fy(fy({},n.blend),{},{enable:!1}),this.drawPickCommand=this.reGl(n)}},{key:"addUniforms",value:function(t){this.uniforms=fy(fy({},this.uniforms),this.extractUniforms(t))}},{key:"draw",value:function(t,e){if(!this.drawParams.attributes||0!==Object.keys(this.drawParams.attributes).length){var n=fy(fy({},this.uniforms),this.extractUniforms(t.uniforms||{})),r={};Object.keys(n).forEach((function(t){var e=oy(n[t]);"boolean"===e||"number"===e||Array.isArray(n[t])||n[t].BYTES_PER_ELEMENT?r[t]=n[t]:r[t]=n[t].get()})),e?this.drawPickCommand(r):this.drawCommand(r)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach((function(t){t.destroy()})),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Kv[n.func||fl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;e.blend={enable:!!r,func:{srcRGB:Jv[i&&i.srcRGB||fl.SRC_ALPHA],srcAlpha:Jv[i&&i.srcAlpha||fl.SRC_ALPHA],dstRGB:Jv[i&&i.dstRGB||fl.ONE_MINUS_SRC_ALPHA],dstAlpha:Jv[i&&i.dstAlpha||fl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Qv[o&&o.rgb||fl.FUNC_ADD],alpha:Qv[o&&o.alpha||fl.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:fl.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:fl.KEEP,zfail:fl.KEEP,zpass:fl.KEEP}:u,c=n.opBack,f=void 0===c?{fail:fl.KEEP,zfail:fl.KEEP,zpass:fl.KEEP}:c;e.stencil={enable:!!r,mask:o,func:fy(fy({},s),{},{cmp:$v[s.cmp]}),opFront:{fail:ty[l.fail],zfail:ty[l.zfail],zpass:ty[l.zpass]},opBack:{fail:ty[f.fail],zfail:ty[f.zfail],zpass:ty[f.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?fl.BACK:i;e.cull={enable:!!r,face:ey[o]}}}},{key:"extractUniforms",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){e.extractUniformsRecursively(r,t[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(t,e,n,r){var i=this;null===e||"number"===typeof e||"boolean"===typeof e||Array.isArray(e)&&"number"===typeof e[0]||sy()(e)||""===e||"resize"in e?n["".concat(r&&r+".").concat(t)]=e:(ly()(e)&&Object.keys(e).forEach((function(o){i.extractUniformsRecursively(o,e[o],n,"".concat(r&&r+".").concat(t))})),Array.isArray(e)&&e.forEach((function(e,o){Object.keys(e).forEach((function(a){i.extractUniformsRecursively(a,e[a],n,"".concat(r&&r+".").concat(t,"[").concat(o,"]"))}))})))}}]),t}(),dy=function(){function t(e,n){mv(this,t),xv(this,"texture",void 0),xv(this,"width",void 0),xv(this,"height",void 0),xv(this,"isDistroy",!1);var r=n.data,i=n.type,o=void 0===i?fl.UNSIGNED_BYTE:i,a=n.width,s=n.height,u=n.flipY,l=void 0!==u&&u,c=n.format,f=void 0===c?fl.RGBA:c,p=n.mipmap,h=void 0!==p&&p,d=n.wrapS,g=void 0===d?fl.CLAMP_TO_EDGE:d,v=n.wrapT,y=void 0===v?fl.CLAMP_TO_EDGE:v,m=n.aniso,_=void 0===m?0:m,b=n.alignment,x=void 0===b?1:b,w=n.premultiplyAlpha,S=void 0!==w&&w,E=n.mag,A=void 0===E?fl.NEAREST:E,O=n.min,T=void 0===O?fl.NEAREST:O,C=n.colorSpace,P=void 0===C?fl.BROWSER_DEFAULT_WEBGL:C,M=n.x,I=void 0===M?0:M,k=n.y,R=void 0===k?0:k,L=n.copy,D=void 0!==L&&L;this.width=a,this.height=s;var N={width:a,height:s,type:Wv[o],format:Hv[f],wrapS:qv[g],wrapT:qv[y],mag:Xv[A],min:Xv[T],alignment:x,flipY:l,colorSpace:Zv[P],premultiplyAlpha:S,aniso:_,x:I,y:R,copy:D};r&&(N.data=r),"number"===typeof h?N.mipmap=Yv[h]:"boolean"===typeof h&&(N.mipmap=h),this.texture=e.texture(N)}return bv(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.texture(t)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){var t;this.isDistroy||(null===(t=this.texture)||void 0===t||t.destroy());this.isDistroy=!0}}]),t}(),gy=(0,jv.b2)()(py=function(){function t(){var e=this;mv(this,t),xv(this,"extensionObject",void 0),xv(this,"gl",void 0),xv(this,"$container",void 0),xv(this,"canvas",void 0),xv(this,"width",void 0),xv(this,"height",void 0),xv(this,"isDirty",void 0),xv(this,"createModel",(function(t){return new hy(e.gl,t)})),xv(this,"createAttribute",(function(t){return new Uv(e.gl,t)})),xv(this,"createBuffer",(function(t){return new ny(e.gl,t)})),xv(this,"createElements",(function(t){return new ry(e.gl,t)})),xv(this,"createTexture2D",(function(t){return new dy(e.gl,t)})),xv(this,"createFramebuffer",(function(t){return new iy(e.gl,t)})),xv(this,"useFramebuffer",(function(t,n){e.gl({framebuffer:t?t.get():null})(n)})),xv(this,"clear",(function(t){var n=t.color,r=t.depth,i=t.stencil,o=t.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),e.gl.clear(s)})),xv(this,"viewport",(function(t){var n=t.x,r=t.y,i=t.width,o=t.height;e.gl._gl.viewport(n,r,i,o),e.width=i,e.height=o,e.gl._refresh()})),xv(this,"readPixels",(function(t){var n=t.framebuffer,r={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(r.framebuffer=n.get()),e.gl.read(r)})),xv(this,"getViewportSize",(function(){return{width:e.gl._gl.drawingBufferWidth,height:e.gl._gl.drawingBufferHeight}})),xv(this,"getContainer",(function(){return jr?e.canvas:null===(t=e.canvas)||void 0===t?void 0:t.parentElement;var t})),xv(this,"getCanvas",(function(){return e.canvas})),xv(this,"getGLContext",(function(){return e.gl._gl})),xv(this,"destroy",(function(){e.canvas=null,e.gl.destroy(),e.gl=null}))}return bv(t,[{key:"init",value:function(){var t,e=(t=Fv().mark((function t(e,n){var r=this;return Fv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.canvas=e,t.next=3,new Promise((function(t,e){zv()({canvas:r.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,stencil:n.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(n,r){!n&&r||e(n),t(r)}})}));case 3:this.gl=t.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){yv(o,r,i,a,s,"next",t)}function s(t){yv(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()},{key:"getPointSizeRange",value:function(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}},{key:"testExtension",value:function(t){return!!this.getGLContext().getExtension(t)}},{key:"setState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var t=this.getGLContext();t.disable(t.CULL_FACE)}},{key:"setDirty",value:function(t){this.isDirty=t}},{key:"getDirty",value:function(){return this.isDirty}}]),t}())||py;function vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vy(Object(n),!0).forEach((function(e){hh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hh(this,"sceneService",void 0),hh(this,"mapService",void 0),hh(this,"controlService",void 0),hh(this,"layerService",void 0),hh(this,"iconService",void 0),hh(this,"markerService",void 0),hh(this,"popupService",void 0),hh(this,"fontService",void 0),hh(this,"interactionService",void 0),hh(this,"container",void 0);var n=e.id,r=e.map,i=e.canvas,o=e.hasBaseMap,a=qp();this.container=a,r.setContainer(a,n,i,o),a.bind(Ia.IRendererService).to(gy).inSingletonScope(),this.sceneService=a.get(Ia.ISceneService),this.mapService=a.get(Ia.IMapService),this.iconService=a.get(Ia.IIconService),this.fontService=a.get(Ia.IFontService),this.controlService=a.get(Ia.IControlService),this.layerService=a.get(Ia.ILayerService),this.markerService=a.get(Ia.IMarkerService),this.interactionService=a.get(Ia.IInteractionService),this.popupService=a.get(Ia.IPopupService),jr?this.sceneService.initMiniScene(e):(this.initComponent(n),this.sceneService.init(e),this.initControl())}var e,n,r;return e=t,n=[{key:"map",get:function(){return this.mapService.map}},{key:"loaded",get:function(){return this.sceneService.loaded}},{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(t){return this.sceneService.exportPng(t)}},{key:"exportMap",value:function(t){return this.sceneService.exportPng(t)}},{key:"registerRenderService",value:function(t){var e=this;this.sceneService.loaded?new t(this).init():this.on("loaded",(function(){new t(e).init()}))}},{key:"setBgColor",value:function(t){this.mapService.setBgColor(t)}},{key:"addLayer",value:function(t){var e=Zp(this.container);t.setContainer(e,this.container),this.sceneService.addLayer(t);var n=t.getLayerConfig();if(n){var r=n.mask,i=n.maskfence,o=n.maskColor,a=void 0===o?"#000":o,s=n.maskOpacity,u=void 0===s?0:s;if(r&&i){var l=(new vv).source(i).shape("fill").color(a).style({opacity:u});this.addMask(l,t.id)}}else console.warn("addLayer should run after scene loaded!")}},{key:"addMask",value:function(t,e){var n=this.getLayer(e);if(n){var r=Zp(this.container);t.setContainer(r,this.container),n.addMaskLayer(t),this.sceneService.addLayer(t)}else console.warn("parent layer not find!")}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(t){return this.layerService.getLayer(t)}},{key:"getLayerByName",value:function(t){return this.layerService.getLayerByName(t)}},{key:"removeLayer",value:function(t,e){this.layerService.remove(t,e)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"setEnableRender",value:function(t){this.layerService.setEnableRender(t)}},{key:"addIconFont",value:function(t,e){this.fontService.addIconFont(t,e)}},{key:"addIconFonts",value:function(t){var e=this;t.forEach((function(t){var n=fh(t,2),r=n[0],i=n[1];e.fontService.addIconFont(r,i)}))}},{key:"addFontFace",value:function(t,e){this.sceneService.addFontFace(t,e)}},{key:"addImage",value:function(t,e){jr?this.iconService.addImageMini(t,e,this.sceneService):this.iconService.addImage(t,e)}},{key:"hasImage",value:function(t){return this.iconService.hasImage(t)}},{key:"removeImage",value:function(t){this.iconService.removeImage(t)}},{key:"addIconFontGlyphs",value:function(t,e){this.fontService.addIconGlyphs(e)}},{key:"addControl",value:function(t){this.controlService.addControl(t,this.container)}},{key:"removeControl",value:function(t){this.controlService.removeControl(t)}},{key:"getControlByName",value:function(t){return this.controlService.getControlByName(t)}},{key:"addMarker",value:function(t){this.markerService.addMarker(t)}},{key:"addMarkerLayer",value:function(t){this.markerService.addMarkerLayer(t)}},{key:"removeMarkerLayer",value:function(t){this.markerService.removeMarkerLayer(t)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(t){this.popupService.addPopup(t)}},{key:"on",value:function(t,e){-1===lh.indexOf(t)?this.mapService.on(t,e):this.sceneService.on(t,e)}},{key:"once",value:function(t,e){-1===lh.indexOf(t)?this.mapService.once(t,e):this.sceneService.once(t,e)}},{key:"off",value:function(t,e){-1===lh.indexOf(t)?this.mapService.off(t,e):this.sceneService.off(t,e)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(t){return this.mapService.getCenter(t)}},{key:"setCenter",value:function(t,e){return this.mapService.setCenter(t,e)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(t){return this.mapService.setPitch(t)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(t){this.mapService.setRotation(t)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(t){this.mapService.panTo(t)}},{key:"panBy",value:function(t,e){this.mapService.panBy(t,e)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(t){this.mapService.setZoom(t)}},{key:"fitBounds",value:function(t,e){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,i=n.animate;this.mapService.fitBounds(t,e||yy(yy({},r),{},{animate:i}))}},{key:"setZoomAndCenter",value:function(t,e){this.mapService.setZoomAndCenter(t,e)}},{key:"setMapStyle",value:function(t){this.mapService.setMapStyle(t)}},{key:"setMapStatus",value:function(t){this.mapService.setMapStatus(t)}},{key:"pixelToLngLat",value:function(t){return this.mapService.pixelToLngLat(t)}},{key:"lngLatToPixel",value:function(t){return this.mapService.lngLatToPixel(t)}},{key:"containerToLngLat",value:function(t){return this.mapService.containerToLngLat(t)}},{key:"lngLatToContainer",value:function(t){return this.mapService.lngLatToContainer(t)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(t,e){this.container.bind(Ia.IPostProcessingPass).to(t).whenTargetNamed(e)}},{key:"enableShaderPick",value:function(){this.layerService.enableShaderPick()}},{key:"diasbleShaderPick",value:function(){this.layerService.disableShaderPick()}},{key:"getPointSizeRange",value:function(){return this.sceneService.getPointSizeRange()}},{key:"initComponent",value:function(t){this.controlService.init({container:Vr(t)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var t=this.sceneService.getSceneConfig(),e=t.logoVisible,n=t.logoPosition;e&&this.addControl(new Ih({position:n}))}}],n&&ph(e.prototype,n),r&&ph(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function by(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var xy=function(t){Zh(n,t);var e=by(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig();return{u_opacity:t.opacity||1,u_coverage:t.coverage||.9,u_angle:t.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"gridheatmap",vertexShader:'precision highp float;\r\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\r\nattribute vec3 a_Position;\r\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\r\nattribute vec3 a_Pos;\r\nattribute float a_Size;\r\nattribute vec4 a_Color;\r\nuniform vec2 u_radius;\r\nuniform float u_coverage: 0.9;\r\nuniform float u_angle: 0;\r\nuniform mat4 u_ModelMatrix;\r\nuniform mat4 u_Mvp;\r\nvarying vec4 v_color;\r\n\r\nuniform vec2 u_SceneCenterMKT;\r\n\r\n#pragma include "projection"\r\n#pragma include "project"\r\n#pragma include "picking"\r\n\r\nvoid main() {\r\n  v_color = a_Color;\r\n\r\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n  // gl_Position = project_common_position_to_clipspace(project_pos);\r\n\r\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\r\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\r\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\r\n    gl_Position = u_Mvp * (project_pos);\r\n  } else {\r\n     vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n    gl_Position = project_common_position_to_clipspace(project_pos);\r\n  }\r\n\r\n  setPickingColor(a_PickingColor);\r\n}\r\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:lv,depth:{enable:!1},primitive:fl.TRIANGLES,blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:$p.Attribute,descriptor:{name:"a_Pos",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e){var n="GAODE2.x"===t.version?t.originCoordinates:t.coordinates;return[n[0],n[1],0]}}})}}]),n}(Hd);function wy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Sy,Ey=function(t){Zh(n,t);var e=wy(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig();return{u_opacity:t.opacity||1,u_coverage:t.coverage||1,u_angle:t.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"grid3dheatmap",vertexShader:'precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\n\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n  // vec2 lnglat = (a_Pos.xy + offset); \n  // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n  // gl_Position = project_common_position_to_clipspace(project_pos);\n  // float lightWeight = calc_lighting(project_pos);\n  // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 lnglat = (a_Pos.xy + offset); \n    // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n\n    // float lightWeight = calc_lighting(project_pos);\n    // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    // gl_Position = u_Mvp * vec4(lnglat , a_Position.z * a_Size, 1.0);\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u7ecf\u7eac\u5ea6\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\n    vec4 project_pos = project_position(vec4(customLnglat, a_Position.z * a_Size, 1.0));\n\n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    gl_Position = u_Mvp * vec4(customLnglat , a_Position.z * a_Size, 1.0);\n  } else {\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n    vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n    \n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n    \n    gl_Position = project_common_position_to_clipspace(project_pos);\n  }\n\n\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:av,depth:{enable:!0},blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:$p.Attribute,descriptor:{name:"a_Normal",buffer:{usage:fl.STATIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:$p.Attribute,descriptor:{name:"a_Pos",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e){var n="GAODE2.x"===t.version?t.originCoordinates:t.coordinates;return[n[0],n[1],0]}}})}}]),n}(Hd),Ay=n(7341);function Oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oy(Object(n),!0).forEach((function(e){$h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Py=(0,Ay.b2)()(Sy=function(t){Zh(n,t);var e=Cy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"texture",void 0),$h(Xh(t),"colorTexture",void 0),$h(Xh(t),"heatmapFramerBuffer",void 0),$h(Xh(t),"intensityModel",void 0),$h(Xh(t),"colorModel",void 0),$h(Xh(t),"shapeType",void 0),t}return Yh(n,[{key:"render",value:function(){var t=this,e=this.rendererService,n=e.clear;(0,e.useFramebuffer)(this.heatmapFramerBuffer,(function(){n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.heatmapFramerBuffer}),t.drawIntensityMode()})),this.layer.styleNeedUpdate&&this.updateColorTexture(),"heatmap"===this.shapeType?this.drawColorMode():this.draw3DHeatMap()}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){var t,e=this.rendererService,n=e.createFramebuffer,r=(e.clear,e.getViewportSize),i=e.createTexture2D,o=(e.useFramebuffer,this.styleAttributeService.getLayerStyleAttribute("shape")),a=(null===o||void 0===o||null===(t=o.scale)||void 0===t?void 0:t.field)||"heatmap";this.shapeType=a,this.intensityModel=this.buildHeatMapIntensity(),this.colorModel="heatmap"===a?this.buildHeatmapColor():this.build3dHeatMap();var s=r(),u=s.width,l=s.height;return this.heatmapFramerBuffer=n({color:i({width:Math.floor(u/4),height:Math.floor(l/4),wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE,min:fl.LINEAR,mag:fl.LINEAR}),depth:!1}),this.updateColorTexture(),[this.intensityModel,this.colorModel]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:$p.Attribute,descriptor:{name:"a_Dir",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(t,e,n,r){return[n[3],n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size;return[void 0===i?1:i]}}})}},{key:"buildHeatMapIntensity",value:function(){return this.layer.buildLayerModel({moduleName:"heatmapintensity",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute float a_Size;\nattribute vec2 a_Dir;\nuniform float u_intensity;\nuniform float u_radius;\nvarying vec2 v_extrude;\nvarying float v_weight;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\n#define GAUSS_COEF  0.3989422804014327\n\n#pragma include "projection"\n\nvoid main(){\n    v_weight = a_Size;\n    float ZERO = 1.0 / 255.0 / 16.0;\n    float extrude_x = a_Dir.x * 2.0 -1.0;\n    float extrude_y = a_Dir.y * 2.0 -1.0;\n    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));\n    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;\n    v_extrude = extrude_dir * S;\n\n    vec2 offset = project_pixel(v_extrude * u_radius);\n    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n    // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n        gl_Position = u_Mvp * (vec4(project_pos.xy + offset, 0.0, 1.0));\n    } else {\n        gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n    }\n}\n',fragmentShader:"precision highp float;\nuniform float u_intensity;\nvarying float v_weight;\nvarying vec2 v_extrude;\n#define GAUSS_COEF  0.3989422804014327\nvoid main(){\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n    gl_FragColor = vec4(val, 1., 1., 1.);\n}\n",triangulation:cv,depth:{enable:!1},cull:{enable:!0,face:io(this.mapService.version)},blend:{enable:!0,func:{srcRGB:fl.ONE,srcAlpha:1,dstRGB:fl.ONE,dstAlpha:1}}})}},{key:"buildHeatmapColor",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;this.shaderModuleService.registerModule("heatmapColor",{vs:"precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n\nvoid main() {\n  v_texCoord = a_Uv;\n\n  gl_Position = vec4(a_Position.xy, 0, 1.);\n}\n",fs:"uniform sampler2D u_texture;        // \u70ed\u529b\u5f3a\u5ea6\u56fe\nuniform sampler2D u_colorTexture;   // \u6839\u636e\u5f3a\u5ea6\u5206\u5e03\u7684\u8272\u5e26\nuniform float u_opacity;\nvarying vec2 v_texCoord;\n\nfloat getBlurIndusty() {\n    float h = 2.0/512.0;\n    vec2 vUv = v_texCoord;\n    float i11 = texture2D( u_texture, vec2( vUv.x - 1.0 * h, vUv.y + 1.0 * h) ).r;\n    float i12 = texture2D( u_texture, vec2( vUv.x - 0.0 * h, vUv.y + 1.0 * h) ).r;\n    float i13 = texture2D( u_texture, vec2( vUv.x + 1.0 * h, vUv.y + 1.0 * h) ).r;\n\n    float i21 = texture2D( u_texture, vec2( vUv.x - 1.0 * h, vUv.y) ).r;\n    float i22 = texture2D( u_texture, vec2( vUv.x , vUv.y) ).r;\n    float i23 = texture2D( u_texture, vec2( vUv.x + 1.0 * h, vUv.y) ).r;\n\n    float i31 = texture2D( u_texture, vec2( vUv.x - 1.0 * h, vUv.y-1.0*h) ).r;\n    float i32 = texture2D( u_texture, vec2( vUv.x - 0.0 * h, vUv.y-1.0*h) ).r;\n    float i33 = texture2D( u_texture, vec2( vUv.x + 1.0 * h, vUv.y-1.0*h) ).r;\n\n    return(\n        i11 + \n        i12 + \n        i13 + \n        i21 + \n        i21 + \n        i22 + \n        i23 + \n        i31 + \n        i32 + \n        i33\n        )/9.0;\n}\n\n\nvoid main(){\n    // float intensity = texture2D(u_texture, v_texCoord).r;\n    float intensity = getBlurIndusty();\n    vec4 color = texture2D(u_colorTexture, vec2(intensity, 0.0));\n\n    gl_FragColor =color;\n    gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n\n}\n"});var o=this.shaderModuleService.getModule("heatmapColor"),a=o.vs,s=o.fs,u=o.uniforms,l=this.rendererService,c=l.createAttribute,f=l.createElements,p=l.createBuffer;return(0,l.createModel)({vs:a,fs:s,attributes:{a_Position:c({buffer:p({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:fl.FLOAT}),size:3}),a_Uv:c({buffer:p({data:[0,1,1,1,0,0,1,0],type:fl.FLOAT}),size:2})},uniforms:Ty({},u),depth:{enable:!1},blend:this.getBlend(),count:6,elements:f({data:[0,2,1,2,3,1],type:fl.UNSIGNED_INT,count:6}),stencil:eo(n,i)})}},{key:"drawIntensityMode",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=t.intensity,r=void 0===n?10:n,i=t.radius,o=void 0===i?5:i;this.intensityModel.draw({uniforms:{u_opacity:e||1,u_radius:o,u_intensity:r}})}},{key:"drawColorMode",value:function(){var t=this.layer.getLayerConfig().opacity;this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer}})}},{key:"draw3DHeatMap",value:function(){var t=this.layer.getLayerConfig().opacity,e=ds();xs(e,this.cameraService.getViewProjectionMatrixUncentered()),this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:Fd(e)}})}},{key:"build3dHeatMap",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r,o=(0,this.rendererService.getViewportSize)(),a=function(t,e){for(var n=[],r=[],i=[],o=t+1,a=e+1,s=t/2,u=e/2,l=0;l<a;l++)for(var c=l-u,f=0;f<o;f++){var p=f-s;r.push(p/s,-c/u,0),i.push(f/t),i.push(1-l/e)}for(var h=0;h<e;h++)for(var d=0;d<t;d++){var g=d+o*h,v=d+o*(h+1),y=d+1+o*(h+1),m=d+1+o*h;n.push(g,v,m),n.push(v,y,m)}return{vertices:r,indices:n,uvs:i}}(o.width/4,o.height/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:'precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_InverseViewProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrixUncentered;\nvarying float v_intensity;\n\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n    float t2 = t * t;\n    float one_minus_t = 1.0 - t;\n    float one_minus_t2 = one_minus_t * one_minus_t;\n    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);\n}\nvec2 toBezier(float t, vec4 p){\n    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5c06\u539f\u672c 0 -> 1 \u7684 uv \u8f6c\u6362\u4e3a -1 -> 1 \u7684\u6807\u51c6\u5750\u6807\u7a7a\u95f4\uff08NDC\uff09\n\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5e73\u9762\u4e0a\u7684\u70b9\uff08z == 0\uff09\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e09\u7ef4\u4e0a\u7684\u70b9\u88ab\u6295\u5f71\u5230\u5e73\u9762\u540e\u7684\u70b9\n\tvec4 p2 = vec4(pos, 1.0, 1.0); // \u5e73\u884c\u4e8ex/y\u5e73\u9762\u3001z==1 \u7684\u5e73\u9762\u4e0a\u7684\u70b9\n\n\tvec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636e\u89c6\u56fe\u6295\u5f71\u77e9\u9635\u7684\u9006\u77e9\u9635\u5e73\u9762\u4e0a\u7684\u53cd\u7b97\u51fa\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u70b9\uff08p1\u5e73\u9762\u4e0a\u7684\u70b9\uff09\n\tvec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w; // \u5f52\u4e00\u5316\u64cd\u4f5c\uff08\u5f52\u4e00\u5316\u540e\u4e3a\u4e16\u754c\u5750\u6807\uff09\n\tinverseP2 = inverseP2 / inverseP2.w;\n\n\tfloat zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\n\tvec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b= vec4(0.5000, 0.0, 1.0, 0.5000);\n  float fh;\n\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);\n \n}\n',fs:"uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n   \n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor = color;\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n     gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n}\n"});var s=this.shaderModuleService.getModule("heatmap3dColor"),u=s.vs,l=s.fs,c=s.uniforms,f=this.rendererService,p=f.createAttribute,h=f.createElements,d=f.createBuffer;return(0,f.createModel)({vs:u,fs:l,attributes:{a_Position:p({buffer:d({data:a.vertices,type:fl.FLOAT}),size:3}),a_Uv:p({buffer:d({data:a.uvs,type:fl.FLOAT}),size:2})},primitive:fl.TRIANGLES,uniforms:Ty({},c),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:fl.SRC_ALPHA,srcAlpha:1,dstRGB:fl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:h({data:a.indices,type:fl.UNSIGNED_INT,count:a.indices.length}),stencil:eo(n,i)})}},{key:"updateStyle",value:function(){this.updateColorTexture()}},{key:"updateColorTexture",value:function(){var t=this.rendererService.createTexture2D;this.texture&&this.texture.destroy();var e=function(t){var e=zr.document.createElement("canvas"),n=e.getContext("2d");e.width=256,e.height=1;for(var r=n.createLinearGradient(0,0,256,1),i=null,o=t.positions[0],a=t.positions[t.positions.length-1],s=0;s<t.colors.length;++s){var u=(t.positions[s]-o)/(a-o);r.addColorStop(u,t.colors[s])}if(n.fillStyle=r,n.fillRect(0,0,256,1),jr)return{data:i=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),width:256,height:1};i=n.getImageData(0,0,256,1).data;for(var l=n.createImageData(256,1),c=0;c<l.data.length;c+=4)l.data[c+0]=i[c+0],l.data[c+1]=i[c+1],l.data[c+2]=i[c+2],l.data[c+3]=i[c+3];return l}(this.layer.getLayerConfig().rampColors);this.colorTexture=t({data:new Uint8Array(e.data),width:e.width,height:e.height,wrapS:fl.CLAMP_TO_EDGE,wrapT:fl.CLAMP_TO_EDGE,min:fl.NEAREST,mag:fl.NEAREST,flipY:!1})}}]),n}(Hd))||Sy;function My(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Iy=function(t){Zh(n,t);var e=My(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig();return{u_opacity:t.opacity||1,u_coverage:t.coverage||.9,u_angle:t.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"hexagonheatmap",vertexShader:'precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n    \n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n \n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xy, 0., 1.0));\n    // gl_Position = u_Mvp * (vec4(a_Pos.xy + offset, 0., 1.0));\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT;\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\n    gl_Position = u_Mvp * vec4(project_pos.xy, 0.0, 1.0);\n  } else {\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:lv,depth:{enable:!1},primitive:fl.TRIANGLES,blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:$p.Attribute,descriptor:{name:"a_Pos",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e){var n="GAODE2.x"===t.version?t.originCoordinates:t.coordinates;return[n[0],n[1],0]}}})}}]),n}(Hd),ky={heatmap:Py,heatmap3d:Py,grid:xy,grid3d:Ey,hexagon:Iy};function Ry(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Ly=function(t){Zh(n,t);var e=Ry(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"type","HeatMapLayer"),t}return Yh(n,[{key:"buildModels",value:function(){var t=this.getModelType();this.layerModel=new ky[t](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"renderModels",value:function(){var t=this;return"heatmap"===this.getModelType()?(this.layerModel&&this.layerModel.render(),this):(this.layerModelNeedUpdate&&(this.models=this.layerModel.buildModels(),this.layerModelNeedUpdate=!1),this.models.forEach((function(e){return e.draw({uniforms:t.layerModel.getUninforms()})})),this)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var t,e=this.styleAttributeService.getLayerStyleAttribute("shape"),n=this.getLayerConfig().shape3d,r=this.getSource().data.type,i=(null===e||void 0===e||null===(t=e.scale)||void 0===t?void 0:t.field)||"heatmap";return"heatmap"===i||"heatmap3d"===i?"heatmap":"hexagon"===r?-1===(null===n||void 0===n?void 0:n.indexOf(i))?"hexagon":"grid3d":"grid"===r?-1===(null===n||void 0===n?void 0:n.indexOf(i))?"grid":"grid3d":"heatmap"}}]),n}(Nd);function Dy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Ny,Fy=function(t){Zh(n,t);var e=Dy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"raiseCount",0),$h(Xh(t),"raiserepeat",0),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.animateOption,n=void 0===e?{enable:!1,speed:.01,repeat:!1}:e,r=t.opacity,i=void 0===r?1:r,o=t.sourceColor,a=t.targetColor,s=t.pickLight,u=void 0!==s&&s,l=t.heightfixed,c=void 0!==l&&l,f=t.opacityLinear,p=void 0===f?{enable:!1,dir:"up"}:f,h=t.lightEnable,d=void 0===h||h;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:i})){this.judgeStyleAttributes({opacity:i});var g=this.layer.getEncodedData(),v=this.calDataFrame(this.cellLength,g,this.cellProperties),y=v.data,m=v.width,_=v.height;this.rowCount=_,this.dataTexture=this.cellLength>0&&y.length>0?this.createTexture2D({flipY:!0,data:y,format:fl.LUMINANCE,type:fl.FLOAT,width:m,height:_}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}var b=0,x=[0,0,0,0],w=[0,0,0,0];if(o&&a&&(x=Ki(o),w=Ki(a),b=1),this.raiseCount<1&&this.raiserepeat>0&&n.enable){var S=n.speed,E=void 0===S?.01:S;n.repeat;this.raiseCount+=E,this.raiseCount>=1&&(this.raiserepeat>1?(this.raiseCount=0,this.raiserepeat--):this.raiseCount=1)}return{u_pickLight:Number(u),u_heightfixed:Number(c),u_r:n.enable&&this.raiserepeat>0?this.raiseCount:1,u_globel:"GLOBEL"===this.mapService.version?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:dd()(i)?i:1,u_linearColor:b,u_sourceColor:x,u_targetColor:w,u_opacitylinear:Number(p.enable),u_opacitylinear_dir:"up"===p.dir?1:0,u_lightEnable:Number(d)}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.depth,n=void 0===e||e,r=t.animateOption.repeat,i=void 0===r?1:r;return this.raiserepeat=i,[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:'precision highp float;\n\n#define pi 3.1415926535\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform float u_heightfixed: 0.0; // \u9ed8\u8ba4\u4e0d\u56fa\u5b9a\nuniform float u_globel;\nuniform float u_r;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform float u_lightEnable: 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nvarying float v_z;\nvarying float v_lightWeight;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if(x > 0.0 && z > 0.0) {\n    return atan(x/z);\n  } else if(x > 0.0 && z <= 0.0){\n    return atan(-z/x) + pi/2.0;\n  } else if(x <= 0.0 && z <= 0.0) {\n    return  pi + atan(x/z); //atan(x/z) + \n  } else {\n    return atan(z/-x) + pi*3.0/2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y/r);\n}\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec3 size = a_Size * a_Position;\n\n  // a_Position.z \u662f\u5728\u6784\u5efa\u7f51\u683c\u7684\u65f6\u5019\u4f20\u5165\u7684\u6807\u51c6\u503c 0 - 1\uff0c\u5728\u63d2\u503c\u5668\u63d2\u503c\u53ef\u4ee5\u83b7\u53d6 0\uff5e1 \u7ebf\u6027\u6e10\u53d8\u7684\u503c\n  v_z = a_Position.z;\n\n \n\n  // vec2 offset = project_pixel(size.xy);\n  // vec2 offset = (size.xy);\n\n  vec3 offset = size; // \u63a7\u5236\u5706\u67f1\u4f53\u7684\u5927\u5c0f - \u4ece\u6807\u51c6\u5355\u4f4d\u5706\u67f1\u4f53\u8fdb\u884c\u504f\u79fb\n  if(u_heightfixed < 1.0) { // \u5706\u67f1\u4f53\u4e0d\u56fa\u5b9a\u9ad8\u5ea6\n    // offset = project_pixel(offset);\n    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n      // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n      offset = offset * pow(2.0, (19.0 - u_Zoom));\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n      // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));\n    }\n  } else {// \u5706\u67f1\u4f53\u56fa\u5b9a\u9ad8\u5ea6 \uff08 \u5904\u7406 mapbox \uff09\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  // vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z) * u_r, 1.0);\n  // u_r \u63a7\u5236\u5706\u67f1\u7684\u751f\u957f\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // \u5706\u67f1\u5149\u7167\u6548\u679c\n  // float lightWeight = u_lightEnable > 0.0 ? calc_lighting(pos): 1.0;\n  float lightWeight = 1.0;\n  if(u_lightEnable > 0.0) { // \u53d6\u6d88\u4e09\u5143\u8868\u8fbe\u5f0f\uff0c\u589e\u5f3a\u5065\u58ee\u6027\n    lightWeight = calc_lighting(pos);\n  }\n  v_lightWeight = lightWeight;\n\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  // gl_Position = project_common_position_to_clipspace(pos);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * pos;\n  } else {\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  \n  if(u_globel > 0.0) {\n    // \u5728\u5730\u7403\u6a21\u5f0f\u4e0b\uff0c\u5c06\u539f\u672c\u5782\u76f4\u4e8e xy \u5e73\u9762\u7684\u5706\u67f1\u8c03\u6574\u59ff\u6001\u5230\u9002\u5e94\u5706\u7684\u89d2\u5ea6\n    //\u65cb\u8f6c\u77e9\u9635mx\uff0c\u521b\u5efa\u7ed5x\u8f74\u65cb\u8f6c\u77e9\u9635\n    float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);\n    float xRadian = getXRadian(a_Pos.y, r);\n    float xcos = cos(xRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u4f59\u5f26\u503c\n    float xsin = sin(xRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u6b63\u5f26\u503c\n    mat4 mx = mat4(\n      1,0,0,0,  \n      0,xcos,-xsin,0,  \n      0,xsin,xcos,0,  \n      0,0,0,1);\n\n    //\u65cb\u8f6c\u77e9\u9635my\uff0c\u521b\u5efa\u7ed5y\u8f74\u65cb\u8f6c\u77e9\u9635\n    float yRadian = getYRadian(a_Pos.x, a_Pos.z);\n    float ycos = cos(yRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u4f59\u5f26\u503c\n    float ysin = sin(yRadian);//\u6c42\u89e3\u65cb\u8f6c\u89d2\u5ea6\u6b63\u5f26\u503c\n    mat4 my = mat4(\n      ycos,0,-ysin,0,  \n      0,1,0,0,  \n      ysin,0,ycos,0,  \n      0,0,0,1);\n\n    gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\nvarying float v_z;\nvarying float v_lightWeight;\nuniform float u_pickLight: 0.0;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nuniform float u_opacitylinear: 0.0;\nuniform float u_opacitylinear_dir: 1.0;\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  // \u8bbe\u7f6e\u5706\u67f1\u7684\u5e95\u8272\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_z);\n    gl_FragColor.rgb *= v_lightWeight;\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // \u5e94\u7528\u900f\u660e\u5ea6\n  gl_FragColor.a *= opacity;\n\n  // \u5f00\u542f\u900f\u660e\u5ea6\u6e10\u53d8\n  if(u_opacitylinear > 0.0) {\n    gl_FragColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_z): v_z;\n  }\n\n  // picking\n  if(u_pickLight > 0.0) {\n    gl_FragColor = filterColorAlpha(gl_FragColor, v_lightWeight);\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n',triangulation:av,blend:this.getBlend(),cull:{enable:!0,face:io(this.mapService.version)},depth:{enable:n}})]}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){var t="GLOBEL"===this.mapService.version;this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e,n,r){var i=t.size;if(i){var o=[];return Array.isArray(i)&&(o=2===i.length?[i[0],i[0],i[1]]:i),Array.isArray(i)||(o=[i,i,i]),o}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:$p.Attribute,descriptor:{name:"a_Normal",buffer:{usage:fl.STATIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:$p.Attribute,descriptor:{name:"a_Pos",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(e,n){var r=Kd(e.coordinates);return t?Zd([r[0],r[1]]):[r[0],r[1],0]}}})}}]),n}(Hd);function jy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}!function(t){t["GAODE1.x"]="GAODE1.x",t["GAODE2.x"]="GAODE2.x",t.MAPBOX="MAPBOX",t.L7MAP="L7MAP",t.SIMPLE="SIMPLE",t.GLOBEL="GLOBEL"}(Ny||(Ny={}));var By="\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nvoid main() {\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  \n  outer_df = sdCircle(v_data.xy, 1.0);\n  inner_df = sdCircle(v_data.xy, r);\n\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n\n  float d = length(v_data.xy);\n  if(d > 0.5) {\n    discard;\n  }\n  float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n  \n  // TODO: \u6839\u636e\u53e0\u52a0\u6a21\u5f0f\u9009\u62e9\u6548\u679c\n  if(u_additive > 0.0) {\n    gl_FragColor *= intensity;\n    // TODO: \u4f18\u5316\u6c34\u6ce2\u70b9 blend additive \u6a21\u5f0f\u4e0b\u6709\u7684\u62fe\u53d6\u6548\u679c \n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor = vec4(gl_FragColor.xyz, gl_FragColor.a * intensity);\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",zy='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_globel;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_isMeter;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\nuniform float u_blur : 0.0;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, u_blur);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    antialiasblur *= pow(19.0 - u_Zoom, 2.0);\n    antialiasblur = max(antialiasblur, -0.01);\n    // offset *= 0.5;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n  // TODP: /abs(extrude.x) \u662f\u4e3a\u4e86\u517c\u5bb9\u5730\u7403\u6a21\u5f0f\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n\n  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n\n  if(u_globel > 0.0) {\n    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);\n  }\n \n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',Uy=function(t){Zh(n,t);var e=jy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"meter2coord",1),$h(Xh(t),"isMeter",!1),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.strokeOpacity,i=void 0===r?1:r,o=t.strokeWidth,a=void 0===o?0:o,s=t.stroke,u=void 0===s?"rgba(0,0,0,0)":s,l=t.offsets,c=void 0===l?[0,0]:l,f=t.blend,p=t.blur,h=void 0===p?0:p;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c});var d=this.layer.getEncodedData(),g=this.calDataFrame(this.cellLength,d,this.cellProperties),v=g.data,y=g.width,m=g.height;this.rowCount=m,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:fl.LUMINANCE,type:fl.FLOAT,width:y,height:m}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_isMeter:Number(this.isMeter),u_blur:h,u_additive:"additive"===f?1:0,u_globel:this.mapService.version===Ny.GLOBEL?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:dd()(n)?n:1,u_stroke_opacity:dd()(i)?i:1,u_stroke_width:dd()(a)?a:0,u_stroke_color:this.getStrokeColor(u),u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAnimateUniforms",value:function(){var t=this.layer.getLayerConfig().animateOption,e=void 0===t?{enable:!1}:t;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),iv)}},{key:"initModels",value:function(){var t=this.layer.getLayerConfig().unit,e=void 0===t?"l7size":t,n=this.mapService.version;return"meter"===e&&n!==Ny.L7MAP&&n!==Ny.GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels()}},{key:"calMeter2Coord",value:function(){var t=xd(this.layer.getSource().extent,4),e=t[0],n=t[1],r=t[2],i=t[3],o=[(e+r)/2,(n+i)/2];if(this.mapService.version===Ny.MAPBOX&&window.mapboxgl.MercatorCoordinate){var a=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),s=1*a.meterInMercatorCoordinateUnits(),u=new window.mapboxgl.MercatorCoordinate(a.x-s,a.y,a.z).toLngLat();this.meter2coord=o[0]-u.lng}else{var l=this.mapService.meterToCoord(o,[e,n]),c=this.mapService.meterToCoord(o,[r===e?r+.1:r,i===n?n+.1:i]);this.meter2coord=(l+c)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r,o=t.animateOption,a=void 0===o?{enable:!1}:o,s=this.getShaders(a),u=s.frag,l=s.vert,c=s.type,f="GLOBEL"===this.mapService.version;return[this.layer.buildLayerModel({moduleName:"pointfill_"+c,vertexShader:l,fragmentShader:u,triangulation:f?ov:iv,depth:{enable:f},blend:this.getBlend(),stencil:eo(n,i),cull:{enable:!0,face:io(this.mapService.version)}})]}},{key:"getShaders",value:function(t){return t.enable?(t.type,{frag:By,vert:zy,type:"wave"}):{frag:"\nuniform float u_globel;\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  if(u_globel > 0.0) {\n    // TODO: \u5730\u7403\u6a21\u5f0f\u4e0b\u907f\u514d\u591a\u4f59\u7247\u5143\u7ed8\u5236\uff0c\u540c\u65f6\u4e5f\u80fd\u907f\u514d\u6709\u7528\u7247\u5143\u5728\u900f\u660e\u4e14\u91cd\u53e0\u7684\u60c5\u51b5\u4e0b\u65e0\u6cd5\u5199\u5165\n    // \u4ed8\u51fa\u7684\u4ee3\u4ef7\u662f\u8fb9\u7f18\u4f1a\u6709\u4e00\u4e9b\u952f\u9f7f\n    if(outer_df > antialiasblur + 0.018) discard;\n  }\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(strokeWidth < 0.01) {\n    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n  } else {\n    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);\n  } else {\n    gl_FragColor.a *= opacity_t;\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n}\n",vert:zy,type:"normal"}}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"animateOption2Array",value:function(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var t=this,e="GLOBEL"===this.mapService.version;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:$p.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,n,r,i){var o;if(e){var a=xd(r,3),s=a[0],u=a[1],l=a[2],c=tg(0,0,1),f=tg(s,0,l),p=s>=0?kg(c,f):2*Math.PI-kg(c,f),h=2*Math.PI-Math.asin(u/100),d=ds();Ps(d,d,p),Cs(d,d,h);var g=tg(1,1,0);Og(g,g,d),_g(g,g);var v=tg(-1,1,0);Og(v,v,d),_g(v,v);var y=tg(-1,-1,0);Og(y,y,d),_g(y,y);var m=tg(1,-1,0);Og(m,m,d),_g(m,m),o=[].concat(Fd(g),Fd(v),Fd(y),Fd(m))}else o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var _=i%4*3;return[o[_],o[_+1],o[_+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(e,n,r,i){var o=e.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*t.meter2coord]:[a*t.meter2coord]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:$p.Attribute,descriptor:{name:"a_Shape",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(e,n,r,i){var o=e.shape,a=void 0===o?2:o;return[t.layer.getLayerConfig().shape2d.indexOf(a)]}}})}}]),n}(Hd);function Vy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Gy=function(t){Zh(n,t);var e=Vy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"meter2coord",1),$h(Xh(t),"texture",void 0),$h(Xh(t),"isMeter",!1),$h(Xh(t),"radian",0),$h(Xh(t),"updateTexture",(function(){var e=t.rendererService.createTexture2D;if(t.texture)return t.texture.update({data:t.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),void t.layer.renderLayers();t.texture=e({data:t.iconService.getCanvas(),mag:fl.LINEAR,min:fl.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:t.iconService.canvasHeight||128,mipmap:!0})})),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.strokeOpacity,i=void 0===r?1:r,o=t.strokeWidth,a=void 0===o?0:o,s=t.stroke,u=void 0===s?"rgba(0,0,0,0)":s,l=t.offsets,c=void 0===l?[0,0]:l,f=t.blend,p=t.rotation;this.rendererService.getDirty()&&this.texture.bind();var h=1;if("GAODE2.x"!==this.mapService.version&&"GAODE1.x"!==this.mapService.version||(h=-1),this.radian=void 0!==p?h*Math.PI*p/180:h*Math.PI*(this.mapService.getRotation()%360)/180,this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c});var d=this.layer.getEncodedData(),g=this.calDataFrame(this.cellLength,d,this.cellProperties),v=g.data,y=g.width,m=g.height;this.rowCount=m,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:fl.LUMINANCE,type:fl.FLOAT,width:y,height:m}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_isMeter:Number(this.isMeter),u_RotateMatrix:new Float32Array([Math.cos(this.radian),Math.sin(this.radian),-Math.sin(this.radian),Math.cos(this.radian)]),u_additive:"additive"===f?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:dd()(n)?n:1,u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),iv)}},{key:"initModels",value:function(){this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture);var t=this.layer.getLayerConfig().unit,e=void 0===t?"l7size":t,n=this.mapService.version;return"meter"===e&&n!==Ny.L7MAP&&n!==Ny.GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels()}},{key:"calMeter2Coord",value:function(){var t=xd(this.layer.getSource().extent,4),e=t[0],n=t[1],r=t[2],i=t[3],o=[(e+r)/2,(n+i)/2];if(this.mapService.version===Ny.MAPBOX&&window.mapboxgl.MercatorCoordinate){var a=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),s=1*a.meterInMercatorCoordinateUnits(),u=new window.mapboxgl.MercatorCoordinate(a.x-s,a.y,a.z).toLngLat();this.meter2coord=o[0]-u.lng}else{var l=this.mapService.meterToCoord(o,[e,n]),c=this.mapService.meterToCoord(o,[r===e?r+.1:r,i===n?n+.1:i]);this.meter2coord=(l+c)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r,o=this.getShaders(),a=o.frag,s=o.vert,u=o.type;return[this.layer.buildLayerModel({moduleName:"pointfill_"+u,vertexShader:s,fragmentShader:a,triangulation:iv,depth:{enable:!1},blend:this.getBlend(),stencil:eo(n,i),cull:{enable:!0,face:io(this.mapService.version)}})]}},{key:"getShaders",value:function(){return{frag:'uniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying float v_radius;\n\n#pragma include "sdf_2d"\n#pragma include "picking"\nvarying vec2 v_uv; // \u672c\u8eab\u7684 uv \u5750\u6807\nvarying vec2 v_Iconuv;\n\nvoid main() {\n\n  float opacity = styleMappingMat[0][0];\n\n  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;\n  gl_FragColor = texture2D(u_texture, pos);\n  gl_FragColor.a *= opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',vert:'attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute vec2 a_Uv;\nattribute float a_Rotate;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform mat2 u_RotateMatrix;\nuniform float u_isMeter;\n\nvarying float v_radius;\nvarying vec2 v_uv; // \u672c\u8eab\u7684 uv \u5750\u6807\nvarying vec2 v_Iconuv; // icon \u8d34\u56fe\u7684 uv \u5750\u6807\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n\n  v_uv = (a_Extrude.xy + 1.0)/2.0;\n  v_uv.y = 1.0 - v_uv.y;\n  v_Iconuv = a_Uv;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // empty - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // radius(16-bit)\n  v_radius = a_Size;\n\n  // TODO: billboard\n  // anti-alias\n  \n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec2 offset = (rotation_matrix * u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n\n  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n \n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"normal"}}},{key:"clearModels",value:function(){var t,e;this.iconService.off("imageUpdate",this.updateTexture),null===(t=this.texture)||void 0===t||t.destroy(),null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){var t=this;this.styleAttributeService.registerStyleAttribute({name:"rotate",type:$p.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.rotate,o=void 0===i?0:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:$p.Attribute,descriptor:{name:"a_Uv",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(e,n,r,i){var o=t.iconService.getIconMap()[e.shape]||{x:0,y:0};return[o.x,o.y]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:$p.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(e,n,r,i){var o=e.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*t.meter2coord]:[a*t.meter2coord]}}})}}]),n}(Hd);function Wy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Hy=function(t){Zh(n,t);var e=Wy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"texture",void 0),t}return Yh(n,[{key:"getUninforms",value:function(){return{u_opacity:this.layer.getLayerConfig().opacity||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var t=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){t.updateTexture(),t.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  styleMappingMat[1][0] = a_Size;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   \n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',fragmentShader:'\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      float size = styleMappingMat[1][0];\n      vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor;\n\n      // Y = 0.299R + 0.587G + 0.114B // \u4eae\u5ea6\u63d0\u53d6\n     \n      textureColor = texture2D(u_texture, pos);\n\n      // Tip: \u53bb\u9664\u8fb9\u7f18\u90e8\u5206 mipmap \u5bfc\u81f4\u7684\u6df7\u5408\u53d8\u6697\n      float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\n      if(fragmengTocenter >= 0.5) {\n            float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\n            textureColor.a *= luma;\n      }\n      \n      \n\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n\n      gl_FragColor.a = gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:sv,primitive:fl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){var t=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:$p.Attribute,descriptor:{name:"a_Uv",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(e,n,r,i){var o=t.fontService.mapping,a=e.shape,s=o[t.fontService.getGlyph(a)];return[s.x,s.y]}}})}},{key:"updateTexture",value:function(){var t=this.rendererService.createTexture2D,e=this.fontService.canvas;this.texture=t({data:e,mag:fl.LINEAR,min:fl.LINEAR,width:e.width,height:e.height})}},{key:"initIconFontGlyphs",value:function(){var t=this,e=this.layer.getLayerConfig(),n=e.fontWeight,r=void 0===n?"normal":n,i=e.fontFamily,o=void 0===i?"sans-serif":i,a=this.layer.getEncodedData(),s=[];a.forEach((function(e){var n=e.shape,r=void 0===n?"":n;r=r.toString();var i=t.fontService.getGlyph(r);-1===s.indexOf(i)&&s.push(i)})),this.fontService.setFontOptions({characterSet:s,fontWeight:r,fontFamily:o,fontSize:48})}}]),n}(Hd);function Yy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Xy=function(t){Zh(n,t);var e=Yy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"texture",void 0),$h(Xh(t),"updateTexture",(function(){var e=t.rendererService.createTexture2D;if(t.texture)return t.texture.update({data:t.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),void t.layer.renderLayers();t.texture=e({data:t.iconService.getCanvas(),mag:fl.LINEAR,min:fl.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:t.iconService.canvasHeight||128,mipmap:!0})})),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=t.offsets,r=void 0===n?[0,0]:n;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:e,offsets:r})){this.judgeStyleAttributes({opacity:e,offsets:r});var i=this.layer.getEncodedData(),o=this.calDataFrame(this.cellLength,i,this.cellProperties),a=o.data,s=o.width,u=o.height;this.rowCount=u,this.dataTexture=this.cellLength>0&&a.length>0?this.createTexture2D({flipY:!0,data:a,format:fl.LUMINANCE,type:fl.FLOAT,width:s,height:u}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:dd()(e)?e:1,u_offsets:this.isOffsetStatic(r)?r:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var t,e;null===(t=this.texture)||void 0===t||t.destroy(),null===(e=this.dataTexture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  styleMappingMat[1][0] = a_Size;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   \n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',fragmentShader:'\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      float size = styleMappingMat[1][0];\n      vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor;\n\n      // Y = 0.299R + 0.587G + 0.114B // \u4eae\u5ea6\u63d0\u53d6\n     \n      textureColor = texture2D(u_texture, pos);\n\n      // Tip: \u53bb\u9664\u8fb9\u7f18\u90e8\u5206 mipmap \u5bfc\u81f4\u7684\u6df7\u5408\u53d8\u6697\n      float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\n      if(fragmengTocenter >= 0.5) {\n            float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\n            textureColor.a *= luma;\n      }\n      \n      \n\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n\n      gl_FragColor.a = gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:sv,primitive:fl.POINTS,depth:{enable:!1},blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"registerBuiltinAttributes",value:function(){var t=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size,o=void 0===i?5:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:$p.Attribute,descriptor:{name:"a_Uv",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(e,n,r,i){var o=t.iconService.getIconMap()[e.shape]||{x:0,y:0};return[o.x,o.y]}}})}}]),n}(Hd);function qy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}function Zy(t){var e=t.coordinates;return{vertices:Fd(e),indices:[0],size:e.length}}var Ky=function(t){Zh(n,t);var e=qy(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.offsets,i=void 0===r?[0,0]:r;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var o=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,o,this.cellProperties),s=a.data,u=a.width,l=a.height;this.rowCount=l,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:fl.LUMINANCE,type:fl.FLOAT,width:u,height:l}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:dd()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:'\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  // vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\\n  // \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 offset = project_pixel((u_offsets));\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    // vec2 offset = project_pixel(u_offsets);\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  gl_FragColor = v_color;\n  // gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor.a =gl_FragColor.a * opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Zy,depth:{enable:!1},primitive:fl.POINTS,blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Kp.additive}}}]),n}(Hd);function Qy(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Jy=function(t){Zh(n,t);var e=Qy(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"meter2coord",1),$h(Xh(t),"isMeter",!1),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.strokeOpacity,i=void 0===r?1:r,o=t.strokeWidth,a=void 0===o?0:o,s=t.stroke,u=void 0===s?"rgba(0,0,0,0)":s,l=t.offsets,c=void 0===l?[0,0]:l,f=t.blend,p=t.speed,h=void 0===p?1:p;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:a,stroke:u,offsets:c});var d=this.layer.getEncodedData(),g=this.calDataFrame(this.cellLength,d,this.cellProperties),v=g.data,y=g.width,m=g.height;this.rowCount=m,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:fl.LUMINANCE,type:fl.FLOAT,width:y,height:m}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_isMeter:Number(this.isMeter),u_speed:h,u_additive:"additive"===f?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:dd()(n)?n:1,u_offsets:this.isOffsetStatic(c)?c:[0,0]}}},{key:"getAnimateUniforms",value:function(){var t=this.layer.getLayerConfig().animateOption,e=void 0===t?{enable:!1}:t;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),iv)}},{key:"initModels",value:function(){var t=this.layer.getLayerConfig().unit,e=void 0===t?"l7size":t,n=this.mapService.version;return"meter"===e&&n!==Ny.L7MAP&&n!==Ny.GLOBEL&&(this.isMeter=!0,this.calMeter2Coord()),this.buildModels()}},{key:"calMeter2Coord",value:function(){var t=xd(this.layer.getSource().extent,4),e=t[0],n=t[1],r=t[2],i=t[3],o=[(e+r)/2,(n+i)/2];if(this.mapService.version===Ny.MAPBOX&&window.mapboxgl.MercatorCoordinate){var a=window.mapboxgl.MercatorCoordinate.fromLngLat({lng:o[0],lat:o[1]},0),s=1*a.meterInMercatorCoordinateUnits(),u=new window.mapboxgl.MercatorCoordinate(a.x-s,a.y,a.z).toLngLat();this.meter2coord=o[0]-u.lng}else{var l=this.mapService.meterToCoord(o,[e,n]),c=this.mapService.meterToCoord(o,[r===e?r+.1:r,i===n?n+.1:i]);this.meter2coord=(l+c)/2,Boolean(this.meter2coord)||(this.meter2coord=7.70681090738883)}}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r,o=this.getShaders(),a=o.frag,s=o.vert,u=o.type;return[this.layer.buildLayerModel({moduleName:"pointfill_"+u,vertexShader:s,fragmentShader:a,triangulation:iv,depth:{enable:!1},blend:this.getBlend(),stencil:eo(n,i),cull:{enable:!0,face:io(this.mapService.version)}})]}},{key:"getShaders",value:function(){return{frag:'\nuniform float u_additive;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df = sdCircle(v_data.xy, 1.0);\n  float inner_df = sdCircle(v_data.xy, r);\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);\n\n  if(u_additive > 0.0) {\n    gl_FragColor *= opacity_t;\n  } else {\n    gl_FragColor.a *= opacity_t;\n  }\n\n  if(gl_FragColor.a > 0.0) {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  vec2 extrude =  styleMappingMat[2].ba;\n  vec2 dir = normalize(extrude);\n  vec2 baseDir = vec2(1.0, 0.0);\n  float pi = 3.14159265359;\n  // full circle\n  // float rades = dot(dir, baseDir);\n  // float flag = sign(dir.y);\n  // float radar_v = (flag - 1.0) * -0.5 + flag * acos(rades)/pi/2.0;\n  \n  // half circle\n  float flag = sign(dir.y);\n  float rades = dot(dir, baseDir);\n  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;\n  // simple AA\n  if(radar_v > 0.99) {\n    radar_v = 1.0 - (radar_v - 0.99)/0.01;\n  }\n\n\n\n  gl_FragColor.a *= radar_v;\n}\n',vert:'attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\nuniform float u_speed: 1.0;\nuniform float u_time;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_globel;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_isMeter;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\nuniform float u_blur : 0.0;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // empty - empty - empty - empty\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - a_Extrude.x - a_Extrude.y\n    0.0, 0.0, 0.0, 0.0  // \n  );\n\n  float time = u_time * u_speed;\n  mat2 rotateMatrix = mat2( \n    cos(time), sin(time), \n    -sin(time), cos(time)\n  );\n  styleMappingMat[2].ba = rotateMatrix * a_Extrude.xy;\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> empty -> empty ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, u_blur);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + textrueOffsets);\n  vec3 aPosition = a_Position;\n  if(u_isMeter < 1.0) {\n    // \u4e0d\u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    offset = project_pixel(offset);\n  } else {\n    // \u4ee5\u7c73\u4e3a\u5b9e\u9645\u5355\u4f4d\n    antialiasblur *= pow(19.0 - u_Zoom, 2.0);\n    antialiasblur = max(antialiasblur, -0.01);\n    // offset *= 0.5;\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      aPosition.xy += offset;\n      offset.x = 0.0;\n      offset.y = 0.0;\n    }\n  }\n\n  v_data = vec4(extrude.x, extrude.y, antialiasblur,shape_type);\n\n  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n\n  if(u_globel > 0.0) {\n    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',type:"radar"}}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"animateOption2Array",value:function(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var t=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:$p.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:3,update:function(t,e,n,r){var i,o=r%4*3;return[(i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0])[o],i[o+1],i[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(e,n,r,i){var o=e.size,a=void 0===o?5:o;return Array.isArray(a)?[a[0]*t.meter2coord]:[a*t.meter2coord]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:$p.Attribute,descriptor:{name:"a_Shape",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(e,n,r,i){var o=e.shape,a=void 0===o?2:o;return[t.layer.getLayerConfig().shape2d.indexOf(a)]}}})}}]),n}(Hd);function $y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}function tm(t){var e=t.coordinates;return{vertices:Fd(e),indices:[0],size:e.length}}var em=function(t){Zh(n,t);var e=$y(n);function n(){return Wh(this,n),e.apply(this,arguments)}return Yh(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.offsets,i=void 0===r?[0,0]:r,o=t.blend,a=t.strokeOpacity,s=void 0===a?1:a,u=t.strokeWidth,l=void 0===u?0:u,c=t.stroke,f=void 0===c?"#fff":c;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var p=this.layer.getEncodedData(),h=this.calDataFrame(this.cellLength,p,this.cellProperties),d=h.data,g=h.width,v=h.height;this.rowCount=v,this.dataTexture=this.cellLength>0&&d.length>0?this.createTexture2D({flipY:!0,data:d,format:fl.LUMINANCE,type:fl.FLOAT,width:g,height:v}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_additive:"additive"===o?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:dd()(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0],u_stroke_opacity:dd()(s)?s:1,u_stroke_width:dd()(l)?l:0,u_stroke_color:this.getStrokeColor(f)}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;return[this.layer.buildLayerModel({moduleName:"simplepoint",vertexShader:'\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nuniform float u_stroke_width;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\nvarying float v_blur;\nvarying float v_innerRadius;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n  v_blur = 1.0 - max(2.0/a_Size, 0.05);\n  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  // vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\\n  // \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 offset = project_pixel((u_offsets));\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    // vec2 offset = project_pixel(u_offsets);\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nuniform float u_additive;\n\nuniform float u_stroke_opacity : 1;\n\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\nvarying float v_blur;\nvarying float v_innerRadius;\n\n#pragma include "picking"\nvoid main() {\n  vec2 center = vec2(0.5);\n\n  float opacity = styleMappingMat[0][0];\n  // Tip: \u7247\u5143\u5230\u4e2d\u5fc3\u70b9\u7684\u8ddd\u79bb 0 - 1\n  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;\n  // Tip: \u7247\u5143\u7684\u526a\u5207\u6210\u5706\u5f62\n  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);\n\n\n  if(v_innerRadius < 0.99) {\n    // \u5f53\u5b58\u5728 stroke \u4e14 stroke > 0.01\n    float blurWidth = (1.0 - v_blur)/2.0;\n    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);\n    if(fragmengTocenter > v_innerRadius + blurWidth) {\n      gl_FragColor = stroke;\n    } else if(fragmengTocenter > v_innerRadius - blurWidth){\n      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);\n      gl_FragColor = mix(v_color, stroke, mixR);\n    } else {\n      gl_FragColor = v_color;\n    }\n  } else {\n    // \u5f53\u4e0d\u5b58\u5728 stroke \u6216 stroke <= 0.01\n    gl_FragColor = v_color;\n  }\n\n  gl_FragColor.a *= opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n\n  \n\n  \n  \n  if(u_additive > 0.0) {\n    gl_FragColor *= circleClipOpacity;\n  } else {\n    gl_FragColor.a *= circleClipOpacity;\n  }\n\n}\n',triangulation:tm,depth:{enable:!1},primitive:fl.POINTS,blend:this.getBlend(),stencil:eo(n,i)})]}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size,o=void 0===i?1:i;return Array.isArray(o)?[o[0]]:[o]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Kp.additive}}}]),n}(Hd);function nm(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return rm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rm(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function rm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var im=function(){function t(e,n,r){Wh(this,t),$h(this,"boxCells",[]),$h(this,"xCellCount",void 0),$h(this,"yCellCount",void 0),$h(this,"boxKeys",void 0),$h(this,"bboxes",void 0),$h(this,"width",void 0),$h(this,"height",void 0),$h(this,"xScale",void 0),$h(this,"yScale",void 0),$h(this,"boxUid",void 0);var i=this.boxCells;this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]);this.boxKeys=[],this.bboxes=[],this.width=e,this.height=n,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/n,this.boxUid=0}return Yh(t,[{key:"insert",value:function(t,e,n,r,i){this.forEachCell(e,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"query",value:function(t,e,n,r,i){return this.queryHitTest(t,e,n,r,!1,i)}},{key:"hitTest",value:function(t,e,n,r,i){return this.queryHitTest(t,e,n,r,!0,i)}},{key:"insertBoxCell",value:function(t,e,n,r,i,o){this.boxCells[i].push(o)}},{key:"queryHitTest",value:function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});return o?a.filter(o):a}var u={hitTest:i,seenUids:{box:{},circle:{}}};return this.forEachCell(t,e,n,r,this.queryCell,a,u,o),i?a.length>0:a}},{key:"queryCell",value:function(t,e,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l){var c,f=this.bboxes,p=nm(l);try{for(p.s();!(c=p.n()).done;){var h=c.value;if(!u.box[h]){u.box[h]=!0;var d=4*h;if(t<=f[d+2]&&e<=f[d+3]&&n>=f[d+0]&&r>=f[d+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:f[d],y1:f[d+1],x2:f[d+2],y2:f[d+3]})}}}}catch(g){p.e(g)}finally{p.f()}}return!1}},{key:"forEachCell",value:function(t,e,n,r,i,o,a,s){for(var u=this.convertToXCellCoord(t),l=this.convertToYCellCoord(e),c=this.convertToXCellCoord(n),f=this.convertToYCellCoord(r),p=u;p<=c;p++)for(var h=l;h<=f;h++){var d=this.xCellCount*h+p;if(i.call(this,t,e,n,r,d,o,a,s))return}}},{key:"convertToXCellCoord",value:function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}},{key:"convertToYCellCoord",value:function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}}]),t}(),om=function(){function e(t,n){Wh(this,e),$h(this,"width",void 0),$h(this,"height",void 0),$h(this,"grid",void 0),$h(this,"viewportPadding",100),$h(this,"screenRightBoundary",void 0),$h(this,"screenBottomBoundary",void 0),$h(this,"gridRightBoundary",void 0),$h(this,"gridBottomBoundary",void 0),this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new im(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return Yh(e,[{key:"placeCollisionBox",value:function(t){var e=t.x1+t.anchorPointX+this.viewportPadding,n=t.y1+t.anchorPointY+this.viewportPadding,r=t.x2+t.anchorPointX+this.viewportPadding,i=t.y2+t.anchorPointY+this.viewportPadding;return!this.isInsideGrid(e,n,r,i)||this.grid.hitTest(e,n,r,i)?{box:[]}:{box:[e,n,r,i]}}},{key:"insertCollisionBox",value:function(t,e){var n={featureIndex:e};this.grid.insert(n,t[0],t[1],t[2],t[3])}},{key:"project",value:function(e,n,r){var i=function(t,e,n,r){var i=new ps(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}(n,r,0,1),o=ku();return Ru(o,i,ys.apply(t,Fd(e))),{x:(o[0]/o[3]+1)/2*this.width+this.viewportPadding,y:(-o[1]/o[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary}}]),e}();function am(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return sm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sm(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function um(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0;break;default:e=.5}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:e,verticalAlign:n}}function lm(t,e,n,r,i){if(i){var o=t[r],a=o.glyph;if(a)for(var s=e[a].advance*o.scale,u=(t[r].x+s)*i,l=n;l<=r;l++)t[l].x-=u}}function cm(t,e,n,r,i,o,a){var s,u=(e-n)*i,l=(-r*a+.5)*o,c=am(t);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.x+=u,f.y+=l}}catch(p){c.e(p)}finally{c.f()}}function fm(t,e,n,r,i,o,a){var s=0,u=-8,l=0,c=t.positionedGlyphs,f="right"===o?1:"left"===o?0:.5,p=c.length;n.forEach((function(t){if(t.split("").forEach((function(t){var n=e[t];n&&(c.push({glyph:t,x:s,y:u+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+a)})),c.length!==p){var n=s-a;l=Math.max(n,l),lm(c,e,p,c.length-1,f)}s=0,u-=r+5}));var h=um(i),d=h.horizontalAlign,g=h.verticalAlign;cm(c,f,d,g,l,r,n.length);var v=u- -8;t.top+=-g*v,t.bottom=t.top-v,t.left+=-d*l,t.right=t.left+l}function pm(t,e,n,r,i,o,a){var s=0,u=-8,l=0,c=t.positionedGlyphs,f="right"===o?1:"left"===o?0:.5,p=c.length;n.forEach((function(t){var n=e[t];if(n&&(c.push({glyph:t,x:n.advance/2,y:u+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+a),c.length!==p){var i=s-a;l=Math.max(i,l),lm(c,e,p,c.length-1,f)}s=0,u-=r+5}));var h=um(i),d=h.horizontalAlign,g=h.verticalAlign;cm(c,f,d,g,l,r,n.length);var v=u- -8;t.top+=-g*v,t.bottom=t.top-v,t.left+=-d*l,t.right=t.left+l}function hm(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return dm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dm(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gm(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var vm='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform vec4 u_stroke_color : [0, 0, 0, 1];\nuniform float u_stroke_width : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n  float opacity = styleMappingMat[0][0];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ym='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\nattribute float a_Rotate;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_raisingHeight: 0.0;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n  \n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // \u6587\u672c\u7f29\u653e\u6bd4\u4f8b\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  \n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  float raiseHeight = u_raisingHeight;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  vec4 projected_position;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n   projected_position  = u_Mvp * (vec4(a_Position.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n  } else { // else\n   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n  }\n\n  gl_Position = vec4(\n    projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function mm(t){var e=this,n=t.id,r=[],i=[];if(!e.glyphInfoMap||!e.glyphInfoMap[n])return{vertices:[],indices:[],size:7};var o=e.glyphInfoMap[n].centroid,a=2===o.length?[o[0],o[1],0]:o;return e.glyphInfoMap[n].glyphQuads.forEach((function(t,e){r.push.apply(r,Fd(a).concat([t.tex.x,t.tex.y+t.tex.height,t.tl.x,t.tl.y],Fd(a),[t.tex.x+t.tex.width,t.tex.y+t.tex.height,t.tr.x,t.tr.y],Fd(a),[t.tex.x+t.tex.width,t.tex.y,t.br.x,t.br.y],Fd(a),[t.tex.x,t.tex.y,t.bl.x,t.bl.y])),i.push(0+4*e,1+4*e,2+4*e,2+4*e,3+4*e,0+4*e)})),{vertices:r,indices:i,size:7}}var _m=function(t){Zh(n,t);var e=gm(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"glyphInfo",void 0),$h(Xh(t),"glyphInfoMap",{}),$h(Xh(t),"texture",void 0),$h(Xh(t),"currentZoom",-1),$h(Xh(t),"extent",void 0),$h(Xh(t),"textureHeight",0),$h(Xh(t),"textCount",0),$h(Xh(t),"preTextStyle",{}),$h(Xh(t),"buildModels",(function(){var e=t.layer.getLayerConfig(),n=e.mask,r=void 0!==n&&n,i=e.maskInside,o=void 0===i||i;return t.initGlyph(),t.updateTexture(),t.filterGlyphs(),t.reBuildModel(),[t.layer.buildLayerModel({moduleName:"pointText",vertexShader:ym,fragmentShader:vm,triangulation:mm.bind(Xh(t)),depth:{enable:!1},blend:t.getBlend(),stencil:eo(r,o)})]})),t}return Yh(n,[{key:"getUninforms",value:function(){var t=this.layer.getLayerConfig(),e=t.opacity,n=void 0===e?1:e,r=t.stroke,i=void 0===r?"#fff":r,o=t.strokeWidth,a=void 0===o?0:o,s=t.textAnchor,u=void 0===s?"center":s,l=t.textAllowOverlap,c=void 0!==l&&l,f=t.halo,p=void 0===f?.5:f,h=t.gamma,d=void 0===h?2:h,g=t.raisingHeight,v=void 0===g?0:g,y=this.fontService,m=y.canvas,_=y.mapping;if(Object.keys(_).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(_).length),this.preTextStyle={textAnchor:u,textAllowOverlap:c},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeWidth:a,stroke:i})){this.judgeStyleAttributes({opacity:n,strokeWidth:a,stroke:i});var b=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,b,this.cellProperties),w=x.data,S=x.width,E=x.height;this.rowCount=E,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:fl.LUMINANCE,type:fl.FLOAT,width:S,height:E}):this.createTexture2D({flipY:!0,data:[1],format:fl.LUMINANCE,type:fl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(v),u_opacity:dd()(n)?n:1,u_stroke_width:dd()(a)?a:0,u_stroke_color:this.getStrokeColor(i),u_sdf_map:this.texture,u_halo_blur:p,u_gamma_scale:d,u_sdf_map_size:[m.width,m.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var t=this.layer.getLayerConfig(),e=t.textAnchor,n=void 0===e?"center":e,r=t.textAllowOverlap,i=void 0===r||r;return this.preTextStyle={textAnchor:n,textAllowOverlap:i},this.buildModels()}},{key:"needUpdate",value:function(){var t=this.layer.getLayerConfig().textAllowOverlap,e=void 0!==t&&t,n=this.mapService.getZoom(),r=this.mapService.getBounds(),i=di(this.extent,r);return(!e&&(Math.abs(this.currentZoom-n)>1||!i)||e!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"clearModels",value:function(){var t;null===(t=this.dataTexture)||void 0===t||t.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:$p.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.rotate,o=void 0===i?0:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:$p.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:fl.STATIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(t,e,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:$p.Attribute,descriptor:{name:"a_Size",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){var i=t.size,o=void 0===i?12:i;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:$p.Attribute,descriptor:{name:"a_tex",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:2,update:function(t,e,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){return hi(this.mapService.getBounds(),.5)}},{key:"initTextFont",value:function(){var t=this.layer.getLayerConfig(),e=t.fontWeight,n=void 0===e?"400":e,r=t.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(t){var e,n=t.shape,r=void 0===n?"":n,i=hm(r=r.toString());try{for(i.s();!(e=i.n()).done;){var o=e.value;-1===a.indexOf(o)&&a.push(o)}}catch(s){i.e(s)}finally{i.f()}})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!1})}},{key:"initIconFontTex",value:function(){var t=this.layer.getLayerConfig(),e=t.fontWeight,n=void 0===e?"400":e,r=t.fontFamily,i=void 0===r?"sans-serif":r,o=this.layer.getEncodedData(),a=[];o.forEach((function(t){var e=t.shape,n=void 0===e?"":e;n="".concat(n),-1===a.indexOf(n)&&a.push(n)})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:i,iconfont:!0})}},{key:"generateGlyphLayout",value:function(t){var e=this,n=this.fontService.mapping,r=this.layer.getLayerConfig(),i=r.spacing,o=void 0===i?2:i,a=r.textAnchor,s=void 0===a?"center":a,u=this.layer.getEncodedData();this.glyphInfo=u.map((function(r){var i=r.shape,a=void 0===i?"":i,u=r.id,l=r.size,c=void 0===l?1:l,f=r.textOffset,p=void 0===f?[0,0]:f,h=function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=arguments.length>7?arguments[7]:void 0,u=t.split("\n"),l=[],c={positionedGlyphs:l,top:a[1],bottom:a[1],left:a[0],right:a[0],lineCount:u.length,text:t};return s?pm(c,e,u,n,r,i,o):fm(c,e,u,n,r,i,o),!!l.length&&c}(a.toString(),n,c,s,"left",o,p,t),d=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2?arguments[2]:void 0,i=t.positionedGlyphs,o=[],a=am(void 0===i?[]:i);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=s.metrics,l=4,c=u.advance*s.scale/2,f=r?[s.x+c,s.y]:[0,0],p=r?[0,0]:[s.x+c+n[0],s.y+n[1]],h=(0-l)*s.scale-c+p[0],d=(0-l)*s.scale+p[1],g=h+u.width*s.scale,v=d+u.height*s.scale,y={x:h,y:d},m={x:g,y:d},_={x:h,y:v},b={x:g,y:v};o.push({tl:y,tr:m,bl:_,br:b,tex:u,glyphOffset:f})}}catch(x){a.e(x)}finally{a.f()}return o}(h,p,!1);return r.shaping=h,r.glyphQuads=d,r.centroid=Kd(r.coordinates),r.originCentroid="GAODE2.x"===r.version?Kd(r.originCoordinates):r.originCentroid=r.centroid,e.glyphInfoMap[u]={shaping:h,glyphQuads:d,centroid:Kd(r.coordinates)},r}))}},{key:"filterGlyphs",value:function(){var t=this,e=this.layer.getLayerConfig(),n=e.padding,r=void 0===n?[4,4]:n,i=e.textAllowOverlap;if(!(void 0!==i&&i)){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var o=this.rendererService.getViewportSize(),a=o.width,s=o.height,u=new om(a,s),l=this.glyphInfo.filter((function(e){var n=e.shaping,i=e.id,o=void 0===i?0:i,a="GAODE2.x"===e.version?e.originCentroid:e.centroid,s=e.size/24,l=t.mapService.lngLatToContainer(a),c=u.placeCollisionBox({x1:n.left*s-r[0],x2:n.right*s+r[0],y1:n.top*s-r[1],y2:n.bottom*s+r[1],anchorPointX:l.x,anchorPointY:l.y}).box;return!(!c||!c.length)&&(u.insertCollisionBox(c,o),!0)}));l.forEach((function(e){t.glyphInfoMap[e.id]=e}))}}},{key:"initGlyph",value:function(){var t=this.layer.getLayerConfig().iconfont,e=void 0!==t&&t;e?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(e)}},{key:"updateTexture",value:function(){var t=this.rendererService.createTexture2D,e=this.fontService.canvas;this.textureHeight=e.height,this.texture&&this.texture.destroy(),this.texture=t({data:e,mag:fl.LINEAR,min:fl.LINEAR,width:e.width,height:e.height})}},{key:"reBuildModel",value:function(){var t=this.layer.getLayerConfig(),e=t.mask,n=void 0!==e&&e,r=t.maskInside,i=void 0===r||r;this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:ym,fragmentShader:vm,triangulation:mm.bind(this),depth:{enable:!1},blend:this.getBlend(),stencil:eo(n,i)})]}}]),n}(Hd),bm={fillImage:Gy,fill:Uy,radar:Jy,image:Xy,normal:Ky,simplePoint:em,extrude:Fy,text:_m,icon:Hy};function xm(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return wm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wm(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sm(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jh(t);if(e){var i=Jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qh(this,n)}}var Em,Am,Om,Tm,Cm,Pm,Mm,Im,km,Rm=function(t){Zh(n,t);var e=Sm(n);function n(){var t;Wh(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $h(Xh(t=e.call.apply(e,[this].concat(i))),"type","PointLayer"),t}return Yh(n,[{key:"buildModels",value:function(){var t=this.getModelType();this.layerModel=new bm[t](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getModelTypeWillEmptyData",value:function(){if(this.shapeOption){var t=this.shapeOption,e=t.field,n=t.values,r=this.getLayerConfig(),i=r.shape2d,o=(r.shape3d,this.iconService.getIconMap());if(e&&-1!==(null===i||void 0===i?void 0:i.indexOf(e)))return"fill";if(n&&n instanceof Array){var a,s=xm(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;if("string"===typeof u&&o.hasOwnProperty(u))return"image"}}catch(l){s.e(l)}finally{s.f()}}}return"normal"}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}}[this.getModelType()]}},{key:"getModelType",value:function(){if(this.layerType&&["fillImage","fill","radar","image","normal","simplePoint","extrude","text","icon"].includes(this.layerType))return this.layerType;var t=this.getEncodedData(),e=this.getLayerConfig(),n=e.shape2d,r=e.shape3d,i=this.iconService.getIconMap(),o=t.find((function(t){return t.hasOwnProperty("shape")}));if(o){var a=o.shape;return"dot"===a?"normal":"simple"===a?"simplePoint":"radar"===a?"radar":"fillImage"===a?"fillImage":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"extrude":i.hasOwnProperty(a)?"image":""!==this.fontService.getGlyph(a)?"icon":"text"}return this.getModelTypeWillEmptyData()}}]),n}(Nd);function Lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Dm,Nm=(Em=(0,Ay.b2)(),Am=(0,Ay.f3)(Ia.IGlobalConfigService),Om=(0,Ay.f3)(Ia.IMapService),Tm=(0,Ay.f3)(Ia.IFontService),Em((Pm=function(){function t(){Wh(this,t),rd(this,"configService",Mm,this),rd(this,"mapService",Im,this),rd(this,"fontService",km,this)}return Yh(t,[{key:"apply",value:function(t,e){var n=this,r=e.styleAttributeService;t.hooks.init.tap("DataMappingPlugin",(function(){n.generateMaping(t,{styleAttributeService:r})})),t.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){return t.dataState.dataMappingNeedUpdate=!1,n.generateMaping(t,{styleAttributeService:r}),!0})),t.hooks.beforeRender.tap("DataMappingPlugin",(function(){if(!t.layerModelNeedUpdate){var e=t.getBottomColor(),i=r.getLayerStyleAttributes()||[],o=r.getLayerStyleAttribute("filter"),a=t.getSource().data.dataArray,s=i.filter((function(t){return t.needRemapping})),u=a;null!==o&&void 0!==o&&o.needRemapping&&null!==o&&void 0!==o&&o.scale&&(u=a.filter((function(t){return n.applyAttributeMapping(o,t,e)[0]}))),s.length&&(null!==o&&void 0!==o&&o.needRemapping?(t.setEncodedData(n.mapping(i,u,void 0,e,t)),o.needRemapping=!1):t.setEncodedData(n.mapping(s,u,t.getEncodedData(),e,t)),t.emit("remapping",null))}}))}},{key:"generateMaping",value:function(t,e){var n=this,r=e.styleAttributeService,i=t.getBottomColor(),o=r.getLayerStyleAttributes()||[],a=r.getLayerStyleAttribute("filter"),s=t.getSource().data.dataArray,u=s;null!==a&&void 0!==a&&a.scale&&(u=s.filter((function(t){return n.applyAttributeMapping(a,t,i)[0]}))),t.setEncodedData(this.mapping(o,u,void 0,i,t)),t.emit("dataUpdate",null)}},{key:"getArrowPoints",value:function(t,e){var n=function(t){var e=gi(t,[0,0]);return[t[0]/e,t[1]/e]}([e[0]-t[0],e[1]-t[1]]);return[t[0]+1e-4*n[0],t[1]+1e-4*n[1]]}},{key:"mapping",value:function(t,e,n,r,i){var o=this,a=(null===i||void 0===i?void 0:i.getLayerConfig()).arrow,s=void 0===a?{enable:!1}:a,u=e.map((function(e,i){var a=n?n[i]:{},u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(n),!0).forEach((function(e){$h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:e._id,coordinates:e.coordinates},a);if(t.filter((function(t){return void 0!==t.scale})).forEach((function(t){var n=o.applyAttributeMapping(t,e,r);t.needRemapping=!1,"color"===t.name&&(n=n.map((function(t){return Ki(t)}))),u[t.name]=Array.isArray(n)&&1===n.length?n[0]:n,"shape"===t.name&&(u.shape=o.fontService.getIconFontKey(u[t.name]))})),"line"===u.shape&&s.enable){var l=u.coordinates,c=o.getArrowPoints(l[0],l[1]);u.coordinates.splice(1,0,c,c)}return u}));return this.adjustData2Amap2Coordinates(u),this.adjustData2SimpleCoordinates(u),u}},{key:"adjustData2Amap2Coordinates",value:function(t){var e=this;t.length>0&&this.mapService.version===Ny["GAODE2.x"]&&("number"===typeof t[0].coordinates[0]?t.filter((function(t){return!t.originCoordinates})).map((function(t){t.version=Ny["GAODE2.x"],t.originCoordinates=So()(t.coordinates),t.coordinates=e.mapService.lngLatToCoord(t.coordinates)})):t.filter((function(t){return!t.originCoordinates})).map((function(t){t.version=Ny["GAODE2.x"],t.originCoordinates=So()(t.coordinates),t.coordinates=e.mapService.lngLatToCoords(t.coordinates)})))}},{key:"adjustData2SimpleCoordinates",value:function(t){var e=this;t.length>0&&this.mapService.version===Ny.SIMPLE&&t.map((function(t){t.simpleCoordinate||(t.coordinates=e.unProjectCoordinates(t.coordinates),t.simpleCoordinate=!0)}))}},{key:"unProjectCoordinates",value:function(t){var e=this;if("number"===typeof t[0])return this.mapService.simpleMapCoord.unproject(t);if(t[0]&&t[0][0]instanceof Array){var n=[];return t.map((function(t){var r=[];t.map((function(t){r.push(e.mapService.simpleMapCoord.unproject(t))})),n.push(r)})),n}var r=[];return t.map((function(t){r.push(e.mapService.simpleMapCoord.unproject(t))})),r}},{key:"applyAttributeMapping",value:function(t,e,n){var r;if(!t.scale)return[];var i=(null===t||void 0===t||null===(r=t.scale)||void 0===r?void 0:r.scalers)||[],o=[];i.forEach((function(n){var r,i=n.field;(e.hasOwnProperty(i)||"variable"===(null===(r=t.scale)||void 0===r?void 0:r.type))&&o.push(e[i])}));var a=t.mapping?t.mapping(o):[];return"color"!==t.name||function(t){return"string"===typeof t&&!!Fi(t)}(a[0])?a:[n]}}]),t}(),Mm=id(Pm.prototype,"configService",[Am],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Im=id(Pm.prototype,"mapService",[Om],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),km=id(Pm.prototype,"fontService",[Tm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cm=Pm))||Cm),Fm=(0,Ay.b2)()(Dm=function(){function t(){Wh(this,t),$h(this,"mapService",void 0)}return Yh(t,[{key:"apply",value:function(t){var e=this;this.mapService=t.getContainer().get(Ia.IMapService),t.hooks.init.tap("DataSourcePlugin",(function(){if(!t.getSource()){var n=t.sourceOption||{data:Oa,options:Ta},r=n.data,i=n.options;t.setSource(new Ca(r,i))}e.updateClusterData(t)})),t.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=e.updateClusterData(t),r=t.dataState.dataSourceNeedUpdate;return t.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(t){var e=t.getSource(),n=e.cluster,r=e.clusterOptions,i=r.zoom,o=void 0===i?0:i,a=(r.maxZoom,this.mapService.getZoom()-1),s=t.dataState.dataSourceNeedUpdate;return!(!n||!(s||Math.abs(t.clusterZoom-a)>=1))&&(o!==Math.floor(a)&&e.updateClusterData(Math.floor(a)),t.clusterZoom=a,!0)}}]),t}())||Dm;function jm(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Bm(t){var e;return 1===t.length&&(e=t,t=function(t,n){return jm(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var zm=Bm(jm),Um=zm.right,Vm=(zm.left,Um);var Gm=Array.prototype,Wm=(Gm.slice,Gm.map,Math.sqrt(50)),Hm=Math.sqrt(10),Ym=Math.sqrt(2);function Xm(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=qm(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function qm(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Wm?10:o>=Hm?5:o>=Ym?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Wm?10:o>=Hm?5:o>=Ym?2:1)}function Zm(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Wm?i*=10:o>=Hm?i*=5:o>=Ym&&(i*=2),e<t?-i:i}function Km(t){return null===t?NaN:+t}function Qm(t,e,n){if(null==n&&(n=Km),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}var Jm="$";function $m(){}function t_(t,e){var n=new $m;if(t instanceof $m)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}$m.prototype=t_.prototype={constructor:$m,has:function(t){return Jm+t in this},get:function(t){return this[Jm+t]},set:function(t,e){return this[Jm+t]=e,this},remove:function(t){var e=Jm+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Jm&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Jm&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Jm&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Jm&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Jm&&++t;return t},empty:function(){for(var t in this)if(t[0]===Jm)return!1;return!0},each:function(t){for(var e in this)e[0]===Jm&&t(this[e],e.slice(1),this)}};var e_=t_;function n_(){}var r_=e_.prototype;function i_(t,e){var n=new n_;if(t instanceof n_)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}n_.prototype=i_.prototype={constructor:n_,has:r_.has,add:function(t){return this[Jm+(t+="")]=t,this},remove:r_.remove,clear:r_.clear,values:r_.keys,size:r_.size,empty:r_.empty,each:r_.each};var o_=Array.prototype,a_=o_.map,s_=o_.slice;function u_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var l_={name:"implicit"};function c_(){var t=e_(),e=[],n=[],r=l_;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==l_)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=e_();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=s_.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return c_(e,n).unknown(r)},u_.apply(i,arguments),i}function f_(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function p_(t){return function(){return t}}function h_(t,e){return function(n){return t+n*e}}function d_(t){return 1===(t=+t)?g_:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):p_(isNaN(e)?n:e)}}function g_(t,e){var n=e-t;return n?h_(t,n):p_(isNaN(t)?e:t)}var v_=function t(e){var n=d_(e);function r(t,e){var r=n((t=Ui(t)).r,(e=Ui(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=g_(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function y_(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ui(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}y_((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return f_((n-r/e)*e,a,i,o,s)}})),y_((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return f_((n-r/e)*e,i,o,a,s)}}));function m_(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=O_(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function __(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function b_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function x_(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=O_(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var w_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S_=new RegExp(w_.source,"g");function E_(t,e){var n,r,i,o=w_.lastIndex=S_.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=w_.exec(t))&&(r=S_.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:b_(n,r)})),o=S_.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function A_(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function O_(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?p_(e):("number"===i?b_:"string"===i?(n=Fi(e))?(e=n,v_):E_:e instanceof Fi?v_:e instanceof Date?__:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?m_:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?x_:b_:A_))(t,e)}function T_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function C_(t){return+t}var P_=[0,1];function M_(t){return t}function I_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function k_(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function R_(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=I_(i,r),o=n(a,o)):(r=I_(r,i),o=n(o,a)),function(t){return o(r(t))}}function L_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=I_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Vm(t,e,1,r)-1;return o[n](i[n](e))}}function D_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function N_(){var t,e,n,r,i,o,a=P_,s=P_,u=O_,l=M_;function c(){return r=Math.min(a.length,s.length)>2?L_:R_,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(s,a.map(t),b_)))(n)))},f.domain=function(t){return arguments.length?(a=a_.call(t,C_),l===M_||(l=k_(a)),c()):a.slice()},f.range=function(t){return arguments.length?(s=s_.call(t),c()):s.slice()},f.rangeRound=function(t){return s=s_.call(t),u=T_,c()},f.clamp=function(t){return arguments.length?(l=t?k_(a):M_,f):l!==M_},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function F_(t,e){return N_()(t,e)}var j_,B_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z_(t){if(!(e=B_.exec(t)))throw new Error("invalid format: "+t);var e;return new U_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function U_(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function V_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function G_(t){return(t=V_(Math.abs(t)))?t[1]:NaN}function W_(t,e){var n=V_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}z_.prototype=U_.prototype,U_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var H_={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return W_(100*t,e)},r:W_,s:function(t,e){var n=V_(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(j_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+V_(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Y_(t){return t}var X_,q_,Z_,K_=Array.prototype.map,Q_=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function J_(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Y_:(e=K_.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Y_:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(K_.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=z_(t)).fill,n=t.align,f=t.sign,p=t.symbol,h=t.zero,d=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):H_[m]||(void 0===v&&(v=12),y=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var _="$"===p?i:"#"===p&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===p?o:/[%p]/.test(m)?u:"",x=H_[m],w=/[defgprs%]/.test(m);function S(t){var i,o,u,p=_,S=b;if("c"===m)S=x(t)+S,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0===+t&&"+"!==f&&(E=!1),p=(E?"("===f?f:l:"-"===f||"("===f?"":f)+p,S=("s"===m?Q_[8+j_/3]:"")+S+(E&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){S=(46===u?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var A=p.length+t.length+S.length,O=A<d?new Array(d-A+1).join(e):"";switch(g&&h&&(t=r(O+t,O.length?d-S.length:1/0),O=""),n){case"<":t=p+t+S+O;break;case"=":t=p+O+t+S;break;case"^":t=O.slice(0,A=O.length>>1)+p+t+S+O.slice(A);break;default:t=O+p+t+S}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,e){var n=f(((t=z_(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(G_(e)/3))),i=Math.pow(10,-r),o=Q_[8+r/3];return function(t){return n(i*t)+o}}}}function $_(t,e,n,r){var i,o=Zm(t,e,n);switch((r=z_(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(G_(e)/3)))-G_(Math.abs(t)))}(o,a))||(r.precision=i),Z_(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,G_(e)-G_(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-G_(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return q_(r)}function tb(t){var e=t.domain;return t.ticks=function(t){var n=e();return Xm(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return $_(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=qm(s,u,n))>0?r=qm(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=qm(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function eb(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function nb(t){return Math.log(t)}function rb(t){return Math.exp(t)}function ib(t){return-Math.log(-t)}function ob(t){return-Math.exp(-t)}function ab(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sb(t){return function(e){return-t(-e)}}function ub(t){var e,n,r=t(nb,rb),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?ab:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=sb(e),n=sb(n),t(ib,ob)):t(nb,rb),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(p=s,s=u,u=p);var l,c,f,p=e(s),h=e(u),d=null==t?10:+t,g=[];if(!(o%1)&&h-p<d){if(p=Math.round(p)-1,h=Math.round(h)+1,s>0){for(;p<h;++p)for(c=1,l=n(p);c<o;++c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}}else for(;p<h;++p)for(c=o-1,l=n(p);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}}else g=Xm(p,h,Math.min(h-p,d)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=q_(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(eb(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function lb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cb(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fb(t){return t<0?-t*t:t*t}function pb(t){var e=t(M_,M_),n=1;function r(){return 1===n?t(M_,M_):.5===n?t(cb,fb):t(lb(n),lb(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},tb(e)}function hb(){var t=pb(N_());return t.copy=function(){return D_(t,hb()).exponent(t.exponent())},u_.apply(t,arguments),t}X_=J_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),q_=X_.format,Z_=X_.formatPrefix;var db=new Date,gb=new Date;function vb(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return vb((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return db.setTime(+e),gb.setTime(+r),t(db),t(gb),Math.floor(n(db,gb))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var yb=vb((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));yb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?vb((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var mb=yb,_b=(yb.range,vb((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),bb=_b,xb=(_b.range,1e3),wb=6e4,Sb=36e5,Eb=864e5,Ab=6048e5;function Ob(t){return vb((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wb)/Ab}))}var Tb=Ob(0),Cb=Ob(1),Pb=Ob(2),Mb=Ob(3),Ib=Ob(4),kb=Ob(5),Rb=Ob(6),Lb=(Tb.range,Cb.range,Pb.range,Mb.range,Ib.range,kb.range,Rb.range,vb((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wb)/Eb}),(function(t){return t.getDate()-1}))),Db=Lb,Nb=(Lb.range,vb((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xb-t.getMinutes()*wb)}),(function(t,e){t.setTime(+t+e*Sb)}),(function(t,e){return(e-t)/Sb}),(function(t){return t.getHours()}))),Fb=Nb,jb=(Nb.range,vb((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xb)}),(function(t,e){t.setTime(+t+e*wb)}),(function(t,e){return(e-t)/wb}),(function(t){return t.getMinutes()}))),Bb=jb,zb=(jb.range,vb((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*xb)}),(function(t,e){return(e-t)/xb}),(function(t){return t.getUTCSeconds()}))),Ub=zb,Vb=(zb.range,vb((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Vb.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?vb((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Vb:null};var Gb=Vb;Vb.range;function Wb(t){return vb((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ab}))}var Hb=Wb(0),Yb=Wb(1),Xb=Wb(2),qb=Wb(3),Zb=Wb(4),Kb=Wb(5),Qb=Wb(6),Jb=(Hb.range,Yb.range,Xb.range,qb.range,Zb.range,Kb.range,Qb.range,vb((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Eb}),(function(t){return t.getUTCDate()-1}))),$b=Jb,tx=(Jb.range,vb((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));tx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?vb((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ex=tx;tx.range;function nx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ix(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ox,ax,sx={"-":"",_:" ",0:"0"},ux=/^\s*\d+/,lx=/^%/,cx=/[\\^$*+?|[\]().{}]/g;function fx(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function px(t){return t.replace(cx,"\\$&")}function hx(t){return new RegExp("^(?:"+t.map(px).join("|")+")","i")}function dx(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function gx(t,e,n){var r=ux.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vx(t,e,n){var r=ux.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yx(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mx(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _x(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bx(t,e,n){var r=ux.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xx(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Sx(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ex(t,e,n){var r=ux.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ax(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ox(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Tx(t,e,n){var r=ux.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Cx(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Px(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mx(t,e,n){var r=ux.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ix(t,e,n){var r=ux.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kx(t,e,n){var r=ux.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rx(t,e,n){var r=lx.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lx(t,e,n){var r=ux.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Dx(t,e,n){var r=ux.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nx(t,e){return fx(t.getDate(),e,2)}function Fx(t,e){return fx(t.getHours(),e,2)}function jx(t,e){return fx(t.getHours()%12||12,e,2)}function Bx(t,e){return fx(1+Db.count(mb(t),t),e,3)}function zx(t,e){return fx(t.getMilliseconds(),e,3)}function Ux(t,e){return zx(t,e)+"000"}function Vx(t,e){return fx(t.getMonth()+1,e,2)}function Gx(t,e){return fx(t.getMinutes(),e,2)}function Wx(t,e){return fx(t.getSeconds(),e,2)}function Hx(t){var e=t.getDay();return 0===e?7:e}function Yx(t,e){return fx(Tb.count(mb(t)-1,t),e,2)}function Xx(t){var e=t.getDay();return e>=4||0===e?Ib(t):Ib.ceil(t)}function qx(t,e){return t=Xx(t),fx(Ib.count(mb(t),t)+(4===mb(t).getDay()),e,2)}function Zx(t){return t.getDay()}function Kx(t,e){return fx(Cb.count(mb(t)-1,t),e,2)}function Qx(t,e){return fx(t.getFullYear()%100,e,2)}function Jx(t,e){return fx((t=Xx(t)).getFullYear()%100,e,2)}function $x(t,e){return fx(t.getFullYear()%1e4,e,4)}function tw(t,e){var n=t.getDay();return fx((t=n>=4||0===n?Ib(t):Ib.ceil(t)).getFullYear()%1e4,e,4)}function ew(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fx(e/60|0,"0",2)+fx(e%60,"0",2)}function nw(t,e){return fx(t.getUTCDate(),e,2)}function rw(t,e){return fx(t.getUTCHours(),e,2)}function iw(t,e){return fx(t.getUTCHours()%12||12,e,2)}function ow(t,e){return fx(1+$b.count(ex(t),t),e,3)}function aw(t,e){return fx(t.getUTCMilliseconds(),e,3)}function sw(t,e){return aw(t,e)+"000"}function uw(t,e){return fx(t.getUTCMonth()+1,e,2)}function lw(t,e){return fx(t.getUTCMinutes(),e,2)}function cw(t,e){return fx(t.getUTCSeconds(),e,2)}function fw(t){var e=t.getUTCDay();return 0===e?7:e}function pw(t,e){return fx(Hb.count(ex(t)-1,t),e,2)}function hw(t){var e=t.getUTCDay();return e>=4||0===e?Zb(t):Zb.ceil(t)}function dw(t,e){return t=hw(t),fx(Zb.count(ex(t),t)+(4===ex(t).getUTCDay()),e,2)}function gw(t){return t.getUTCDay()}function vw(t,e){return fx(Yb.count(ex(t)-1,t),e,2)}function yw(t,e){return fx(t.getUTCFullYear()%100,e,2)}function mw(t,e){return fx((t=hw(t)).getUTCFullYear()%100,e,2)}function _w(t,e){return fx(t.getUTCFullYear()%1e4,e,4)}function bw(t,e){var n=t.getUTCDay();return fx((t=n>=4||0===n?Zb(t):Zb.ceil(t)).getUTCFullYear()%1e4,e,4)}function xw(){return"+0000"}function ww(){return"%"}function Sw(t){return+t}function Ew(t){return Math.floor(+t/1e3)}!function(t){ox=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=hx(i),c=dx(i),f=hx(o),p=dx(o),h=hx(a),d=dx(a),g=hx(s),v=dx(s),y=hx(u),m=dx(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Nx,e:Nx,f:Ux,g:Jx,G:tw,H:Fx,I:jx,j:Bx,L:zx,m:Vx,M:Gx,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Sw,s:Ew,S:Wx,u:Hx,U:Yx,V:qx,w:Zx,W:Kx,x:null,X:null,y:Qx,Y:$x,Z:ew,"%":ww},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:nw,e:nw,f:sw,g:mw,G:bw,H:rw,I:iw,j:ow,L:aw,m:uw,M:lw,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Sw,s:Ew,S:cw,u:fw,U:pw,V:dw,w:gw,W:vw,x:null,X:null,y:yw,Y:_w,Z:xw,"%":ww},x={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:Ox,e:Ox,f:kx,g:xx,G:bx,H:Cx,I:Cx,j:Tx,L:Ix,m:Ax,M:Px,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Ex,Q:Lx,s:Dx,S:Mx,u:vx,U:yx,V:mx,w:gx,W:_x,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:xx,Y:bx,Z:Sx,"%":Rx};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=sx[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=ix(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=rx(ix(o.y,0,1))).getUTCDay(),r=i>4||0===i?Yb.ceil(r):Yb(r),r=$b.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nx(ix(o.y,0,1))).getDay(),r=i>4||0===i?Cb.ceil(r):Cb(r),r=Db.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?rx(ix(o.y,0,1)).getUTCDay():nx(ix(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rx(o)):nx(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in sx?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),ax=ox.format,ox.parse,ox.utcFormat,ox.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Aw,Ow,Tw,Cw,Pw,Mw,Iw=1e3,kw=6e4,Rw=36e5,Lw=864e5,Dw=2592e6,Nw=31536e6;function Fw(t){return new Date(t)}function jw(t){return t instanceof Date?+t:+new Date(+t)}function Bw(t,e,n,r,i,o,a,s,u){var l=F_(M_,M_),c=l.invert,f=l.domain,p=u(".%L"),h=u(":%S"),d=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),m=u("%B"),_=u("%Y"),b=[[a,1,Iw],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,kw],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Rw],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Lw],[r,2,1728e5],[n,1,6048e5],[e,1,Dw],[e,3,7776e6],[t,1,Nw]];function x(s){return(a(s)<s?p:o(s)<s?h:i(s)<s?d:r(s)<s?g:e(s)<s?n(s)<s?v:y:t(s)<s?m:_)(s)}function w(e,n,r,i){if(null==e&&(e=10),"number"===typeof e){var o=Math.abs(r-n)/e,a=Bm((function(t){return t[2]})).right(b,o);a===b.length?(i=Zm(n/Nw,r/Nw,e),e=t):a?(i=(a=b[o/b[a-1][2]<b[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(Zm(n,r,e),1),e=s)}return null==i?e:e.every(i)}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?f(a_.call(t,jw)):f().map(Fw)},l.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=w(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?x:u(e)},l.nice=function(t,e){var n=f();return(t=w(t,n[0],n[n.length-1],e))?f(eb(n,t)):l},l.copy=function(){return D_(l,Bw(t,e,n,r,i,o,a,s,u))},l}var zw,Uw,Vw,Gw,Ww,Hw,Yw,Xw=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,qw=($h(Aw={},Qp.LINEAR,(function t(){var e=F_(M_,M_);return e.copy=function(){return D_(e,t())},u_.apply(e,arguments),tb(e)})),$h(Aw,Qp.POWER,hb),$h(Aw,Qp.LOG,(function t(){var e=ub(N_()).domain([1,10]);return e.copy=function(){return D_(e,t()).base(e.base())},u_.apply(e,arguments),e})),$h(Aw,Qp.IDENTITY,(function t(e){var n;function r(t){return isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=a_.call(t,C_),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?a_.call(e,C_):[0,1],tb(r)})),$h(Aw,Qp.TIME,(function(){return u_.apply(Bw(mb,bb,Tb,Db,Fb,Bb,Ub,Gb,ax).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})),$h(Aw,Qp.QUANTILE,(function t(){var e,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=Qm(n,t/e);return a}function a(t){return isNaN(t=+t)?e:r[Vm(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,i=t.length;r<i;++r)null==(e=t[r])||isNaN(e=+e)||n.push(e);return n.sort(jm),o()},a.range=function(t){return arguments.length?(r=s_.call(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},u_.apply(a,arguments)})),$h(Aw,Qp.QUANTIZE,(function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function s(t){return t<=t?a[Vm(o,t,0,i)]:e}function u(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],u()):[n,r]},s.range=function(t){return arguments.length?(i=(a=s_.call(t)).length-1,u()):a.slice()},s.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,r]).range(a).unknown(e)},u_.apply(tb(s),arguments)})),$h(Aw,Qp.THRESHOLD,(function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[Vm(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=s_.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=s_.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},u_.apply(o,arguments)})),$h(Aw,Qp.CAT,c_),Aw),Zw=(Ow=(0,Ay.b2)(),Tw=(0,Ay.f3)(Ia.IGlobalConfigService),Ow((Pw=function(){function t(){Wh(this,t),rd(this,"configService",Mw,this),$h(this,"scaleCache",{}),$h(this,"scaleOptions",{})}return Yh(t,[{key:"apply",value:function(t,e){var n=this,r=e.styleAttributeService;t.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=t.getScaleOptions();var e=r.getLayerStyleAttributes(),i=t.getSource().data.dataArray;0!==i.length&&n.caculateScalesForAttributes(e||[],i)})),t.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=t.getScaleOptions();var e=r.getLayerStyleAttributes(),i=t.getSource().data.dataArray;return n.caculateScalesForAttributes(e||[],i),t.layerModelNeedUpdate=!0,!0})),t.hooks.beforeRender.tap("FeatureScalePlugin",(function(){if(!t.layerModelNeedUpdate){n.scaleOptions=t.getScaleOptions();var e=r.getLayerStyleAttributes();if(e){var i=t.getSource().data.dataArray;if(0===i.length)return;var o=e.filter((function(t){return t.needRescale}));o.length&&n.caculateScalesForAttributes(o,i)}}}))}},{key:"isNumber",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"caculateScalesForAttributes",value:function(t,e){var n=this;this.scaleCache={},t.forEach((function(t){if(t.scale){var r=t.scale,i=t.name;r.names=n.parseFields(t.scale.field||[]);var o=[];r.names.forEach((function(r){o.push(n.getOrCreateScale(r,t,e))})),o.some((function(t){return t.type===Jp.VARIABLE}))?(r.type=Jp.VARIABLE,o.forEach((function(t){var e;if(!r.callback)if(r.values&&"text"!==r.values){var n;if("linear"===(null===(n=t.option)||void 0===n?void 0:n.type)&&r.values.length>2){var o=t.scale.ticks(r.values.length);"color"===i&&t.scale.domain(o)}t.scale.range(r.values)}else"cat"===(null===(e=t.option)||void 0===e?void 0:e.type)&&t.scale.range(t.option.domain)}))):(r.type=Jp.CONSTANT,r.defaultValues=o.map((function(t,e){return t.scale(r.names[e])}))),r.scalers=o.map((function(t){return{field:t.field,func:t.scale,option:t.option}})),t.needRescale=!1}}))}},{key:"getOrCreateScale",value:function(t,e,n){[t,e.name].join("_");var r,i=null===(r=e.scale)||void 0===r?void 0:r.values;return this.createScale(t,e.name,i,n)}},{key:"parseFields",value:function(t){return Array.isArray(t)?t:_o()(t)?t.split("*"):[t]}},{key:"createScale",value:function(t,e,n,r){var i,o,a=this.scaleOptions[e]&&(null===(i=this.scaleOptions[e])||void 0===i?void 0:i.field)===t?this.scaleOptions[e]:this.scaleOptions[t],s={field:t,scale:void 0,type:Jp.VARIABLE,option:a};if(!r||!r.length)return a&&a.type?s.scale=this.createDefaultScale(a):(s.scale=c_([t]),s.type=Jp.CONSTANT),s;var u=null===(o=r.find((function(e){return!tc()(e[t])})))||void 0===o?void 0:o[t];if(this.isNumber(t)||tc()(u)&&!a)s.scale=c_([t]),s.type=Jp.CONSTANT;else{var l=a&&a.type||this.getDefaultType(u);"text"===n&&(l=Qp.CAT);var c=this.createDefaultScaleConfig(l,t,r);Object.assign(c,a),s.scale=this.createDefaultScale(c),s.option=c}return s}},{key:"getDefaultType",value:function(t){var e=Qp.LINEAR;return"string"===typeof t&&(e=Xw.test(t)?Qp.TIME:Qp.CAT),e}},{key:"createDefaultScaleConfig",value:function(t,e,n){var r={type:t},i=(null===n||void 0===n?void 0:n.map((function(t){return t[e]})))||[];return t!==Qp.CAT&&t!==Qp.QUANTILE?r.domain=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(i):t===Qp.CAT?r.domain=Yc()(i):t===Qp.QUANTILE&&(r.domain=i),r}},{key:"createDefaultScale",value:function(t){var e=t.type,n=t.domain,r=qw[e]();return n&&r.domain(n),r}}]),t}(),Mw=id(Pw.prototype,"configService",[Tw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cw=Pw))||Cw);function Kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Qw,Jw,$w,tS=(zw=(0,Ay.b2)(),Uw=(0,Ay.f3)(Ia.ICameraService),Vw=(0,Ay.f3)(Ia.IRendererService),zw((Ww=function(){function t(){Wh(this,t),rd(this,"cameraService",Hw,this),rd(this,"rendererService",Yw,this)}return Yh(t,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){t.models.forEach((function(e){e.addUniforms(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kw(Object(n),!0).forEach((function(e){$h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.layerModel.getAnimateUniforms()))}))}))}}]),t}(),Hw=id(Ww.prototype,"cameraService",[Uw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yw=id(Ww.prototype,"rendererService",[Vw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gw=Ww))||Gw),eS=(0,Ay.b2)()(Qw=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t){t.hooks.init.tap("LayerModelPlugin",(function(){t.prepareBuildModel(),t.buildModels(),t.styleNeedUpdate=!1})),t.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){return t.prepareBuildModel(),t.clearModels(),t.buildModels(),t.layerModelNeedUpdate=!1,!1}))}}]),t}())||Qw,nS=(0,Ay.b2)()(Jw=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t){t.hooks.afterInit.tap("LayerStylePlugin",(function(){t.updateLayerConfig({});var e=t.getLayerConfig(),n=e.autoFit,r=e.fitBoundsOptions;n&&setTimeout((function(){t.fitBounds(r)}),100)}))}}]),t}())||Jw,rS=["type"];function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iS(Object(n),!0).forEach((function(e){$h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var aS={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},sS={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},uS={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},lS={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};var cS,fS,pS,hS,dS,gS,vS,yS,mS,_S,bS,xS,wS,SS,ES,AS,OS,TS,CS,PS,MS=(0,Ay.b2)()($w=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("LightingPlugin",(function(){t.getLayerConfig().enableLighting&&t.models.forEach((function(t){return t.addUniforms(oS({},function(t){var e={u_DirectionalLights:new Array(3).fill(oS({},uS)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(oS({},lS)),u_NumOfSpotLights:0};return t&&t.length||(t=[sS]),t.forEach((function(t,n){var r=t.type,i=void 0===r?"directional":r,o=nd(t,rS),a=aS[i].lights,s=aS[i].num,u=e[s];e[a][u]=oS(oS({},e[a][u]),o),e[s]++})),e}()))}))}))}}]),t}())||$w,IS=(cS=(0,Ay.b2)(),fS=(0,Ay.f3)(Ia.IGlobalConfigService),cS((hS=function(){function t(){Wh(this,t),rd(this,"configService",dS,this),$h(this,"enabled",void 0)}return Yh(t,[{key:"apply",value:function(t,e){var n=this,r=e.rendererService,i=e.postProcessingPassFactory,o=e.normalPassFactory;t.hooks.init.tap("MultiPassRendererPlugin",(function(){var e=t.getLayerConfig(),r=e.enableMultiPassRenderer,a=e.passes,s=void 0===a?[]:a;n.enabled=!!r&&!1!==t.getLayerConfig().enableMultiPassRenderer,n.enabled&&(t.multiPassRenderer=Sd(t,s,i,o),t.multiPassRenderer.setRenderFlag(!0))})),t.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){if(n.enabled){var e=r.getViewportSize(),i=e.width,o=e.height;t.multiPassRenderer.resize(i,o)}}))}}]),t}(),dS=id(hS.prototype,"configService",[fS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pS=hS))||pS),kS=1,RS=2,LS=(0,Ay.b2)()(gS=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t,e){e.rendererService;var n=e.styleAttributeService;t.hooks.init.tap("PixelPickingPlugin",(function(){n.registerStyleAttribute({name:"pickingColor",type:$p.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:fl.FLOAT},size:3,update:function(t,e){return Ji(t.id)}}})})),t.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){t.getLayerConfig().enablePicking&&t.isVisible()&&t.models.forEach((function(t){return t.addUniforms({u_PickingStage:kS})}))})),t.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){t.getLayerConfig().enablePicking&&t.isVisible()&&t.models.forEach((function(t){return t.addUniforms({u_PickingStage:RS})}))})),t.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(e){var n=t.getLayerConfig(),r=n.highlightColor,i=n.activeMix,o=void 0===i?0:i,a="string"===typeof r?Ki(r):r||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:Qi(new Uint8Array(e))}),t.models.forEach((function(t){return t.addUniforms({u_PickingStage:RS,u_PickingColor:e,u_HighlightColor:a.map((function(t){return 255*t})),u_activeMix:o})}))})),t.hooks.beforeSelect.tap("PixelPickingPlugin",(function(e){var n=t.getLayerConfig(),r=n.selectColor,i=n.selectMix,o=void 0===i?0:i,a="string"===typeof r?Ki(r):r||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:Qi(new Uint8Array(e))}),t.models.forEach((function(t){return t.addUniforms({u_PickingStage:RS,u_PickingColor:e,u_HighlightColor:a.map((function(t){return 255*t})),u_activeMix:o,u_CurrentSelectedId:e,u_SelectColor:a.map((function(t){return 255*t})),u_EnableSelect:1})}))}))}}]),t}())||gS,DS=(0,Ay.b2)()(vS=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t,e){var n=this,r=e.styleAttributeService;t.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(t){t.registerStyleAttribute({name:"position",type:$p.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:fl.FLOAT},size:3,update:function(t,e,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),t.registerStyleAttribute({name:"filter",type:$p.Attribute,descriptor:{name:"filter",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e){return t.filter?[1]:[0]}}}),t.registerStyleAttribute({name:"color",type:$p.Attribute,descriptor:{name:"a_Color",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:4,update:function(t,e){var n=t.color;return n&&n.length?n:[1,1,1,1]}}}),t.registerStyleAttribute({name:"vertexId",type:$p.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:fl.DYNAMIC_DRAW,data:[],type:fl.FLOAT},size:1,update:function(t,e,n,r){return[e]}}})}}]),t}())||vS,NS=(yS=(0,Ay.b2)(),mS=(0,Ay.f3)(Ia.ICameraService),_S=(0,Ay.f3)(Ia.ICoordinateSystemService),bS=(0,Ay.f3)(Ia.IRendererService),xS=(0,Ay.f3)(Ia.IMapService),yS((SS=function(){function t(){Wh(this,t),rd(this,"cameraService",ES,this),rd(this,"coordinateSystemService",AS,this),rd(this,"rendererService",OS,this),rd(this,"mapService",TS,this)}return Yh(t,[{key:"apply",value:function(t){var e=this,n=this.mapService.version,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=[0,0];t.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){e.coordinateSystemService.refresh(),"GAODE2.x"===n&&(r=e.mapService.map.customCoords.getMVPMatrix(),i=e.mapService.getCustomCoordCenter());var o=e.rendererService.getViewportSize(),a=o.width,s=o.height;t.models.forEach((function(n){var o;n.addUniforms(($h(o={},nh,e.cameraService.getProjectionMatrix()),$h(o,rh,e.cameraService.getViewMatrix()),$h(o,ih,e.cameraService.getViewProjectionMatrix()),$h(o,oh,e.cameraService.getZoom()),$h(o,ah,e.cameraService.getZoomScale()),$h(o,sh,e.cameraService.getFocalDistance()),$h(o,uh,e.cameraService.getCameraPosition()),$h(o,Zu,e.coordinateSystemService.getCoordinateSystem()),$h(o,Ku,e.coordinateSystemService.getViewportCenter()),$h(o,Qu,e.coordinateSystemService.getViewportCenterProjection()),$h(o,Ju,e.coordinateSystemService.getPixelsPerDegree()),$h(o,$u,e.coordinateSystemService.getPixelsPerDegree2()),$h(o,tl,e.coordinateSystemService.getPixelsPerMeter()),$h(o,el,r),$h(o,"u_SceneCenterMKT",i),$h(o,"u_ViewportSize",[a,s]),$h(o,"u_ModelMatrix",e.cameraService.getModelMatrix()),$h(o,"u_DevicePixelRatio",zr.devicePixelRatio),$h(o,"u_PickingBuffer",t.getLayerConfig().pickingBuffer||0),$h(o,"u_shaderPick",Number(t.getShaderPickStat())),o))}))}))}}]),t}(),ES=id(SS.prototype,"cameraService",[mS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AS=id(SS.prototype,"coordinateSystemService",[_S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OS=id(SS.prototype,"rendererService",[bS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),TS=id(SS.prototype,"mapService",[xS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wS=SS))||wS),FS=(0,Ay.b2)()(CS=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("UpdateModelPlugin",(function(){t.layerModel&&t.layerModel.needUpdate()}))}}]),t}())||CS,jS=(0,Ay.b2)()(PS=function(){function t(){Wh(this,t)}return Yh(t,[{key:"apply",value:function(t,e){var n=this,r=e.styleAttributeService;t.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(t,{styleAttributeService:r})})),t.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){t.layerModelNeedUpdate||n.updateStyleAtrribute(t,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(t,e){var n=e.styleAttributeService,r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter");n.getLayerStyleAttribute("shape");if(i&&i.needRegenerateVertices)return t.layerModelNeedUpdate=!0,void r.forEach((function(t){return t.needRegenerateVertices=!1}));r.filter((function(t){return t.needRegenerateVertices})).forEach((function(e){n.updateAttributeByFeatureRange(e.name,t.getEncodedData(),e.featureRange.startIndex,e.featureRange.endIndex),e.needRegenerateVertices=!1}))}},{key:"initStyleAttribute",value:function(t,e){var n=e.styleAttributeService;(n.getLayerStyleAttributes()||[]).filter((function(t){return t.needRegenerateVertices})).forEach((function(e){n.updateAttributeByFeatureRange(e.name,t.getEncodedData(),e.featureRange.startIndex,e.featureRange.endIndex),e.needRegenerateVertices=!1}))}}]),t}())||PS;Yp.bind(Ia.ILayerPlugin).to(Fm).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(DS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(Zw).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(Nm).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(nS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(jS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(FS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(IS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(NS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(tS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(MS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(LS).inRequestScope(),Yp.bind(Ia.ILayerPlugin).to(eS).inRequestScope();var BS,zS,US;function VS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WS(t,e,n){return e&&GS(t.prototype,e),n&&GS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HS(t,e){return HS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},HS(t,e)}function YS(t){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YS(t)}function XS(t,e){if(e&&("object"===YS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qS(t){return qS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qS(t)}function ZS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function KS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QS(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JS(Object(n),!0).forEach((function(e){KS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tE=(BS=Hp(Ia.IGlobalConfigService),zS=function(){function t(e){VS(this,t),ZS(this,"configService",US,this),KS(this,"config",void 0),this.config=e}return WS(t,[{key:"setContainer",value:function(t,e,n,r){t.bind(Ia.MapConfig).toConstantValue($S($S({},this.config),{},{id:e,canvas:n,hasBaseMap:r})),t.bind(Ia.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),t}(),US=QS(zS.prototype,"configService",[BS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zS);function eE(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nE(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}var rE=n(1035),iE=n.n(rE),oE=n(159),aE=n(5483),sE=n.n(aE);function uE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cE(t,e,n){return e&&lE(t.prototype,e),n&&lE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fE(t){return fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fE(t)}function pE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hE(t,e){if(e&&("object"===fE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pE(t)}function dE(t){return dE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dE(t)}function gE(t,e){return gE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gE(t,e)}function vE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"===typeof t)return vE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mE(t,e){var n,r,i,o=Ru([],e,t);return n=o,r=o,i=1/o[3],n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=r[3]*i,o}function _E(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function bE(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}!function(){var t=function(){var t=new ps(2);return ps!=Float32Array&&(t[0]=0,t[1]=0),t}()}();function xE(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var wE=Math.PI,SE=wE/4,EE=wE/180,AE=180/wE,OE=4003e4;function TE(t){return Math.pow(2,t)}function CE(t,e){var n=yE(t,2),r=n[0],i=n[1];xE(Number.isFinite(r)&&Number.isFinite(e)),xE(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var o=i*EE;return[(e*=512)*(r*EE+wE)/(2*wE),e*(wE-Math.log(Math.tan(SE+.5*o)))/(2*wE)]}function PE(t,e){var n=yE(t,2),r=n[0],i=n[1],o=r/(e*=512)*(2*wE)-wE,a=2*(Math.atan(Math.exp(wE-i/e*(2*wE)))-SE);return[o*AE,a*AE]}function ME(t){var e=t.latitude,n=t.longitude,r=t.zoom,i=t.scale,o=t.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:TE(r),xE(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=512*i,l=Math.cos(e*EE),c=u/360,f=c/l,p=u/OE/l;if(s.pixelsPerMeter=[p,-p,p],s.metersPerPixel=[1/p,-1/p,1/p],s.pixelsPerDegree=[c,-f,p],s.degreesPerPixel=[1/c,-1/f,1/p],a){var h=EE*Math.tan(e*EE)/l,d=c*h/2,g=u/OE*h,v=g/f*p;s.pixelsPerDegree2=[0,-d,g],s.pixelsPerMeter2=[v,0,v]}return s}function IE(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,u=void 0!==s&&s,l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return As(l,l,[0,0,-i]),Os(l,l,[1,1,1/e]),Cs(l,l,-n*EE),Ms(l,l,r*EE),u&&Os(l,l,[1,-1,1]),a&&As(l,l,yg([],a)),l}function kE(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,l=t.farZMultiplier,c=void 0===l?1:l,f=a*EE,p=Math.atan(.5/i),h=Math.sin(p)*i/Math.sin(Math.PI/2-f-p),d=Math.cos(Math.PI/2-f)*h+i;return{fov:2*Math.atan(n/2/i),aspect:e/n,focalDistance:i,near:u,far:d*c}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier}),o=i.fov,a=i.aspect,s=i.near,u=i.far;return Xs([],o,a,s,u)}function RE(t,e){var n=yE(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return xE(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),mE(e,[r,i,a,1])}function LE(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=yE(t,3),i=r[0],o=r[1],a=r[2];if(xE(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=mE(e,[i,o,a,1]);return s}var u=mE(e,[i,o,0,1]),l=mE(e,[i,o,1,1]),c=u[2],f=l[2],p=c===f?0:((n||0)-c)/(f-c);return bE([],u,l,p)}var DE=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],NE=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.viewMatrix,o=void 0===i?DE:i,a=e.projectionMatrix,s=void 0===a?DE:a;uE(this,t),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Es(u,u,this.projectionMatrix),Es(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Os(l,l,[this.width/2,-this.height/2,1]),As(l,l,[1,-1,0]),Es(l,l,this.viewProjectionMatrix);var c=xs([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return cE(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&uu(e.projectionMatrix,this.projectionMatrix)&&uu(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=RE(i,this.pixelProjectionMatrix),a=yE(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===t.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=yE(t,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=i&&i*this.pixelsPerMeter,f=LE([a,l,u],this.pixelUnprojectionMatrix,c),p=this.unprojectPosition(f),h=yE(p,3),d=h[0],g=h[1],v=h[2];return Number.isFinite(u)?[d,g,v]:Number.isFinite(i)?[d,g,i]:[d,g]}},{key:"projectPosition",value:function(t){var e=yE(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(t){var e=yE(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}}]),t}();function FE(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,l=void 0===u?0:u,c=t.offset,f=void 0===c?[0,0]:c,p=yE(r,2),h=yE(p[0],2),d=h[0],g=h[1],v=yE(p[1],2),y=v[0],m=v[1];if(Number.isFinite(l)){l={top:l,bottom:l,left:l,right:l}}else xE(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var _=new ZE({width:e,height:n,longitude:0,latitude:0,zoom:0}),b=_.project([d,m]),x=_.project([y,g]),w=[Math.max(Math.abs(x[0]-b[0]),o),Math.max(Math.abs(x[1]-b[1]),o)],S=[e-l.left-l.right-2*Math.abs(f[0]),n-l.top-l.bottom-2*Math.abs(f[1])];xE(S[0]>0&&S[1]>0);var E=S[0]/w[0],A=S[1]/w[1],O=(l.right-l.left)/2/E,T=(l.bottom-l.top)/2/A,C=[(x[0]+b[0])/2+O,(x[1]+b[1])/2+T],P=_.unproject(C),M=_.zoom+Math.log2(Math.abs(Math.min(E,A)));return{longitude:P[0],latitude:P[1],zoom:Math.min(M,s)}}var jE,BE,zE,UE,VE,GE,WE,HE,YE,XE,qE,ZE=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,i=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,l=n.zoom,c=void 0===l?0:l,f=n.pitch,p=void 0===f?0:f,h=n.bearing,d=void 0===h?0:h,g=n.altitude,v=void 0===g?1.5:g,y=n.nearZMultiplier,m=n.farZMultiplier;uE(this,e),r=r||1,i=i||1;var _=TE(c);v=Math.max(.75,v);var b=CE([u,a],_);b[2]=0;var x=kE({width:r,height:i,pitch:p,bearing:d,altitude:v,nearZMultiplier:y||1/i,farZMultiplier:m||1.01}),w=IE({height:i,center:b,pitch:p,bearing:d,altitude:v,flipY:!0});return(t=hE(this,dE(e).call(this,{width:r,height:i,viewMatrix:w,projectionMatrix:x}))).latitude=a,t.longitude=u,t.zoom=c,t.pitch=p,t.bearing=d,t.altitude=v,t.scale=_,t.center=b,t.pixelsPerMeter=ME(pE(pE(t))).pixelsPerMeter[2],Object.freeze(pE(pE(t))),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}(e,t),cE(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return CE(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return PE(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e,n,r=t.lngLat,i=LE(t.pos,this.pixelUnprojectionMatrix),o=_E([],CE(r,this.scale),((e=[])[0]=-(n=i)[0],e[1]=-n[1],e));return PE(_E([],this.center,o),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=FE(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:u})}}]),e}(NE),KE=function(){function t(){VS(this,t),KS(this,"viewport",void 0)}return WS(t,[{key:"syncWithMapCamera",value:function(t){var e=t.center,n=t.zoom,r=t.pitch,i=t.bearing,o=t.viewportHeight,a=t.viewportWidth;this.viewport=new ZE({width:a,height:o,longitude:e&&e[0],latitude:e&&e[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}}]),t}(),QE=function(){function t(e){VS(this,t),KS(this,"size",1e4),this.size=e||1e4}return WS(t,[{key:"setSize",value:function(t){this.size=t}},{key:"getSize",value:function(){return[this.size,this.size]}},{key:"mercatorXfromLng",value:function(t){return(180+t)/360*this.size}},{key:"mercatorYfromLat",value:function(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}},{key:"lngFromMercatorX",value:function(t){return t/this.size*360-180}},{key:"latFromMercatorY",value:function(t){var e=180-360*(1-t/this.size);return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}},{key:"project",value:function(t){return[this.mercatorXfromLng(t[0]),this.mercatorYfromLat(t[1])]}},{key:"unproject",value:function(t){return[this.lngFromMercatorX(t[0]),this.latFromMercatorY(t[1])]}}]),t}(),JE={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},$E=["id","attributionControl","style","token","rotation","mapInstance"];function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tA(Object(n),!0).forEach((function(e){KS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(t,e){var n="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,r="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=sE();var nA={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},rA=0,iA="pk.eyJ1IjoibHp4dWUiLCJhIjoiY2tvaWZuM2s4MWZuYjJ1dHI5ZGduYTlrdiJ9.DQCfMRbZzx0VSwecQ69McA",oA=(jE=(0,oE.b2)(),BE=(0,oE.f3)(Ia.MapConfig),zE=(0,oE.f3)(Ia.IGlobalConfigService),UE=(0,oE.f3)(Ia.ICoordinateSystemService),VE=(0,oE.f3)(Ia.IEventEmitter),jE((WE=function(){function t(){var e=this;VS(this,t),KS(this,"version",Ny.MAPBOX),KS(this,"map",void 0),KS(this,"simpleMapCoord",new QE),KS(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),ZS(this,"config",HE,this),ZS(this,"configService",YE,this),ZS(this,"coordinateSystemService",XE,this),ZS(this,"eventEmitter",qE,this),KS(this,"viewport",void 0),KS(this,"markerContainer",void 0),KS(this,"cameraChangedCallback",void 0),KS(this,"$mapContainer",void 0),KS(this,"handleCameraChanged",(function(){var t=e.map.getCenter().wrap(),n=t.lat,r=t.lng;e.emit("mapchange"),e.viewport.syncWithMapCamera({bearing:e.map.getBearing(),center:[r,n],viewportHeight:e.map.transform.height,pitch:e.map.getPitch(),viewportWidth:e.map.transform.width,zoom:e.map.getZoom(),cameraHeight:0});var i=e.config.offsetZoom,o=void 0===i?12:i;e.viewport.getZoom()>o?e.coordinateSystemService.setCoordinateSystem(Lu.LNGLAT_OFFSET):e.coordinateSystemService.setCoordinateSystem(Lu.LNGLAT),e.cameraChangedCallback(e.viewport)}))}return WS(t,[{key:"setBgColor",value:function(t){this.bgColor=t}},{key:"addMarkerContainer",value:function(){var t=this.map.getCanvasContainer();this.markerContainer=Wr("div","l7-marker-container",t),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(t,e){-1!==eh.indexOf(t)?this.eventEmitter.on(t,e):this.map.on(nA[t]||t,e)}},{key:"off",value:function(t,e){this.map.off(nA[t]||t,e),this.eventEmitter.off(t,e)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var t=this.map.transform;return[t.width,t.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(t){return this.map.setZoom(t)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(t){this.map.setCenter(t)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(t){this.map.setBearing(t)}},{key:"zoomIn",value:function(t,e){this.map.zoomIn(t,e)}},{key:"zoomOut",value:function(t,e){this.map.zoomOut(t,e)}},{key:"setPitch",value:function(t){return this.map.setPitch(t)}},{key:"panTo",value:function(t){this.map.panTo(t)}},{key:"panBy",value:function(t,e){this.panTo([t,e])}},{key:"fitBounds",value:function(t,e){this.map.fitBounds(t,e)}},{key:"setMaxZoom",value:function(t){this.map.setMaxZoom(t)}},{key:"setMinZoom",value:function(t){this.map.setMinZoom(t)}},{key:"setMapStatus",value:function(t){!0===t.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===t.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===t.dragEnable&&this.map.dragPan.disable(),!0===t.dragEnable&&this.map.dragPan.enable(),!1===t.rotateEnable&&this.map.dragRotate.disable(),!0===t.rotateEnable&&this.map.dragRotate.enable(),!1===t.keyboardEnable&&this.map.keyboard.disable(),!0===t.keyboardEnable&&this.map.keyboard.enable(),!1===t.zoomEnable&&this.map.scrollZoom.disable(),!0===t.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(t,e){this.map.flyTo({zoom:t,center:e})}},{key:"setMapStyle",value:function(t){this.map.setStyle(this.getMapStyle(t))}},{key:"pixelToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToPixel",value:function(t){return this.map.project(t)}},{key:"containerToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToContainer",value:function(t){return this.map.project(t)}},{key:"lngLatToCoord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0},n=this.lngLatToMercator(t,0),r=n.x,i=n.y;return[r-e.x,i-e.y]}},{key:"lngLatToMercator",value:function(t,e){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(t,e),r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,s=n.z;return{x:i,y:a,z:void 0===s?0:s}}},{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},o=window.mapboxgl.MercatorCoordinate.fromLngLat(t,e),a=o.meterInMercatorCoordinateUnits(),s=ds();return As(s,s,tg(o.x-i.x,o.y-i.y,o.z||0-i.z)),Os(s,s,tg(a*r[0],-a*r[1],a*r[2])),Cs(s,s,n[0]),Ps(s,s,n[1]),Ms(s,s,n[2]),s}},{key:"init",value:function(){var t,e=(t=iE().mark((function t(){var e,n,r,i,o,a,s,u,l,c,f,p,h;return iE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config,n=e.id,r=void 0===n?"map":n,i=e.attributionControl,o=void 0!==i&&i,a=e.style,s=void 0===a?"light":a,u=e.token,l=void 0===u?iA:u,c=e.rotation,f=void 0===c?0:c,p=e.mapInstance,h=eE(e,$E),this.viewport=new KE,p||window.mapboxgl||console.error(this.configService.getSceneWarninfo("SDK")),l!==iA||"blank"===s||window.mapboxgl.accessToken||p||console.warn(this.configService.getSceneWarninfo("MapToken")),p||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=l),p?(this.map=p,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new window.mapboxgl.Map(eA({container:this.$mapContainer,style:this.getMapStyle(s),attributionControl:o,bearing:f},h))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){nE(o,r,i,a,s,"next",t)}function s(t){nE(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var t,e;null===(t=this.$mapContainer)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).emit.apply(e,[t].concat(r))}},{key:"once",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).once.apply(e,[t].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"meterToCoord",value:function(t,e){var n=new(sE().LngLat)(t[0],t[1]),r=new(sE().LngLat)(e[0],e[1]),i=n.distanceTo(r),o=sE().MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),a=sE().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),s=o.x,u=o.y,l=a.x,c=a.y;return 4194304*Math.sqrt(Math.pow(s-l,2)+Math.pow(u-c,2))*2/i}},{key:"exportMap",value:function(t){var e=this.map.getCanvas();return"jpg"===t?null===e||void 0===e?void 0:e.toDataURL("image/jpeg"):null===e||void 0===e?void 0:e.toDataURL("image/png")}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"creatAmapContainer",value:function(t){var e=t;"string"===typeof t&&(e=document.getElementById(t));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_mapbox_div"+rA++,e.appendChild(n),n}},{key:"getMapStyle",value:function(t){return"string"!==typeof t?t:JE[t]?JE[t]:t}}]),t}(),HE=QS(WE.prototype,"config",[BE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YE=QS(WE.prototype,"configService",[zE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XE=QS(WE.prototype,"coordinateSystemService",[UE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qE=QS(WE.prototype,"eventEmitter",[VE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GE=WE))||GE);function aA(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qS(t);if(e){var i=qS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XS(this,n)}}!function(t,e){var n="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast&&!0!==my.isFRM,r="undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".mapboxgl-ctrl-logo {\n display: none !important;\n}\n");var sA=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}(n,t);var e=aA(n);function n(){return VS(this,n),e.apply(this,arguments)}return WS(n,[{key:"getServiceConstructor",value:function(){return oA}}]),n}(tE),uA=function(t){var e=t.style,n=t.className,i=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(i.current){var t=new _y({id:i.current,map:new sA({pitch:0,style:"dark",center:[96.99215001469588,29.281597225674773],zoom:2.194613775109773,maxZoom:10})});t.on("loaded",(function(){fetch("https://gw.alipayobjects.com/os/basement_prod/337ddbb7-aa3f-4679-ab60-d64359241955.json").then((function(t){return t.json()})).then((function(e){e.features=e.features.filter((function(t){return t.properties.capacity>800}));var n=new Rm({}).source(e).shape("circle").size("capacity",[0,16]).color("capacity",["#34B6B7","#4AC5AF","#5FD3A6","#7BE39E","#A1EDB8","#CEF8D6"]).active(!0).style({opacity:.5,strokeWidth:0});t.addLayer(n)}))}))}}),[]),(0,J.jsx)("div",{className:n,style:e,ref:i})};uA.displayName="Mapbubble",uA.jsxCode='interface MapbubbleProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>[];\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst Mapbubble: React.FC<MapbubbleProps> = ({ style, className }) => {\n  const bubbleRef = useRef(null);\n\n  useEffect(() => {\n    if (bubbleRef.current) {\n      const scene = new Scene({\n        id: bubbleRef.current,\n        map: new Mapbox({\n          pitch: 0,\n          style: "dark",\n          center: [96.99215001469588, 29.281597225674773],\n          zoom: 2.194613775109773,\n          maxZoom: 10,\n        }),\n      });\n      scene.on("loaded", () => {\n        fetch(\n          "https://gw.alipayobjects.com/os/basement_prod/337ddbb7-aa3f-4679-ab60-d64359241955.json"\n        )\n          .then((res) => res.json())\n          .then((data) => {\n            data.features = data.features.filter(\n              (item: { properties: { capacity: number } }) => {\n                return item.properties.capacity > 800;\n              }\n            );\n            const pointLayer = new PointLayer({})\n              .source(data)\n              .shape("circle")\n              .size("capacity", [0, 16])\n              .color("capacity", [\n                "#34B6B7",\n                "#4AC5AF",\n                "#5FD3A6",\n                "#7BE39E",\n                "#A1EDB8",\n                "#CEF8D6",\n              ])\n              .active(true)\n              .style({\n                opacity: 0.5,\n                strokeWidth: 0,\n              });\n\n            scene.addLayer(pointLayer);\n          });\n      });\n    }\n  }, []);\n\n  return <div className={className} style={style} ref={bubbleRef} />;\n};';var lA=uA,cA=function(t){var e=t.style,n=t.className,i=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(i.current){var t=new _y({id:i.current,map:new sA({style:"dark",pitch:43,center:[120.13383079335335,29.651873105004427],zoom:7.068989519212174})});t.on("loaded",(function(){fetch("https://gw.alipayobjects.com/os/basement_prod/a1a8158d-6fe3-424b-8e50-694ccf61c4d7.csv").then((function(t){return t.text()})).then((function(e){var n=new Ly({}).source(e,{parser:{type:"csv",x:"lng",y:"lat"},transforms:[{type:"hexagon",size:2500,field:"v",method:"sum"}]}).size("sum",(function(t){return 200*t})).shape("hexagonColumn").style({coverage:.8,angle:0,opacity:1}).color("sum",["#094D4A","#146968","#1D7F7E","#289899","#34B6B7","#4AC5AF","#5FD3A6","#7BE39E","#A1EDB8","#C3F9CC","#DEFAC0","#ECFFB1"]);t.addLayer(n)}))}))}}),[]),(0,J.jsx)("div",{className:n,style:e,ref:i})};cA.displayName="MapHexbin",cA.jsxCode='interface MapHexbinProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>[];\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst MapHexbin: ReReactFC<MapHexbinProps> = ({ style, className }) => {\n  const hexbinRef = useRef(null);\n\n  useEffect(() => {\n    if (hexbinRef.current) {\n      const scene = new Scene({\n        id: hexbinRef.current,\n        map: new Mapbox({\n          style: "dark",\n          pitch: 43,\n          center: [120.13383079335335, 29.651873105004427],\n          zoom: 7.068989519212174,\n        }),\n      });\n      scene.on("loaded", () => {\n        fetch(\n          "https://gw.alipayobjects.com/os/basement_prod/a1a8158d-6fe3-424b-8e50-694ccf61c4d7.csv"\n        )\n          .then((res) => res.text())\n          .then((data) => {\n            const layer = new HeatmapLayer({})\n              .source(data, {\n                parser: {\n                  type: "csv",\n                  x: "lng",\n                  y: "lat",\n                },\n                transforms: [\n                  {\n                    type: "hexagon",\n                    size: 2500,\n                    field: "v",\n                    method: "sum",\n                  },\n                ],\n              })\n              .size("sum", (sum: number) => {\n                return sum * 200;\n              })\n              .shape("hexagonColumn")\n              .style({\n                coverage: 0.8,\n                angle: 0,\n                opacity: 1.0,\n              })\n              .color("sum", [\n                "#094D4A",\n                "#146968",\n                "#1D7F7E",\n                "#289899",\n                "#34B6B7",\n                "#4AC5AF",\n                "#5FD3A6",\n                "#7BE39E",\n                "#A1EDB8",\n                "#C3F9CC",\n                "#DEFAC0",\n                "#ECFFB1",\n              ]);\n            scene.addLayer(layer);\n          });\n      });\n    }\n  }, []);\n\n  return <div className={className} style={style} ref={hexbinRef} />;\n};';var fA=cA,pA=function(t){var e=t.data,n=void 0===e?[]:e,r=t.style,i=t.className;return(0,J.jsx)("div",{className:i,style:r,children:(0,J.jsxs)(lt.Chart,{padding:[20,20,30,40],autoFit:!0,data:n,children:[(0,J.jsx)(lt.Legend,{visible:!1}),(0,J.jsx)(lt.Axis,{name:"day"}),(0,J.jsx)(lt.Axis,{name:"count",label:{formatter:function(t){return t}},grid:{line:{type:"line",style:{stroke:"#fff",lineWidth:.5,lineDash:[2,2]}}}}),(0,J.jsx)(lt.Line,{position:"day*count",shape:"smooth"}),(0,J.jsx)(lt.Point,{position:"day*count"}),(0,J.jsx)(lt.Area,{position:"day*count",shape:"smooth",color:"l (270) 0:rgba(66,187,246,0) .81:rgba(0,234,255,0.52)"}),(0,J.jsx)(lt.Tooltip,{showCrosshairs:!0})]})})};pA.displayName="LineBasic",pA.jsxCode='interface LineBasicProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>[];\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst LineBasic: React.FC<LineBasicProps> = ({ data = [], style, className }) => {\n  return (\n    <div className={className} style={style}>\n      <Chart\n        padding={[20, 20, 30, 40]}\n        autoFit\n        data={data}\n      >\n        <Legend visible={false} />\n        <Axis name="day" />\n        <Axis\n          name="count"\n          label={{\n            formatter: (val: any) => val\n          }}\n          grid={{\n            line: {\n              type: "line",\n              style: {\n                stroke: "#fff",\n                lineWidth: 0.5,\n                lineDash: [2, 2],\n              },\n            },\n          }}\n        />\n        <Line position="day*count" shape="smooth" />\n        <Point position="day*count" />\n        <Area\n          position="day*count"\n          shape="smooth"\n          color="l (270) 0:rgba(66,187,246,0) .81:rgba(0,234,255,0.52)"\n        />\n        <Tooltip showCrosshairs />\n      </Chart>\n    </div>\n  );\n};';var hA=pA,dA=function(t){var e=t.data,n=void 0===e?[]:e,r=t.style,i=t.className;return(0,J.jsx)("div",{className:i,style:r,children:(0,J.jsxs)(lt.Chart,{appendPadding:10,autoFit:!0,data:n,scale:{value:{min:0,alias:"\u4eba\u5747\u5e74\u6536\u5165",type:"linear-strict"},year:{range:[0,1]}},children:[(0,J.jsx)(lt.Line,{position:"year*value"}),(0,J.jsx)(lt.Point,{position:"year*value"}),(0,J.jsx)(lt.Axis,{name:"value",label:{formatter:function(t){return"".concat(t)}},grid:{line:{type:"line",style:{stroke:"#fff",lineWidth:.5,lineDash:[2,2]}}}}),(0,J.jsx)(lt.Tooltip,{showCrosshairs:!0})]})})};dA.displayName="LineOrdinary",dA.jsxCode='interface LineOrdinaryProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>[];\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst LineOrdinary: React.FC<LineOrdinaryProps> = ({ data = [], style, className }) => {\n  return (\n    <div className={className} style={style}>\n      <Chart\n        appendPadding={10}\n        autoFit\n        data={data}\n        scale={{\n          value: { min: 0, alias: "\u4eba\u5747\u5e74\u6536\u5165", type: "linear-strict" },\n          year: { range: [0, 1] },\n        }}\n      >\n        <Line position="year*value" />\n        <Point position="year*value" />\n        <Axis\n          name="value"\n          label={{\n            formatter: (val) => val,\n          }}\n          grid={{\n            line: {\n              type: "line",\n              style: {\n                stroke: "#fff",\n                lineWidth: 0.5,\n                lineDash: [2, 2]\n              },\n            },\n          }}\n        />\n        <Tooltip showCrosshairs />\n      </Chart>\n    </div>\n  );\n};';var gA=dA,vA=function(t){var e=t.data,n=void 0===e?[]:e,r=t.style,i=t.className;return(0,J.jsx)("div",{className:i,style:r,children:(0,J.jsxs)(lt.Chart,{data:n,scale:{value:{formatter:function(t){return t=100*t+"%"}}},autoFit:!0,children:[(0,J.jsx)(lt.Legend,{visible:!1}),(0,J.jsx)(lt.Coordinate,{type:"theta",radius:.8,innerRadius:.65}),(0,J.jsx)(lt.Axis,{visible:!1}),(0,J.jsx)(lt.Tooltip,{showTitle:!1}),(0,J.jsx)(lt.Interval,{adjust:"stack",position:"value",color:"type",shape:"sliceShape",label:["count",{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}},content:function(t){return t.type+": "+t.count+"\u4eba"}}]}),(0,J.jsx)(lt.Interaction,{type:"element-single-selected"})]})})};vA.displayName="PieTooltip",vA.jsxCode='interface PieTooltipProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst PieTooltip: ReReactFC<PieTooltipProps> = ({ data = [], style, className }) => {\n  const cols = {\n    value: {\n      formatter: (val: any) => {\n        val = val * 100 + "%";\n        return val;\n      },\n    },\n  };\n\n  return (\n    <div className={className} style={style}>\n      <Chart data={data} scale={cols} autoFit>\n        <Legend visible={false} />\n        <Coordinate type="theta" radius={0.8} innerRadius={0.65} />\n        <Axis visible={false} />\n        <Tooltip showTitle={false} />\n        <Interval\n          adjust="stack"\n          position="value"\n          color="type"\n          shape="sliceShape"\n          label={[\n            "count",\n            {\n              layout: { type: "limit-in-plot", cfg: { action: "ellipsis" } },\n              content: ({ type, count }) => {\n                return type + \': \' + count + \'\u4eba\';\n              },\n            },\n          ]}\n        />\n        <Interaction type="element-single-selected" />\n      </Chart>\n    </div>\n  );\n};';var yA=vA,mA=function(t){var e=t.data,n=void 0===e?[]:e,r=t.style,i=t.className;return(0,J.jsx)("div",{className:i,style:r,children:(0,J.jsxs)(lt.Chart,{data:n,scale:{value:{formatter:function(t){return t=100*t+"%"}}},autoFit:!0,children:[(0,J.jsx)(lt.Legend,{name:"type",visible:!0,layout:"vertical",itemHeight:3,itemName:{formatter:function(t,e,r){return t+": "+n[r].count}}}),(0,J.jsx)(lt.Coordinate,{type:"theta",radius:.8,innerRadius:.65}),(0,J.jsx)(lt.Axis,{visible:!1}),(0,J.jsx)(lt.Tooltip,{showTitle:!1}),(0,J.jsx)(lt.Interval,{adjust:"stack",position:"value",color:"type",shape:"sliceShape",label:["value",{offset:-3,style:{fill:"#FFFFFF",fontSize:10}}]})]})})};mA.displayName="PieSplit",mA.jsxCode='interface PieSplitProps {\n  config?: Record<string, any>;\n  data?: Record<string, any>;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst PieSplit: ReReactFC<PieSplitProps> = ({\n  data = [],\n  style,\n  className,\n}) => {\n  const cols = {\n    value: {\n      formatter: (val: any) => {\n        val = val * 100 + "%";\n        return val;\n      },\n    },\n  };\n\n  return (\n    <div className={className} style={style}>\n      <Chart data={data} scale={cols} autoFit>\n        <Legend\n          name={"type"}\n          visible\n          layout="vertical"\n          itemHeight={3}\n          itemName={{\n            formatter: (text, _item, index) => text + ": " + data[index].count,\n          }}\n        />\n        <Coordinate type="theta" radius={0.8} innerRadius={0.65} />\n        <Axis visible={false} />\n        <Tooltip showTitle={false} />\n        <Interval\n          adjust="stack"\n          position="value"\n          color="type"\n          shape="sliceShape"\n          label={[\n            "value",\n            {\n              offset: -3,\n              style: {\n                fill: "#FFFFFF",\n                fontSize: 10,\n              },\n            },\n          ]}\n        />\n      </Chart>\n    </div>\n  );\n};';var _A=mA,bA=function(t){var e=t.config,n=t.style,r=t.className;return(0,J.jsx)("div",{className:["wedget-title",r].join(" "),style:n,children:(null===e||void 0===e?void 0:e.title)||""})};bA.displayName="Title",bA.jsxCode='interface TitleProps {\n  config?: {\n    title: string;\n  };\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst Title: ReReactFC<TitleProps> = ({ config, style, className }) => {\n  return (\n    <div className={["wedget-title", className].join(\' \')} style={style}>\n      {config?.title || ""}\n    </div>\n  );\n};',bA.styleCode="  .wedget-title {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n  }";var xA=bA,wA=function(t){var e=t.config,n=t.style,r=t.className;return(0,J.jsxs)("div",{className:["wedget-subtitle",r].join(" "),style:n,children:[(0,J.jsxs)("h3",{children:[(null===e||void 0===e?void 0:e.total)||0,(0,J.jsx)("span",{children:(null===e||void 0===e?void 0:e.unit)||""})]}),(0,J.jsx)("h5",{children:(null===e||void 0===e?void 0:e.title)||""})]})};wA.displayName="Subtitle",wA.jsxCode='interface SubtitleProps {\n  config?: {\n    total: number;\n    unit: string;\n    title: string;\n  };\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst Subtitle: ReReactFC<SubtitleProps> = ({ config, style, className }) => {\n  return (\n    <div className={["wedget-subtitle", className].join(" ")} style={style}>\n      <h3>\n        {config?.total || 0}\n        <span>{config?.unit || ""}</span>\n      </h3>\n      <h5>{config?.title || ""}</h5>\n    </div>\n  );\n};',wA.styleCode=" .wedget-subtitle {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: center;\n\n    h3,\n    h5 {\n      margin: 0;\n      padding: 0;\n    }\n\n    h3 {\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: baseline;\n      font-family: DINPro-Medium;\n      font-size: 24px;\n      color: #FFFFFF;\n      text-align: right;\n      line-height: 19px;\n      font-weight: 500;\n    }\n\n    h3 span {\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #ffffff;\n      font-weight: 500;\n    }\n\n    h5 {\n      font-family: PingFangSC-Regular;\n      font-size: 16px;\n      color: #ffffff;\n      text-align: center;\n      font-weight: 400;\n    }\n  }";var SA=wA,EA=function(t){var e=t.config,n=t.style,r=t.className,i=e||{},o=i.type,a=i.leftTitle,s=i.rightTitle;return(0,J.jsxs)("div",{className:["square",r].join(" "),style:n,children:[("right"===o||"double"===o)&&(0,J.jsx)("span",{className:"right",children:s||""}),("left"===o||"double"===o)&&(0,J.jsx)("span",{className:"left",children:a||""})]})};EA.displayName="SquareTag",EA.jsxCode="interface SquareTagProps {\n  config?: {\n    type: 'right' | 'left' | 'double'\n    leftTitle?: string;\n    rightTitle?: string;\n  };\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst SquareTag: ReReactFC<SquareTagProps> = ({ config, style, className }) => {\n  const { type, leftTitle, rightTitle } = config || {};\n\n  return (\n    <div className={['square', className].join(' ')} style={style}>\n      {(type === 'right' || type === 'double') && <span className=\"right\">{rightTitle || \"\"}</span>}\n      {(type === 'left' || type === 'double') && <span className=\"left\">{leftTitle || \"\"}</span>}\n    </div>\n  );\n};",EA.styleCode=" .square {\n    overflow: hidden;\n\n    span {\n      background: rgba(3, 227, 240, 0.2);\n      font-family: PingFangSC-Medium;\n      font-size: 20px;\n      color: #ffffff;\n      text-shadow: 0 1px 15px #03e3f0;\n      font-weight: 500;\n      height: 40px;\n      padding: 0 32px;\n      position: absolute;\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: center;\n\n      &.right {\n        right: 0;\n        top: 0;\n        border-radius: 0 0 0px 4px;\n      }\n\n      &.left {\n        left: 0;\n        top: 0;\n        border-radius: 0 0 4px 0;\n      }\n    }\n  }";var AA=EA,OA=function(t){var e=t.config,n=t.data,r=void 0===n?[]:n,i=t.style,o=t.className;return(0,J.jsxs)("div",{className:["square-list",o].join(" "),style:i,children:[(0,J.jsx)("div",{className:"title",children:(null===e||void 0===e?void 0:e.title)||""}),r&&r.length&&(0,J.jsx)("ul",{children:r.map((function(t,e){var n=t.area,r=t.total;return(0,J.jsxs)("li",{children:[(0,J.jsx)("span",{children:e+1}),(0,J.jsx)("span",{children:n}),(0,J.jsx)("span",{children:r.toLocaleString("zh-Hans-CN",{minimumFractionDigits:0,maximumFractionDigits:2})})]},"square-list-"+e)}))})]})};OA.displayName="SquareList",OA.jsxCode="interface SquareListProps {\n  config?: {\n    title: string;\n  };\n  data?: Record<string, any>;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst SquareList: ReReactFC<SquareListProps> = ({\n  config,\n  data = [],\n  style,\n  className\n}) => {\n  return (\n    <div className={['square-list', className].join(' ')} style={style}>\n      <div className='title'>{config?.title || \"\"}</div>\n      {data && data.length && (\n        <ul>\n          {data.map(({ area, total }: any, index: number) => (\n            <li key={'square-list-' + index}>\n              <span>{index + 1}</span>\n              <span>{area}</span>\n              <span>\n                {total.toLocaleString(\"zh-Hans-CN\", {\n                  minimumFractionDigits: 0,\n                  maximumFractionDigits: 2,\n                })}\n              </span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};",OA.styleCode=" .square-list {\n    overflow: hidden;\n\n    .title {\n      background: rgba(3, 227, 240, 0.2);\n      border-radius: 4px 0 4px 0;\n      font-family: PingFangSC-Medium;\n      font-size: 20px;\n      color: #ffffff;\n      text-shadow: 0 1px 15px #03e3f0;\n      font-weight: 500;\n      height: 40px;\n      padding: 0 32px;\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: center;\n    }\n\n    ul,\n    li {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      display: flex;\n    }\n\n    ul {\n      padding-top: 48px;\n      flex-flow: column nowrap;\n      align-items: flex-start;\n      justify-content: flex-start;\n    }\n\n    li {\n      height: 44px;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: flex-start;\n\n      span {\n        font-family: PingFangSC-Regular;\n        font-size: 20px;\n        color: rgba(255, 255, 255, 0.85);\n        letter-spacing: 0;\n        line-height: 22px;\n        font-weight: 400;\n\n        &:nth-of-type(1) {\n          flex-basis: 60px;\n          text-align: center;\n          color: #03e3f0;\n        }\n\n        &:nth-of-type(2) {\n          flex-basis: 100px;\n          text-align: left;\n        }\n\n        &:nth-of-type(3) {\n          flex: 1;\n          text-align: left;\n        }\n      }\n\n      &:nth-of-type(n + 4) span:nth-of-type(1) {\n        color: rgba(255, 255, 255, 0.85);\n      }\n\n      &:nth-of-type(odd) {\n        background: rgba(236, 255, 255, 0.1);\n      }\n    }\n  }";var TA=OA,CA=function(t){var e=t.config,n=t.data,r=void 0===n?[]:n,i=t.style,o=t.className;return(0,J.jsxs)("div",{className:["square-table",o].join(" "),style:i,children:[(0,J.jsx)("div",{className:"title",children:(null===e||void 0===e?void 0:e.title)||""}),r&&r.length&&(0,J.jsx)("ul",{children:r.map((function(t,e){var n=t.area,r=t.total;return(0,J.jsxs)("li",{children:[(0,J.jsx)("span",{children:e+1}),(0,J.jsx)("span",{children:n}),(0,J.jsx)("span",{children:r.toLocaleString("zh-Hans-CN",{minimumFractionDigits:0,maximumFractionDigits:2})})]},"square-list-"+e)}))})]})};CA.displayName="SquareTable",CA.jsxCode="interface SquareTableProps {\n  config?: {\n    title: string;\n  };\n  data?: Record<string, any>;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst SquareTable: ReReactFC<SquareTableProps> = ({\n  config,\n  data = [],\n  style,\n  className\n}) => {\n  return (\n    <div className={['square-table', className].join(' ')} style={style}>\n      <div className='title'>{config?.title || \"\"}</div>\n      {data && data.length && (\n        <ul>\n          {data.map(({ area, total }: any, index: number) => (\n            <li key={'square-list-' + index}>\n              <span>{index + 1}</span>\n              <span>{area}</span>\n              <span>\n                {total.toLocaleString(\"zh-Hans-CN\", {\n                  minimumFractionDigits: 0,\n                  maximumFractionDigits: 2,\n                })}\n              </span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};",CA.styleCode=" .square-table {\n    overflow: hidden;\n\n    .title {\n      background: rgba(3, 227, 240, 0.2);\n      border-radius: 4px 0 4px 0;\n      font-family: PingFangSC-Medium;\n      font-size: 20px;\n      color: #ffffff;\n      text-shadow: 0 1px 15px #03e3f0;\n      font-weight: 500;\n      height: 40px;\n      padding: 0 32px;\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: center;\n    }\n\n    ul,\n    li {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      display: flex;\n    }\n\n    ul {\n      padding-top: 48px;\n      flex-flow: row wrap;\n      align-items: flex-start;\n      justify-content: flex-start;\n    }\n\n    li {\n      width: 33.3333%;\n      height: 44px;\n      flex-flow: row nowrap;\n      align-items: center;\n      justify-content: flex-start;\n      border: 1px solid rgba(236, 255, 255, 0.1);\n      border-top: none;\n      border-left: none;\n      box-sizing: border-box;\n\n      span {\n        font-family: PingFangSC-Regular;\n        font-size: 14px;\n        color: rgba(255, 255, 255, 0.85);\n        letter-spacing: 0;\n        line-height: 44px;\n        font-weight: 400;\n\n        &:nth-of-type(1) {\n          flex-basis: 40px;\n          text-align: center;\n          color: #03e3f0;\n        }\n\n        &:nth-of-type(2) {\n          flex-basis: 60px;\n          text-align: left;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n\n        &:nth-of-type(3) {\n          flex: 1;\n          text-align: left;\n        }\n      }\n\n      &:nth-of-type(n + 4) span:nth-of-type(1) {\n        color: rgba(255, 255, 255, 0.85);\n      }\n\n      &:nth-of-type(-n + 3) {\n        background: rgba(236, 255, 255, 0.1);\n      }\n    }\n  }";var PA=CA,MA={square:{box:{type:"element",sample:{graph:n(3748)},className:"title",reactElement:(0,J.jsx)("div",{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}},squareLeft:{type:"component",sample:{graph:n(2993),config:{type:"left",leftTitle:"\u6570\u636e\u7edf\u8ba1"}},className:"square",reactElement:(0,J.jsx)(AA,{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}},squareRight:{type:"component",sample:{graph:n(3733),config:{type:"right",rightTitle:"\u6570\u636e\u7edf\u8ba1"}},className:"square",reactElement:(0,J.jsx)(AA,{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}},squareDouble:{type:"component",sample:{graph:n(6472),config:{type:"double",leftTitle:"\u5de6\u6807\u9898",rightTitle:"\u53f3\u6807\u9898"}},className:"square",reactElement:(0,J.jsx)(AA,{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}},squareList:{type:"component",sample:{graph:n(1695),config:{title:"\u7d2f\u79ef\u7edf\u8ba1\u4eba\u6b21"},data:[{area:"\u5e90\u9633\u533a",total:200},{area:"\u8700\u5c71\u533a",total:128}]},className:"square",reactElement:(0,J.jsx)(TA,{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:0,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:280,height:150}},squareTable:{type:"component",sample:{graph:n(9305),config:{title:"\u7d2f\u79ef\u8fd0\u52a8\u4eba\u6b21"},data:[{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313},{area:"\u5927\u6d0b\u533a",total:12313}]},className:"square",reactElement:(0,J.jsx)(PA,{}),properties:{backgroundImage:"",backgroundSize:"",borderWidth:0,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:453,height:190}}},text:{title:{type:"component",sample:{graph:n(9938),config:{title:"\u6570\u636e\u53ef\u89c6\u5316\u5927\u6807\u9898"}},className:"title",reactElement:(0,J.jsx)(xA,{}),properties:{backgroundImage:"",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundPosition:"top center",fontFamily:"PingFangSC-Medium",fontSize:28,color:"#FFFFFF",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}},subtitle:{type:"component",sample:{graph:n(8254),config:{total:9e4,unit:"\u5206\u949f",title:"\u4eba\u5747\u8fd0\u52a8\u65f6\u957f"}},className:"subtitle",reactElement:(0,J.jsx)(SA,{}),properties:{backgroundImage:"",backgroundSize:"",fontFamily:"",fontSize:48,color:"#fff",borderWidth:1,borderStyle:"solid",borderColor:"#03e3f0",borderRadius:8,width:356,height:140}}},pie:{pieSplit:{type:"component",sample:{graph:n(6226),data:[{type:"\u9752\u5c11\u5e74",value:.3,count:300},{type:"\u9752\u5e74",value:.3,count:300},{type:"\u4e2d\u8001\u5e74",value:.4,count:400}]},className:"title",reactElement:(0,J.jsx)(_A,{}),properties:{backgroundImage:"",backgroundSize:"",fontFamily:"",fontSize:12,width:236,height:376}},pieTooltip:{type:"component",sample:{graph:n(4069),data:[{type:"\u8db3\u7403",value:.38,count:350},{type:"\u7bee\u7403",value:.52,count:550}]},className:"subtitle",reactElement:(0,J.jsx)(yA,{}),properties:{backgroundImage:"",backgroundSize:"",fontFamily:"",fontSize:12,width:472,height:196}}},line:{lineBasic:{type:"component",sample:{graph:n(4146),config:{},data:[{day:"9/14",count:70},{day:"9/15",count:110},{day:"9/16",count:80},{day:"9/17",count:115},{day:"9/18",count:60}]},className:"title",reactElement:(0,J.jsx)(hA,{}),properties:{backgroundImage:"",backgroundSize:"",fontFamily:"",fontSize:12,width:500,height:320}},lineOrdinary:{type:"component",sample:{graph:n(575),config:{},data:[{year:"1991",value:3},{year:"1992",value:4},{year:"1993",value:3.5},{year:"1994",value:5},{year:"1995",value:4.9}]},className:"title",reactElement:(0,J.jsx)(gA,{}),properties:{backgroundImage:"",backgroundSize:"",fontFamily:"",fontSize:12,width:500,height:320}}},map:{mapHexbin:{type:"component",sample:{graph:n(3121)},className:"title",reactElement:(0,J.jsx)(fA,{}),properties:{width:828,height:528}},mapbubble:{type:"component",sample:{graph:n(5537)},className:"title",reactElement:(0,J.jsx)(lA,{}),properties:{width:858,height:558}}}},IA="app_container__g9rJa",kA="app_sider__I3Sp8",RA="app_unflod__OpnkQ",LA="app_menus__DnkB9",DA="app_active__KbyZF",NA="app_charts__TRhyI",FA="app_item__m9RII",jA="app_flod__YKGr5",BA="app_content__K5JoQ",zA="app_tool__QYu7U",UA="app_logo__o5+Ep",VA="app_code__DGvzM",GA="app_edit__MbtGO";var WA=function(){var t=c((0,r.useReducer)(me,{count:0,elements:{},backdrop:{width:960,height:540,backgroundColor:"rgb(35, 38, 48)",backgroundImage:"",backgroundSize:"contain",backgroundRepeat:"no-repeat"},dragging:!1}),2),e=t[0],n=t[1],i=c((0,r.useState)("square"),2),a=i[0],u=i[1],l=c((0,r.useState)(!1),2),f=l[0],h=l[1],d=c((0,r.useState)(!1),2),g=d[0],v=d[1],y=e.dragging,m=(0,r.useRef)(!0),_=(0,r.useRef)(null),b=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var t=function(t){_.current=t.target},r=function(t){var e,n,r,i=null===(e=t.target)||void 0===e||null===(n=e.dataset)||void 0===n?void 0:n.key;null===(r=t.dataTransfer)||void 0===r||r.setData("widget-key",i),m.current=!1,b.current=!1},i=function(t){t.preventDefault(),b.current&&document.hasFocus()||(m.current?b.current=!1:y||n({type:"dragging",payload:{dragging:!0}}))},u=function(t){t.target===_.current&&(m.current&&!b.current?y&&n({type:"dragging",payload:{dragging:!1}}):(b.current=!0,m.current=!0))},l=function(t){var r,i=null===(r=t.dataTransfer)||void 0===r?void 0:r.getData("widget-key");t.preventDefault();var u=MA[a][i||"text"],l=u.type,c=u.sample,f=c.data,p=c.config,h=u.reactElement,d=u.properties,g=d.width,v=void 0===g?0:g,_=d.height,x=void 0===_?0:_,w=d.borderRadius,S=void 0===w?0:w,E=d.fontSize,A=void 0===E?0:E;m.current=!0,b.current=!1;var O=s(s({},d),{},{left:t.offsetX-v/4,top:t.offsetY-x/4,width:v/2,height:x/2});S&&(O.borderRadius=S/2),A&&(O.fontSize=A/2);var T=o({},e.count.toString(),{type:l,data:f,config:p,reactElement:h,properties:O});n({type:"add",payload:T}),y&&n({type:"dragging",payload:{dragging:!1}})};return window.addEventListener("dragenter",t),window.addEventListener("dragstart",r),window.addEventListener("dragover",i),window.addEventListener("dragleave",u),window.addEventListener("drop",l),function(){window.removeEventListener("dragenter",t),window.removeEventListener("dragstart",r),window.removeEventListener("dragover",i),window.removeEventListener("dragleave",u),window.removeEventListener("drop",l)}}),[y,a,e.count]),(0,J.jsxs)("div",{className:IA,children:[(0,J.jsxs)("div",{className:zA,children:[(0,J.jsx)("span",{className:UA}),(0,J.jsx)("span",{className:VA,onClick:function(){return v(!g)},children:(0,J.jsx)(gt,{type:"code",style:{fontSize:26}})})]}),(0,J.jsxs)("div",{className:BA,children:[(0,J.jsxs)("div",{className:p()(kA,o({},RA,f)),children:[(0,J.jsxs)("div",{className:LA,children:[(0,J.jsx)("ul",{children:[{type:"square",fontSize:18},{type:"text",fontSize:25},{type:"pie",fontSize:23},{type:"line",fontSize:23},{type:"map",fontSize:23}].map((function(t){var e=t.type,n=t.fontSize;return(0,J.jsx)("li",{className:p()(o({},DA,e===a)),onClick:function(){u(e),h(!0)},children:(0,J.jsx)(gt,{type:e,style:{fontSize:n}})},e)}))}),(0,J.jsx)("div",{className:NA,children:Object.entries(MA[a]).map((function(t){var e=c(t,2),n=e[0],r=e[1].sample;return(0,J.jsxs)("div",{className:FA,children:[(0,J.jsx)("img",{src:r.graph,alt:n}),(0,J.jsx)("div",{draggable:!0,"data-key":n,style:{backgroundImage:"url(".concat(r.graph,")")}})]},n)}))})]}),(0,J.jsx)("div",{className:jA,onClick:function(){return h(!f)},children:(0,J.jsx)(gt,{type:"menu",style:{fontSize:22,color:"#666666"}})})]}),(0,J.jsx)("div",{className:GA,children:(0,J.jsx)(ye,{state:e,dispatch:n})})]}),(0,J.jsx)(pt,{visible:g,onClose:function(){return v(!1)},children:(0,J.jsx)(ut,{state:e,visible:g})})]})},HA=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};i.render((0,J.jsx)(r.StrictMode,{children:(0,J.jsx)(WA,{})}),document.getElementById("root")),HA()}()}();
//# sourceMappingURL=main.6d3b1420.js.map